(function() {
'use strict';

/*                                                                        **
**                      MAESTRANO IMPAC-ANGULAR LIBRARY                   **
**                                                                        */
//*************************************************************************/
//* Create all modules and define dependencies.
//*************************************************************************/
angular.module('maestrano.impac',
  [
    'impac.config',
    'impac.services',
    'impac.filters',
    'impac.components',
    // EXTERNAL DEPENDENCIES //
    'ui.sortable',
    'ui.bootstrap',
    'emguo.poller'
  ]);

/*
** COMPONENTS
*/
angular.module('impac.components',
  [
    'impac.components.dashboard',
    'impac.components.dashboard-selector',
    'impac.components.dashboard-settings',
    'impac.components.kpis-bar',
    'impac.components.kpi',
    'impac.components.chart',
    'impac.components.widget',
    'impac.components.widgets',
    'impac.components.widgets-settings',
    'impac.components.widgets-common',
    'impac.components.templates'
  ]
);
angular.module('impac.components.widgets',
  [
    'impac.components.widgets.accounts-accounting-values',
    'impac.components.widgets.accounts-assets-summary',
    'impac.components.widgets.accounts-assets-liability-summary',
    'impac.components.widgets.accounts-balance-sheet',
    'impac.components.widgets.accounts-balance',
    'impac.components.widgets.accounts-cash-summary',
    'impac.components.widgets.accounts-comparison',
    'impac.components.widgets.accounts-custom-calculation',
    'impac.components.widgets.accounts-expenses-revenue',
    'impac.components.widgets.accounts-payable-receivable',
    'impac.components.widgets.accounts-profit-and-loss',
    'impac.components.widgets.accounts-class-comparison',
    'impac.components.widgets.accounts-expense-weight',
    'impac.components.widgets.accounts-assets-vs-liabilities',
    'impac.components.widgets.accounts-detailed-classifications',
    'impac.components.widgets.hr-employee-details',
    'impac.components.widgets.hr-employees-list',
    'impac.components.widgets.hr-leaves-balance',
    'impac.components.widgets.hr-leaves-schedule',
    'impac.components.widgets.hr-payroll-summary',
    'impac.components.widgets.hr-payroll-taxes',
    'impac.components.widgets.hr-salaries-summary',
    'impac.components.widgets.hr-superannuation-accruals',
    'impac.components.widgets.hr-timesheets',
    'impac.components.widgets.hr-workforce-summary',
    'impac.components.widgets.invoices-aged-payables-receivables',
    'impac.components.widgets.invoices-list',
    'impac.components.widgets.invoices-summary',
    'impac.components.widgets.sales-aged',
    'impac.components.widgets.sales-break-even',
    'impac.components.widgets.sales-comparison',
    'impac.components.widgets.sales-customer-details',
    'impac.components.widgets.sales-cycle',
    'impac.components.widgets.sales-forecast',
    'impac.components.widgets.sales-growth',
    'impac.components.widgets.sales-leads-funnel',
    'impac.components.widgets.sales-leads-list',
    'impac.components.widgets.sales-list',
    'impac.components.widgets.sales-margin',
    'impac.components.widgets.sales-number-of-leads',
    'impac.components.widgets.sales-opportunities-funnel',
    'impac.components.widgets.sales-performance',
    'impac.components.widgets.sales-segmented-turnover',
    'impac.components.widgets.sales-summary',
    'impac.components.widgets.sales-top-opportunities'
  ]
);
angular.module('impac.components.widgets-settings',
  [
    'impac.components.widgets-settings.account',
    'impac.components.widgets-settings.accounts-list',
    'impac.components.widgets-settings.chart-filters',
    'impac.components.widgets-settings.dates-picker',
    'impac.components.widgets-settings.formula',
    'impac.components.widgets-settings.hist-mode',
    'impac.components.widgets-settings.limit-entries',
    'impac.components.widgets-settings.organizations',
    'impac.components.widgets-settings.param-selector',
    'impac.components.widgets-settings.params-picker',
    'impac.components.widgets-settings.params-checkboxes',
    'impac.components.widgets-settings.time-range',
    'impac.components.widgets-settings.width'
  ]
);
angular.module('impac.components.dashboard-settings',
  [
    'impac.components.dashboard-settings.currency',
    'impac.components.dashboard-settings.sync-apps',
  ]
);
angular.module('impac.components.widgets-common',
  [
    'impac.components.widgets-common.top-buttons',
    'impac.components.widgets-common.data-not-found',
    'impac.components.widgets-common.editable-title'
  ]
);
/*
** SERVICES
*/
angular.module('impac.services',
  [
    'impac.services.routes',
    'impac.services.linking',
    'impac.services.theming',
    'impac.services.assets',
    'impac.services.chart-formatter',
    'impac.services.message-bus',
    'impac.services.utilities',
    'impac.services.main',
    'impac.services.kpis',
    'impac.services.dashboards',
    'impac.services.widgets',
  ]
);
/*
** FILTERS
*/
angular.module('impac.filters',
  [
    'impac.filters.titleize',
    'impac.filters.truncate',
    'impac.filters.mno-currency',
    'impac.filters.mno-date'
  ]
);
/*
** CONFIG
*/
angular.module('impac.config', []).config(['$httpProvider',
  function ($httpProvider) {
    $httpProvider.defaults.headers.common['Accept'] = 'application/json';
    $httpProvider.defaults.headers.common['Content-Type'] = 'application/json';
  }
]);



angular.module("impac.components.templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("dashboard/create.modal.html","<div class=\"modal-header\">\n  <div class=\"close\" type=\"button\" ng-click=\"instance.close()\" >×</div>\n  <h3>Create New Dashboard</h3>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"alert alert-error\" ng-show=\"errors\">\n        <button class=\"close\" ng-click=\"errors=\'\'\">×</button>\n        <ul>\n          <li ng-repeat=\"error in errors\">{{error}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Create a new dashboard -->\n  <div class=\"row dashboard-form\">\n    <div class=\"col-sm-10 col-sm-offset-1\">\n      <form class=\"form-horizontal\" role=\"form\">\n        <div class=\"form-group\">\n          <label class=\"col-sm-2 control-label\">Name</label>\n          <div class=\"col-sm-10\">\n            <input type=\'text\' class=\"form-control\" ng-model=\"model.name\" placeholder=\"E.g: Cash Accounts Monitoring\" required>\n          </div>\n        </div>\n\n        <div class=\"form-group\" ng-show=\"isMultiCompanyAvailable()\">\n          <label class=\"col-sm-2 control-label\">Type</label>\n          <div class=\"col-sm-10\">\n            <div class=\"btn-group\" role=\"group\">\n              <button type=\"button\" ng-click=\"selectMode(\'single\')\" ng-class=\"btnBlassFor(\'single\')\">Current Company</button>\n              <button type=\"button\" ng-click=\"selectMode(\'multi\')\" ng-class=\"btnBlassFor(\'multi\')\">Multi Company</button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Single Company mode -->\n        <div class=\"form-group\" ng-show=\"isCurrentOrganizationShown()\">\n          <div ng-show=\"!canAccessAnalyticsForCurrentOrganization()\" class=\"text-center text-purple\">\n            <div class=\"spacer1\"></div>\n            <p>\n              Oops! Only Admins and Super Admins can create dashboards for company {{currentOrganization.name}}.\n              <span ng-show=\"isMultiCompanyAvailable()\">Please select a \"Multi Company\" dashboard to select data from other companies.</span>\n            </p>\n          </div>\n        </div>\n\n        <!-- Multi Company mode -->\n        <div class=\"form-group\" ng-show=\"isSelectOrganizationShown()\">\n          <label class=\"col-sm-2 control-label\">Companies</label>\n          <div class=\"col-sm-10\">\n            <ul class=\"list-unstyled\">\n              <li ng-repeat=\"organization in organizations\" >\n                <input type=\"checkbox\" ng-model=\"organization.$selected\" ng-disabled=\"!canAccessAnalyticsData(organization)\">\n                {{organization.name}}\n                <span ng-show=\"organization.is_customer_account\">(customer)</span>\n                <span ng-show=\"!canAccessAnalyticsData(organization)\">\n                  <em><small>\n                    &nbsp;\n                    &nbsp;\n                    <i class=\"fa fa-exclamation-circle text-danger\" tooltip=\"Only Admins and Super Admins can access analytics data for this company\"></i>\n                  </small></em>\n                </span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </form>\n\n      <!-- End row col -->\n    </div>\n\n    <!-- End Dashboard form -->\n  </div>\n\n\n\n</div>\n\n<div class=\"modal-footer\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <button class=\"btn btn-shaded\" ng-click=\"instance.dismiss()\" ng-hide=\"isLoading\">Cancel</button>\n      <button class=\"btn btn-primary\" ng-click=\"proceed()\" ng-disabled=\"isProceedDisabled()\">\n        <i class=\"fa fa-spinner fa-pulse loader\" ng-if=\"isLoading\"></i>\n        Add\n      </button>\n    </div>\n  </div>\n</div>\n");
$templateCache.put("dashboard/dashboard.tmpl.html","<!-- DASHBOARD -->\n<div class=\"analytics\" ng-hide=\"(isLoading || forceLoad)\" ng-class=\"{\'hide-dhb\': (isLoading || forceLoad), \'show-dhb\': !(isLoading || forceLoad)}\">\n  <div mno-star-wizard=true modal-open=\'starWizardModal.value\'></div>\n\n  <!-- Title and Dashboard selection -->\n  <div id=\"head-title\">\n    <div class=\"row\" ng-if=\"showDhbHeading\">\n      <div class=\"col-md-6 col-sm-12\" id=\"dashboard-heading\">\n        <img ng-src=\"{{impacTitleLogo}}\" />\n        <h2>\n          {{dhbHeadingText}}\n        </h2>\n      </div>\n    </div>\n\n    <!-- Impac KPI\'s -->\n    <kpis-bar ng-if=\"showKpisBar\" kpis=\"currentDhb.kpis\"></kpis-bar>\n\n    <!-- Dashboards selection/creation/deletion -->\n    <dashboard-selector id=\"module__dashboard-selector\" is-widget-selector-shown=\"showWidgetSelector()\" on-create-dashboard=\"createDashboardModal.open()\" on-display-widget-selector=\"displayWidgetSelector()\" on-select-dashboard=\"activateTimer()\"></dashboard-selector>\n  </div>\n\n  <div id=\"sub-menu\" collapse=\"!showSubMenu\">\n    <i class=\"fa fa-times\" ng-click=\"hideSubMenu()\" />\n\n    <!-- Displayed to MYOB Essentials Users -->\n    <div id=\"myob-message\" ng-if=\"hasMyobEssentialsOnly && myobMessageConfig.show\" class=\"alert alert-warning\">\n      <h3>It looks like you are using MYOB Essentials...</h3>\n      <p>Unfortunately, all the information required by Impac! is not exposed by MYOB Essentials API <strong>yet</strong>.\n      Consequently, most of the accounting widgets provided by Impac! won\'t find a valid source of data to display their content.</p>\n      <p>Maybe you should consider switching to <a href=\"http://myob.com.au/products/small-business/accounting-software/myob-accountright-1422735752948\" target=\"_blank\">MYOB AccountRight</a>, the other MYOB accounting solution?</p>\n      <p align=\"right\" ng-if=\"myobMessageConfig.appLink.show\"><a ng-href=\"{{myobMessageConfig.appLink.url}}\" target=\"_blank\">{{myobMessageConfig.appLink.text}}</a></p>\n    </div>\n  </div>\n\n  <!-- Widgets selection container -->\n  <div id=\"widget-selector\" collapse=\"!showWidgetSelector()\" ng-if=\"!customWidgetSelector.path\">\n    <div class=\"title\">\n      <i class=\"fa fa-times-circle\" ng-if=\"showCloseWidgetSelectorButton()\" ng-click=\"displayWidgetSelector(false)\"/>\n      <span class=\"badge confirmation\">Widget added!</span>\n      Select the widgets you want to add to your dashboard.\n    </div>\n\n    <div class=\"row top-container\">\n      <div class=\"col-md-3 categories\">\n        <div class=\"row header\">\n          All categories\n        </div>\n        <div class=\"row lines\">\n          <div class=\"col-md-12\" style=\"padding: 3px 12px;\">\n            <p ng-click=\"selectCategory(\'accounts\')\" ng-class=\"isCategorySelected(\'accounts\') ? \'selected\' : none\">Accounting</p>\n            <p ng-click=\"selectCategory(\'invoices\')\" ng-class=\"isCategorySelected(\'invoices\') ? \'selected\' : none\">Invoicing</p>\n            <p ng-click=\"selectCategory(\'hr\')\" ng-class=\"isCategorySelected(\'hr\') ? \'selected\' : none\">HR / Payroll</p>\n            <p ng-click=\"selectCategory(\'sales\')\" ng-class=\"isCategorySelected(\'sales\') ? \'selected\' : none\">Sales</p>\n          </div>\n        </div>\n\n        <div class=\"arrow\" ng-style=\"getSelectedCategoryTop()\">\n          <div class=\"square\"></div>\n          <i class=\"fa fa-caret-right\"></i>\n        </div>\n\n      </div>\n\n      <div class=\"col-md-9 widgets\">\n        <div class=\"row header\">\n          {{getSelectedCategoryName() | titleize}}\n        </div>\n        <div class=\"row lines\">\n          <div class=\"col-md-4\" ng-repeat=\"widgetPattern in getWidgetsForSelectedCategory()\" style=\"padding: 0px 8px;\">\n            <p ng-click=\"addWidget(widgetPattern.path, widgetPattern.metadata)\" tooltip=\"{{widgetPattern.desc}}\" tooltip-placement=\"{{$index < 9 ? \'bottom\' : \'top\'}}\" tooltip-animation=\"false\"  tooltip-append-to-body=\"true\" tooltip-class=\"impac-widget-selector-tooltip\"><i class=\"fa fa-{{widgetPattern.icon}}\" /> {{widgetPattern.name}} <i class=\"fa fa-plus-circle\" /></p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bottom\" ng-if=\"widgetSuggestionModal.config.apiPath\">\n      <span class=\"suggestion\">\n        Can\'t find the widget you\'re looking for? <a ng-click=\"widgetSuggestionModal.open()\">Give us your suggestions here!</a>\n      </span>\n    </div>\n  </div>\n\n  <!-- custom widget selector template configured from ImpacThemingProvider -->\n  <div id=\"custom-widget-selector\" ng-if=\"customWidgetSelector.path\" ng-include=\"customWidgetSelector.path\" ng-hide=\"showChooseDhbMsg()\"></div>\n\n  <!-- Dashboard Settings - DEFAULT POSITION -->\n  <div id=\"dashboard-settings-panel\" ng-if=\"!dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()\" class=\"row text-right\">\n    <div dashboard-setting-sync-apps ng-if=\"dhbSettingsConfig.showSyncApps()\"/>\n    <div dashboard-setting-currency currency=\"currentDhb.currency\" />\n  </div>\n\n  <!-- Errors -->\n  <div class=\"alert alert-error\" ng-show=\"errors\">\n    <button class=\"close\" ng-click=\"errors=\'\'\">×</button>\n    <ul>\n      <li ng-repeat=\"error in errors\">{{error}}</li>\n    </ul>\n  </div>\n\n  <div id=\"no-widgets-container\" class=\"row text-center ng-hide\" ng-show=\'(showChooseDhbMsg() || showNoWidgetsMsg())\'>\n\n    <img ng-src=\"{{impacDashboardBackground}}\" class=\"bg\">\n\n    <div class=\"impac-info-message\">\n      <!-- First Time Dashboard Creation -->\n      <div class=\"ng-hide\" ng-show=\'showChooseDhbMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class=\'spacer4\'></div>\n          <div class=\"row\">\n            <div class=\"col-md-8 col-md-offset-2\">\n              <div class=\"testimonial promo-dark\">\n                <p><b>{{dhbErrorsConfig.firstTimeCreated.first}}</b></p>\n                <p>{{dhbErrorsConfig.firstTimeCreated.second}}</p>\n              </div>\n            </div>\n          </div>\n          <div class=\'spacer2\'></div>\n        </div>\n        <div class=\"align-center\">\n          <button ng-click=\"createDashboardModal.open()\" class=\'btn btn-lg btn-warning\'><span class=\'fa fa-plus\'></span> Create a Dashboard!</button>\n        </div>\n      </div>\n\n      <!-- Empty Dashboard -->\n      <div class=\"ng-hide\" ng-show=\'showNoWidgetsMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class=\'spacer4\'></div>\n          <div class=\"row\">\n            <div class=\"col-md-8 col-md-offset-2\">\n              <div class=\"testimonial promo-dark\">\n                <p><b>{{dhbErrorsConfig.empty.first}}</b></p>\n                <p>{{dhbErrorsConfig.empty.second}}</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"spacer2\"></div>\n        </div>\n        <div class=\"align-center\">\n          <button ng-disabled=\"showWidgetSelector()\" ng-click=\"displayWidgetSelector()\" class=\'btn btn-lg btn-warning\'><span class=\'fa fa-plus\'></span> Add a new Widget</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- First Time Dashboard Creation -->\n  <div class=\"row text-center\" ng-show=\'showChooseDhbMsg()\'>\n    <div class=\"spacer2 hidden-xs\"></div>\n    <div class=\'col-md-8 col-md-offset-2\'>\n      <p class=\"text-muted\"><small><em>{{dhbErrorsConfig.firstTimeCreated.note}}</em></small></p>\n    </div>\n  </div>\n\n  <!-- Widgets -->\n  <div class=\'row\' id=\"widgets-section\" ng-hide=\"showNoWidgetsMsg() || showChooseDhbMsg()\">\n    <!-- Dashboard Settings - CONFIGURED INSIDE WIDGETS-CONTAINER -->\n    <div id=\"dashboard-settings-panel\" ng-if=\"dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()\" class=\"text-right col-md-12 in-widgets-container\">\n      <div dashboard-setting-sync-apps ng-if=\"dhbSettingsConfig.showSyncApps()\"/>\n      <div dashboard-setting-currency currency=\"currentDhb.currency\" />\n    </div>\n    <div class=\"col-md-12\">\n      <div id=\"widgets-container\" ui-sortable=\"sortableOptions\" ng-model=\"currentDhb.widgets\" class=\"row\">\n        <!-- Widgets -->\n        <div impac-widget widget=\"widget\" is-accessibility=\"accessibility\" parent-dashboard=\"currentDhb\" ng-repeat=\"widget in currentDhb.widgets\" class=\"widget-item\" ng-class=\"widget.getColClass()\" on-display-alerts=\"displaySubMenu()\" />\n        <!-- Add Widget Tile, enabled & customised in ImpacThemingProvider -->\n        <div ng-if=\"isAddChartEnabled\" class=\"unsortable\" ng-click=\"addChartTileOnClick()\">\n          <div class=\"col-md-6 widget-item add-chart\">\n            <div class=\"a-content\">+ chart</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"analytics\" ng-show=\"(isLoading || forceLoad)\">\n  <div class=\"row\">\n    <div class=\"col-md-12 loader-container text-center\" style=\"margin-top: 200px;\">\n      <i class=\"fa fa-refresh fa-spin\" style=\"font-size: 250px; opacity: 0.7;\"/>\n    </div>\n  </div>\n</div>\n");
$templateCache.put("dashboard/widget-suggestion.modal.html","<div class=\"modal-header\">\n  <div class=\"close\" type=\"button\" ng-click=\"instance.close()\" >×</div>\n  <h3>Suggest a widget</h3>\n</div>\n\n<div class=\"modal-body\">\n\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <label>What would you name your widget?</label><br />\n      <input type=\"text\" ng-model=\"widgetDetails.name\" ng-disabled=\"isLoading\" />\n    </div>\n    <div class=\"col-md-6\">\n      <label>In which category?</label><br />\n      <input type=\"text\" ng-model=\"widgetDetails.category\" ng-disabled=\"isLoading\" />\n    </div>\n  </div>\n\n  <div class=\"spacer1\" />\n\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <label>What kind of information would your widget display?</label><br/>\n      <textarea ng-model=\"widgetDetails.description\" ng-disabled=\"isLoading\" />\n    </div>\n  </div>\n\n  <div class=\"spacer1\" ng-show=\"isLoading\" />\n\n  <div class=\"row\" collapse=\"!onSuccess\">\n    <div class=\"col-md-12 text-center\">\n      <h3 class=\"thanks-message\">{{userName | titleize}}, thanks a lot for helping us improve Impac!&trade;</h3>\n    </div>\n  </div>\n\n  <div class=\"row\" ng-show=\"error\">\n    <div class=\"col-md-12 text-center\">\n      <h5 style=\"color: red;\">\n        Unable to send suggestions request, please try again or contact technical support.\n      </h5>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <button class=\"btn btn-shaded\" ng-click=\"instance.dismiss()\" ng-hide=\"isLoading\">Cancel</button>\n      <button class=\"btn btn-info\" ng-click=\"proceed()\" ng-disabled=\"!(widgetDetails.name && widgetDetails.category && widgetDetails.description) || isLoading\">\n        <i class=\"fa fa-spinner fa-pulse loader\" ng-show=\"isLoading\"></i>\n        Send your suggestion\n      </button>\n    </div>\n  </div>\n</div>\n");
$templateCache.put("dashboard-selector/bootstrap-tabs.tmpl.html","<div class=\"row buttons-bar-row\">\n  <div class=\"buttons-bar col-sm-8\" ng-show=\"isThereADashboard()\">\n    <tabset type=\"{{selectorType}}\">\n      <tab ng-repeat=\"dhb in dashboardsList\" ng-click=\"selectDashboard(dhb.id)\" active=\"dhb.active\">\n        <tab-heading>\n          {{dhb.full_name}}\n          <a href=\"\" class=\"close-link\" ng-if=\"isDeleteDhbEnabled\">\n            <i class=\"fa fa-times\" ng-click=\"deleteDashboardModal.open()\"></i>\n          </a>\n        </tab-heading>\n      </tab>\n      <tab ng-if=\'isAccessibilityEnabled\' ng-click=\"toggleAccessibilityMode()\">\n        <tab-heading>\n          <a href=\"\"><i class=\"fa fa-wheelchair\"></i></a>\n        </tab-heading>\n      </tab>\n      <tab ng-if=\"isAddDhbEnabled\" ng-click=\"onCreateDashboard()\">\n        <tab-heading>\n          <a href=\"\">+</a>\n        </tab-heading>\n      </tab>\n    </tabset>\n  </div>\n  <div class=\'buttons-bar col-sm-4\'>\n    <div class=\'actions-panel\'>\n      <button ng-if=\'isAccessibilityEnabled\' ng-click=\"toggleAccessibilityMode()\" class=\'btn btn-info\' ng-disabled=\"isWidgetSelectorShown()\"><span class=\'fa fa-wheelchair\'></span></button>\n      <button ng-if=\"isAddWidgetEnabled && isThereADashboard()\" ng-click=\"onDisplayWidgetSelector()\" class=\'btn btn-warning\' ng-disabled=\"isWidgetSelectorShown()\"><span class=\'fa fa-plus\'></span> Add Widget</button>\n      <!-- <button id=\'data-upload-wizard\' ng-click=\'openStarWizard()\' class=\'btn btn-success hidden-xs\' ><span class=\'fa fa-upload\'></span> Data Upload</button> -->\n    </div>\n  </div>\n</div>\n");
$templateCache.put("dashboard-selector/delete.modal.html","<div class=\"modal-header\">\n  <div class=\"close\" type=\"button\" ng-click=\"instance.close()\" >×</div>\n  <h3>Delete Dashboard</h3>\n</div>\n\n<div class=\"modal-body\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"alert alert-error\" ng-show=\"errors\">\n        <button class=\"close\" ng-click=\"errors=\'\'\">×</button>\n        <ul>\n          <li ng-repeat=\"error in errors\">{{error}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Create a new widget -->\n  <p>Are you sure you want to delete this analytics dashboard?</p>\n\n</div>\n\n<div class=\"modal-footer\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <button class=\"btn btn-shaded\" ng-click=\"instance.dismiss()\" ng-hide=\"isLoading\" ng-disabled=\"isLoading\">Cancel</button>\n      <button class=\"btn btn-danger\" ng-click=\"proceed()\" ng-disabled=\"isLoading\">\n        <i class=\"fa fa-spinner fa-pulse loader\" ng-if=\"isLoading\"></i>\n        Delete\n      </button>\n    </div>\n  </div>\n</div>\n");
$templateCache.put("dashboard-selector/dropdown.tmpl.html","<div class=\"row buttons-bar-row buttons-bar\">\n\n  <div class=\"col-md-6 dropdown-container\" ng-hide=\"isLoading\">\n    <div ng-if=\"isThereADashboard()\">\n      <h4 class=\'dashboard-title\'>\n        <div style=\"display: inline-block;\" ng-click=\"toggleShowDashboardsDropdown()\">\n          {{currentDhb.full_name}}\n          <i class=\"fa fa-chevron-down\" style=\"font-size: 18px;\"></i>\n        </div>\n        <i ng-hide=\"showChangeDashboardNameBox\" class=\"fa fa-pencil\" tooltip=\"Change name\" tooltip-animation=\"false\" tooltip-append-to-body=\"true\" ng-click=\"toggleChangeDashboardNameBox(currentDhb)\"></i>\n      </h4>\n\n      <div ng-show=\"showDashboardsDropdown\" class=\'dashboard-select\'>\n        <div ng-hide=\"dhb.id == currentDhb.id\" class=\'option\' ng-repeat=\"dhb in dashboardsList\">\n          <span class=\"name\" ng-click=\"selectDashboard(dhb.id)\">{{dhb.full_name}}</span>\n          <i ng-hide=\"showChangeDashboardNameBox\" class=\"fa fa-pencil\" tooltip=\"Change name\" tooltip-animation=\"false\" tooltip-append-to-body=\"true\" ng-click=\"toggleChangeDashboardNameBox(dhb)\"/>\n        </div>\n\n        <div ng-show=\"showCreateDashboardButton\" class=\"option create\" ng-click=\"onCreateDashboard()\"><i class=\"fa fa-plus\" /> Create Dashboard</div>\n      </div>\n\n      <div ng-if=\"showChangeDashboardNameBox\" class=\"change-name\">\n        <p>Change dashboard name:</p>\n        <input type=\"text\" class=\"form-control\" id=\"changeDhbNameInput\" ng-model=\"dashboardToChange.name\" ng-keyup=\"checkAndUpdateDashboardName($event)\"/>\n        <button class=\"btn btn-sm btn-default\" ng-click=\"hideChangeDashboardNameBox()\">Cancel</button>\n        <button class=\"btn btn-sm btn-success\" style=\"margin-left: 10px\" ng-click=\"updateDashboardName()\">Confirm</button>\n      </div>\n\n      <p class=\"data-source-label\">\n        <small><b>Source:</b> {{organizationsNames()}}</small>\n      </p>\n    </div>\n  </div>\n\n  <div class=\"col-md-6 loader-container\" ng-show=\"isLoading\">\n    <i class=\"fa fa-spinner fa-pulse fa-4x loading-spinner\"/>\n  </div>\n\n  <div class=\'col-md-6 actions-panel\'>\n\n    <button ng-if=\'isAccessibilityEnabled\' ng-click=\"toggleAccessibilityMode()\" class=\'btn btn-info\' ng-disabled=\"showWidgetSelector\"><span class=\'fa fa-wheelchair\'></span></button>\n\n    <button ng-if=\"isAddWidgetEnabled && isThereADashboard()\" ng-click=\"onDisplayWidgetSelector()\" class=\'btn btn-warning\' ng-disabled=\"isWidgetSelectorShown()\"><span class=\'fa fa-plus\'></span> Add Widget</button>\n\n    <button ng-if=\"isAddDhbEnabled\" ng-click=\"onCreateDashboard()\" class=\'btn btn-warning\' ng-show=\"showCreateDashboardButton\"><span class=\'fa fa-pencil-square-o\'></span> Create Dashboard</button>\n\n    <!-- <button id=\'data-upload-wizard\' ng-click=\'dhbCtrl.openStarWizard()\' class=\'btn btn-success hidden-xs\' ><span class=\'fa fa-upload\'></span> Data Upload</button> -->\n\n    <button ng-if=\"isDeleteDhbEnabled\" ng-click=\"deleteDashboardModal.open()\" class=\'btn btn-danger hidden-xs\' ng-show=\"isThereADashboard()\" tooltip=\"Delete Dashboard\"><span class=\'fa fa-trash-o\'></span> </button>\n\n  </div>\n\n</div>\n");
$templateCache.put("kpi/kpi.tmpl.html","<div class=\"tile kpi\" ng-class=\"{ \'static\': kpi.static }\">\n\n  <div class=\"kpi-show\" ng-hide=\"showEditSettings\">\n    <small class=\"kpi-title\" ng-if=\"::kpi.static\">{{::kpi.name}}</small>\n    <small class=\"kpi-title\" ng-if=\"::!kpi.static\" editable-text=\"kpi.name\" buttons=\"yes\" onaftersave=\"updateName()\">{{kpi.name}}</small>\n    <div class=\"kpi-watch\" ng-if=\"::!kpi.static\">({{::kpi.element_watched}})</div>\n    <span class=\"kpi-value\">{{kpi.data.value | mnoCurrency : kpi.data.unit}}</span>\n\n    <!-- TODO: refactor design to handle multiple targets and ranges -->\n    <div class=\"kpi-alert\" ng-repeat=\"target in kpi.targets track by $index\" ng-hide=\"editMode || kpi.data.results[$index]\">\n      <span ng-show=\"target.max\">over {{target.max | mnoCurrency : kpi.data.unit}}</span>\n      <span ng-show=\"target.min\">below {{target.min | mnoCurrency : kpi.data.unit}}</span>\n    </div>\n\n    <div class=\"kpi-alert\" ng-show=\"editMode\" ng-click=\"displayEditSettings()\">Edit</div>\n    <div class=\"kpi-alert kpi-close\" ng-show=\"editMode\" ng-click=\"deleteKpi()\">x</div>\n  </div>\n\n  <div class=\"kpi-edit\" ng-show=\"showEditSettings\">\n    <span class=\"param-name\">KPI target:</span>\n\n    <!-- TODO: refactor design to handle multiple targets and ranges -->\n    <div class=\"clearfix edit-limit align\">\n      <select class=\"pull-left select-limit-mode form-control input-sm\" ng-model=\"kpi.limit.mode\" ng-options=\"option.mode as option.label for option in possibleTargets\" >\n      </select>\n\n      <div class=\"pull-right input-limit-value form-group has-feedback\">\n        <input type=\"text\" class=\"form-control input-sm\" ng-model=\"kpi.limit.value\">\n        <span class=\"form-control-feedback\" aria-hidden=\"true\">{{kpi.data.unit}}</span>\n      </div>\n    </div>\n\n    <div class=\"extra-params\" ng-repeat=\"(param, paramValues) in kpi.possibleExtraParams track by $index\">\n      <span class=\"param-name\">Select {{param | titleize}}:</span>\n      <select class=\"form-control input-sm\" ng-model=\"kpi.extra_params[param]\" ng-options=\"value.id as value.label for value in paramValues\">\n      </select>\n    </div>\n\n    <button class=\"btn btn-xs btn-default\" ng-click=\"hideEditSettings()\">Cancel</button>\n    <button class=\"btn btn-xs btn-success\" ng-click=\"updateSettings()\">Save</button>\n  </div>\n\n</div>\n");
$templateCache.put("kpis-bar/kpis-bar.tmpl.html","<div class=\"row kpis\">\n  <div class=\"title-actions col-xs-4 col-sm-2\">\n    <div ng-click=\"toggleAvailableKpis()\"><a href=\"\"><i class=\"fa fa-plus\"></i> Attach KPI</a></div>\n\n    <div class=\"available-kpis-container\" collapse=\"hideAvailableKpis\">\n      <div ng-repeat=\"kpi in availableKpis\" class=\"available-kpi\" ng-init=\"kpi.element_watched = kpi.watchables[0]\">\n        <span class=\"kpi-name\">{{formatKpiName(kpi.endpoint)}}</span>\n        <button class=\"btn btn-sm btn-info\" ng-click=\"addKpi(kpi)\">+ Attach</button>\n        <select class=\"form-control-static input-sm\" ng-model=\"kpi.element_watched\" ng-options=\"watchable for watchable in kpi.watchables\"></select>\n      </div>\n    </div>\n\n    <div ng-click=\"toggleEditMode()\"><a href=\"\"><i class=\"fa fa-cog\"></i> Edit KPI Settings</a></div>\n  </div>\n\n  <impac-kpi class=\"col-xs-4 col-sm-2\" kpi=\"kpi\" on-delete=\"removeKpi(kpi.id)\" edit-mode=\"showEditMode\" available-kpis=\"availableKpis\" ng-repeat=\"kpi in kpis track by $index\"></impac-kpi>\n\n  <div ng-show=\"isAddingKPI\" class=\"col-xs-2 kpi-loader\">\n    <i class=\"fa fa-2x fa-spin fa-refresh\"></i>\n  </div>\n</div>\n");
$templateCache.put("widget/widget.tmpl.html","<div class=\"top-line\">\n  <div common-top-buttons parent-widget=\"widget\" on-refresh=\"showWidget\" />\n  <div common-editable-title parent-widget=\"widget\" />\n</div>\n\n<div class=\"content\" ng-class=\"templateName\">\n  <div ng-show=\"widget.isLoading\" class=\"loader\" align=\"center\">\n    <div>\n      <i class=\"fa fa-spinner fa-pulse fa-3x\"></i>\n      <p>Your data is being retrieved...</p>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isLoading\" ng-include=\"widgetContentTemplate()\" />\n</div>\n");
$templateCache.put("dashboard-settings/currency.tmpl.html","<div class=\"dashboard-settings currency\">\n  <select ng-options=\"cur for cur in currencies\" ng-model=\"currency\" ng-change=\"massAssignCurrency()\" ng-disabled=\"locked\">\n    <option ng-if=\"!currency\" value=\"\" disabled>Choose currency...</option>\n  </select>\n</div>\n");
$templateCache.put("dashboard-settings/sync-apps.tmpl.html","<!-- Will be displayed only if specified in configuration and if first response has been processed (lastConnector not null) -->\n<div class=\"dashboard-settings sync-apps\" ng-show=\"lastConnector\">\n\n  <span ng-show=\"isSyncing\">Syncing...</span>\n  <span ng-if=\"otherConnectors.length == 0\" ng-hide=\"isSyncing\">\n    {{ formatStatus(lastConnector) }}\n  </span>\n  <span ng-if=\"otherConnectors.length > 0\" ng-hide=\"isSyncing\" popover-template=\"\'connectors.tmpl.html\'\" popover-trigger=\"mouseenter\" popover-placement=\"bottom\">\n    {{ formatStatus(lastConnector) }}\n  </span>\n\n  <button id=\"sync\" class=\"btn btn-primary\" ng-click=\"synchronize()\" tooltip=\"Sync data and refresh dashboard\" ng-disabled=\"isSyncing\">\n    <i class=\"fa fa-refresh\" ng-class=\"{ \'fa-spin\': isSyncing }\"></i>\n  </button>\n\n</div>\n\n<!-- ui.bootstrap popover template -->\n<script type=\"text/ng-template\" id=\"connectors.tmpl.html\">\n  <div ng-repeat=\"connector in otherConnectors track by $index\">\n    <span>{{ formatStatus(connector) }}</span>\n  </div>\n  <div style=\"border-bottom: 1px solid #ccc; width: 100%; height: 2px; margin: 5px 0;\"></div>\n  <p>All other applications are synced in real-time.</p>\n</script>\n\n<!-- ui.bootstrap modal template -->\n<script type=\"text/ng-template\" id=\"alerts.tmpl.html\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\">Synchronization alerts</h4>\n  </div>\n  <div class=\"modal-body\">\n    <div ng-repeat=\"connector in failedConnectors track by $index\">\n      {{connector.name}} - Synchronization failed. Please retry later.\n    </div>\n    <div ng-repeat=\"connector in disconnectedConnectors track by $index\">\n      {{connector.name}} is disconnected. Please reconnect to synchronize.\n    </div>\n  </div>\n  <div class=\"modal-footer\">\n    <button class=\"btn btn-primary\" type=\"button\" ng-click=\"ok()\">OK</button>\n  </div>\n</script>\n");
$templateCache.put("widgets/accounts-accounting-values.tmpl.html","<div widget-accounts-accounting-values>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" />\n\n      <div ng-hide=\"widget.isHistoryMode\" class=\"current\">\n        <div class=\"price\">\n           {{ getCurrentPrice() | mnoCurrency : getCurrency() : false }}\n        </div>\n        <div class=\"currency\">{{getCurrency()}}</div>\n        <div class=\"legend\">{{getLegend()}}</div>\n      </div>\n\n      <div class=\"history chart-container\" ng-class=\"{\'invisible\': !widget.isHistoryMode}\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        <div class=\"legend\">{{getLegend()}}</div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n  \n</div>");
$templateCache.put("widgets/accounts-assets-liability-summary.tmpl.html","<div widget-accounts-assets-liability-summary>\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"chart-container\">\n      <!-- account classification selectors -->\n      <div setting-param-selector parent-widget=\"widget\" param=\"classification\" options=\"accountsOptions\" selected=\"selectedAccountsOption\" class=\"row param-selector\" deferred=\"::paramSelectorDeferred\"/>\n      <!---->\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      <div class=\"legend\">\n        <div class=\"title\" ng-show=\"widget.metadata.organization_ids.length==1\">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class=\"title\" ng-hide=\"widget.metadata.organization_ids.length==1\">{{classification}} repartition</div>\n        <span ng-repeat=\"valuePair in dataSource\">\n          <span style=\"font-weight: bold; color: {{getAccountColor(valuePair)}};\">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n</div>\n");
$templateCache.put("widgets/accounts-assets-summary.tmpl.html","<div widget-accounts-assets-summary>\n      \n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"chart-container\">\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      <div class=\"legend\">\n        <div class=\"title\" ng-show=\"widget.metadata.organization_ids.length==1\">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class=\"title\" ng-hide=\"widget.metadata.organization_ids.length==1\">{{classification}} repartition</div>\n        <span ng-repeat=\"valuePair in dataSource\">\n          <span style=\"font-weight: bold; color: {{getAccountColor(valuePair)}};\">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-assets-vs-liabilities.tmpl.html","<div widget-accounts-assets-vs-liabilities>\n      \n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"chart-container\">\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      <div class=\"legend\" style=\"max-height: 115px;\">\n        <div class=\"title\">\n          <i class=\"fa fa-circle\" style=\"color: {{assetsColor}};\"> Assets</i> | \n          <i class=\"fa fa-circle\" style=\"color: {{liabilitiesColor}};\"> Liabilities</i>\n        </div>\n        <div class=\"row\">\n          <div ng-repeat=\"data in companiesList\" ng-class=\"{\'col-md-6\': (widget.content.companies.length > 1), \'col-md-12\': (widget.content.companies.length == 1)}\">\n            <span>{{ data.company }}</span><br />\n            <span style=\"color: {{assetsColor}};\"> {{ data.assets | mnoCurrency : data.currency }}</span> <br/>\n            <span style=\"color: {{liabilitiesColor}};\"> {{ data.liabilities | mnoCurrency : data.currency }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-balance.tmpl.html","<div widget-accounts-balance>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-account parent-widget=\"widget\" class=\"part\" deferred=\"::accountBackDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <!-- Will be hidden once an account is selected -->\n      <div setting-account ng-hide=\"widget.selectedAccount\" parent-widget=\"widget\" label=\'Select an account to monitor\' on-account-selected=\"displayAccount()\" deferred=\"::accountFrontDeferred\" />\n\n      <!-- All the below divs will remain hidden until an account is selected -->\n      <div ng-show=\"widget.selectedAccount\">\n        <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" />\n\n        <div ng-hide=\"widget.isHistoryMode\">\n          <h3>{{getName()}}</h3>\n          <div class=\"price\">\n             {{ getCurrentBalance() | mnoCurrency : getCurrency() : false }}\n          </div>\n          <div class=\"currency\">{{getCurrency()}}</div>\n        </div>\n\n        <div class=\"chart-container\" ng-class=\"{\'invisible\': !widget.isHistoryMode}\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n          <div class=\"legend\">{{getName()}}</div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-balance-sheet.tmpl.html","<div widget-accounts-balance-sheet>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div class=\"no-data-block\" ng-show=\"(isDataFound==false)\">\n      No balance sheet can be generated between this {{period.label.toLowerCase()}} and the previous {{period.label.toLowerCase()}}. <br />\n      Maybe try selecting a longer period? <br />\n      <span setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorFrontDeferred\" />\n    </div>\n\n    <div ng-show=\"(isDataFound==true)\" class=\"widget-lines-container\">\n      <!-- Tab header -->\n      <div class=\"row widget-line header\">\n        <div class=\"col-sm-6 col-xs-12 text-left\">Compare with previous: <span setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorBackDeferred\" /></div>\n        <div class=\"col-sm-3 col-xs-6 text-right\">{{widget.content.dates[0] | mnoDate : widget.metadata.period}}</div>\n        <div class=\"col-sm-3 col-xs-6 text-right\">{{widget.content.dates[1] | mnoDate : widget.metadata.period}}</div>\n      </div>\n     \n      <!-- Groups of statements with their accounts -->\n      <div class=\"row lines-group\" ng-repeat=\"category in categories\" >\n        <div class=\"col-xs-12\">\n          <!-- Statements lines -->\n          <div class=\"row widget-line total\" >\n            <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(category)\" style=\"cursor: pointer;\">\n              <i class=\"fa\" ng-class=\"isCollapsed(category) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n            </div>\n            <div class=\"col-sm-5 col-xs-11 text-left\">\n              <strong>{{category | titleize}}</strong>\n            </div>\n            <div class=\"col-sm-3 col-xs-6 text-right\">\n              <strong>{{widget.content.summary[category].totals[0] | mnoCurrency : widget.content.summary[category].currency}}</strong>\n            </div>\n            <div class=\"col-sm-3 col-xs-6 text-right\">\n              <strong>{{widget.content.summary[category].totals[1] | mnoCurrency : widget.content.summary[category].currency}}</strong>\n            </div>\n          </div>\n\n          <!-- Accounts lines -->\n          <div class=\"row\" collapse=\"isCollapsed(category)\">\n            <div class=\"col-xs-12\">\n              <div class=\"row widget-line\" ng-repeat=\"account in widget.content.summary[category].accounts\" >\n                <div class=\"col-sm-6 col-xs-12 text-left\">\n                  {{account.name | titleize}}\n                </div>\n                <div class=\"col-sm-3 col-xs-6 text-right\">\n                  {{account.totals[0] | mnoCurrency : account.currency}}\n                </div>\n                <div class=\"col-sm-3 col-xs-6 text-right\">\n                  {{account.totals[1] | mnoCurrency : account.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n");
$templateCache.put("widgets/accounts-cash-summary.tmpl.html","<div widget-accounts-cash-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"widget-lines-container\">\n        <!-- Tab header -->\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-5 col-xs-offset-1\">Cash flow</div>\n            <div class=\"col-xs-3 text-right\">{{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}</div>\n            <div class=\"col-xs-3 text-right\">vs {{getPrevDate() | mnoDate : widget.metadata.hist_parameters.period}}</div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class=\"row lines-group\" ng-repeat=\"statement in widget.content.summary\" ng-class=\"{cash: statement.name.indexOf(\'cash\')>0}\" >\n            <div class=\"col-xs-12\">\n            \n              <!-- Statements lines -->\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(statement)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(statement)\">\n                  <i ng-show=\"(statement.accounts && statement.accounts.length)\" class=\"fa\" ng-class=\"isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\"/>\n                </div>\n                <div class=\"col-xs-5\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class=\"col-xs-3 text-right\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency : false}}</strong>\n                </div>\n                <div class=\"col-xs-3 text-right\" ng-click=\"toggleSelectedElement(statement)\" ng-class=\"getVarianceClassColor(getLastVariance(statement))\">\n                  <strong>{{getLastVariance(statement)}}</strong>\n                </div>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class=\"row\" collapse=\"isCollapsed(statement)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(account)\" ng-repeat=\"account in statement.accounts\" ng-class=\"{selected: isSelected(account)}\" >\n                    <div class=\"col-xs-5 col-xs-offset-1\">\n                      {{account.name}}\n                    </div>\n                    <div class=\"col-xs-3 text-right\">\n                      {{getLastValue(account) | mnoCurrency : account.currency : false }}\n                    </div>\n                    <div class=\"col-xs-3 text-right\" ng-class=\"getVarianceClassColor(getLastVariance(account))\">\n                      {{getLastVariance(account)}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n          \n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-show=\"selectedElement\">\n          <h4>{{getName(selectedElement) | titleize}}</h4>\n\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n            <div class=\"legend\">{{(widget.metadata.hist_parameters.period || \"Monthly\") | titleize}} Cash Flow</div>\n          </div>\n\n          <div class=\"widget-lines-container\">\n\n            <!-- Not mobile -->\n            <div class=\"row\">\n              <span ng-repeat=\"date in dates track by $index\" class=\"hidden-xs\">\n                <!-- Separator every 4 items -->\n                <div ng-if=\"$index % 4 == 0 && $index > 0\" class=\"clearfix dashed\"></div>\n\n                <div class=\"col-sm-3 text-center\">\n                  <!-- Date -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\">\n                      {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n                    </div>\n                  </div>\n                  <!-- Variance -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\" ng-class=\"getVarianceClassColor(selectedElement.variances[$index])\">\n                      {{formatVariance(selectedElement.variances[$index])}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat=\"date in dates track by $index\" class=\"row widget-line visible-xs\">\n              <!-- Date -->\n              <div class=\"col-xs-4\">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class=\"col-xs-4 text-right\">\n                {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n              </div>\n              <!-- Variance -->\n              <div class=\"col-xs-4 text-right\" ng-class=\"getVarianceClassColor(selectedElement.variances[$index])\">\n                {{formatVariance(selectedElement.variances[$index])}}\n              </div>\n            </div>\n            \n          </div>\n        </div>\n\n        <div ng-hide=\"selectedElement\" class=\"no-element\">\n          Select an account or an account type to display the corresponding cash evolution.\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/accounts-class-comparison.tmpl.html","<div widget-accounts-class-comparison>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <!-- account classification selectors -->\n      <div setting-param-selector parent-widget=\"widget\" param=\"classification\" options=\"classifications\" selected=\"selectedClassification\" class=\"row param-selector\" deferred=\"::paramSelectorDeferred\" on-select=\"widget.format()\" no-reload/>\n      <!---->\n      <div class=\"row\">\n        <div class=\"col-md-12 chart-container\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12 widget-lines-container\">\n          <div class=\"row\" ng-repeat=\"entity in widget.content.companies track by $index\">\n            <div class=\"col-xs-6 text-left\">\n              <i class=\"fa fa-circle\" style=\"margin: 0px 8px; color: {{getAccountColor(entity)}}\" />\n              {{entity}}\n            </div>\n            <div class=\"col-xs-6 text-right\">\n              <i>{{getAmount($index)}}</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/accounts-comparison.tmpl.html","<div widget-accounts-comparison>\n  <div setting-accounts-list parent-widget=\"widget\" deferred=\"::accountsListDeferred\"/>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n      <!-- multi-companies mode -->\n      <div ng-show=\"widget.metadata.organization_ids.length > 1 && canSelectComparisonMode || isComparisonMode()\">\n        <div setting-params-checkboxes options=\"comparisonModeOptions\" param=\"comparison_mode\" parent-widget=\"widget\" deferred=\"::paramsCheckboxesDeferred\"/>\n      </div>\n      <!-- end -->\n      <div ng-hide=\"hasAccountsSelected() || noComparableAccounts\" class=\"row\">\n        <div class=\"col-xs-12\">\n          <h5>Select the accounts you wish to compare.</h5>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"input-group\">\n            <select ng-model=\"movedAccount\" ng-options=\"account.name + \' (\' + formatAmount(account) + \')\' for account in widget.remainingAccounts\" class=\"form-control\" ng-show=\"widget.hasEditAbility\" ng-change=\"addAccount(movedAccount)\"></select>\n          </div>\n        </div>\n      </div>\n      <!-- error: when there are no comparable accounts matched -->\n      <div ng-show=\"isComparisonMode() && noComparableAccounts\" class=\"row comparable-error\">\n        <div class=\"col-xs-12\"><h5>No comparable accounts found.</h5></div>\n      </div>\n\n      <div class=\"row\" ng-show=\"hasAccountsSelected()\">\n        <div class=\"col-xs-12 chart-container\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        </div>\n      </div>\n\n      <div class=\"row\" ng-show=\"hasAccountsSelected()\">\n        <div class=\"col-xs-12 widget-lines-container\">\n\n          <div class=\"row\" ng-class=\"{\'lines-group\': isComparisonMode(), \'widget-line\': !isComparisonMode()}\" ng-repeat=\"account in widget.selectedAccounts track by $index\">\n            \n            <!-- Comparison between several conpanies -->\n            <div class=\"col-xs-12\" ng-if=\"isComparisonMode()\">\n              <div class=\"row widget-line\" ng-repeat=\"groupedAccount in account.accounts track by $index\">\n                <div class=\"col-xs-1\">\n                  <i class=\"fa fa-circle\" style=\"color: {{getAccountColor(groupedAccount)}}\" />\n                </div>\n                <div class=\"col-xs-6\">\n                  {{groupedAccount.name}}\n                </div>\n                <div class=\"col-xs-4 text-right\">\n                  <i>{{formatAmount(groupedAccount)}}</i>\n                </div>\n                <div class=\"col-xs-1 text-right\">\n                  <button class=\"close\" ng-click=\"removeAccount(account)\" ng-show=\"widget.hasDeleteAbility\">x</button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Simple comparison between accounts -->\n            <div ng-if=\"!isComparisonMode()\" class=\"col-xs-1\">\n              <i class=\"fa fa-circle\" style=\"color: {{getAccountColor(account)}}\" />\n            </div>\n            <div ng-if=\"!isComparisonMode()\" class=\"col-xs-6\">\n              {{account.name}}\n            </div>\n            <div ng-if=\"!isComparisonMode()\" class=\"col-xs-4 text-right\">\n              <i>{{formatAmount(account)}}</i>\n            </div>\n            <div ng-if=\"!isComparisonMode()\" class=\"col-xs-1 text-right\">\n              <button class=\"close\" ng-click=\"removeAccount(account)\" ng-show=\"widget.hasDeleteAbility\">x</button>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\" ng-show=\"hasAccountsSelected()\">\n        <div class=\"col-xs-12 input-group add-account\">\n          <select ng-model=\"movedAccount\" ng-options=\"account.name + \' (\' + formatAmount(account) + \')\' for account in widget.remainingAccounts track by account.uid\" class=\"form-control\" ng-show=\"widget.hasDeleteAbility\" ng-change=\"addAccount(movedAccount)\" ng-disabled=\"widget.selectedAccounts.length >= 15 || widget.remainingAccounts.length == 0 || isComparisonMode()\">\n            <option value=\"\" disabled selected>+ ADD ACCOUNT</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/accounts-custom-calculation.tmpl.html","<div widget-accounts-custom-calculation>\n\n  <div setting-organizations parent-widget=\"widget\" ng-hide=\"true\" deferred=\"::orgDeferred\" />\n  <div setting-accounts-list parent-widget=\"widget\" deferred=\"::accountsListDeferred\" />\n  <div setting-formula parent-widget=\"widget\" deferred=\"::formulaDeferred\" />\n\n  <h3 ng-show=\"widget.hasEditAbility && !widget.isFormulaCorrect\">\n    <a href=\"\" ng-click=\"formulaModal.open()\">Create a custom calculation</a>\n  </h3>\n  \n  <div class=\"price\" ng-show=\"widget.isFormulaCorrect\">\n    {{widget.evaluatedFormula}}\n  </div>\n  <div class=\"legend\" ng-show=\"widget.isFormulaCorrect\">\n    {{widget.legend}}\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-custom-calculation/formula.modal.html","<div class=\"analytics modal-custom-calculation\">\n  <div class=\"modal-header\">\n    <div class=\"close\" type=\"button\" ng-click=\"cancel()\" >×</div>\n    <h3>Custom Calculation</h3>\n  </div>\n\n  <div class=\"modal-body\">\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <div class=\"alert alert-error\" ng-show=\"errors\">\n          <button class=\"close\" ng-click=\"errors=\'\'\">×</button>\n          <ul>\n            <li ng-repeat=\"error in errors\">{{error}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"edit\">\n      <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::modalOrgDeferred\" />\n    </div>\n\n    <p>Make a custom equation with your accounts, and save it as a widget. To create an equation, simply select your accounts in the list, and use the classical operators (example: ({1} + {2}) / {3})</p>\n\n    <div class=\'row\'>\n      <div ng-show=\"widget.isLoading\" class=\'col-md-6 loader\' align=\"center\">\n        <div>\n          <i class=\"fa fa-spinner fa-pulse fa-3x\"></i>\n          <p>Your data is being retrieved...</p>\n        </div>\n      </div>\n\n      <div ng-hide=\"widget.isLoading\" class=\'col-md-6\'>\n        <div class=\'widget-line\' ng-repeat=\'account in widget.selectedAccounts track by $index\'>\n          <div class=\'row\'>\n            <div class=\'col-md-6\'>\n              {{$index+1}} - {{account.name}}\n            </div>\n            <div class=\'col-md-6\'>\n              {{account.current_balance | mnoCurrency : account.currency}}\n              <button class=\"close\" ng-click=\"removeAccountFromFormula(account)\" ng-show=\"widget.hasEditAbility\"><span class=\'fa fa-times-circle\'></span></button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\'input-group\' ng-show=\"widget.hasEditAbility\">\n          <select ng-model=\"movedAccount\" ng-options=\"account.name + \' (\' + widget.formatAmount(account) + \')\' for account in widget.remainingAccounts\" class=\'form-control\' ng-change=\'addAccountToFormula(movedAccount)\'><select>\n        </div>\n      </div>\n      \n      <div ng-hide=\"widget.isLoading\" class=\'col-md-6\'>\n        <p>Type your formula just below:</p>\n        <input class=\'form-control\' ng-model=\"widget.formula\">\n\n        <p>Result: {{widget.evaluatedFormula}}</p>\n        <p>Legend: {{widget.legend}}</p>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"modal-footer\">\n    <div class=\"row\">\n      <div class=\"col-sm-12\">\n        <button class=\"btn btn-gray\" ng-click=\"cancel()\" ng-hide=\"widget.isLoading\" ng-disabled=\"isLoading\">Cancel</button>\n        <button class=\"btn btn-warning\" ng-click=\"proceed()\" ng-hide=\"widget.isLoading\" ng-disabled=\'!widget.isFormulaCorrect || widget.isLoading\'>\n          <i class=\"fa fa-spinner fa-pulse loader\" ng-show=\"isLoading\"></i>\n          Save\n        </button>\n      </div>\n      \n    </div>\n  </div>\n</div>\n");
$templateCache.put("widgets/accounts-detailed-classifications.tmpl.html","<div widget-accounts-detailed-classifications>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"widget-lines-container\">\n\n      <!-- Tab header -->\n      <div ng-hide=\"multiEntity\" class=\"row widget-line header\">\n        <div class=\"col-md-11 col-md-offset-1 text-left\">\n          {{widget.content.companies[0].name}} - Accounts classifications\n        </div>\n      </div>\n\n      <!-- Groups of statements with their accounts -->\n      <div class=\"row lines-group\" ng-repeat=\"source in dataSource track by source.label\">\n        <div class=\"col-xs-12\">\n        \n          <!-- Statements lines -->\n          <div class=\"row widget-line\">\n            <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(source.label)\" style=\"cursor: pointer;\">\n              <i class=\"fa\" ng-class=\"isCollapsed(source.label) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n            </div>\n            <div class=\"col-xs-5 text-left\">\n              <strong>{{source.label | titleize}}</strong>\n            </div>\n            <div class=\"col-xs-6 text-right\">\n              <strong>{{source.value | mnoCurrency : source.currency}}</strong>\n            </div>\n          </div>\n\n          <!-- Accounts lines -->\n          <div class=\"row\" collapse=\"isCollapsed(source.label)\">\n            <div class=\"col-xs-12\">\n              <div class=\"row widget-line\" ng-repeat=\"entry in source.entries\" >\n                <div class=\"col-xs-5 col-xs-offset-1 text-left\">\n                  {{entry.label | titleize}}\n                </div>\n                <div class=\"col-xs-6 text-right\">\n                  {{entry.value | mnoCurrency : entry.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n</div>\n\n");
$templateCache.put("widgets/accounts-expense-weight.tmpl.html","<div widget-accounts-expense-weight>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-account parent-widget=\"widget\" class=\"part\" deferred=\"::accountBackDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <!-- Will be hidden once an account is selected -->\n      <div setting-account ng-hide=\"widget.selectedAccount\" parent-widget=\"widget\" label=\'Select an expense account\' on-account-selected=\"updateSettings()\" deferred=\"::accountFrontDeferred\" />\n\n      <!-- The chart will remain hidden until an account is selected -->\n      <div class=\"chart-container\" ng-show=\"widget.selectedAccount\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        <div class=\"legend\">\n          <div class=\"title\">\n            {{getName()}} to {{getComparator() | titleize}}\n            <span ng-if=\"widget.metadata.organization_ids.length==1\"><br /><strong>{{widget.content.summary[0].ratio | mnoCurrency : \'%\'}}</strong></span>\n          </div>\n          <span ng-repeat=\"sum in widget.content.summary\" ng-if=\"widget.metadata.organization_ids.length>1\">\n            <span style=\"font-weight: bold;\">{{sum.company}}: {{sum.ratio | mnoCurrency : \'%\'}}</span>\n            <br />\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-expenses-revenue.tmpl.html","<div widget-accounts-expenses-revenue>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" on-toggle=\"widget.format()\" />\n\n      <div class=\"chart-container\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        \n        <div class=\"legend\" ng-if=\"widget.isHistoryMode\">\n          <span ng-hide=\"isNetProfitDisplayed\">\n            <span class=\"negative2\">Expenses</span> -\n            <span class=\"positive2\">Revenue</span>\n          </span>\n          <span ng-show=\"isNetProfitDisplayed\">\n            <strong>Net Profit</strong>\n          </span>\n        </div>\n\n        <div ng-show=\"widget.isHistoryMode\" setting-params-checkboxes options=\"displayOptions\" param=\"display\" parent-widget=\"widget\" deferred=\"::paramsCheckboxesDeferred\"/>\n\n        <div class=\"legend\" ng-if=\"!widget.isHistoryMode\">\n          <span class=\"negative2\">Expenses: {{getCurrentExpenses() | mnoCurrency : getCurrency()}}</span>\n          </br>\n          <span class=\"positive2\">Revenue: {{getCurrentRevenue() | mnoCurrency : getCurrency()}}</span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-payable-receivable.tmpl.html","<div widget-accounts-payable-receivable>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" />\n\n      <div ng-hide=\"widget.isHistoryMode\">\n        <div class=\"receivable\">\n          <h3>Accounts Receivable</h3>\n          <div class=\"price positive2\">\n             {{getCurrentReceivable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class=\"currency\">{{getCurrency()}}</div>\n        </div>\n\n        <div class=\"payable\">\n          <h3>Accounts Payable</h3>\n          <div class=\"price negative2\">\n            {{getCurrentPayable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class=\"currency\">{{getCurrency()}}</div>\n        </div>\n      </div>\n\n      <div class=\"chart-container\" ng-class=\"{\'invisible\': !widget.isHistoryMode}\">\n        <div impac-chart draw-trigger=\"drawTrigger.promise\" deferred=\"chartDeferred\"></div>\n        <div class=\"legend\">\n          <span class=\"negative2\">Payable</span> -\n          <span class=\"positive2\">Receivable</span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/accounts-profit-and-loss.tmpl.html","<div widget-accounts-profit-and-loss>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"widget-lines-container\">\n          <!-- Tab header -->\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-4 col-xs-offset-8 text-right\">\n              {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n            </div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class=\"row lines-group\" ng-repeat=\"statement in widget.content.summary\" ng-class=\"{profit: statement.name.indexOf(\'profit\')>0}\">\n            <div class=\"col-xs-12\">\n\n              <!-- Statements lines -->\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(statement)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(statement)\">\n                  <i ng-show=\"(statement.accounts && statement.accounts.length)\" class=\"fa\" ng-class=\"isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n                </div>\n                <div class=\"col-xs-7\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class=\"col-xs-4 text-right\" ng-class=\"getClassColor(getLastValue(statement))\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class=\"row\" collapse=\"isCollapsed(statement)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(account)\" ng-repeat=\"account in statement.accounts\" ng-class=\"{selected: isSelected(account)}\" >\n                    <div class=\"col-xs-7 col-xs-offset-1\">\n                      {{account.name}}\n                    </div>\n                    <div class=\"col-xs-4 text-right\" ng-class=\"getClassColor(getLastValue(account))\">\n                      {{getLastValue(account) | mnoCurrency : account.currency}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-show=\"hasElements()\">\n          <h4>{{(widget.metadata.hist_parameters.period || \"Monthly\") | titleize}} Profit and Loss</h4>\n          <div ng-show=\"selectedElements.length < 2\" class=\"legend\">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n          </div>\n\n          <div ng-show=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n            \n            <!-- Not mobile -->\n            <div class=\"row\">\n              <span ng-repeat=\"date in dates track by $index\" class=\"hidden-xs\">\n                <!-- Separator every 4 items -->\n                <div ng-if=\"$index % 4 == 0 && $index > 0\" class=\"clearfix dashed\"></div>\n\n                <div class=\"col-sm-3 text-center\">\n                  <!-- Date -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat=\"date in dates track by $index\" class=\"row widget-line visible-xs\">\n              <!-- Date -->\n              <div class=\"col-xs-6\">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class=\"col-xs-6 text-right\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n            <div class=\"row widget-line\" ng-repeat=\"element in selectedElements\">\n              <div class=\"col-xs-7 text-left\">\n                <i class=\"fa fa-circle\" style=\"margin: 0px 8px; color: {{getElementChartColor($index)}}\" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class=\"col-xs-5 text-right\">\n                <i ng-class=\"getClassColor(getLastValue(element))\">\n                  {{getLastValue(element) | mnoCurrency : element.currency}}\n                </i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide=\"hasElements()\" class=\"no-element\">\n          Select one or several account(s) or account(s) type(s) to display the corresponding PnL.\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found on-display-alerts=\"onDisplayAlerts()\" widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/hr-employee-details.tmpl.html","<div widget-hr-employee-details>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"3\" max=\"6\" class=\"settings width\" deferred=\"::widthDeferred\" />\n        <div setting-param-selector parent-widget=\"widget\" param=\"employee_uid\" options=\"employeesOptions\" selected=\"selectedEmployee\" class=\"row title\" deferred=\"::paramSelectorDeferred1\" />\n\n        <div class=\"details-container\">\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Job Title</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().job_title || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Company</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().company || getSingleCompanyName()}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Phone</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().phone || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Email</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().email || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Date of birth</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().dob || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Gender</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().gender || \"-\" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel\" ng-show=\"widget.isExpanded()\">\n        <div class=\"legend\">Salary calculation period: <span setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorDeferred2\" /></div>\n        <div class=\"details-container\">\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Salary</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().salary || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Address</label></div>\n            <div class=\"col-md-8\"><pre>{{formatAddress(getEmployee().address) || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Job location</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().location || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Supervisor</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().supervisor || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Status</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().employment_status || \"-\" }}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Note</label></div>\n            <div class=\"col-md-8\"><pre>{{getEmployee().note || \"-\" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/hr-employees-list.tmpl.html","<div widget-hr-employees-list>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" >\n\n      <div class=\"legend\">\n        <strong>{{widget.content.total.employees}}</strong> employee{{widget.content.total.employees > 1 ? \"s\" : null}} - Average salary rate (<span setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorDeferred\"/>): <strong>{{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}</strong>\n      </div>\n\n      <div class=\"widget-lines-container\">\n        <div class=\"row widget-line header\">\n          <div class=\"col-sm-2\">Company</div>\n          <div class=\"col-sm-3\">Employee</div>\n          <div class=\"col-sm-2\">Title</div>\n          <div class=\"col-sm-3\">Phone</div>\n          <div class=\"col-sm-2\">Salary</div>\n        </div>\n        <div class=\"row widget-line\" ng-repeat=\"employee in widget.content.employees\" >\n          <div class=\"col-sm-2\">{{employee.company || getSingleCompanyName()}}</div>\n          <div class=\"col-sm-3\">{{employee.lastname}} {{employee.firstname}}</div>\n          <div class=\"col-sm-2\"><i>{{employee.job_title}}</i></div>\n          <div class=\"col-sm-3\">{{employee.phone}}</div>\n          <div class=\"col-sm-2\"><i>{{getEmployeeSalary(employee)}}</i></div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/hr-leaves-balance.tmpl.html","<div widget-hr-leaves-balance>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\"/>\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" >\n\n      <div setting-param-selector parent-widget=\"widget\" param=\"employee_id\" options=\"employeesOptions\" selected=\"selectedEmployee\" class=\"employee-name\" deferred=\"::paramSelectorDeferred\" />\n\n      <h3>{{getEmployee().leaves[0].name || \'Vacation leaves\'}} balance</h3>\n      <div class=\"balance\">{{(getEmployee().leaves[0].units || 0) | mnoCurrency : (getEmployee().leaves[0].type_of_units || \'h\')}}</div>\n\n      <h3>{{getEmployee().leaves[1].name || \'Sick leaves\'}} balance</h3>\n      <div class=\"balance\">{{(getEmployee().leaves[1].units || 0) | mnoCurrency : (getEmployee().leaves[1].type_of_units || \'h\')}}</div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/hr-leaves-schedule.tmpl.html","<div widget-hr-leaves-schedule>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n\n      <div widget-component-calendar ng-model=\"eventSources\"></div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/hr-payroll-summary.tmpl.html","<div widget-hr-payroll-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"widget-lines-container\">\n      \n          <!-- Tab header -->\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-11 col-xs-offset-1\">Payroll Summary - {{widget.metadata.hist_parameters.period}}</div>\n          </div>\n\n          <!-- Groups of statements with their accounts -->\n          <div class=\"row lines-group\" ng-repeat=\"statement in widget.content.summary\" >\n            <div class=\"col-xs-12\">\n\n              <!-- Statements lines -->\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(statement)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(statement)\">\n                  <i ng-show=\"(statement.employees && statement.employees.length)\" class=\"fa\" ng-class=\"isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n                </div>\n                <div class=\"col-xs-7\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class=\"col-xs-4 text-right\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n              </div>\n\n              <!-- Accounts lines -->\n              <div class=\"row\" collapse=\"isCollapsed(statement)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(employee)\" ng-repeat=\"employee in statement.employees\" ng-class=\"{selected: isSelected(account)}\" >\n                    <div class=\"col-xs-7 col-xs-offset-1\">\n                      {{employee.name}}\n                    </div>\n                    <div class=\"col-xs-4 text-right\">\n                      {{getLastValue(employee) | mnoCurrency : employee.currency}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            \n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-show=\"hasElements()\">\n\n          <h4>{{(widget.content.hist_parameters.period || \"Monthly\") | titleize}} Payroll Summary</h4>\n          <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" on-toggle=\"widget.format()\"/>\n\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n            <div ng-show=\"selectedElements.length < 2\" class=\"legend\">{{getName(selectedElements[0]) | titleize}}</div>\n          </div>\n\n          <div ng-show=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n\n            <div ng-show=\"getTrackedField()\" class=\"row widget-line header\">\n              <div class=\"col-xs-12\">{{getTrackedField()}}</div>\n            </div>\n\n            <!-- Not mobile -->\n            <div class=\"row\">\n              <span ng-repeat=\"date in widget.content.dates track by $index\" class=\"hidden-xs\">\n                <!-- Separator every 4 items -->\n                <div ng-if=\"$index % 4 == 0 && $index > 0\" class=\"clearfix dashed\"></div>\n\n                <div class=\"col-sm-3 text-center\">\n                  <!-- Date -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\">\n                      {{formatDate(date)}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency }}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat=\"date in widget.content.dates track by $index\" class=\"row widget-line visible-xs\">\n              <!-- Date -->\n              <div class=\"col-xs-6\">\n                {{formatDate(date)}}\n              </div>\n              <!-- Amount + currency -->\n              <div class=\"col-xs-6 text-right\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n\n            <div class=\"row widget-line header\">\n              <div class=\"col-md-12\">\n                <span ng-if=\"getTrackedField()\">\n                  {{getTrackedField()}} - \n                </span>\n                <span ng-if=\"widget.isHistoryMode\">\n                  From {{widget.content.dates[0] | date : \"MMM-d\"}} to {{widget.content.dates[widget.content.dates.length - 1] | date : \"MMM-d\"}}\n                </span>\n                <span ng-if=\"!widget.isHistoryMode\">\n                  {{getPeriod()}}\n                </span>\n              </div>\n            </div>\n\n            <div class=\"row widget-line\" ng-repeat=\"element in selectedElements\">\n              <div class=\"col-xs-7\">\n                <i class=\"fa fa-circle\" style=\"margin: 0px 8px; color: {{getElementChartColor($index)}}\" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class=\"col-xs-5 text-right\">\n                <span ng-if=\"widget.isHistoryMode\">{{getTotalSum(element) | mnoCurrency : element.currency}}</span>\n                <span ng-if=\"!widget.isHistoryMode\">{{getLastValue(element) | mnoCurrency : element.currency}}</span>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n        <div ng-hide=\"hasElements()\" class=\"no-element\">\n          Select one or several employee(s) or category(ies) to display the corresponding summary.\n        </div>\n\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/hr-payroll-taxes.tmpl.html","<div widget-hr-payroll-taxes>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <div setting-hist-mode parent-widget=\"widget\" deferred=\"::histModeDeferred\" />\n\n      <div ng-hide=\"widget.isHistoryMode\" class=\"current\">\n        <div class=\"price\">{{getCurrentPrice() | mnoCurrency : getCurrency() : false}}</div>\n        <div class=\"currency\">{{getCurrency()}}</div>\n        <div class=\"legend\">Taxes upon workforce costs<br />{{getPeriod()}}</div>\n      </div>\n\n      <div class=\"history chart-container\" ng-class=\"{\'invisible\': !widget.isHistoryMode}\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        <div class=\"legend\">Taxes upon workforce costs</div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/hr-salaries-summary.tmpl.html","<div widget-hr-salaries-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\">\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"3\" max=\"6\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <h3 class=\"left\">Average Salary Rate</h3>\n        <div class=\"price\">\n           {{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}\n        </div>\n        <div class=\"currency\" setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorDeferred1\"/>\n        <div class=\"legend\">\n          <span>({{widget.content.total.employees}} employee{{widget.content.total.employees > 1 ? \"s\" : null}} with known salary)</span>\n        </div>\n      </div>\n\n      <div class=\"right-panel\" ng-class=\"{\'col-md-12 invisible\': !widget.isExpanded(), \'col-md-6\': widget.isExpanded()}\">\n        <h3 class=\"right\">Filter: <span setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred2\"/></h3>\n        <div class=\"chart-container\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        </div>\n        <div class=\"widget-lines-container\">\n          <div class=\"row widget-line\" ng-repeat=\"data in widget.content.summary.data\">\n            <div class=\"col-xs-2\">\n              <i ng-hide=\"widget.content.summary.filter==\'age_range\'\" class=\"fa fa-circle\" style=\"color: {{getColorByIndex($index)}}\" />\n            </div>\n            <div class=\"col-xs-5\">\n              {{data.label}}\n            </div>\n            <div class=\"col-xs-5 text-right\">\n              <i>{{data.value | mnoCurrency : widget.content.total.currency}} (av.)</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/hr-superannuation-accruals.tmpl.html","<div widget-hr-superannuation-accruals>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n\n      <div setting-param-selector parent-widget=\"widget\" param=\"employee_id\" options=\"employeesOptions\" selected=\"selectedEmployee\" class=\"currency\" deferred=\"::paramSelectorDeferred\" />\n\n      <h3>Superannuation Balance</h3>\n      <div class=\"price\">{{(getEmployee().total_super || 0) | mnoCurrency : getEmployee().currency}}</div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/hr-timesheets.tmpl.html","<div widget-hr-timesheets>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n\n      <div setting-param-selector parent-widget=\"widget\" param=\"employee_id\" options=\"employeesOptions\" selected=\"selectedEmployee\" class=\"currency\" deferred=\"::paramSelectorDeferred\" />\n\n      <div class=\"widget-lines-container\">\n\n        <!-- Tab header -->\n        <div class=\"row widget-line header\">\n          <div class=\"col-sm-12\">\n            From {{widget.content.dates[0] | date : \'MMM-d\'}} to {{widget.content.dates[widget.content.dates.length - 1] | date : \'MMM-d\'}}\n          </div>\n        </div>\n\n        <!-- Time worked activities -->\n        <div class=\"row lines-group\" >\n          <div class=\"col-xs-12\">\n          \n            <!-- Time worked -->\n            <div class=\"row widget-line\" >\n              <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(\'total_time_worked\')\" style=\"cursor: pointer;\">\n                <i class=\"fa\" ng-class=\"isCollapsed(\'total_time_worked\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n              </div>\n              <div class=\"col-xs-7\">\n                <strong>Total Time Worked</strong>\n              </div>\n              <div class=\"col-xs-4 text-right\">\n                <strong>{{getEmployeeTimeWorked()}} h</strong>\n              </div>\n            </div>\n          \n            <!-- Activities lines / TODO -->\n            <div class=\"row\" collapse=\"isCollapsed(\'total_time_worked\')\">\n              <div class=\"col-xs-12\">\n                <div class=\"row widget-line\">\n                  <div class=\"col-xs-11 col-xs-offset-1\">\n                    <i>Activities detail not found</i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          \n          </div>\n        </div>\n\n        <!-- Time off activities -->\n        <div class=\"row lines-group\" >\n          <div class=\"col-xs-12\">\n          \n            <!-- Time off -->\n            <div class=\"row widget-line\" >\n              <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(\'total_time_of\')\" style=\"cursor: pointer;\">\n                <i class=\"fa\" ng-class=\"isCollapsed(\'total_time_of\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n              </div>\n              <div class=\"col-xs-7\">\n                <strong>Total Time Off</strong>\n              </div>\n              <div class=\"col-xs-4 text-right\">\n                <strong>{{getEmployeeTimeOff()}} h</strong>\n              </div>\n            </div>\n\n\n            <!-- PTO and Vacation lines / TODO -->\n            <div class=\"row\" collapse=\"isCollapsed(\'total_time_of\')\">\n              <div class=\"col-xs-12\">\n                <div class=\"row widget-line\">\n                  <div class=\"col-xs-7 col-xs-offset-1\">PTO</div>\n                  <div class=\"col-xs-4 text-right\">0 h</div>\n                </div>\n                <div class=\"row widget-line\">\n                  <div class=\"col-xs-7 col-xs-offset-1\">Vacation</div>\n                  <div class=\"col-xs-4 text-right\">0 h</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/hr-workforce-summary.tmpl.html","<div widget-hr-workforce-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\">\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"3\" max=\"6\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <h3 class=\"left\">Total Workforce</h3>\n        <div class=\"price\">\n           {{getTotalWorkforce() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class=\"currency\" setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorDeferred1\"/>\n        <div class=\"legend\">\n          <span>({{getNumberOfEmployees()}} employee{{getNumberOfEmployees() > 1 ? \'s\' : null}} with known salary)</span>\n        </div>\n      </div>\n\n      <div class=\"right-panel\" ng-class=\"{\'col-md-12 invisible\': !widget.isExpanded(), \'col-md-6\': widget.isExpanded()}\">\n        <h3 class=\"right\">Filter: <span setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred2\"/></h3>\n        <div class=\"chart-container\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        </div>\n        <div class=\"widget-lines-container\">\n          <div class=\"row widget-line\" ng-repeat=\"data in widget.content.summary.data\">\n            <div class=\"col-xs-2\">\n              <i class=\"fa fa-circle\" style=\"color: {{getColorByIndex($index)}}\" />\n            </div>\n            <div class=\"col-xs-7\">\n              {{widget.content.summary.filter == \"salary_range\" ? formatSalaryRange(data) : data.label}}\n            </div>\n            <div class=\"col-xs-3 text-right\">\n              <i>{{((data.value / widget.content.total.amount)*100).toFixed()}}%</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/invoices-aged-payables-receivables.tmpl.html","<div widget-invoices-aged-payables-receivables>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"widget-lines-container\">\n\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-8\">Aged Payables & Receivables</div>\n            <div class=\"col-xs-4 text-right\">Total</div>\n          </div>\n\n          <!-- Payables -->\n          <div class=\"row lines-group\">\n            <div class=\"col-xs-12\">\n\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(widget.content.payables)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(widget.content.payables)\">\n                  <i ng-show=\"(widget.content.payables.suppliers && widget.content.payables.suppliers.length)\" class=\"fa\" ng-class=\"isCollapsed(widget.content.payables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n                </div>\n                <div class=\"col-xs-7\" ng-click=\"toggleSelectedElement(widget.content.payables)\">\n                  <strong>Aged Payables</strong>\n                </div>\n                <div class=\"col-xs-4 text-right\" ng-click=\"toggleSelectedElement(widget.content.payables)\">\n                  <strong>{{getTotalSum(widget.content.payables) | mnoCurrency : widget.content.payables.currency}}</strong>\n                </div>\n              </div>\n\n              <div class=\"row\" ng-hide=\"isCollapsed(widget.content.payables)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(supplier)\" ng-repeat=\"supplier in widget.content.payables.suppliers\" ng-class=\"isSelected(supplier) ? \'selected\' : null\" >\n                    <div class=\"col-xs-7 col-xs-offset-1\">\n                      {{supplier.name}}\n                    </div>\n                    <div class=\"col-xs-4 text-right\">\n                      {{getTotalSum(supplier) | mnoCurrency : supplier.currency}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            \n            </div>\n          </div>\n\n          <!-- Receivables -->\n          <div class=\"row lines-group\">\n            <div class=\"col-xs-12\">\n\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(widget.content.receivables)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(widget.content.receivables)\">\n                  <i ng-show=\"(widget.content.receivables.customers && widget.content.receivables.customers.length)\" class=\"fa\" ng-class=\"isCollapsed(widget.content.receivables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n                </div>\n                <div class=\"col-xs-7\" ng-click=\"toggleSelectedElement(widget.content.receivables)\">\n                  <strong>Aged Receivables</strong>\n                </div>\n                <div class=\"col-xs-4 text-right\" ng-click=\"toggleSelectedElement(widget.content.receivables)\">\n                  <strong>{{getTotalSum(widget.content.receivables) | mnoCurrency : widget.content.receivables.currency}}</strong>\n                </div>\n              </div>\n\n              <div class=\"row\" ng-hide=\"isCollapsed(widget.content.receivables)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(customer)\" ng-repeat=\"customer in widget.content.receivables.customers\" ng-class=\"isSelected(customer) ? \'selected\' : null\" >\n                    <div class=\"col-xs-7 col-xs-offset-1\">\n                      {{customer.name}}\n                    </div>\n                    <div class=\"col-xs-4 text-right\">\n                      <span>{{getTotalSum(customer) | mnoCurrency : customer.currency}}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div class=\"right-panel text-center\" ng-class=\"{\'col-md-6\': widget.isExpanded(), \'col-md-12 invisible\': !widget.isExpanded()}\">\n\n        <div ng-show=\"hasElements()\">\n\n          <h4>{{(widget.content.hist_parameters.period || \"Monthly\") | titleize}} Aged Payables and Receivables</h4>\n\n          <div ng-show=\"selectedElements.length < 2\" class=\"legend\">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n          </div>\n\n          <div ng-show=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n\n            <!-- Not mobile -->\n            <div class=\"row\">\n              <span ng-repeat=\"date in widget.content.dates track by $index\" class=\"hidden-xs\">\n                <!-- Separator every 4 items -->\n                <div ng-if=\"$index % 4 == 0 && $index > 0\" class=\"clearfix dashed\"></div>\n\n                <div class=\"col-sm-3 text-center\">\n                  <!-- Date -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\">\n                      {{date | mnoDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  <!-- Amount + currency -->\n                  <div class=\"row widget-line\">\n                    <div class=\"col-sm-12\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            <!-- Mobile -->\n            <div ng-repeat=\"date in widget.content.dates track by $index\" class=\"row widget-line visible-xs\">\n              <!-- Date -->\n              <div class=\"col-xs-6\">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <!-- Amount + currency -->\n              <div class=\"col-xs-6 text-right\" ng-class=\"getClassColor(selectedElements[0].totals[$index])\">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n\n            <div class=\"row astericks-info\">\n              <div class=\"col-xs-12\">\n                <p><i>* Your opening-balance of receivables and/or payables for this period.</i></p>\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide=\"selectedElements.length < 2\" class=\"widget-lines-container\">\n\n            <div class=\"row widget-line header\">\n              <div class=\"col-xs-4 col-xs-offset-8 text-right\">Totals</div>\n            </div>\n\n            <div class=\"row widget-line\" ng-repeat=\"element in selectedElements\">\n              <div class=\"col-xs-2\">\n                <i class=\"fa fa-circle\" style=\"margin: 0px 8px; color: {{getElementChartColor($index)}}\" />\n              </div>\n              <div class=\"col-xs-6\">\n                {{getName(element) | titleize}}\n              </div>\n              <div class=\"col-xs-4 text-right\">\n                <i>{{getTotalSum(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n\n            <div class=\"row astericks-info\">\n              <div class=\"col-xs-12\">\n                <p><i>* Your opening-balance of receivables and/or payables for this period.</i></p>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n        <div ng-hide=\"hasElements()\" class=\"no-element\">\n          Select one or several account(s) or category(ies) to display the payables/receivables evolution(s).\n        </div>\n\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/invoices-list.accessible.tmpl.html","<div widget-invoices-list>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <table class=\"table widget-lines-container\" ng-hide=\"widget.isEditMode\">\n\n    <!-- Header line -->\n    <tr class=\"widget-line header\">\n      <td>{{entityTypeCap}}</td>\n      <td>Paid</td>\n      <td>Due</td>\n      <td>Invoiced</td>\n    </tr>\n\n    <!-- Data not found line -->\n    <tr class=\"widget-line\" ng-show=\"(isDataFound==false)\">\n      <td>No {{orderBy}}invoice found for your {{entityType}}</td>\n    </tr>\n    \n    <!-- Content lines -->\n    <tr class=\"widget-line\" ng-show=\"(isDataFound==true)\" ng-repeat=\"entity in widget.content.entities\">\n      <td>{{entity.name}}</td>\n      <td><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></td>\n    </tr>\n\n  </table>\n\n</div>\n");
$templateCache.put("widgets/invoices-list.tmpl.html","<div widget-invoices-list>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-dates-picker parent-widget=\"widget\" class=\"part\" from=\"(widget.metadata.hist_parameters.from || defaultFrom)\" to=\"(widget.metadata.hist_parameters.to || defaultTo)\" keep-today=\"widget.metadata.hist_parameters.keep_today\" deferred=\"::datesPickerDeferred\"/>\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\" class=\"widget-lines-container\">\n\n    <div ng-show=\"(isDataFound==true)\" setting-limit-entries parent-widget=\"widget\" deferred=\"::limitEntriesDeferred\" selected=\"limitEntriesSelected\" max=\"widget.content.entities.length\" entries-label=\"limitEntriesLabel\" />\n\n\n    <!-- LARGE WIDGET -->\n\n    <!-- Header line -->\n    <div ng-if=\"widget.width > 3\" class=\"row widget-line header\">\n      <div class=\"col-sm-4\">{{entityTypeCap}}</div>\n      <div class=\"col-sm-7\">\n        <div class=\"row\">\n          <div class=\"col-xs-4\">Paid</div>\n          <div class=\"col-xs-4\">Due</div>\n          <div class=\"col-xs-4\">Invoiced</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Content lines -->\n    <div ng-if=\"widget.width > 3\" class=\"row widget-line\" ng-show=\"(isDataFound==true)\" ng-repeat=\"entity in widget.content.entities | limitTo:limitEntriesSelected\" tooltip-placement=\"top\" tooltip-html-unsafe=\"{{getInvoices(entity)}}\" tooltip-animation=\"false\" tooltip-append-to-body=\"true\" tooltip-class=\"impac-widgets-tooltip\">\n      <div class=\"col-sm-4\"><b>{{entity.name}}</b></div>\n      <div class=\"col-sm-7\">\n        <div class=\"row\">\n          <div class=\"col-xs-4\"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n          <div class=\"col-xs-4\"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n          <div class=\"col-xs-4\"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n        </div>\n      </div>\n      <div class=\"col-sm-1 text-right\"><i class=\"fa fa-info-circle\" /></div>\n    </div>\n\n\n    <!-- SMALL WIDGET -->\n\n    <!-- Header line -->\n    <div ng-if=\"widget.width <= 3\" class=\"row widget-line header\">\n      <div class=\"col-xs-12\" ng-show=\"orderBy == \'paid \'\">{{entityTypeCap}} - Total paid</div>\n      <div class=\"col-xs-12\" ng-show=\"orderBy == \'due \'\">{{entityTypeCap}} - Total due</div>\n      <div class=\"col-xs-12\" ng-hide=\"orderBy == \'paid \' || orderBy == \'due \'\">{{entityTypeCap}} - Total invoiced</div>\n    </div>\n\n    <!-- Content lines -->\n    <div ng-if=\"widget.width <= 3\" class=\"row widget-line\" ng-show=\"(isDataFound==true)\" ng-repeat=\"entity in widget.content.entities | limitTo:limitEntriesSelected\" tooltip-placement=\"top\" tooltip-html-unsafe=\"{{getInvoices(entity)}}\" tooltip-animation=\"false\" tooltip-append-to-body=\"true\" tooltip-class=\"impac-widgets-tooltip\">\n      <div class=\"col-xs-12\"><b>{{entity.name}}</b></div>\n      <div class=\"col-xs-8\" ng-show=\"orderBy == \'paid \'\"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n      <div class=\"col-xs-8\" ng-show=\"orderBy == \'due \'\"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n      <div class=\"col-xs-8\" ng-hide=\"orderBy == \'paid \' || orderBy == \'due \'\"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n      <div class=\"col-xs-4 text-right\"><i class=\"fa fa-info-circle\" /></div>\n    </div>\n\n\n    <!-- Data not found line -->\n    <div class=\"row widget-line\" ng-show=\"(isDataFound==false)\">\n      <div class=\"col-xs-12\">No {{orderBy}}invoice found for your {{entityType}}</div>\n    </div>\n\n  </div>\n\n</div>\n");
$templateCache.put("widgets/invoices-summary.tmpl.html","<div widget-invoices-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-dates-picker parent-widget=\"widget\" class=\"part\" from=\"(widget.metadata.hist_parameters.from || defaultFrom)\" to=\"widget.metadata.hist_parameters.to\" keep-today=\"widget.metadata.hist_parameters.keep_today\" deferred=\"::datesPickerDeferred\"/>\n    <div setting-chart-filters parent-widget=\"widget\" class=\"part\" deferred=\"::chartFiltersDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"chart-container\">\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      <div class=\"legend\">\n        <span>{{widget.content.legend}}</span>\n      </div>\n    </div>\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-aged.tmpl.html","<div widget-sales-aged>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"center\">\n\n      <div setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" no-reload truncate-no=\"60\" on-select=\"widget.format()\" style=\"text-align: center;\" deferred=\"::paramSelectorDeferred\"/>\n\n      <div class=\"chart-container\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      </div>\n      <div class=\"legend\">From {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} to {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}</div>\n\n      <div class=\"widget-lines-container\">\n\n        <!-- Not mobile -->\n        <div class=\"row\">\n          <span ng-repeat=\"date in formattedDates track by $index\" class=\"hidden-xs\">\n            <!-- Separator every 4 items -->\n            <div ng-if=\"$index % 4 == 0 && $index > 0\" class=\"clearfix dashed\"></div>\n\n            <div class=\"col-sm-3 text-center\">\n              <!-- Date -->\n              <div class=\"row widget-line\">\n                <div class=\"col-xs-12\">\n                  {{date}}\n                </div>\n              </div>\n              <!-- Amount (+ currency) -->\n              <div class=\"row widget-line\">\n                <div ng-hide=\"filter.value == \'quantity_sold\'\" class=\"col-xs-12\" ng-class=\"getClassColor(getTotal($index - 1),getTotal($index))\" >\n                  {{getTotal($index) | mnoCurrency : widget.content.currency}}\n                </div>\n                <div ng-show=\"filter.value == \'quantity_sold\'\" class=\"col-xs-12\" ng-class=\"getClassColor(getTotal($index - 1),getTotal($index))\" >\n                  {{getTotal($index)}}\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n\n        <!-- Mobile -->\n        <div ng-repeat=\"date in formattedDates track by $index\" class=\"row widget-line visible-xs\">\n          <!-- Date -->\n          <div class=\"col-xs-6\">\n            {{date}}\n          </div>\n          <!-- Amount (+ currency) -->\n          <div ng-hide=\"filter.value == \'quantity_sold\'\" class=\"col-xs-6 text-right\" ng-class=\"getClassColor(getTotal($index - 1),getTotal($index))\" >\n            {{getTotal($index) | mnoCurrency : widget.content.currency}}\n          </div>\n          <div ng-show=\"filter.value == \'quantity_sold\'\" class=\"col-xs-6 text-right\" ng-class=\"getClassColor(getTotal($index - 1),getTotal($index))\" >\n            {{getTotal($index)}}\n          </div>\n        </div>\n\n      </div>\n      \n    </div>\n    \n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-break-even.tmpl.html","<div widget-sales-break-even>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"align-center\">\n\n      <div class=\"legend\">From {{widget.content.period.from | date : \'d MMM yyyy\'}} to {{widget.content.period.to | date : \'d MMM yyyy\'}}</div>\n\n      <div class=\"block to-date\">\n        <div class=\"title\">Sales to Date</div>\n        <div class=\"price\">{{widget.content.sales.to_date | mnoCurrency : widget.content.currency : false}}</div>\n        Target: <span class=\"edit-target\" style=\"float: right;\" editable-text=\"threshold\" buttons=\"no\" onaftersave=\"updateSettings()\">\n          {{threshold | mnoCurrency : widget.content.currency : false}}\n        </span>\n      </div>\n\n      <div ng-show=\"widget.content.break_even\" class=\"block to-breakeven\">\n        <div class=\"title\">Projection to Break-Even</div>\n        <span ng-show=\"isTargetMet()\">Your sales already exceed your target by:</span>\n        <div class=\"price\">{{getVariance() | mnoCurrency : widget.content.currency : false}}</div>\n        <span ng-hide=\"isTargetMet()\">\n          Projected date: <span style=\"float: right;\">{{getProjectedDate() | date : \'d-MM-yy\'}}</span>\n          <br />\n          Opportunities to close: <span style=\"float: right;\">{{getOpportunitiesToClose()}}</span>\n        </span>\n      </div>\n      <div ng-show=\"widget.content.break_even\" class=\"legend\">{{widget.content.break_even.eligible_opportunities}} eligible opportunities</div>\n\n      <div ng-hide=\"widget.content.break_even\" class=\"block to-breakeven\">\n        <span class=\"edit-target\" editable-text=\"threshold\" buttons=\"no\" onaftersave=\"updateSettings()\">\n          <div class=\"define-text\">Click to define your sales target</div>\n        </span>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-comparison.tmpl.html","<div widget-sales-comparison>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"row legend center\">\n          Compare by: <div setting-param-selector parent-widget=\"widget\" style=\"display: inline;\" param=\"criteria\" options=\"criteriaOptions\" selected=\"criteria\" truncate-no=\"30\" deferred=\"::paramSelectorDeferred1\" />\n           |\n          See: <div setting-param-selector parent-widget=\"widget\" style=\"display: inline;\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" truncate-no=\"30\" on-select=\"widget.format()\" no-reload deferred=\"::paramSelectorDeferred2\" />\n        </div>\n\n        <div class=\"widget-lines-container\">\n\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-12\">\n              Total sales from {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} to {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n            </div>\n          </div>\n        \n          <div class=\"row lines-group\" ng-repeat=\"statement in widget.content.sales_comparison\" >\n            <div class=\"col-xs-12\">\n\n              <div class=\"row widget-line\" ng-class=\"{selected: isSelected(statement)}\" >\n                <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(statement)\">\n                  <i ng-show=\"(statement.sales && statement.sales.length)\" class=\"fa\" ng-class=\"isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n                </div>\n                <div class=\"col-xs-7\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{statement.name | titleize}}</strong>\n                </div>\n                <div ng-show=\"filter.value == \'quantity_sold\'\" class=\"col-xs-4 text-right\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getTotalForPeriod(statement)}}</strong>\n                </div>\n                <div ng-hide=\"filter.value == \'quantity_sold\'\" class=\"col-xs-4 text-right\" ng-click=\"toggleSelectedElement(statement)\">\n                  <strong>{{getTotalForPeriod(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n              </div>\n\n              <div class=\"row\" collapse=\"isCollapsed(statement)\">\n                <div class=\"col-xs-12\">\n                  <div class=\"row widget-line\" ng-click=\"toggleSelectedElement(sale)\" ng-repeat=\"sale in statement.sales\" ng-class=\"{selected: isSelected(sale)}\" >\n                    <div class=\"col-xs-7 col-xs-offset-1\">\n                      {{sale.name}}\n                    </div>\n                    <div ng-show=\"filter.value == \'quantity_sold\'\" class=\"col-xs-4 text-right\">\n                      {{getTotalForPeriod(sale)}}\n                    </div>\n                    <div ng-hide=\"filter.value == \'quantity_sold\'\" class=\"col-xs-4 text-right\">\n                      {{getTotalForPeriod(sale) | mnoCurrency : sale.currency}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n          \n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-show=\"hasElements()\">\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n          </div>\n\n          <div class=\"widget-lines-container\">\n\n            <div class=\"row widget-line header\">\n              <div class=\"col-xs-12\">\n                Total sales from {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} to {{getLastDate() | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n            </div>\n\n            <div class=\"row widget-line\" ng-repeat=\"element in selectedElements\">\n              <div class=\"col-xs-1\">\n                <i class=\"fa fa-circle\" style=\"color: {{getElementChartColor($index)}}\" />\n              </div>\n              <div class=\"col-xs-7\">\n                {{element.name | titleize}}\n              </div>\n              <div class=\"col-xs-4 text-right\">\n                <i ng-show=\"filter.value == \'quantity_sold\'\">{{getTotalForPeriod(element)}}</i>\n                <i ng-hide=\"filter.value == \'quantity_sold\'\">{{getTotalForPeriod(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide=\"hasElements()\" class=\"no-element\">\n          Select one or several sales category(ies) to display the corresponding comparison.\n        </div>\n\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-customer-details.tmpl.html","<div widget-sales-customer-details>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"3\" max=\"6\" class=\"settings width\" deferred=\"::widthDeferred\" />\n        <div setting-param-selector parent-widget=\"widget\" param=\"customer_uid\" options=\"customersOptions\" selected=\"selectedCustomer\" class=\"row title\" deferred=\"::paramSelectorDeferred\" />\n\n        <div class=\"details-container\">\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Email</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().email}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Phone</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().phone}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Website</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().website}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Contact</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().contact}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>City</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().city}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\"><label>Country</label></div>\n            <div class=\"col-md-8\"><pre>{{getCustomer().country}}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel\" ng-show=\"widget.isExpanded()\">\n        <div class=\"details-container\">\n          <div class=\"row\" style=\"border-bottom: solid 1px #e6e6e6; margin-bottom: 10px; padding-bottom: 5px;\">\n            <div class=\"col-md-3\"><label>Address</label></div>\n            <div class=\"col-md-9\"><pre>{{formatAddress(getCustomer().full_address)}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12 center legend\">From {{getFromDate() | date : \'d MMM yyyy\'}} to {{getToDate() | date : \'d MMM yyyy\'}}:</div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-5\"><label>Total invoiced</label></div>\n            <div class=\"col-md-7\"><pre>{{getCustomer().total_invoiced | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-5\"><label>Total paid</label></div>\n            <div class=\"col-md-7\"><pre>{{getCustomer().total_paid | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-5\"><label>Total due</label></div>\n            <div class=\"col-md-7\"><pre>{{getCustomer().total_due | mnoCurrency : getCustomer().currency}}</pre></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-cycle.tmpl.html","<div widget-sales-cycle>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-params-picker options=\"statusOptions\" param=\"status_selection\" parent-widget=\"widget\" class=\"part\" deferred=\"::paramsPickerDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\" class=\"chart-container\">\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      <div class=\"legend\">\n        <span>Your sales cycle represents how much time your leads stay set to each status</span>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-forecast.tmpl.html","<div widget-sales-forecast>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" >\n\n      <div class=\"chart-container\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      </div>\n\n      <div class=\"widget-lines-container\">\n        \n        <div class=\"row widget-line header\">\n          <div class=\"col-xs-12\">Projection on the next 6 months</div>\n        </div>\n        \n        <div class=\"row lines-group\" ng-repeat=\"date in widget.content.dates.slice(6) track by $index\" ng-init=\"collapsed = true\" >\n          <div class=\"col-xs-12\">\n\n            <div class=\"row widget-line\" ng-class=\"{main: widget.content.opportunities.slice(6)[$index].length > 0}\" ng-click=\"collapsed = !collapsed\" >\n              <div class=\"col-xs-6\">\n                {{date | mnoDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <div class=\"col-xs-6 text-right\">\n                <strong>{{widget.content.totals.slice(6)[$index] | mnoCurrency : widget.content.currency}}</strong>\n              </div>\n            </div>\n          \n            <div class=\"row\" collapse=\"collapsed\">\n              <div class=\"col-xs-12\">\n                <div class=\"row widget-line\" ng-repeat=\"opp in widget.content.opportunities.slice(6)[$index]\" >\n                  <div class=\"col-xs-6\">\n                    {{opp.name}}\n                  </div>\n                  <div class=\"col-xs-6 text-right\">\n                    {{getOpportunityAmount(opp) | mnoCurrency : getOpportunityCurrency(opp)}}\n                  </div>\n                </div>\n              </div>\n            </div>\n          \n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-growth.tmpl.html","<div widget-sales-growth>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n\n      <div class=\"selector\">\n        <div setting-param-selector parent-widget=\"widget\" param=\"product\" options=\"productOptions\" selected=\"product\" no-reload on-select=\"widget.format()\" deferred=\"::paramSelectorDeferred1\"/>\n        <div ng-show=\"product.value != -1\" setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred2\"/>\n      </div>\n\n      <div class=\"chart-container\" ng-class=\"{\'invisible\': product.value==-1}\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n      </div>\n\n      <div ng-show=\"product.value != -1\" class=\"legend text-center\">{{getSelectedProduct().name}}</div>\n      <div class=\"price text-center\" ng-hide=\"isDataQuantity || product.value == -1\" tooltip=\"total for last period\">{{getCurrentValue() | mnoCurrency : getSelectedProduct().currency}}</div>\n      <div class=\"price text-center\" ng-show=\"isDataQuantity && product.value != -1\" tooltip=\"total for last period\">{{getCurrentValue()}}</div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-leads-funnel.tmpl.html","<div widget-sales-leads-funnel>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-params-picker options=\"statusOptions\" param=\"status_selection\" parent-widget=\"widget\" class=\"part\" deferred=\"::paramsPickerDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"legend\">Your leads sales funnel from {{widget.content.from | date : \'d MMM yyyy\'}} to {{widget.content.to | date : \'d MMM yyyy\'}}</div>\n\n        <div class=\"funnel-container\">\n          <div class=\"tile\" ng-repeat=\"elem in funnel\" ng-click=\"toggleSelectStatus(elem.status)\">\n            <div class=\"colored-area\" ng-style=\"elem.coloredWidth\" ng-class=\"isSelected(elem.status) ? \'selected\' : \'\'\">{{elem.number}}</div>\n            <div class=\"main-text\" ng-style=\"elem.statusWidth\">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-hide=\"selectedStatus\" class=\"currency\">\n          Select a status to display a list of the corresponding leads\n        </div>\n\n        <div ng-show=\"selectedStatus\" class=\"widget-lines-container\">\n\n          <div class=\"row lines-group widget-line\" ng-repeat=\"lead in getSelectedLeads()\" tooltip-trigger=\"mouseenter\" tooltip-placement=\"top\" tooltip-html-unsafe=\"{{getLeadDescription(lead)}}\" tooltip-animation=\"false\"  tooltip-append-to-body=\"true\" tooltip-class=\"impac-widgets-tooltip\">\n            <div class=\"col-sm-7\">\n              {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n              <span ng-show=\"lead.organization\">({{lead.organization}})</span>\n            </div>\n            <div class=\"col-sm-5 text-right\">\n              <strong>{{lead.lead_status | titleize}}</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-leads-list.tmpl.html","<div widget-sales-leads-list>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n\n      <div class=\"widget-lines-container\">\n\n        <div class=\"row lines-group widget-line\" ng-repeat=\"lead in widget.content.leads\" tooltip-trigger=\"mouseenter\" tooltip-placement=\"top\" tooltip-html-unsafe=\"{{getLeadDescription(lead)}}\" tooltip-animation=\"false\" tooltip-append-to-body=\"true\" tooltip-class=\"impac-widgets-tooltip\">\n          <div class=\"col-sm-7\">\n            {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n            <span ng-show=\"lead.organization\">({{lead.organization}})</span>\n          </div>\n          <div class=\"col-sm-5 text-right\">\n            <strong>{{lead.lead_status | titleize}}</strong>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-list.tmpl.html","<div widget-sales-list>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div class=\"selector\">\n      <span setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred\" />\n      <span setting-dates-picker parent-widget=\"widget\" from=\"widget.metadata.hist_parameters.from\" to=\"widget.metadata.hist_parameters.to\" keep-today=\"widget.metadata.hist_parameters.keep_today\" deferred=\"::datesPickerDeferred\"/>\n    </div>\n\n    <div class=\"widget-lines-container\" ng-show=\"(isDataFound==true)\">\n\n      <div class=\"row lines-group\" ng-repeat=\"company in widget.content.summary\" >\n        <div class=\"col-xs-12\">\n\n          <div class=\"row widget-line\" >\n            <div class=\"col-xs-1\" ng-click=\"toggleCollapsed(company.name)\" style=\"cursor: pointer;\">\n              <i class=\"fa\" ng-class=\"isCollapsed(company.name) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'\" />\n            </div>\n            <div class=\"col-xs-7\">\n              <strong>{{company.name | titleize}}</strong>\n            </div>\n            <div class=\"col-xs-4 text-right\" ng-show=\"{{filter.value.match(\'quantity\')}}\">\n              <strong>{{company.total}}</strong>\n            </div>\n            <div class=\"col-xs-4 text-right\" ng-hide=\"{{filter.value.match(\'quantity\')}}\">\n              <strong>{{company.total | mnoCurrency : company.currency}}</strong>\n            </div>\n          </div>\n\n        <div class=\"row\" collapse=\"isCollapsed(company.name)\">\n          <div class=\"col-xs-12\">\n            <div class=\"row widget-line\" ng-repeat=\"product in company.products\" >\n              <div class=\"col-xs-7 col-xs-offset-1\">\n                {{product.name | titleize}}\n              </div>\n              <div class=\"col-xs-4 text-right\" ng-show=\"{{filter.value.match(\'quantity\')}}\">\n                <strong>{{product.total}}</strong>\n              </div>\n              <div class=\"col-xs-4 text-right\" ng-hide=\"{{filter.value.match(\'quantity\')}}\">\n                <strong>{{product.total | mnoCurrency : product.currency}}</strong>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"data-not-found\" ng-show=\"(isDataFound==false)\">\n      <div class=\"message\">No data found for this time range<br/> Please select another one</div>\n    </div>\n\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-margin.tmpl.html","<div widget-sales-margin>\n\n  <div ng-show=\"widget.isEditMode\" class=\"edit\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n    <div ng-show=\"(isDataFound==true)\">\n      <div setting-hist-mode parent-widget= \"widget\" deferred=\"::histModeDeferred\" />\n\n      <div ng-hide=\"widget.isHistoryMode\" class=\"current\">\n        <div class=\"price\">\n           {{ getTotalMargin() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class=\"legend\">\n          Total sold - Total purchased\n          </br>\n          {{getTimeSpan()}}\n          </br>\n          <div setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" no-reload on-select=\"widget.format()\" deferred=\"::paramSelectorDeferred\" />\n        </div>\n      </div>\n\n      <div class=\"history chart-container\" ng-class=\"{\'invisible\': !widget.isHistoryMode}\">\n        <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        <div class=\"legend\">Total sold - Total purchased</div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-number-of-leads.tmpl.html","<div widget-sales-number-of-leads>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"align-center\">\n      <div class=\"selector\">\n        Leads for this <span setting-param-selector parent-widget=\"widget\" param=\"period\" options=\"periodOptions\" selected=\"period\" deferred=\"::paramSelectorDeferred\" />\n      </div>\n\n      <div class=\"stats\">\n        <div class=\"stat row align-left\" ng-repeat=\"carac in [\'new\', \'converted\', \'lost\']\">\n          <div class=\"col-md-6 title\" style=\"padding: 0px;\">{{carac | titleize}}</div>\n          <div class=\"col-md-6\" style=\"padding: 0px;\">\n            <span class=\"variation\" ng-class=\"formatNumberOfLeads(carac).color\">{{formatNumberOfLeads(carac).variation}}</span>\n            <span class=\"nominal\">{{formatNumberOfLeads(carac).nominal}}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"legend\">\n      {{widget.content.number_of_leads.total[1]}} leads in total\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-opportunities-funnel.tmpl.html","<div widget-sales-opportunities-funnel>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-params-picker options=\"statusOptions\" param=\"sales_stage_selection\" parent-widget=\"widget\" class=\"part\" deferred=\"::paramsPickerDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\': \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"legend\">Your opportunities, sorted by sales stage</div>\n\n        <div class=\"funnel-container\">\n          <div class=\"tile\" ng-repeat=\"elem in funnel\" ng-click=\"toggleSelectStatus(elem.status)\">\n            <div class=\"colored-area\" ng-style=\"elem.coloredWidth\" ng-class=\"isSelected(elem.status) ? \'selected\' : \'\'\">{{elem.number}}</div>\n            <div class=\"main-text\" ng-style=\"elem.statusWidth\">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-hide=\"selectedStatus\" class=\"currency\">\n          Select a sales stage to display a list of the corresponding opportunities\n        </div>\n\n        <div ng-show=\"selectedStatus\" class=\"widget-lines-container\">\n\n          <div class=\"row lines-group widget-line\" ng-repeat=\"opp in getSelectedOpportunities()\">\n            <div class=\"col-xs-6\">\n              {{opp.name | titleize}}\n            </div>\n            <div class=\"col-xs-6 text-right\"><strong>{{getOppDetails(opp)}}</strong></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-performance.tmpl.html","<div widget-sales-performance>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\" >\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"6\" max=\"12\" class=\"settings width\" deferred=\"::widthDeferred\" />\n\n        <div class=\"widget-lines-container\">\n\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-5\">\n              from {{widget.content.dates[0] | mnoDate : widget.metadata.hist_parameters.period}} to {{widget.content.dates[widget.content.dates.length - 1] | mnoDate : widget.metadata.hist_parameters.period}}\n            </div>\n            <div class=\"col-xs-3 text-right\">\n              Win ratio\n            </div>\n            <div class=\"col-xs-4 text-right\">\n              Total won\n            </div>\n          </div>\n        \n          <div class=\"row lines-group\" ng-repeat=\"assignee in widget.content.assignees\" ng-click=\"toggleSelectedElement(assignee)\" >\n            <div class=\"col-xs-12\">\n              <div class=\"row widget-line\" ng-class=\"{\'selected\': isSelected(assignee)}\">\n                <div class=\"col-xs-5\">{{assignee.name | titleize}}</div>\n                <div class=\"col-xs-3 text-right\">{{assignee.win_ratio | mnoCurrency : \'%\'}}</div>\n                <div class=\"col-xs-4 text-right\">{{assignee.total_won | mnoCurrency}}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6 right-panel text-center\" ng-show=\"widget.isExpanded()\">\n\n        <div ng-show=\"selectedElement\">\n          <h4>{{selectedElement.name | titleize}}</h4>\n\n          <div class=\"chart-container\">\n            <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n            <div class=\"legend\">Total won (last 12 months): {{selectedElement.total_won | mnoCurrency}}</div>\n          </div>\n          \n          <div class=\"widget-lines-container\">\n\n            <div class=\"row lines-group\" ng-init=\"collapsedWon=false\">\n              <div class=\"col-xs-12\">\n                \n                <div class=\"row widget-line\" ng-click=\"collapsedWon=!collapsedWon\">\n                  <div class=\"col-xs-10\">\n                    <strong>Closed Won</strong>\n                  </div>\n                  <div class=\"col-xs-2 text-right\">\n                    <strong>{{getWonOpportunities(selectedElement).length}}</strong>\n                  </div>\n                </div>\n\n                <div class=\"row\" collapse=\"collapsedWon\">\n                  <div class=\"col-xs-12\">\n                    <div class=\"row widget-line no-select\" ng-repeat=\"opp in getWonOpportunities(selectedElement)\">\n                      <div class=\"col-xs-6\">{{opp.name}}</div>\n                      <div class=\"col-xs-3 text-right\">{{getCloseDate(opp)}}</div>\n                      <div class=\"col-xs-3 text-right\">{{opp.amount.amount | mnoCurrency}}</div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n\n            <div class=\"row lines-group\" ng-init=\"collapsedLost=false\">\n              <div class=\"col-xs-12\">\n                \n                <div class=\"row widget-line\" ng-click=\"collapsedLost=!collapsedLost\">\n                  <div class=\"col-xs-10\">\n                    <strong>Closed Lost</strong>\n                  </div>\n                  <div class=\"col-xs-2 text-right\">\n                    <strong>{{getLostOpportunities(selectedElement).length}}</strong>\n                  </div>\n                </div>\n\n                <div class=\"row\" collapse=\"collapsedLost\">\n                  <div class=\"col-xs-12\">\n                    <div class=\"row widget-line no-select\" ng-repeat=\"opp in getLostOpportunities(selectedElement)\" >\n                      <div class=\"col-xs-6\">{{opp.name}}</div>\n                      <div class=\"col-xs-3 text-right\">{{getCloseDate(opp)}}</div>\n                      <div class=\"col-xs-3 text-right\">{{opp.amount.amount | mnoCurrency}}</div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide=\"selectedElement\" class=\"no-element\">\n          Select an employee or team to display the corresponding opportunities won/lost.\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-segmented-turnover.tmpl.html","<div widget-sales-segmented-turnover>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-time-range parent-widget=\"widget\" class=\"part\" deferred=\"::timeRangeDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\" class=\"row\">\n      <div ng-class=\"widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'\">\n        <div setting-width parent-widget=\"widget\" min=\"3\" max=\"6\" class=\"settings width\" deferred=\"::widthDeferred\"></div>\n\n        <div class=\"selector\">Filter: <span setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred\"/></div>\n        <div class=\"chart-container\">\n          <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n        </div>\n\n        <div class=\"widget-lines-container\">\n\n          <div class=\"row widget-line header\">\n            <div class=\"col-xs-12\">Average price range</div>\n          </div>\n          \n          <div class=\"row widget-line\" ng-repeat=\"range in widget.content.ranges\">\n            <div class=\"col-xs-2\">\n              <i class=\"fa fa-circle\" style=\"color: {{getColorByIndex($index)}}\" />\n            </div>\n            <div class=\"col-xs-6\">\n              {{getRangeLabel(range.label)}}\n            </div>\n            <div class=\"col-xs-4 text-right\">\n              <i>{{range.percentage}}%</i>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class=\"col-md-6 right-panel\" ng-show=\"widget.isExpanded()\">\n        <i class=\"fa fa-info-circle\" style=\"float: left;\" tooltip=\"This widget segments your revenue by products average price range and propose an analysis of its composition\" />\n        <h3 style=\"margin: 25px 10px; text-align: center;\">{{getMaxRange().percentage.toFixed()}}% of your revenue comes from products sold at an average price between {{getMaxRange().label.split(\'-\')[0] | mnoCurrency : widget.content.currency}} and {{getMaxRange().label.split(\'-\')[1] | mnoCurrency : widget.content.currency}}.</h3>\n        <div class=\'analysis hidden-md\' >{{getAnalysis()}}</div>\n      </div>\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n\n</div>\n");
$templateCache.put("widgets/sales-summary.tmpl.html","<div widget-sales-summary>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n    <div setting-chart-filters parent-widget=\"widget\" class=\"part\" deferred=\"::chartFiltersDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div align=\"center\" ng-hide=\"widget.isEditMode\">\n\n    <div class=\"selector\">\n      <span setting-param-selector parent-widget=\"widget\" param=\"filter\" options=\"filterOptions\" selected=\"filter\" deferred=\"::paramSelectorDeferred\" />\n      <span setting-dates-picker parent-widget=\"widget\" from=\"widget.metadata.hist_parameters.from\" to=\"widget.metadata.hist_parameters.to\" keep-today=\"widget.metadata.hist_parameters.keep_today\" deferred=\"::datesPickerDeferred\"/>\n    </div>\n\n    <div class=\"chart-container\" ng-show=\"(isDataFound==true)\">\n      <div impac-chart draw-trigger=\"::drawTrigger.promise\" deferred=\"::chartDeferred\"></div>\n    </div>\n\n    <div class=\"data-not-found\" ng-show=\"(isDataFound==false)\">\n      <div class=\"message\">No data found for this time range<br/> Please select another one</div>\n    </div>\n\n  </div>\n\n</div>");
$templateCache.put("widgets/sales-top-opportunities.tmpl.html","<div widget-sales-top-opportunities>\n\n  <div class=\"edit\" ng-show=\"widget.isEditMode\">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget=\"widget\" class=\"part\" deferred=\"::orgDeferred\" />\n\n    <div class=\"bottom-buttons\" align=\"right\">\n      <button class=\"btn btn-default\" ng-click=\"initSettings()\">Cancel</button>\n      <button class=\"btn btn-warning\" ng-click=\"updateSettings()\">Save</button>\n    </div>\n  </div>\n\n  <div ng-hide=\"widget.isEditMode\">\n\n    <div ng-show=\"(isDataFound==true)\">\n\n      <div class=\"legend\">\n        Total potential: <b>{{widget.content.total_potential | mnoCurrency : widget.content.currency || \"AUD\"}}</b> - <b>{{widget.content.eligible_opportunities}}</b> eligible opportunities\n      </div>\n\n      <div class=\"opps-container\">\n        <div class=\"tile\" ng-repeat=\"opp in widget.content.opportunities track by $index\" ng-class=\"getOppClass($index)\">\n          <div class=\"colored-area\">{{$index +1 }}</div>\n          <div class=\"main-text\">\n            {{opp.name | titleize}}\n            <br />\n            <i style=\"font-size: 13px;\">{{getOppDetails(opp)}}</i>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show=\"(isDataFound==false)\" common-data-not-found widget-engine=\"::widget.category\" />\n  </div>\n    \n</div>");
$templateCache.put("widgets-common/data-not-found.tmpl.html","<div class=\"data-not-found\">\n  <img id=\"not-found-bg\" />\n  <div class=\"message\">\n    {{content.mainMessage}}\n\n    <a ng-show=\"showAlertsTrigger\" ng-click=\"onDisplayAlerts()\">\n      <i class=\"fa fa-warning\" /> Find out why\n    </a>\n    <a ng-if=\"hasCallbackUrl\" ng-hide=\"showAlertsTrigger\" ng-click=\"content.linkUrlCallback()\">\n      {{content.linkMessage}}\n    </a>\n    <a ng-if=\"!hasCallbackUrl\" ng-hide=\"showAlertsTrigger\" ng-href=\"{{content.linkUrl}}\" target=\"{{content.linkTarget}}\">\n      {{content.linkMessage}}\n    </a>\n\n  </div>\n</div>\n");
$templateCache.put("widgets-common/editable-title.tmpl.html","<div class=\"visible-lg title-wrapper\" ng-if=\"parentWidget.width >= 3 && parentWidget.width < 6\">\n  <div ng-show=\"parentWidget.hasEditAbility\" class=\"title\" editable-text=\"parentWidget.name\" onaftersave=\"updateName()\">\n  	{{parentWidget.name | truncate:19:\".\"}}\n  </div>\n\n  <div ng-hide=\"parentWidget.hasEditAbility\" class=\"title\">\n  	{{parentWidget.name | truncate:19:\".\"}}\n  </div>\n</div>\n\n<div class=\"visible-lg title-wrapper\" ng-if=\"parentWidget.width >= 6\">\n  <div ng-show=\"parentWidget.hasEditAbility\" class=\"title\" editable-text=\"parentWidget.name\" onaftersave=\"updateName()\">\n  	{{parentWidget.name | truncate:80:\".\"}}\n  </div>\n\n  <div ng-hide=\"parentWidget.hasEditAbility\" class=\"title\">\n  	{{parentWidget.name | truncate:80:\".\"}}\n  </div>\n</div>\n\n<div class=\"visible-md visible-sm title-wrapper\" ng-if=\"parentWidget.width == 3 && parentWidget.width < 6\">\n  <div ng-show=\"parentWidget.hasEditAbility\" class=\"title\" editable-text=\"parentWidget.name\" onaftersave=\"updateName()\">\n  	{{parentWidget.name | truncate:13:\".\"}}\n  </div>\n\n  <div ng-hide=\"parentWidget.hasEditAbility\" class=\"title\">\n  	{{parentWidget.name | truncate:13:\".\"}}\n  </div>\n</div>\n\n<div class=\"visible-md visible-sm title-wrapper\" ng-if=\"parentWidget.width >= 6\">\n  <div ng-show=\"parentWidget.hasEditAbility\" class=\"title\" editable-text=\"parentWidget.name\" onaftersave=\"updateName()\">\n  	{{parentWidget.name | truncate:60:\".\"}}\n  </div>\n\n  <div ng-hide=\"parentWidget.hasEditAbility\" class=\"title\">\n  	{{parentWidget.name | truncate:60:\".\"}}\n  </div>\n</div>\n\n<div class=\"visible-xs title-wrapper\">\n  <!-- Title edition no designed for mobile -->\n  <div class=\"title\">\n  	{{parentWidget.name | truncate:25:\".\"}}\n  </div>\n</div>\n");
$templateCache.put("widgets-common/top-buttons.tmpl.html","<div id=\"module__top-buttons\">\n\n  <div class=\"top-buttons-wrapper\">\n    <button class=\"btn top-button btn-refresh\" ng-click=\"onRefresh({refreshCache: true})\">\n      <i class=\"fa fa-refresh\"></i>\n      <span class=\"text-hide\">Refresh widget</span>\n    </button>\n\n    <button class=\"btn top-button btn-edit\" ng-click=\"toggleEditMode()\" ng-show=\"parentWidget.hasEditAbility\" ng-class=\"{\'edit-mode\': parentWidget.isEditMode}\">\n      <i class=\"fa fa-cog fa-lg\"></i>\n      <span class=\"text-hide\">Edit widget</span>\n    </button>\n\n    <button class=\"btn top-button btn-close\" ng-click=\"showConfirmDelete = !showConfirmDelete\" ng-show=\"parentWidget.hasDeleteAbility\">\n      <i class=\"fa fa-times-circle-o fa-lg\"></i>\n      <span class=\"text-hide\">Delete widget</span>\n    </button>\n  </div>\n\n  <div class=\"confirm-delete-popover\" ng-show=\"showConfirmDelete\">\n    <h4>Are you sure you want to delete this widget ?</h4>\n    <p>(it will not erase your data)</p>\n    <div ng-hide=\"isDeletePopoverLoading\">\n      <button ng-click=\"showConfirmDelete = false\" class=\"btn btn-sm btn-default\">Cancel</button>\n      <button ng-click=\"deleteWidget()\" class=\"btn btn-sm btn-danger\" style=\"margin-left: 10px;\">Delete</button>\n    </div>\n    <div ng-show=\"isDeletePopoverLoading\" class=\"loader\" align=\"center\">\n      <div>\n        <i class=\"fa fa-spinner fa-pulse fa-4x\"></i>\n      </div>\n    </div>\n  </div>\n</div>\n");
$templateCache.put("widgets-settings/account.tmpl.html","<h5 ng-if=\"showLabel\">{{label}}</h5>\n<div class=\"input-group settings select-account\">\n	<select ng-model=\"parentWidget.selectedAccount\" ng-change=\"onAccountSelected()\" ng-options=\"formatLabel(account) for account in parentWidget.content.account_list track by account.uid\" class=\"form-control\" />\n</div>\n");
$templateCache.put("widgets-settings/chart-filters.tmpl.html","<div class=\"settings chart-filters\">\n  <h5>Chart filters</h5>\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <input type=\"radio\" ng-model=\"filterCriteria\" value=\"number\">\n      <label for=\"number\" ng-click=\"filterCriteria = \'number\'\">Top {{filterValueNumber}} {{entityType}}</label>\n    </div>\n    <div class=\"col-md-6\">\n      <input type=\"range\" ng-model=\"filterValueNumber\" ng-change=\"filterCriteria = \'number\'\" min=\"3\" max=\"{{maxEntities}}\" step=\"1\">\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <input type=\"radio\" ng-model=\"filterCriteria\" value=\"percentage\">\n      <label for=\"percentage\" ng-click=\"filterCriteria = \'percentage\'\">Top {{filterValuePercentage}}% {{filterLabel}}</label>\n    </div>\n    <div class=\"col-md-6\">\n      <input type=\"range\" ng-model=\"filterValuePercentage\" ng-change=\"filterCriteria = \'percentage\'\" min=\"20\" max=\"100\" step=\"5\">\n    </div>\n  </div>\n</div>\n");
$templateCache.put("widgets-settings/dates-picker.tmpl.html","<span class=\"settings dates-picker\">\n  <h5>Time range</h5>\n\n  <span class=\"buttons\">\n    <button class=\"btn btn-sm btn-default\" ng-click=\"calendarFrom.toggle()\" datepicker-popup ng-model=\"calendarFrom.value\" is-open=\"calendarFrom.opened\" ng-change=\"showApplyButton()\" max-date=\"calendarTo.value\" >\n      {{ calendarFrom.value | date : \'yyyy-MM-dd\' }}\n    </button>\n    to \n    <button class=\"btn btn-sm btn-default\" ng-click=\"calendarTo.toggle()\" datepicker-popup ng-model=\"calendarTo.value\" is-open=\"calendarTo.opened\" ng-change=\"showApplyButton()\" min-date=\"calendarFrom.value\" on-open-focus=\"false\" >\n      {{ calendarTo.value | date : \'yyyy-MM-dd\' }}\n    </button>\n    <button class=\"btn btn-sm btn-success\" tooltip=\"Apply changes\" ng-show=\"changed && !parentWidget.isEditMode\" ng-click=\"applyChanges()\" >\n      <i class=\"fa fa-check\" />\n    </button>\n  </span>\n</span>");
$templateCache.put("widgets-settings/hist-mode.tmpl.html","<div class=\"settings hist-mode-choser\">\n  <div align=\"center\" class=\"options\">\n    <a ng-click=\"toggleHistMode(\'current\')\" ng-class=\"!parentWidget.isHistoryMode ? \'active\' : \'inactive\'\">current</a> |\n    <a ng-click=\"toggleHistMode(\'history\')\" ng-class=\"parentWidget.isHistoryMode ? \'active\' : \'inactive\'\">history</a>\n  </div>\n  <div class=\"{{parentWidget.isHistoryMode ? \'arrow-container right\' : \'arrow-container left\'}}\">\n    <div class=\"arrow\" />\n    <div class=\"arrow-border\" />\n  </div>\n</div>");
$templateCache.put("widgets-settings/limit-entries.tmpl.html","<div class=\"settings limit-entries\">\n  {{ entriesLabel ? \'Top\' : \'Display\' }}\n\n  <span ng-repeat=\"option in options | filter:isOptionValid:option track by $index\">\n    {{ $index!=0 ? \' |\' : \'\' }} \n    <a target=\'#\' ng-click=\"selectOption(option)\" class=\"option\" ng-class=\"{badge: option==selected}\">{{ option }}</a>\n  </span>\n\n  <span ng-if=\"max\">\n    | \n    <a target=\'#\' ng-click=\"selectOption(max)\" class=\"option\" ng-class=\"{badge: (!selected || selected==max)}\">{{ max }}</a>\n  </span>\n\n   {{entriesLabel || \'entries\'}}\n</div>");
$templateCache.put("widgets-settings/organizations.tmpl.html","<div class=\"settings organizations\">\n  <h5>Select Companies</h5>\n\n  <div class=\"widget-lines-container\">\n    <div class=\"widget-line\" ng-repeat=\"org in dashboardOrganizations\">\n      {{org.label}}\n      <i ng-class=\"isOrganizationSelected(org.uid) ? \'fa fa-toggle-on\' : \'fa fa-toggle-off\'\" ng-click=\"toggleSelectOrganization(org.uid)\" tooltip=\"{{isOrganizationSelected(org.uid) ? \'disable\' : \'enable\'}}\" tooltip-append-to-body=\"true\" />\n    </div>\n  </div>\n</div>");
$templateCache.put("widgets-settings/param-selector.tmpl.html","<span class=\"settings param-selector\">\n	<a ng-click=\"toggleShowOptions()\">{{selected.label | titleize | truncate : getTruncateValue() : \"...\" : false}} <i class=\"fa fa-chevron-down\" /></a>\n	<div class=\"options-container\" collapse=\"!showOptions\">\n		<div ng-repeat=\"option in options\" ng-click=\"selectOption(option)\">\n			{{option.label | titleize}}\n		</div>\n	</div>\n</span>");
$templateCache.put("widgets-settings/params-checkboxes.tmpl.html","<div ng-repeat=\"parameter in options track by $index\" class=\"settings params-checkboxes\">\n  <label>\n    <input type=\"checkbox\" ng-model=\"parameter.value\" ng-change=\"parameter.onChangeCallback()\">\n    <span>{{parameter.label}}</span>\n  </label>\n</div>\n");
$templateCache.put("widgets-settings/params-picker.tmpl.html","<h5>{{formattedParam | titleize}}</h5>\n<div class=\"settings params-picker\">\n  <div style=\"margin-bottom: 8px;\">\n    The selected criteria will be displayed in this order (drag/drop to modify):\n  </div>\n  <div ui:sortable=\"sortableOptions\" ng-model=\"options\" class=\"input-group\">\n    <span ng-repeat=\"parameter in options track by $index\" class=\"parameter\" ng-class=\"!parameter.selected ? \'unchecked\' : \'\'\">\n      <span class=\"badge\">{{$index + 1}}</span>\n      {{parameter.label | titleize}}\n      <input type=\"checkbox\" ng-model=\"parameter.selected\" />\n    </span>\n  </div>\n</div>");
$templateCache.put("widgets-settings/time-range.tmpl.html","<h5>Time range</h5>\n<div class=\"settings time-range\">\n	<div class=\"row\">\n	  <div class=\"col-md-12\">\n	    Show last {{numberOfPeriods}} {{periodToUnit()}}\n	  </div>\n	</div>\n	<div class=\"row input-group\" align=\"center\" style=\"margin: 0; margin-top: 3px;\">\n	  <div class=\"col-xs-6\" style=\"padding: 0; padding-right: 5px;\">\n	    <select ng-model=\"selectedPeriod\" ng-options=\"period.toLowerCase() for period in PERIODS track by period\" class=\"form-control\" style=\"height: 22px; margin-top: 0; padding: 0; padding-left: 1px; padding-bottom: 1px;\"></select>\n	  </div>\n	  <div class=\"col-xs-6\" style=\"padding: 0;\">\n	    <input type=\"range\" ng-model=\"numberOfPeriods\" min=\"1\" max=\"12\" step=\"1\">\n	  </div>\n	</div>\n</div>");
$templateCache.put("widgets-settings/width.tmpl.html","<i class=\"fa fa-angle-double-left reduce\" ng-show=\"expanded\" ng-click=\"parentWidget.toggleExpanded()\" tooltip=\"reduce\"/>\n<i class=\"fa fa-angle-double-right expand\" ng-hide=\"expanded\" ng-click=\"parentWidget.toggleExpanded()\" tooltip=\"expand\"/>");}]);
}).call(this);

(function() {
  angular.module('impac.filters.mno-currency', []).filter('mnoCurrency', [
    "$filter", function($filter) {
      return function(amount, currency, showName) {
        var s;
        if (showName == null) {
          showName = true;
        }
        if (amount == null) {
          return "";
        }
        s = $filter('currency')(amount);
        s = s.replace('(', '-');
        s = s.replace(')', '');
        if (currency == null) {
          return s;
        }
        if (currency[currency.length - 1].toLowerCase() === 'd') {
          if (showName) {
            return s + " " + currency;
          } else {
            return s;
          }
        } else if (currency === "EUR") {
          s = s.replace('$', '');
          s = s.replace(',', ' ');
          s = s.replace('.', ',');
          return s + " €";
        } else {
          s = s.replace('$', '');
          if (!currency.match(/[A-Z]{3}/) && currency !== '%' && currency !== '(ratio)') {
            s = parseInt(s);
          }
          if (showName) {
            return s + " " + currency;
          } else {
            return s;
          }
        }
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcnMvbW5vLWN1cnJlbmN5LmpzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUFBLE9BQU8sQ0FBQyxNQUFSLENBQWUsNEJBQWYsRUFBNkMsRUFBN0MsQ0FBZ0QsQ0FBQyxNQUFqRCxDQUF3RCxhQUF4RCxFQUF1RTtJQUFDLFNBQUQsRUFBWSxTQUFDLE9BQUQ7YUFDakYsU0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixRQUFuQjtBQUVFLFlBQUE7O1VBRmlCLFdBQVM7O1FBRTFCLElBQWlCLGNBQWpCO0FBQUEsaUJBQU8sR0FBUDs7UUFFQSxDQUFBLEdBQUksT0FBQSxDQUFRLFVBQVIsQ0FBQSxDQUFvQixNQUFwQjtRQUdKLENBQUEsR0FBSSxDQUFDLENBQUMsT0FBRixDQUFVLEdBQVYsRUFBYyxHQUFkO1FBQ0osQ0FBQSxHQUFJLENBQUMsQ0FBQyxPQUFGLENBQVUsR0FBVixFQUFjLEVBQWQ7UUFFSixJQUFnQixnQkFBaEI7QUFBQSxpQkFBTyxFQUFQOztRQUdBLElBQUcsUUFBUyxDQUFBLFFBQVEsQ0FBQyxNQUFULEdBQWtCLENBQWxCLENBQW9CLENBQUMsV0FBOUIsQ0FBQSxDQUFBLEtBQStDLEdBQWxEO1VBQ1MsSUFBRyxRQUFIO21CQUFvQixDQUFELEdBQUcsR0FBSCxHQUFNLFNBQXpCO1dBQUEsTUFBQTttQkFBeUMsRUFBekM7V0FEVDtTQUFBLE1BRUssSUFBRyxRQUFBLEtBQVksS0FBZjtVQUVILENBQUEsR0FBSSxDQUFDLENBQUMsT0FBRixDQUFVLEdBQVYsRUFBYyxFQUFkO1VBQ0osQ0FBQSxHQUFJLENBQUMsQ0FBQyxPQUFGLENBQVUsR0FBVixFQUFlLEdBQWY7VUFDSixDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQUYsQ0FBVSxHQUFWLEVBQWUsR0FBZjtBQUNKLGlCQUFVLENBQUQsR0FBRyxLQUxUO1NBQUEsTUFBQTtVQVNILENBQUEsR0FBSSxDQUFDLENBQUMsT0FBRixDQUFVLEdBQVYsRUFBYyxFQUFkO1VBRUosSUFBRyxDQUFDLFFBQVEsQ0FBQyxLQUFULENBQWUsVUFBZixDQUFELElBQStCLFFBQUEsS0FBWSxHQUEzQyxJQUFrRCxRQUFBLEtBQVksU0FBakU7WUFDRSxDQUFBLEdBQUksUUFBQSxDQUFTLENBQVQsRUFETjs7VUFFTyxJQUFHLFFBQUg7bUJBQW9CLENBQUQsR0FBRyxHQUFILEdBQU0sU0FBekI7V0FBQSxNQUFBO21CQUF5QyxFQUF6QztXQWJKOztNQWZQO0lBRGlGLENBQVo7R0FBdkU7QUFBQSIsImZpbGUiOiJmaWx0ZXJzL21uby1jdXJyZW5jeS5qcy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiMgaW4gdGVtcGxhdGU6XG4jIHt7IFthbW91bnRdIHwgbW5vQ3VycmVuY3kgOiBbY3VycmVuY3ldIDogKFt0cnVlfGZhbHNlXSkgfX1cbiMgb3IgaW4ganMgZmlsZTpcbiMgJGZpbHRlcignbW5vQ3VycmVuY3knKShhbW91bnQsY3VycmVuY3ksW3RydWV8ZmFsc2VdKVxuI1xuYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmZpbHRlcnMubW5vLWN1cnJlbmN5JywgW10pLmZpbHRlcignbW5vQ3VycmVuY3knLCBbXCIkZmlsdGVyXCIsICgkZmlsdGVyKSAtPlxuICAoYW1vdW50LCBjdXJyZW5jeSwgc2hvd05hbWU9dHJ1ZSkgLT5cblxuICAgIHJldHVybiBcIlwiIHVubGVzcyBhbW91bnQ/XG5cbiAgICBzID0gJGZpbHRlcignY3VycmVuY3knKShhbW91bnQpXG5cbiAgICAjIG9mZmljaWFsIGFjY291bnRpbmcgbm90YXRpb246IHJlcGxhY2UgJygxNSknIGJ5OiAnLTE1J1xuICAgIHMgPSBzLnJlcGxhY2UoJygnLCctJylcbiAgICBzID0gcy5yZXBsYWNlKCcpJywnJylcblxuICAgIHJldHVybiBzIHVubGVzcyBjdXJyZW5jeT9cblxuICAgICMgZm9yIGFsbCBEb2xsYXIgYmFzZWQgY3VycmVuY2llc1xuICAgIGlmIGN1cnJlbmN5W2N1cnJlbmN5Lmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKCkgPT0gJ2QnXG4gICAgICByZXR1cm4gaWYgc2hvd05hbWUgdGhlbiBcIiN7c30gI3tjdXJyZW5jeX1cIiBlbHNlIHNcbiAgICBlbHNlIGlmIGN1cnJlbmN5ID09IFwiRVVSXCJcbiAgICAgICMgZm9yIEV1cm9zLCB3ZSByZW1vdmUgdGhlICQgc2lnbiBhbmQgY2hhbmdlIFwiLFwiIGludG8gd2hpdGUgc3BhY2VzIGFuZCBcIi5cIiBpbnRvIFwiLFwiXG4gICAgICBzID0gcy5yZXBsYWNlKCckJywnJylcbiAgICAgIHMgPSBzLnJlcGxhY2UoJywnLCAnICcpXG4gICAgICBzID0gcy5yZXBsYWNlKCcuJywgJywnKVxuICAgICAgcmV0dXJuIFwiI3tzfSDigqxcIlxuICAgICMgYWxsIG90aGVyIGN1cnJlbmNpZXNcbiAgICBlbHNlXG4gICAgICAjIGZvciBvdGhlciB0aGFuIEFVRCBhbmQgVVNELCB3ZSBqdXN0IHJlbW92ZSB0aGUgJCBzaWduXG4gICAgICBzID0gcy5yZXBsYWNlKCckJywnJylcbiAgICAgICMgd2hlbiBjdXJyZW5jeSBpcy4uLiBub3QgYSBwcm9wZXIgY3VycmVuY3kgbm9yIGEgJSwgd2UgZGlzcGxheSBhbiBpbnRlZ2VyIHZhbHVlICgxNi4xNiA9PiAxNilcbiAgICAgIGlmICFjdXJyZW5jeS5tYXRjaCgvW0EtWl17M30vKSAmJiBjdXJyZW5jeSAhPSAnJScgJiYgY3VycmVuY3kgIT0gJyhyYXRpbyknXG4gICAgICAgIHMgPSBwYXJzZUludChzKVxuICAgICAgcmV0dXJuIGlmIHNob3dOYW1lIHRoZW4gXCIje3N9ICN7Y3VycmVuY3l9XCIgZWxzZSBzXG5dKVxuIl19

(function() {
  angular.module('impac.filters.mno-date', []).filter('mnoDate', [
    "$filter", function($filter) {
      return function(date_string, period) {
        var PERIODS;
        PERIODS = ['DAILY', 'WEEKLY', 'MONTHLY', 'QUARTERLY', 'YEARLY'];
        if (date_string != null) {
          if (!((period != null) && _.includes(PERIODS, period.toUpperCase()))) {
            period = 'MONTHLY';
          }
          switch (period.toUpperCase()) {
            case 'DAILY':
              return $filter('date')(date_string, 'dd MMM');
            case 'WEEKLY':
              return $filter('date')(date_string, 'dd MMM');
            case 'MONTHLY':
              return $filter('date')(date_string, 'MMM yyyy');
            case 'QUARTERLY':
              return $filter('date')(date_string, 'MMM yyyy');
            case 'YEARLY':
              return $filter('date')(date_string, 'yyyy');
          }
        } else {
          return "";
        }
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcnMvbW5vLWRhdGUuanMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FBTyxDQUFDLE1BQVIsQ0FBZSx3QkFBZixFQUF5QyxFQUF6QyxDQUE0QyxDQUFDLE1BQTdDLENBQW9ELFNBQXBELEVBQStEO0lBQUMsU0FBRCxFQUFZLFNBQUMsT0FBRDthQUN6RSxTQUFDLFdBQUQsRUFBYyxNQUFkO0FBRUUsWUFBQTtRQUFBLE9BQUEsR0FBVSxDQUFDLE9BQUQsRUFBVSxRQUFWLEVBQW9CLFNBQXBCLEVBQStCLFdBQS9CLEVBQTRDLFFBQTVDO1FBQ1YsSUFBRyxtQkFBSDtVQUNFLElBQUEsQ0FBQSxDQUFPLGdCQUFBLElBQVcsQ0FBQyxDQUFDLFFBQUYsQ0FBVyxPQUFYLEVBQW9CLE1BQU0sQ0FBQyxXQUFQLENBQUEsQ0FBcEIsQ0FBbEIsQ0FBQTtZQUNFLE1BQUEsR0FBUyxVQURYOztBQUdBLGtCQUFPLE1BQU0sQ0FBQyxXQUFQLENBQUEsQ0FBUDtBQUFBLGlCQUNPLE9BRFA7QUFFSSxxQkFBTyxPQUFBLENBQVEsTUFBUixDQUFBLENBQWdCLFdBQWhCLEVBQTZCLFFBQTdCO0FBRlgsaUJBR08sUUFIUDtBQUlJLHFCQUFPLE9BQUEsQ0FBUSxNQUFSLENBQUEsQ0FBZ0IsV0FBaEIsRUFBNkIsUUFBN0I7QUFKWCxpQkFLTyxTQUxQO0FBTUkscUJBQU8sT0FBQSxDQUFRLE1BQVIsQ0FBQSxDQUFnQixXQUFoQixFQUE2QixVQUE3QjtBQU5YLGlCQU9PLFdBUFA7QUFRSSxxQkFBTyxPQUFBLENBQVEsTUFBUixDQUFBLENBQWdCLFdBQWhCLEVBQTZCLFVBQTdCO0FBUlgsaUJBU08sUUFUUDtBQVVJLHFCQUFPLE9BQUEsQ0FBUSxNQUFSLENBQUEsQ0FBZ0IsV0FBaEIsRUFBNkIsTUFBN0I7QUFWWCxXQUpGO1NBQUEsTUFBQTtBQWlCRSxpQkFBTyxHQWpCVDs7TUFIRjtJQUR5RSxDQUFaO0dBQS9EO0FBQUEiLCJmaWxlIjoiZmlsdGVycy9tbm8tZGF0ZS5qcy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdpbXBhYy5maWx0ZXJzLm1uby1kYXRlJywgW10pLmZpbHRlcignbW5vRGF0ZScsIFtcIiRmaWx0ZXJcIiwgKCRmaWx0ZXIpIC0+XG4gIChkYXRlX3N0cmluZywgcGVyaW9kKSAtPlxuXG4gICAgUEVSSU9EUyA9IFsnREFJTFknLCAnV0VFS0xZJywgJ01PTlRITFknLCAnUVVBUlRFUkxZJywgJ1lFQVJMWSddXG4gICAgaWYgZGF0ZV9zdHJpbmc/XG4gICAgICB1bmxlc3MgcGVyaW9kPyAmJiBfLmluY2x1ZGVzKFBFUklPRFMsIHBlcmlvZC50b1VwcGVyQ2FzZSgpKVxuICAgICAgICBwZXJpb2QgPSAnTU9OVEhMWSdcblxuICAgICAgc3dpdGNoIHBlcmlvZC50b1VwcGVyQ2FzZSgpXG4gICAgICAgIHdoZW4gJ0RBSUxZJ1xuICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZV9zdHJpbmcsICdkZCBNTU0nKVxuICAgICAgICB3aGVuICdXRUVLTFknXG4gICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkYXRlX3N0cmluZywgJ2RkIE1NTScpXG4gICAgICAgIHdoZW4gJ01PTlRITFknXG4gICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkYXRlX3N0cmluZywgJ01NTSB5eXl5JylcbiAgICAgICAgd2hlbiAnUVVBUlRFUkxZJ1xuICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZV9zdHJpbmcsICdNTU0geXl5eScpXG4gICAgICAgIHdoZW4gJ1lFQVJMWSdcbiAgICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKGRhdGVfc3RyaW5nLCAneXl5eScpXG5cbiAgICBlbHNlXG4gICAgICByZXR1cm4gXCJcIlxuXG5dKVxuIl19

(function() {
  angular.module('impac.filters.titleize', []).filter('titleize', function() {
    return function(s) {
      s = s === void 0 || s === null ? '' : s;
      return s.toString().toLowerCase().replace(/\b([a-z])/g, function(ch) {
        return ch.toUpperCase();
      });
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcnMvdGl0bGVpemUuanMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FBTyxDQUFDLE1BQVIsQ0FBZSx3QkFBZixFQUF5QyxFQUF6QyxDQUE0QyxDQUFDLE1BQTdDLENBQW9ELFVBQXBELEVBQWdFLFNBQUE7QUFDOUQsV0FBTyxTQUFDLENBQUQ7TUFDTCxDQUFBLEdBQVEsQ0FBQSxLQUFLLE1BQUwsSUFBa0IsQ0FBQSxLQUFLLElBQTNCLEdBQXNDLEVBQXRDLEdBQThDO0FBQ2xELGFBQU8sQ0FBQyxDQUFDLFFBQUYsQ0FBQSxDQUFZLENBQUMsV0FBYixDQUFBLENBQTBCLENBQUMsT0FBM0IsQ0FBb0MsWUFBcEMsRUFBa0QsU0FBQyxFQUFEO0FBQ3ZELGVBQU8sRUFBRSxDQUFDLFdBQUgsQ0FBQTtNQURnRCxDQUFsRDtJQUZGO0VBRHVELENBQWhFO0FBQUEiLCJmaWxlIjoiZmlsdGVycy90aXRsZWl6ZS5qcy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdpbXBhYy5maWx0ZXJzLnRpdGxlaXplJywgW10pLmZpbHRlcigndGl0bGVpemUnLCAtPlxuICByZXR1cm4gKHMpIC0+XG4gICAgcyA9IGlmIChzID09IHVuZGVmaW5lZCB8fCBzID09IG51bGwpIHRoZW4gJycgZWxzZSBzXG4gICAgcmV0dXJuIHMudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIC9cXGIoW2Etel0pL2csIChjaCkgLT5cbiAgICAgIHJldHVybiBjaC50b1VwcGVyQ2FzZSgpXG4gICAgKVxuKVxuIl19

(function() {
  angular.module("impac.filters.truncate", []).filter("truncate", function() {
    return function(value, max, tail, wordwise) {
      var lastspace;
      if (!value) {
        return "";
      }
      max = parseInt(max, 10);
      if (!max) {
        return value;
      }
      if (value.length <= max) {
        return value;
      }
      value = value.substr(0, max);
      if (wordwise) {
        lastspace = value.lastIndexOf(" ");
        if (lastspace !== -1) {
          value = value.substr(0, lastspace);
        }
      }
      return value + (tail || "…");
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcnMvdHJ1bmNhdGUuanMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BO0VBQUEsT0FBTyxDQUFDLE1BQVIsQ0FBZSx3QkFBZixFQUF3QyxFQUF4QyxDQUEyQyxDQUFDLE1BQTVDLENBQW1ELFVBQW5ELEVBQStELFNBQUE7V0FDN0QsU0FBQyxLQUFELEVBQVEsR0FBUixFQUFhLElBQWIsRUFBa0IsUUFBbEI7QUFDRSxVQUFBO01BQUEsSUFBQSxDQUFrQixLQUFsQjtBQUFBLGVBQU8sR0FBUDs7TUFFQSxHQUFBLEdBQU0sUUFBQSxDQUFTLEdBQVQsRUFBYyxFQUFkO01BRU4sSUFBQSxDQUFxQixHQUFyQjtBQUFBLGVBQU8sTUFBUDs7TUFDQSxJQUFpQixLQUFLLENBQUMsTUFBTixJQUFnQixHQUFqQztBQUFBLGVBQU8sTUFBUDs7TUFFQSxLQUFBLEdBQVEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFiLEVBQWdCLEdBQWhCO01BRVIsSUFBRyxRQUFIO1FBQ0UsU0FBQSxHQUFZLEtBQUssQ0FBQyxXQUFOLENBQWtCLEdBQWxCO1FBQ1osSUFBMkMsU0FBQSxLQUFhLENBQUMsQ0FBekQ7VUFBQSxLQUFBLEdBQVEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFiLEVBQWdCLFNBQWhCLEVBQVI7U0FGRjs7QUFJQSxhQUFPLEtBQUEsR0FBUSxDQUFDLElBQUEsSUFBUSxHQUFUO0lBZGpCO0VBRDZELENBQS9EO0FBQUEiLCJmaWxlIjoiZmlsdGVycy90cnVuY2F0ZS5qcy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiMgVXNhZ2U6XG4jIHt7c29tZV90ZXh0IHwgdHJ1bmNhdGU6MTAwOicuLi4nOnRydWV9fVxuI1xuIyBPcHRpb25zOlxuIyBtYXggKGludGVnZXIpIC0gbWF4IGxlbmd0aCBvZiB0aGUgdGV4dCwgY3V0IHRvIHRoaXMgbnVtYmVyIG9mIGNoYXJzLFxuIyB0YWlsIChzdHJpbmcsIGRlZmF1bHQ6ICcg4oCmJykgLSBhZGQgdGhpcyBzdHJpbmcgdG8gdGhlIGlucHV0IHN0cmluZyBpZiB0aGUgc3RyaW5nIHdhcyBjdXQuXG4jIHdvcmR3aXNlIChib29sZWFuKSAtIGlmIHRydWUsIGN1dCBvbmx5IGJ5IHdvcmRzIGJvdW5kcyxcbmFuZ3VsYXIubW9kdWxlKFwiaW1wYWMuZmlsdGVycy50cnVuY2F0ZVwiLFtdKS5maWx0ZXIoXCJ0cnVuY2F0ZVwiLCAtPlxuICAodmFsdWUsIG1heCwgdGFpbCx3b3Jkd2lzZSkgLT5cbiAgICByZXR1cm4gXCJcIiAgdW5sZXNzIHZhbHVlXG4gICAgXG4gICAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMClcbiAgICBcbiAgICByZXR1cm4gdmFsdWUgIHVubGVzcyBtYXhcbiAgICByZXR1cm4gdmFsdWUgIGlmIHZhbHVlLmxlbmd0aCA8PSBtYXhcbiAgICBcbiAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCBtYXgpXG4gICAgXG4gICAgaWYgd29yZHdpc2VcbiAgICAgIGxhc3RzcGFjZSA9IHZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoMCwgbGFzdHNwYWNlKSAgdW5sZXNzIGxhc3RzcGFjZSBpcyAtMVxuICAgIFxuICAgIHJldHVybiB2YWx1ZSArICh0YWlsIG9yIFwi4oCmXCIpXG4pXG4iXX0=

(function() {
  angular.module('impac.components.chart', []).directive('impacChart', ["$log", "$window", function($log, $window) {
    return {
      restrict: 'A',
      scope: {
        drawTrigger: '=',
        deferred: '='
      },
      link: function(scope, elem, attr) {
        scope.draw = function(chartData) {
          var canvas, ctx;
          if ((chartData.options.showXLabels != null) && !chartData.options.showXLabels) {
            angular.merge(chartData.options, {
              scales: {
                xAxes: [
                  {
                    display: false
                  }
                ]
              }
            });
          }
          if (elem.children().length > 0) {
            elem.children().remove(0);
          }
          elem.append('<canvas></canvas>');
          canvas = elem.children()[0];
          ctx = canvas.getContext("2d");
          return new Chart(ctx, chartData);
        };
        scope.drawTrigger.then(function(success) {
          return $log.warn('chart promise has been resolved: use notify instead');
        }, function(error) {
          return $log.error(error);
        }, function(chartData) {
          var isSafari, timeoutUntilVisible, userAgent;
          userAgent = $window.navigator.userAgent;
          isSafari = (userAgent.indexOf('Safari') !== -1) && !(userAgent.indexOf('Chrome') !== -1);
          if (isSafari) {
            timeoutUntilVisible = function() {
              var visible;
              visible = $(elem).is(':visible');
              if (visible) {
                return scope.draw(chartData);
              } else {
                return setTimeout(function() {
                  return timeoutUntilVisible();
                }, 100);
              }
            };
            return timeoutUntilVisible();
          } else {
            return scope.draw(chartData);
          }
        });
        return scope.deferred.resolve('chart ready');
      }
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvY2hhcnQvY2hhcnQuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1Usd0JBRFYsRUFDbUMsRUFEbkMsQ0FFRSxDQUFDLFNBRkgsQ0FFYSxZQUZiLEVBRTJCLFNBQUMsSUFBRCxFQUFPLE9BQVA7QUFDdkIsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsV0FBQSxFQUFhLEdBRFI7UUFFTCxRQUFBLEVBQVUsR0FGTDtPQUZGO01BTUwsSUFBQSxFQUFNLFNBQUMsS0FBRCxFQUFPLElBQVAsRUFBWSxJQUFaO1FBSUosS0FBSyxDQUFDLElBQU4sR0FBYSxTQUFDLFNBQUQ7QUFDWCxjQUFBO1VBQUEsSUFBRyx1Q0FBQSxJQUFrQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBeEQ7WUFDRSxPQUFPLENBQUMsS0FBUixDQUFjLFNBQVMsQ0FBQyxPQUF4QixFQUFpQztjQUMvQixNQUFBLEVBQVE7Z0JBQ04sS0FBQSxFQUFPO2tCQUFDO29CQUNOLE9BQUEsRUFBUyxLQURIO21CQUFEO2lCQUREO2VBRHVCO2FBQWpDLEVBREY7O1VBVUEsSUFBRyxJQUFJLENBQUMsUUFBTCxDQUFBLENBQWUsQ0FBQyxNQUFoQixHQUF5QixDQUE1QjtZQUNFLElBQUksQ0FBQyxRQUFMLENBQUEsQ0FBZSxDQUFDLE1BQWhCLENBQXVCLENBQXZCLEVBREY7O1VBT0EsSUFBSSxDQUFDLE1BQUwsQ0FBWSxtQkFBWjtVQUNBLE1BQUEsR0FBUyxJQUFJLENBQUMsUUFBTCxDQUFBLENBQWdCLENBQUEsQ0FBQTtVQUN6QixHQUFBLEdBQU0sTUFBTSxDQUFDLFVBQVAsQ0FBa0IsSUFBbEI7aUJBRUYsSUFBQSxLQUFBLENBQU0sR0FBTixFQUFXLFNBQVg7UUF0Qk87UUEyQmIsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFsQixDQUNFLFNBQUMsT0FBRDtpQkFDRSxJQUFJLENBQUMsSUFBTCxDQUFVLHFEQUFWO1FBREYsQ0FERixFQUdFLFNBQUMsS0FBRDtpQkFDRSxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQVg7UUFERixDQUhGLEVBS0UsU0FBQyxTQUFEO0FBQ0UsY0FBQTtVQUFBLFNBQUEsR0FBWSxPQUFPLENBQUMsU0FBUyxDQUFDO1VBQzlCLFFBQUEsR0FBWSxDQUFDLFNBQVMsQ0FBQyxPQUFWLENBQWtCLFFBQWxCLENBQUEsS0FBK0IsQ0FBQyxDQUFqQyxDQUFBLElBQXVDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBVixDQUFrQixRQUFsQixDQUFBLEtBQStCLENBQUMsQ0FBakM7VUFHcEQsSUFBRyxRQUFIO1lBQ0UsbUJBQUEsR0FBc0IsU0FBQTtBQUVwQixrQkFBQTtjQUFBLE9BQUEsR0FBVSxDQUFBLENBQUUsSUFBRixDQUFPLENBQUMsRUFBUixDQUFXLFVBQVg7Y0FDVixJQUFHLE9BQUg7dUJBR0UsS0FBSyxDQUFDLElBQU4sQ0FBVyxTQUFYLEVBSEY7ZUFBQSxNQUFBO3VCQUtFLFVBQUEsQ0FBVyxTQUFBO3lCQUdULG1CQUFBLENBQUE7Z0JBSFMsQ0FBWCxFQUlFLEdBSkYsRUFMRjs7WUFIb0I7bUJBY3RCLG1CQUFBLENBQUEsRUFmRjtXQUFBLE1BQUE7bUJBaUJFLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxFQWpCRjs7UUFMRixDQUxGO2VBZ0NBLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBZixDQUF1QixhQUF2QjtNQS9ESSxDQU5EOztFQURnQixDQUYzQjtBQUFBIiwiZmlsZSI6ImNvbXBvbmVudHMvY2hhcnQvY2hhcnQuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIyBjaGFydC5qcyBjaGFydGluZyBhdHRyaWJ1dGUgZGlyZWN0aXZlLlxuYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLmNoYXJ0JyxbXSlcbiAgLmRpcmVjdGl2ZSgnaW1wYWNDaGFydCcsICgkbG9nLCAkd2luZG93KSAtPlxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgZHJhd1RyaWdnZXI6ICc9J1xuICAgICAgICBkZWZlcnJlZDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogKHNjb3BlLGVsZW0sYXR0cikgLT5cbiAgICAgICAgIyBEcmF3IGEgY2hhcnQgaW4gdGhlIGNhbnZhc1xuICAgICAgICAjIChDaGFydEpzIHdheSBvZiBkcmF3aW5nIGEgY2hhcnQgaXMgdG8gY3JlYXRlIGEgbmV3IENoYXJ0KCkgZWxlbWVudCBpbiB0aGUgY2FudmFzIGNvbnRleHQpXG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHNjb3BlLmRyYXcgPSAoY2hhcnREYXRhKSAtPlxuICAgICAgICAgIGlmIGNoYXJ0RGF0YS5vcHRpb25zLnNob3dYTGFiZWxzPyAmJiAhY2hhcnREYXRhLm9wdGlvbnMuc2hvd1hMYWJlbHNcbiAgICAgICAgICAgIGFuZ3VsYXIubWVyZ2UoY2hhcnREYXRhLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAjIGNhbnZhcyBoYXMgdG8gYmUgcmVtb3ZlZC9hcHBlbmRlZCB0byBiZSByZWRyYXduZWQgd2l0aG91dCBzdXBlcnBvc2l0aW9uXG4gICAgICAgICAgaWYgZWxlbS5jaGlsZHJlbigpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIGVsZW0uY2hpbGRyZW4oKS5yZW1vdmUoMClcbiAgICAgICAgICAgICMgT24gZGFzaGJvYXJkIGxvYWQsIHRoZXJlIHdpbGwgYmUgbm8gYW5pbWF0aW9uIHRvIGF2b2lkIHRoZSBjYW52YXMgdG8gYmUgb25seSBwYXJ0aWFsbHkgZHJhd25cbiAgICAgICAgICAgICMgVGh1cywgd2Ugc2V0IHJlc3BvbnNpdmVBbmltYXRpb25EdXJhdGlvbiBvbmx5IHdoZW4gYSBjaGFydCB3YXMgYWxyZWFkeSBkZWZpbmVkIGJlZm9yZVxuICAgICAgICAgICAgIyBSRU1PVkVEIC8gU09NRVRJTUVTIENIQVJUIElTIE5PVCBEUkFXTiBDT01QTEVURUxZLi4uXG4gICAgICAgICAgICAjIGNoYXJ0RGF0YS5vcHRpb25zLnJlc3BvbnNpdmVBbmltYXRpb25EdXJhdGlvbiA9IDEwMDBcblxuICAgICAgICAgIGVsZW0uYXBwZW5kKCc8Y2FudmFzPjwvY2FudmFzPicpXG4gICAgICAgICAgY2FudmFzID0gZWxlbS5jaGlsZHJlbigpWzBdXG4gICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuXG4gICAgICAgICAgbmV3IENoYXJ0KGN0eCwgY2hhcnREYXRhKVxuXG5cbiAgICAgICAgIyBUcmlnZ2VyZWQgYnkgd2lkZ2V0LmZvcm1hdCgpXG4gICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHNjb3BlLmRyYXdUcmlnZ2VyLnRoZW4oXG4gICAgICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICAkbG9nLndhcm4oJ2NoYXJ0IHByb21pc2UgaGFzIGJlZW4gcmVzb2x2ZWQ6IHVzZSBub3RpZnkgaW5zdGVhZCcpXG4gICAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICAgJGxvZy5lcnJvcihlcnJvcilcbiAgICAgICAgICAoY2hhcnREYXRhKSAtPlxuICAgICAgICAgICAgdXNlckFnZW50ID0gJHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XG4gICAgICAgICAgICBpc1NhZmFyaSA9ICgodXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpICE9IC0xKSAmJiAhKHVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPSAtMSkpXG5cbiAgICAgICAgICAgICMgQ2hhcnQuanNcbiAgICAgICAgICAgIGlmIGlzU2FmYXJpXG4gICAgICAgICAgICAgIHRpbWVvdXRVbnRpbFZpc2libGUgPSAoKSAtPlxuICAgICAgICAgICAgICAgICMgVXNlIGpxdWVyeSBmdW5jdGlvbiB0byBkZXRlY3QgaWYgdGhlIGNhbnZhcyBjb250YWluZXIgaXMgdmlzaWJsZVxuICAgICAgICAgICAgICAgIHZpc2libGUgPSAkKGVsZW0pLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgICAgICAgaWYgdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgIyBDb250YWluZXIgaXMgdmlzaWJsZSAtPiBkcmF3IHRoZSBjYW52YXNcbiAgICAgICAgICAgICAgICAgICMgY29uc29sZS5sb2cgJ0NIQVJUIFZJU0lCTEU6IGRyYXcgdGhlIGNhbnZhcydcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmRyYXcoY2hhcnREYXRhKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgICAgICAgIyBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgICAgICAjIGNvbnNvbGUubG9nICdDSEFSVCBOT1QgVklTSUJMRTogd2FpdGluZyB1bnRpbCBjb250YWluZXIgaXMgdmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dFVudGlsVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgICAsIDEwMCAjIEFuIG9wdGltaXplZCBkaWdlc3QgY3ljbGUgaXMgbGVzcyB0aGFuIDI1bXNcblxuICAgICAgICAgICAgICB0aW1lb3V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgc2NvcGUuZHJhdyhjaGFydERhdGEpXG4gICAgICAgIClcblxuICAgICAgICAjIENoYXJ0IGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBzY29wZS5kZWZlcnJlZC5yZXNvbHZlKCdjaGFydCByZWFkeScpXG4gICAgfVxuICApXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.dashboard', []);

  module.controller('ImpacDashboardCtrl', ["$scope", "$http", "$q", "$filter", "$modal", "$log", "$timeout", "$templateCache", "MsgBus", "ImpacUtilities", "ImpacAssets", "ImpacTheming", "ImpacRoutes", "ImpacMainSvc", "ImpacDashboardsSvc", "ImpacWidgetsSvc", function($scope, $http, $q, $filter, $modal, $log, $timeout, $templateCache, MsgBus, ImpacUtilities, ImpacAssets, ImpacTheming, ImpacRoutes, ImpacMainSvc, ImpacDashboardsSvc, ImpacWidgetsSvc) {
    var saveDashboard, updatePlaceHolderSize;
    $scope.currentDhb = ImpacDashboardsSvc.getCurrentDashboard();
    $scope.widgetsList = ImpacDashboardsSvc.getWidgetsTemplates();
    $scope.impacTitleLogo = ImpacAssets.get('impacTitleLogo');
    $scope.impacDashboardBackground = ImpacAssets.get('impacDashboardBackground');
    $scope.showDhbHeading = ImpacTheming.get().dhbConfig.showDhbHeading;
    $scope.dhbHeadingText = ImpacTheming.get().dhbConfig.dhbHeadingText;
    $scope.dhbErrorsConfig = ImpacTheming.get().dhbErrorsConfig;
    $scope.dhbSettingsConfig = ImpacTheming.get().dhbSettings;
    $scope.showKpisBar = ImpacTheming.get().dhbKpisConfig.enableKpis;
    $scope.showChooseDhbMsg = function() {
      return !ImpacDashboardsSvc.isThereADashboard();
    };
    $scope.showNoWidgetsMsg = function() {
      return ImpacDashboardsSvc.isCurrentDashboardEmpty() && ImpacTheming.get().showNoWidgetMsg;
    };
    $scope.starWizardModal = {
      value: false
    };
    MsgBus.publish('starWizardModal', $scope.starWizardModal);
    $scope.openStarWizard = function() {
      return $scope.starWizardModal.value = true;
    };
    $scope.marketplaceMyobLink = ImpacTheming.get().dhbSubMenuConfig.marketplaceMyobLink;
    $scope.showSubMenu = false;
    $scope.displaySubMenu = function() {
      return $scope.showSubMenu = true;
    };
    $scope.hideSubMenu = function() {
      return $scope.showSubMenu = false;
    };
    $scope.myobMessageConfig = ImpacTheming.get().dhbSubMenuConfig.myobMessage;
    $scope.isLoading = true;
    ImpacDashboardsSvc.load(true).then(function(success) {
      $scope.activateTimer();
      return $scope.hasMyobEssentialsOnly = ImpacMainSvc.config.currentOrganization.has_myob_essentials_only;
    }, function(error) {
      return $scope.isLoading = false;
    });
    $scope.activateTimer = function() {
      var timer, w;
      $scope.isLoading || ($scope.isLoading = true);
      w = $scope.currentDhb.widgets;
      if (w != null) {
        timer = Math.max(100 * w.length, 500);
      } else {
        timer = 500;
      }
      return $timeout(function() {
        return $scope.isLoading = false;
      }, timer);
    };
    $scope.createDashboardModal = $scope.$new();
    $scope.createDashboardModal.config = {
      backdrop: 'static',
      template: $templateCache.get('dashboard/create.modal.html'),
      size: 'md',
      windowClass: 'inverse',
      scope: $scope.createDashboardModal
    };
    $scope.createDashboardModal.open = function() {
      var self;
      self = $scope.createDashboardModal;
      if (self.locked) {
        return;
      }
      self.model = {
        name: ''
      };
      self.errors = '';
      self.isLoading = false;
      self.instance = $modal.open(self.config);
      self.instance.rendered.then(function(onRender) {
        return self.locked = true;
      });
      self.instance.result.then(function(onClose) {
        return self.locked = false;
      }, function(onDismiss) {
        return self.locked = false;
      });
      return ImpacMainSvc.loadOrganizations().then(function(config) {
        self.organizations = config.organizations;
        self.currentOrganization = config.currentOrganization;
        return self.selectMode('single');
      });
    };
    $scope.createDashboardModal.proceed = function() {
      var dashboard, organizations, self;
      self = $scope.createDashboardModal;
      self.isLoading = true;
      dashboard = {
        name: self.model.name
      };
      organizations = [];
      if (self.mode === 'multi') {
        organizations = _.select(self.organizations, function(o) {
          return o.$selected;
        });
      } else {
        organizations = [
          {
            id: ImpacMainSvc.config.currentOrganization.id
          }
        ];
      }
      if (organizations.length > 0) {
        dashboard.organization_ids = _.pluck(organizations, 'id');
      }
      return ImpacDashboardsSvc.create(dashboard).then(function(dashboard) {
        self.errors = '';
        return self.instance.close();
      }, function(errors) {
        self.isLoading = false;
        return self.errors = ImpacUtilities.processRailsError(errors);
      });
    };
    $scope.createDashboardModal.isProceedDisabled = function() {
      var additional_condition, selectedCompanies, self;
      self = $scope.createDashboardModal;
      selectedCompanies = _.select(self.organizations, function(o) {
        return o.$selected;
      });
      additional_condition = _.isEmpty(self.model.name);
      additional_condition || (additional_condition = selectedCompanies.length === 0);
      additional_condition || (additional_condition = _.select(selectedCompanies, function(o) {
        return self.canAccessAnalyticsData(o);
      }).length === 0);
      return self.isLoading || additional_condition;
    };
    $scope.createDashboardModal.btnBlassFor = function(mode) {
      var self;
      self = $scope.createDashboardModal;
      if (mode === self.mode) {
        return "btn btn-sm btn-warning active";
      } else {
        return "btn btn-sm btn-default";
      }
    };
    $scope.createDashboardModal.selectMode = function(mode) {
      var self;
      self = $scope.createDashboardModal;
      _.each(self.organizations, function(o) {
        return o.$selected = false;
      });
      self.currentOrganization.$selected = mode === 'single';
      return self.mode = mode;
    };
    $scope.createDashboardModal.isSelectOrganizationShown = function() {
      return $scope.createDashboardModal.mode === 'multi';
    };
    $scope.createDashboardModal.isCurrentOrganizationShown = function() {
      return $scope.createDashboardModal.mode === 'single';
    };
    $scope.createDashboardModal.canAccessAnalyticsForCurrentOrganization = function() {
      var self;
      self = $scope.createDashboardModal;
      return self.canAccessAnalyticsData(self.currentOrganization);
    };
    $scope.createDashboardModal.isMultiCompanyAvailable = function() {
      return $scope.createDashboardModal.organizations.length > 1 && $scope.createDashboardModal.multiOrganizationReporting;
    };
    $scope.createDashboardModal.canAccessAnalyticsData = function(organization) {
      return organization.current_user_role && (organization.current_user_role === "Super Admin" || organization.current_user_role === "Admin");
    };
    $scope.customWidgetSelector = ImpacTheming.get().widgetSelectorConfig;
    $scope.forceShowWidgetSelector = false;
    $scope.showCloseWidgetSelectorButton = function() {
      return !ImpacDashboardsSvc.isCurrentDashboardEmpty();
    };
    $scope.displayWidgetSelector = function(value) {
      if (value == null) {
        value = true;
      }
      return $scope.forceShowWidgetSelector = value;
    };
    $scope.showWidgetSelector = function() {
      return $scope.forceShowWidgetSelector || (ImpacDashboardsSvc.isCurrentDashboardEmpty() && !$scope.customWidgetSelector.path);
    };
    $scope.isAddChartEnabled = ImpacTheming.get().addChartTile.show;
    $scope.addChartTileOnClick = function() {
      var triggers;
      triggers = ImpacTheming.get().addChartTile.onClickOptions.triggers;
      return _.forEach(triggers, function(trigger) {
        switch (trigger.type) {
          case 'objectProperty':
            return $scope[trigger.target][trigger.property] = trigger.value;
        }
      });
    };
    $scope.selectedCategory = 'accounts';
    $scope.isCategorySelected = function(aCatName) {
      if (($scope.selectedCategory != null) && (aCatName != null)) {
        return $scope.selectedCategory === aCatName;
      } else {
        return false;
      }
    };
    $scope.selectCategory = function(aCatName) {
      return $scope.selectedCategory = aCatName;
    };
    $scope.getSelectedCategoryName = function() {
      if ($scope.selectedCategory != null) {
        switch ($scope.selectedCategory) {
          case 'accounts':
            return 'Accounting';
          case 'invoices':
            return 'Invoicing';
          case 'hr':
            return 'HR / Payroll';
          case 'sales':
            return 'Sales';
          default:
            return false;
        }
      } else {
        return false;
      }
    };
    $scope.getSelectedCategoryTop = function() {
      if ($scope.selectedCategory != null) {
        switch ($scope.selectedCategory) {
          case 'accounts':
            return {
              top: '33px'
            };
          case 'invoices':
            return {
              top: '64px'
            };
          case 'hr':
            return {
              top: '95px'
            };
          case 'sales':
            return {
              top: '126px'
            };
          default:
            return {
              top: '9999999px'
            };
        }
      } else {
        return false;
      }
    };
    $scope.getWidgetsForSelectedCategory = function() {
      if (($scope.selectedCategory != null) && ($scope.widgetsList != null)) {
        return _.select($scope.widgetsList, function(aWidgetTemplate) {
          return aWidgetTemplate.path.split('/')[0] === $scope.selectedCategory;
        });
      } else {
        return [];
      }
    };
    $scope.addWidget = function(widgetPath, widgetMetadata) {
      var params;
      if (widgetMetadata == null) {
        widgetMetadata = null;
      }
      params = {
        widget_category: widgetPath
      };
      if (widgetMetadata != null) {
        angular.extend(params, {
          metadata: widgetMetadata
        });
      }
      angular.element('#widget-selector').css('cursor', 'progress');
      angular.element('#widget-selector .top-container .row.lines p').css('cursor', 'progress');
      return ImpacWidgetsSvc.create(params).then(function() {
        $scope.errors = '';
        angular.element('#widget-selector').css('cursor', 'auto');
        angular.element('#widget-selector .top-container .row.lines p').css('cursor', 'pointer');
        angular.element('#widget-selector .badge.confirmation').fadeTo(250, 1);
        return $timeout(function() {
          return angular.element('#widget-selector .badge.confirmation').fadeTo(700, 0);
        }, 4000);
      }, function(errors) {
        $scope.errors = ImpacUtilities.processRailsError(errors);
        angular.element('#widget-selector').css('cursor', 'auto');
        return angular.element('#widget-selector .top-container .row.lines p').css('cursor', 'pointer');
      });
    };
    $scope.widgetSuggestionModal = $scope.$new();
    $scope.widgetSuggestionModal.widgetDetails = {};
    $scope.widgetSuggestionModal.error = false;
    $scope.widgetSuggestionModal.onSuccess = false;
    $scope.widgetSuggestionModal.config = {
      backdrop: 'static',
      template: $templateCache.get('dashboard/widget-suggestion.modal.html'),
      size: 'md',
      windowClass: 'inverse impac-widget-suggestion',
      scope: $scope.widgetSuggestionModal,
      apiPath: ImpacRoutes.widgets.suggest()
    };
    $scope.widgetSuggestionModal.open = function() {
      var self;
      self = $scope.widgetSuggestionModal;
      if (self.locked) {
        return;
      }
      ImpacMainSvc.loadUserData().then(function(user) {
        return self.userName = user.name;
      });
      self.instance = $modal.open(self.config);
      self.instance.rendered.then(function(onRender) {
        return self.locked = true;
      });
      self.instance.result.then(function(onClose) {
        return self.locked = false;
      }, function(onDismiss) {
        return self.locked = false;
      });
      return self.isLoading = false;
    };
    $scope.widgetSuggestionModal.proceed = function() {
      var data, self;
      self = $scope.widgetSuggestionModal;
      self.isLoading = true;
      data = {
        widget_name: self.widgetDetails.name,
        widget_category: self.widgetDetails.category,
        widget_description: self.widgetDetails.description
      };
      if (self.config.apiPath != null) {
        return $http.post(self.config.apiPath, {
          template: 'widget_suggestion',
          opts: data
        }).then(function() {
          self.onSuccess = true;
          return $timeout(function() {
            self.instance.close();
            self.widgetDetails = {};
            self.isLoading = false;
            return self.onSuccess = false;
          }, 3000);
        }, function(err) {
          self.isLoading = false;
          self.error = true;
          return $log.error('impac-angular ERROR: Unable to POST widget_suggestion mailer: ', err);
        });
      }
    };
    return $scope.sortableOptions = {
      stop: saveDashboard = function() {
        var data;
        data = {
          widgets_order: _.pluck($scope.currentDhb.widgets, 'id')
        };
        return ImpacDashboardsSvc.update($scope.currentDhb.id, data);
      },
      start: updatePlaceHolderSize = function(e, widget) {
        widget.placeholder.css("width", widget.item.width() - 1);
        return widget.placeholder.css("height", widget.item.height());
      },
      cursorAt: {
        left: 100,
        top: 20
      },
      opacity: 0.5,
      delay: 150,
      tolerance: 'pointer',
      placeholder: "placeHolderBox",
      cursor: "move",
      revert: 250,
      cancel: ".unsortable",
      handle: ".top-line"
    };
  }]);

  module.directive('impacDashboard', ["$templateCache", function($templateCache) {
    return {
      restrict: 'EA',
      scope: {
        forceLoad: '=load'
      },
      template: $templateCache.get('dashboard/dashboard.tmpl.html'),
      controller: 'ImpacDashboardCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZGFzaGJvYXJkL2Rhc2hib2FyZC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw0QkFBZixFQUE2QyxFQUE3Qzs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixvQkFBbEIsRUFBd0MsU0FBQyxNQUFELEVBQVMsS0FBVCxFQUFnQixFQUFoQixFQUFvQixPQUFwQixFQUE2QixNQUE3QixFQUFxQyxJQUFyQyxFQUEyQyxRQUEzQyxFQUFxRCxjQUFyRCxFQUFxRSxNQUFyRSxFQUE2RSxjQUE3RSxFQUE2RixXQUE3RixFQUEwRyxZQUExRyxFQUF3SCxXQUF4SCxFQUFxSSxZQUFySSxFQUFtSixrQkFBbkosRUFBdUssZUFBdks7QUFTcEMsUUFBQTtJQUFBLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLGtCQUFrQixDQUFDLG1CQUFuQixDQUFBO0lBQ3BCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLGtCQUFrQixDQUFDLG1CQUFuQixDQUFBO0lBSXJCLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLFdBQVcsQ0FBQyxHQUFaLENBQWdCLGdCQUFoQjtJQUN4QixNQUFNLENBQUMsd0JBQVAsR0FBa0MsV0FBVyxDQUFDLEdBQVosQ0FBZ0IsMEJBQWhCO0lBSWxDLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLFlBQVksQ0FBQyxHQUFiLENBQUEsQ0FBa0IsQ0FBQyxTQUFTLENBQUM7SUFDckQsTUFBTSxDQUFDLGNBQVAsR0FBd0IsWUFBWSxDQUFDLEdBQWIsQ0FBQSxDQUFrQixDQUFDLFNBQVMsQ0FBQztJQUNyRCxNQUFNLENBQUMsZUFBUCxHQUF5QixZQUFZLENBQUMsR0FBYixDQUFBLENBQWtCLENBQUM7SUFJNUMsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLFlBQVksQ0FBQyxHQUFiLENBQUEsQ0FBa0IsQ0FBQztJQUk5QyxNQUFNLENBQUMsV0FBUCxHQUFxQixZ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VUFBQSxFQUFZLG9CQU5UOztFQUQwQixDQUFuQztBQXJaQSIsImZpbGUiOiJjb21wb25lbnRzL2Rhc2hib2FyZC9kYXNoYm9hcmQuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMuZGFzaGJvYXJkJywgW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdJbXBhY0Rhc2hib2FyZEN0cmwnLCAoJHNjb3BlLCAkaHR0cCwgJHEsICRmaWx0ZXIsICRtb2RhbCwgJGxvZywgJHRpbWVvdXQsICR0ZW1wbGF0ZUNhY2hlLCBNc2dCdXMsIEltcGFjVXRpbGl0aWVzLCBJbXBhY0Fzc2V0cywgSW1wYWNUaGVtaW5nLCBJbXBhY1JvdXRlcywgSW1wYWNNYWluU3ZjLCBJbXBhY0Rhc2hib2FyZHNTdmMsIEltcGFjV2lkZ2V0c1N2YykgLT5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIEluaXRpYWxpemF0aW9uXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgJHNjb3BlLmlzTG9hZGluZyA9IHRydWVcblxuICAgICMgcmVmZXJlbmNlcyB0byBzZXJ2aWNlcyAoYm91bmQgb2JqZWN0cyBzaGFyZWQgYmV0d2VlbiBhbGwgY29udHJvbGxlcnMpXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgJHNjb3BlLmN1cnJlbnREaGIgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgJHNjb3BlLndpZGdldHNMaXN0ID0gSW1wYWNEYXNoYm9hcmRzU3ZjLmdldFdpZGdldHNUZW1wbGF0ZXMoKVxuXG4gICAgIyBhc3NldHNcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAkc2NvcGUuaW1wYWNUaXRsZUxvZ28gPSBJbXBhY0Fzc2V0cy5nZXQoJ2ltcGFjVGl0bGVMb2dvJylcbiAgICAkc2NvcGUuaW1wYWNEYXNoYm9hcmRCYWNrZ3JvdW5kID0gSW1wYWNBc3NldHMuZ2V0KCdpbXBhY0Rhc2hib2FyZEJhY2tncm91bmQnKVxuXG4gICAgIyBkYXNoYm9hcmQgaGVhZGluZyAmIGVycm9yIG1lc3NhZ2VzXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgJHNjb3BlLnNob3dEaGJIZWFkaW5nID0gSW1wYWNUaGVtaW5nLmdldCgpLmRoYkNvbmZpZy5zaG93RGhiSGVhZGluZ1xuICAgICRzY29wZS5kaGJIZWFkaW5nVGV4dCA9IEltcGFjVGhlbWluZy5nZXQoKS5kaGJDb25maWcuZGhiSGVhZGluZ1RleHRcbiAgICAkc2NvcGUuZGhiRXJyb3JzQ29uZmlnID0gSW1wYWNUaGVtaW5nLmdldCgpLmRoYkVycm9yc0NvbmZpZ1xuXG4gICAgIyBEYXNoYm9hcmQgU2V0dGluZ3NcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAkc2NvcGUuZGhiU2V0dGluZ3NDb25maWcgPSBJbXBhY1RoZW1pbmcuZ2V0KCkuZGhiU2V0dGluZ3NcblxuICAgICMga3Bpc1xuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICRzY29wZS5zaG93S3Bpc0JhciA9IEltcGFjVGhlbWluZy5nZXQoKS5kaGJLcGlzQ29uZmlnLmVuYWJsZUtwaXNcblxuICAgICMgbWVzc2FnZXNcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAkc2NvcGUuc2hvd0Nob29zZURoYk1zZyA9IC0+XG4gICAgICAhSW1wYWNEYXNoYm9hcmRzU3ZjLmlzVGhlcmVBRGFzaGJvYXJkKClcbiAgICAkc2NvcGUuc2hvd05vV2lkZ2V0c01zZyA9IC0+XG4gICAgICBJbXBhY0Rhc2hib2FyZHNTdmMuaXNDdXJyZW50RGFzaGJvYXJkRW1wdHkoKSAmJiBJbXBhY1RoZW1pbmcuZ2V0KCkuc2hvd05vV2lkZ2V0TXNnXG5cbiAgICAjIHN0YXJcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAkc2NvcGUuc3RhcldpemFyZE1vZGFsID0geyB2YWx1ZTpmYWxzZSB9XG4gICAgTXNnQnVzLnB1Ymxpc2goJ3N0YXJXaXphcmRNb2RhbCcsJHNjb3BlLnN0YXJXaXphcmRNb2RhbClcbiAgICAkc2NvcGUub3BlblN0YXJXaXphcmQgPSAtPlxuICAgICAgJHNjb3BlLnN0YXJXaXphcmRNb2RhbC52YWx1ZSA9IHRydWVcblxuICAgICMgU3ViIG1lbnUgKGFsZXJ0cylcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAkc2NvcGUubWFya2V0cGxhY2VNeW9iTGluayA9IEltcGFjVGhlbWluZy5nZXQoKS5kaGJTdWJNZW51Q29uZmlnLm1hcmtldHBsYWNlTXlvYkxpbmtcbiAgICAkc2NvcGUuc2hvd1N1Yk1lbnUgPSBmYWxzZVxuICAgICRzY29wZS5kaXNwbGF5U3ViTWVudSA9IC0+XG4gICAgICAkc2NvcGUuc2hvd1N1Yk1lbnUgPSB0cnVlXG4gICAgJHNjb3BlLmhpZGVTdWJNZW51ID0gLT5cbiAgICAgICRzY29wZS5zaG93U3ViTWVudSA9IGZhbHNlXG5cbiAgICAkc2NvcGUubXlvYk1lc3NhZ2VDb25maWcgPSBJbXBhY1RoZW1pbmcuZ2V0KCkuZGhiU3ViTWVudUNvbmZpZy5teW9iTWVzc2FnZVxuXG4gICAgIyBsb2FkIGRhc2hib2FyZHMgd2l0aCB0aGVpciB3aWRnZXRzXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAndHJ1ZScgZm9yY2VzIHRoZSByZWxvYWQ6IHdpbGwgY2F1c2UgdGhlIHNlcnZpY2UgdG8gdXBkYXRlIHRoZSBvcmdhbml6YXRpb24gaWQgYW5kIG90aGVyIGNvcmUgZGF0YSB0aGF0IEltcGFjISBuZWVkc1xuICAgICMgTkI6IGluIE1hZXN0cmFuby4gd2UgZG9uJ3QgbmVlZCB0byBjYWxsIEltcGFjRGFzaGJvYXJkc1N2Yy5sb2FkKHRydWUpICdmcm9tIHRoZSBvdXRzaWRlJywgYmVjYXVzZSB0aGUgdmlldyB3aWxsXG4gICAgIyByZWxvYWQgdGhlIDxpbXBhYy1kYXNoYm9hcmRzPiBvbiBvcmdhbml6YXRpb24gY2hhbmdlLlxuICAgICMgSW4gb3RoZXIgYXBwcywgY2FsbGluZyB0aGlzIG1ldGhvZCBzaG91bGQgYmUgZW5vdWdoIHRvIGZvcmNlIGEgY29tcGxldGUgcmVsb2FkIG9uIEltcGFjISBjb250ZW50c1xuICAgICRzY29wZS5pc0xvYWRpbmcgPSB0cnVlXG4gICAgSW1wYWNEYXNoYm9hcmRzU3ZjLmxvYWQodHJ1ZSkudGhlbihcbiAgICAgIChzdWNjZXNzKSAtPlxuICAgICAgICAkc2NvcGUuYWN0aXZhdGVUaW1lcigpXG4gICAgICAgICRzY29wZS5oYXNNeW9iRXNzZW50aWFsc09ubHkgPSBJbXBhY01haW5TdmMuY29uZmlnLmN1cnJlbnRPcmdhbml6YXRpb24uaGFzX215b2JfZXNzZW50aWFsc19vbmx5XG4gICAgICAoZXJyb3IpIC0+XG4gICAgICAgICRzY29wZS5pc0xvYWRpbmc9ZmFsc2VcbiAgICApXG5cbiAgICAkc2NvcGUuYWN0aXZhdGVUaW1lciA9IC0+XG4gICAgICAkc2NvcGUuaXNMb2FkaW5nIHx8PSB0cnVlXG4gICAgICAjIFRoZSBkYXNoYm9hcmQgd2lsbCBsb2FkIDEwMG1zIHBlciB3aWRnZXQgYmVmb3JlIGJlaW5nIGRpc3BsYXllZFxuICAgICAgdyA9ICRzY29wZS5jdXJyZW50RGhiLndpZGdldHNcbiAgICAgIGlmIHc/IHRoZW4gdGltZXIgPSBNYXRoLm1heCgxMDAqdy5sZW5ndGgsIDUwMCkgZWxzZSB0aW1lciA9IDUwMFxuICAgICAgIyBUaGUgdGltZXIgaXMgb25seSA1MDBtczogdG8gbGV0IHRoZSB0aW1lIGZvciB0aGUgZGFzaGJvYXJkIHRvIGJlIGxvYWRlZFxuICAgICAgIyB0aW1lciA9IDUwMFxuICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgJHNjb3BlLmlzTG9hZGluZz1mYWxzZVxuICAgICAgLHRpbWVyXG5cblxuICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIENyZWF0ZSBkYXNoYm9hcmQgbW9kYWxcbiAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwgPSAkc2NvcGUuJG5ldygpXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwuY29uZmlnID0ge1xuICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnXG4gICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkYXNoYm9hcmQvY3JlYXRlLm1vZGFsLmh0bWwnKVxuICAgICAgc2l6ZTogJ21kJ1xuICAgICAgd2luZG93Q2xhc3M6ICdpbnZlcnNlJ1xuICAgICAgc2NvcGU6ICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbFxuICAgIH1cblxuICAgICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbC5vcGVuID0gLT5cbiAgICAgIHNlbGYgPSAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWxcbiAgICAgIHJldHVybiBpZiBzZWxmLmxvY2tlZFxuXG4gICAgICBzZWxmLm1vZGVsID0geyBuYW1lOiAnJyB9XG4gICAgICBzZWxmLmVycm9ycyA9ICcnXG4gICAgICBzZWxmLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICBzZWxmLmluc3RhbmNlID0gJG1vZGFsLm9wZW4oc2VsZi5jb25maWcpXG5cbiAgICAgIHNlbGYuaW5zdGFuY2UucmVuZGVyZWQudGhlbiAob25SZW5kZXIpIC0+XG4gICAgICAgIHNlbGYubG9ja2VkID0gdHJ1ZVxuICAgICAgc2VsZi5pbnN0YW5jZS5yZXN1bHQudGhlbiAob25DbG9zZSkgLT5cbiAgICAgICAgc2VsZi5sb2NrZWQgPSBmYWxzZVxuICAgICAgLChvbkRpc21pc3MpIC0+XG4gICAgICAgIHNlbGYubG9ja2VkID0gZmFsc2VcblxuICAgICAgSW1wYWNNYWluU3ZjLmxvYWRPcmdhbml6YXRpb25zKCkudGhlbiAoY29uZmlnKSAtPlxuICAgICAgICBzZWxmLm9yZ2FuaXphdGlvbnMgPSBjb25maWcub3JnYW5pemF0aW9uc1xuICAgICAgICBzZWxmLmN1cnJlbnRPcmdhbml6YXRpb24gPSBjb25maWcuY3VycmVudE9yZ2FuaXphdGlvblxuICAgICAgICBzZWxmLnNlbGVjdE1vZGUoJ3NpbmdsZScpXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwucHJvY2VlZCA9IC0+XG4gICAgICBzZWxmID0gJHNjb3BlLmNyZWF0ZURhc2hib2FyZE1vZGFsXG4gICAgICBzZWxmLmlzTG9hZGluZyA9IHRydWVcbiAgICAgIGRhc2hib2FyZCA9IHsgbmFtZTogc2VsZi5tb2RlbC5uYW1lIH1cblxuICAgICAgIyBBZGQgb3JnYW5pemF0aW9ucyBpZiBtdWx0aSBjb21wYW55IGRhc2hib2FyZFxuICAgICAgb3JnYW5pemF0aW9ucyA9IFtdXG4gICAgICBpZiBzZWxmLm1vZGUgPT0gJ211bHRpJ1xuICAgICAgICBvcmdhbml6YXRpb25zID0gXy5zZWxlY3Qoc2VsZi5vcmdhbml6YXRpb25zLCAobykgLT4gby4kc2VsZWN0ZWQgKVxuICAgICAgZWxzZVxuICAgICAgICBvcmdhbml6YXRpb25zID0gWyB7IGlkOiBJbXBhY01haW5TdmMuY29uZmlnLmN1cnJlbnRPcmdhbml6YXRpb24uaWQgfSBdXG5cbiAgICAgIGlmIG9yZ2FuaXphdGlvbnMubGVuZ3RoID4gMFxuICAgICAgICBkYXNoYm9hcmQub3JnYW5pemF0aW9uX2lkcyA9IF8ucGx1Y2sob3JnYW5pemF0aW9ucywgJ2lkJylcblxuICAgICAgcmV0dXJuIEltcGFjRGFzaGJvYXJkc1N2Yy5jcmVhdGUoZGFzaGJvYXJkKS50aGVuKFxuICAgICAgICAoZGFzaGJvYXJkKSAtPlxuICAgICAgICAgIHNlbGYuZXJyb3JzID0gJydcbiAgICAgICAgICBzZWxmLmluc3RhbmNlLmNsb3NlKClcbiAgICAgICAgLCAoZXJyb3JzKSAtPlxuICAgICAgICAgIHNlbGYuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZWxmLmVycm9ycyA9IEltcGFjVXRpbGl0aWVzLnByb2Nlc3NSYWlsc0Vycm9yKGVycm9ycylcbiAgICAgIClcblxuICAgICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbC5pc1Byb2NlZWREaXNhYmxlZCA9IC0+XG4gICAgICBzZWxmID0gJHNjb3BlLmNyZWF0ZURhc2hib2FyZE1vZGFsXG4gICAgICBzZWxlY3RlZENvbXBhbmllcyA9IF8uc2VsZWN0KHNlbGYub3JnYW5pemF0aW9ucywgKG8pIC0+IG8uJHNlbGVjdGVkKVxuXG4gICAgICAjIENoZWNrIHRoYXQgZGFzaGJvYXJkIGhhcyBhIG5hbWVcbiAgICAgIGFkZGl0aW9uYWxfY29uZGl0aW9uID0gXy5pc0VtcHR5IHNlbGYubW9kZWwubmFtZVxuXG4gICAgICAjIENoZWNrIHRoYXQgc29tZSBjb21wYW5pZXMgaGF2ZSBiZWVuIHNlbGVjdGVkXG4gICAgICBhZGRpdGlvbmFsX2NvbmRpdGlvbiB8fD0gc2VsZWN0ZWRDb21wYW5pZXMubGVuZ3RoID09IDBcblxuICAgICAgIyBDaGVjayB0aGF0IHVzZXIgY2FuIGFjY2VzcyB0aGUgYW5hbHl0aWNzIGRhdGEgZm9yIHRoaXMgY29tcGFueVxuICAgICAgYWRkaXRpb25hbF9jb25kaXRpb24gfHw9IF8uc2VsZWN0KHNlbGVjdGVkQ29tcGFuaWVzLCAobykgLT4gc2VsZi5jYW5BY2Nlc3NBbmFseXRpY3NEYXRhKG8pKS5sZW5ndGggPT0gMFxuXG4gICAgICByZXR1cm4gc2VsZi5pc0xvYWRpbmcgfHwgYWRkaXRpb25hbF9jb25kaXRpb25cblxuICAgICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbC5idG5CbGFzc0ZvciA9IChtb2RlKSAtPlxuICAgICAgc2VsZiA9ICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbFxuICAgICAgaWYgbW9kZSA9PSBzZWxmLm1vZGVcbiAgICAgICAgXCJidG4gYnRuLXNtIGJ0bi13YXJuaW5nIGFjdGl2ZVwiXG4gICAgICBlbHNlXG4gICAgICAgIFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwiXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwuc2VsZWN0TW9kZSA9IChtb2RlKSAtPlxuICAgICAgc2VsZiA9ICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbFxuICAgICAgXy5lYWNoKHNlbGYub3JnYW5pemF0aW9ucywgKG8pIC0+IG8uJHNlbGVjdGVkID0gZmFsc2UpXG4gICAgICBzZWxmLmN1cnJlbnRPcmdhbml6YXRpb24uJHNlbGVjdGVkID0gKG1vZGUgPT0gJ3NpbmdsZScpXG4gICAgICBzZWxmLm1vZGUgPSBtb2RlXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwuaXNTZWxlY3RPcmdhbml6YXRpb25TaG93biA9IC0+XG4gICAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwubW9kZSA9PSAnbXVsdGknXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwuaXNDdXJyZW50T3JnYW5pemF0aW9uU2hvd24gPSAtPlxuICAgICAgJHNjb3BlLmNyZWF0ZURhc2hib2FyZE1vZGFsLm1vZGUgPT0gJ3NpbmdsZSdcblxuICAgICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbC5jYW5BY2Nlc3NBbmFseXRpY3NGb3JDdXJyZW50T3JnYW5pemF0aW9uID0gLT5cbiAgICAgIHNlbGYgPSAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWxcbiAgICAgIHNlbGYuY2FuQWNjZXNzQW5hbHl0aWNzRGF0YShzZWxmLmN1cnJlbnRPcmdhbml6YXRpb24pXG5cbiAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwuaXNNdWx0aUNvbXBhbnlBdmFpbGFibGUgPSAtPlxuICAgICAgIyBUT0RPOiByZS1lbmFibGUgc29tZXdoZXJlXG4gICAgICAkc2NvcGUuY3JlYXRlRGFzaGJvYXJkTW9kYWwub3JnYW5pemF0aW9ucy5sZW5ndGggPiAxICYmICRzY29wZS5jcmVhdGVEYXNoYm9hcmRNb2RhbC5tdWx0aU9yZ2FuaXphdGlvblJlcG9ydGluZ1xuXG4gICAgJHNjb3BlLmNyZWF0ZURhc2hib2FyZE1vZGFsLmNhbkFjY2Vzc0FuYWx5dGljc0RhdGEgPSAob3JnYW5pemF0aW9uKSAtPlxuICAgICAgb3JnYW5pemF0aW9uLmN1cnJlbnRfdXNlcl9yb2xlICYmIChcbiAgICAgICAgb3JnYW5pemF0aW9uLmN1cnJlbnRfdXNlcl9yb2xlID09IFwiU3VwZXIgQWRtaW5cIiB8fFxuICAgICAgICBvcmdhbml6YXRpb24uY3VycmVudF91c2VyX3JvbGUgPT0gXCJBZG1pblwiXG4gICAgICApXG5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIFdpZGdldHMgc2VsZWN0b3JcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBUT0RPOiBwdXQgaW4gc2VwYXJhdGUgZGlyZWN0aXZlXG5cbiAgICAkc2NvcGUuY3VzdG9tV2lkZ2V0U2VsZWN0b3IgPSBJbXBhY1RoZW1pbmcuZ2V0KCkud2lkZ2V0U2VsZWN0b3JDb25maWdcbiAgICAkc2NvcGUuZm9yY2VTaG93V2lkZ2V0U2VsZWN0b3IgPSBmYWxzZSAjIGp1c3QgdG8gaW5pdGlhbGl6ZSAvIHdpbGwgYmUgb3ZlcnJpZGVuIGF0IGZpcnN0IGxvYWQgYW55d2F5XG4gICAgJHNjb3BlLnNob3dDbG9zZVdpZGdldFNlbGVjdG9yQnV0dG9uID0gLT5cbiAgICAgICFJbXBhY0Rhc2hib2FyZHNTdmMuaXNDdXJyZW50RGFzaGJvYXJkRW1wdHkoKVxuXG4gICAgJHNjb3BlLmRpc3BsYXlXaWRnZXRTZWxlY3RvciA9ICh2YWx1ZT10cnVlKSAtPlxuICAgICAgJHNjb3BlLmZvcmNlU2hvd1dpZGdldFNlbGVjdG9yID0gdmFsdWVcblxuICAgICRzY29wZS5zaG93V2lkZ2V0U2VsZWN0b3IgPSAtPlxuICAgICAgJHNjb3BlLmZvcmNlU2hvd1dpZGdldFNlbGVjdG9yIHx8IChJbXBhY0Rhc2hib2FyZHNTdmMuaXNDdXJyZW50RGFzaGJvYXJkRW1wdHkoKSAmJiAhJHNjb3BlLmN1c3RvbVdpZGdldFNlbGVjdG9yLnBhdGgpXG5cbiAgICAjIEN1c3RvbSB3aWRnZXRzIHNlbGVjdG9yXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgQWRkIENoYXJ0IFRpbGU6IG9wdGlvbmFsIGZlYXR1cmUgZm9yIHRyaWdnZXJpbmcgd2lkZ2V0IHNlbGVjdG9yLCB3aXRoIGNvbmZpZ3VyYWJpbGl0eSB0b1xuICAgICMgICAgICAgICAgICAgICAgIG1vZGlmeSBvbkNsaWNrIGJlaGF2aW91ci5cbiAgICAkc2NvcGUuaXNBZGRDaGFydEVuYWJsZWQgPSBJbXBhY1RoZW1pbmcuZ2V0KCkuYWRkQ2hhcnRUaWxlLnNob3dcbiAgICAkc2NvcGUuYWRkQ2hhcnRUaWxlT25DbGljayA9IC0+XG4gICAgICB0cmlnZ2VycyA9IEltcGFjVGhlbWluZy5nZXQoKS5hZGRDaGFydFRpbGUub25DbGlja09wdGlvbnMudHJpZ2dlcnNcbiAgICAgIF8uZm9yRWFjaCh0cmlnZ2VycywgKHRyaWdnZXIpIC0+XG5cbiAgICAgICAgc3dpdGNoIHRyaWdnZXIudHlwZVxuICAgICAgICAgIHdoZW4gJ29iamVjdFByb3BlcnR5J1xuICAgICAgICAgICAgJHNjb3BlW3RyaWdnZXIudGFyZ2V0XVt0cmlnZ2VyLnByb3BlcnR5XSA9IHRyaWdnZXIudmFsdWVcblxuICAgICAgICAjIE5PVEU6IFRoZXNlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcmUgZGVzaWduZWQgdG8gYmUgZXh0ZW5kZWQgb24gYSBjYXNlLWJ5LWNhc2UgYmFzaXMuXG4gICAgICAgICMgICAgICAgRm9yIGV4YW1wbGUsIGEgY2FsbGJhY2sgdHJpZ2dlci50eXBlLCBvciBhIHJlLWRlZmluZSBmdW5jdGlvbiBpbnNpZGUgdGhpcyBjdHJsLFxuICAgICAgICAjICAgICAgIHdpdGggYSBmdW5jdGlvbiBmcm9tIGV4dGVybmFsIGFwcC5cbiAgICAgIClcblxuICAgICRzY29wZS5zZWxlY3RlZENhdGVnb3J5ID0gJ2FjY291bnRzJ1xuICAgICRzY29wZS5pc0NhdGVnb3J5U2VsZWN0ZWQgPSAoYUNhdE5hbWUpIC0+XG4gICAgICBpZiAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeT8gJiYgYUNhdE5hbWU/XG4gICAgICAgIHJldHVybiAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeSA9PSBhQ2F0TmFtZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICRzY29wZS5zZWxlY3RDYXRlZ29yeSA9IChhQ2F0TmFtZSkgLT5cbiAgICAgICRzY29wZS5zZWxlY3RlZENhdGVnb3J5ID0gYUNhdE5hbWVcblxuICAgICRzY29wZS5nZXRTZWxlY3RlZENhdGVnb3J5TmFtZSA9IC0+XG4gICAgICBpZiAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeT9cbiAgICAgICAgc3dpdGNoICRzY29wZS5zZWxlY3RlZENhdGVnb3J5XG4gICAgICAgICAgd2hlbiAnYWNjb3VudHMnXG4gICAgICAgICAgICByZXR1cm4gJ0FjY291bnRpbmcnXG4gICAgICAgICAgd2hlbiAnaW52b2ljZXMnXG4gICAgICAgICAgICByZXR1cm4gJ0ludm9pY2luZydcbiAgICAgICAgICB3aGVuICdocidcbiAgICAgICAgICAgIHJldHVybiAnSFIgLyBQYXlyb2xsJ1xuICAgICAgICAgIHdoZW4gJ3NhbGVzJ1xuICAgICAgICAgICAgcmV0dXJuICdTYWxlcydcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAkc2NvcGUuZ2V0U2VsZWN0ZWRDYXRlZ29yeVRvcCA9IC0+XG4gICAgICBpZiAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeT9cbiAgICAgICAgc3dpdGNoICRzY29wZS5zZWxlY3RlZENhdGVnb3J5XG4gICAgICAgICAgd2hlbiAnYWNjb3VudHMnXG4gICAgICAgICAgICByZXR1cm4ge3RvcDogJzMzcHgnfVxuICAgICAgICAgIHdoZW4gJ2ludm9pY2VzJ1xuICAgICAgICAgICAgcmV0dXJuIHt0b3A6ICc2NHB4J31cbiAgICAgICAgICB3aGVuICdocidcbiAgICAgICAgICAgIHJldHVybiB7dG9wOiAnOTVweCd9XG4gICAgICAgICAgd2hlbiAnc2FsZXMnXG4gICAgICAgICAgICByZXR1cm4ge3RvcDogJzEyNnB4J31cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4ge3RvcDogJzk5OTk5OTlweCd9XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgJHNjb3BlLmdldFdpZGdldHNGb3JTZWxlY3RlZENhdGVnb3J5ID0gLT5cbiAgICAgIGlmICRzY29wZS5zZWxlY3RlZENhdGVnb3J5PyAmJiAkc2NvcGUud2lkZ2V0c0xpc3Q/XG4gICAgICAgIHJldHVybiBfLnNlbGVjdCAkc2NvcGUud2lkZ2V0c0xpc3QsIChhV2lkZ2V0VGVtcGxhdGUpIC0+XG4gICAgICAgICAgYVdpZGdldFRlbXBsYXRlLnBhdGguc3BsaXQoJy8nKVswXSA9PSAkc2NvcGUuc2VsZWN0ZWRDYXRlZ29yeVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gW11cblxuICAgICRzY29wZS5hZGRXaWRnZXQgPSAod2lkZ2V0UGF0aCwgd2lkZ2V0TWV0YWRhdGE9bnVsbCkgLT5cbiAgICAgIHBhcmFtcyA9IHt3aWRnZXRfY2F0ZWdvcnk6IHdpZGdldFBhdGh9XG4gICAgICBpZiB3aWRnZXRNZXRhZGF0YT9cbiAgICAgICAgYW5ndWxhci5leHRlbmQocGFyYW1zLCB7bWV0YWRhdGE6IHdpZGdldE1ldGFkYXRhfSlcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3dpZGdldC1zZWxlY3RvcicpLmNzcygnY3Vyc29yJywgJ3Byb2dyZXNzJylcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3dpZGdldC1zZWxlY3RvciAudG9wLWNvbnRhaW5lciAucm93LmxpbmVzIHAnKS5jc3MoJ2N1cnNvcicsICdwcm9ncmVzcycpXG4gICAgICBJbXBhY1dpZGdldHNTdmMuY3JlYXRlKHBhcmFtcykudGhlbihcbiAgICAgICAgKCkgLT5cbiAgICAgICAgICAkc2NvcGUuZXJyb3JzID0gJydcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyN3aWRnZXQtc2VsZWN0b3InKS5jc3MoJ2N1cnNvcicsICdhdXRvJylcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyN3aWRnZXQtc2VsZWN0b3IgLnRvcC1jb250YWluZXIgLnJvdy5saW5lcyBwJykuY3NzKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjd2lkZ2V0LXNlbGVjdG9yIC5iYWRnZS5jb25maXJtYXRpb24nKS5mYWRlVG8oMjUwLDEpXG4gICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3dpZGdldC1zZWxlY3RvciAuYmFkZ2UuY29uZmlybWF0aW9uJykuZmFkZVRvKDcwMCwwKVxuICAgICAgICAgICw0MDAwXG4gICAgICAgICwgKGVycm9ycykgLT5cbiAgICAgICAgICAkc2NvcGUuZXJyb3JzID0gSW1wYWNVdGlsaXRpZXMucHJvY2Vzc1JhaWxzRXJyb3IoZXJyb3JzKVxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3dpZGdldC1zZWxlY3RvcicpLmNzcygnY3Vyc29yJywgJ2F1dG8nKVxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3dpZGdldC1zZWxlY3RvciAudG9wLWNvbnRhaW5lciAucm93LmxpbmVzIHAnKS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgICAgIClcblxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgRGFzaGJvYXJkIFNldHRpbmdzIFBhbmVsXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgIyAtIGluIGRpcmVjdGl2ZXMgLVxuICAgIFxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgV2lkZ2V0IHN1Z2dlc3Rpb24gbW9kYWxcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkc2NvcGUud2lkZ2V0U3VnZ2VzdGlvbk1vZGFsID0gJHNjb3BlLiRuZXcoKVxuXG4gICAgIyBNb2RhbCBXaWRnZXQgU3VnZ2VzdGlvblxuICAgICRzY29wZS53aWRnZXRTdWdnZXN0aW9uTW9kYWwud2lkZ2V0RGV0YWlscyA9IHt9XG4gICAgJHNjb3BlLndpZGdldFN1Z2dlc3Rpb25Nb2RhbC5lcnJvciA9IGZhbHNlXG4gICAgJHNjb3BlLndpZGdldFN1Z2dlc3Rpb25Nb2RhbC5vblN1Y2Nlc3MgPSBmYWxzZVxuXG4gICAgJHNjb3BlLndpZGdldFN1Z2dlc3Rpb25Nb2RhbC5jb25maWcgPSB7XG4gICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXG4gICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkYXNoYm9hcmQvd2lkZ2V0LXN1Z2dlc3Rpb24ubW9kYWwuaHRtbCcpLFxuICAgICAgc2l6ZTogJ21kJyxcbiAgICAgIHdpbmRvd0NsYXNzOiAnaW52ZXJzZSBpbXBhYy13aWRnZXQtc3VnZ2VzdGlvbicsXG4gICAgICBzY29wZTogJHNjb3BlLndpZGdldFN1Z2dlc3Rpb25Nb2RhbCxcbiAgICAgIGFwaVBhdGg6IEltcGFjUm91dGVzLndpZGdldHMuc3VnZ2VzdCgpXG4gICAgfVxuXG4gICAgJHNjb3BlLndpZGdldFN1Z2dlc3Rpb25Nb2RhbC5vcGVuID0gLT5cbiAgICAgIHNlbGYgPSAkc2NvcGUud2lkZ2V0U3VnZ2VzdGlvbk1vZGFsXG4gICAgICByZXR1cm4gaWYgc2VsZi5sb2NrZWRcblxuICAgICAgSW1wYWNNYWluU3ZjLmxvYWRVc2VyRGF0YSgpLnRoZW4oKHVzZXIpIC0+XG4gICAgICAgIHNlbGYudXNlck5hbWUgPSB1c2VyLm5hbWVcbiAgICAgIClcbiAgICAgIHNlbGYuaW5zdGFuY2UgPSAkbW9kYWwub3BlbihzZWxmLmNvbmZpZylcblxuICAgICAgc2VsZi5pbnN0YW5jZS5yZW5kZXJlZC50aGVuIChvblJlbmRlcikgLT5cbiAgICAgICAgc2VsZi5sb2NrZWQgPSB0cnVlXG4gICAgICBzZWxmLmluc3RhbmNlLnJlc3VsdC50aGVuIChvbkNsb3NlKSAtPlxuICAgICAgICBzZWxmLmxvY2tlZCA9IGZhbHNlXG4gICAgICAsKG9uRGlzbWlzcykgLT5cbiAgICAgICAgc2VsZi5sb2NrZWQgPSBmYWxzZVxuXG4gICAgICBzZWxmLmlzTG9hZGluZyA9IGZhbHNlXG5cbiAgICAkc2NvcGUud2lkZ2V0U3VnZ2VzdGlvbk1vZGFsLnByb2NlZWQgPSAtPlxuICAgICAgc2VsZiA9ICRzY29wZS53aWRnZXRTdWdnZXN0aW9uTW9kYWxcbiAgICAgIHNlbGYuaXNMb2FkaW5nID0gdHJ1ZVxuXG4gICAgICBkYXRhID0ge1xuICAgICAgICB3aWRnZXRfbmFtZTogc2VsZi53aWRnZXREZXRhaWxzLm5hbWUsXG4gICAgICAgIHdpZGdldF9jYXRlZ29yeTogc2VsZi53aWRnZXREZXRhaWxzLmNhdGVnb3J5LFxuICAgICAgICB3aWRnZXRfZGVzY3JpcHRpb246IHNlbGYud2lkZ2V0RGV0YWlscy5kZXNjcmlwdGlvblxuICAgICAgfVxuXG4gICAgICBpZiBzZWxmLmNvbmZpZy5hcGlQYXRoP1xuICAgICAgICAkaHR0cC5wb3N0KHNlbGYuY29uZmlnLmFwaVBhdGgsIHtcbiAgICAgICAgICB0ZW1wbGF0ZTogJ3dpZGdldF9zdWdnZXN0aW9uJyxcbiAgICAgICAgICBvcHRzOiBkYXRhXG4gICAgICAgIH0pLnRoZW4oIC0+XG4gICAgICAgICAgc2VsZi5vblN1Y2Nlc3MgPSB0cnVlXG4gICAgICAgICAgIyBUaGFuayB5b3UsIHVzZXIuLi5cbiAgICAgICAgICAkdGltZW91dCAtPlxuICAgICAgICAgICAgc2VsZi5pbnN0YW5jZS5jbG9zZSgpXG4gICAgICAgICAgICBzZWxmLndpZGdldERldGFpbHMgPSB7fVxuICAgICAgICAgICAgc2VsZi5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgc2VsZi5vblN1Y2Nlc3MgPSBmYWxzZVxuICAgICAgICAgICwzMDAwXG4gICAgICAgIChlcnIpIC0+XG4gICAgICAgICAgc2VsZi5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNlbGYuZXJyb3IgPSB0cnVlXG4gICAgICAgICAgJGxvZy5lcnJvciAnaW1wYWMtYW5ndWxhciBFUlJPUjogVW5hYmxlIHRvIFBPU1Qgd2lkZ2V0X3N1Z2dlc3Rpb24gbWFpbGVyOiAnLCBlcnJcbiAgICAgICAgKVxuXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBEcmFnICYgRHJvcCBtYW5hZ2VtZW50XG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgJHNjb3BlLnNvcnRhYmxlT3B0aW9ucyA9IHtcbiAgICAgICMgV2hlbiB0aGUgd2lkZ2V0IGlzIGRyb3BwZWRcbiAgICAgIHN0b3A6IHNhdmVEYXNoYm9hcmQgPSAtPlxuICAgICAgICBkYXRhID0geyB3aWRnZXRzX29yZGVyOiBfLnBsdWNrKCRzY29wZS5jdXJyZW50RGhiLndpZGdldHMsJ2lkJykgfVxuICAgICAgICBJbXBhY0Rhc2hib2FyZHNTdmMudXBkYXRlKCRzY29wZS5jdXJyZW50RGhiLmlkLGRhdGEpXG5cbiAgICAgICMgV2hlbiB0aGUgd2lkZ2V0IGlzIHN0YXJ0aW5nIHRvIGJlIGRyYWdnZWRcbiAgICAgIHN0YXJ0OiB1cGRhdGVQbGFjZUhvbGRlclNpemUgPSAoZSwgd2lkZ2V0KSAtPlxuICAgICAgICAjIHdpZHRoLTEgdG8gYXZvaWQgcmV0dXJuIHRvIGxpbmUgKHN1Y2Nlc3Npb24gb2YgZmxvYXQgbGVmdCBkaXZzLi4uKVxuICAgICAgICB3aWRnZXQucGxhY2Vob2xkZXIuY3NzKFwid2lkdGhcIix3aWRnZXQuaXRlbS53aWR0aCgpIC0gMSlcbiAgICAgICAgd2lkZ2V0LnBsYWNlaG9sZGVyLmNzcyhcImhlaWdodFwiLHdpZGdldC5pdGVtLmhlaWdodCgpKVxuXG4gICAgICAjIE9wdGlvbnNcbiAgICAgIGN1cnNvckF0OiB7bGVmdDogMTAwLCB0b3A6IDIwfVxuICAgICAgb3BhY2l0eTogMC41XG4gICAgICBkZWxheTogMTUwXG4gICAgICB0b2xlcmFuY2U6ICdwb2ludGVyJ1xuICAgICAgcGxhY2Vob2xkZXI6IFwicGxhY2VIb2xkZXJCb3hcIlxuICAgICAgY3Vyc29yOiBcIm1vdmVcIlxuICAgICAgcmV2ZXJ0OiAyNTBcbiAgICAgICMgaXRlbXMgd2l0aCB0aGUgY2xhc3MgJ3Vuc29ydGFibGUnLCBhcmUgaW5mYWN0LCB1bnNvcnRhYmxlLlxuICAgICAgY2FuY2VsOiBcIi51bnNvcnRhYmxlXCJcbiAgICAgICMgb25seSB0aGUgdG9wLWxpbmUgd2l0aCB0aXRsZSB3aWxsIHByb3ZpZGUgdGhlIGhhbmRsZSB0byBkcmFnL2Ryb3Agd2lkZ2V0c1xuICAgICAgaGFuZGxlOiBcIi50b3AtbGluZVwiXG4gICAgfVxuXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ2ltcGFjRGFzaGJvYXJkJywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBmb3JjZUxvYWQ6ICc9bG9hZCdcbiAgICAgIH0sXG4gICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkYXNoYm9hcmQvZGFzaGJvYXJkLnRtcGwuaHRtbCcpLFxuICAgICAgY29udHJvbGxlcjogJ0ltcGFjRGFzaGJvYXJkQ3RybCdcbiAgICB9XG4pXG4iXX0=

(function() {
  angular.module('impac.components.dashboard-selector', []).directive('dashboardSelector', ["$log", "$compile", "$templateCache", "$http", "$timeout", "$modal", "ImpacTheming", "ImpacDashboardsSvc", "ImpacMainSvc", "ImpacUtilities", function($log, $compile, $templateCache, $http, $timeout, $modal, ImpacTheming, ImpacDashboardsSvc, ImpacMainSvc, ImpacUtilities) {
    return {
      restrict: 'E',
      scope: {
        onCreateDashboard: '&',
        isWidgetSelectorShown: '&',
        onDisplayWidgetSelector: '&',
        onSelectDashboard: '&'
      },
      controller: ["$scope", function($scope) {
        $scope.organizationsNames = function() {
          return _.pluck($scope.currentDhb.data_sources, 'label').join(", ");
        };
        $scope.toggleShowDashboardsDropdown = function() {
          if ($scope.showChangeDashboardNameBox) {
            return;
          }
          if (ImpacDashboardsSvc.areThereSeveralDashboards() || $scope.showCreateDashboardButton) {
            return $scope.showDashboardsDropdown = !$scope.showDashboardsDropdown;
          } else {
            return $scope.showDashboardsDropdown = false;
          }
        };
        $scope.selectDashboard = function(dhbId) {
          if ($scope.currentDhb.id === dhbId) {
            return;
          }
          $scope.isLoading = true;
          $scope.showDashboardsDropdown = false;
          return $timeout(function() {
            return $scope.$apply(function() {
              ImpacDashboardsSvc.setCurrentDashboard(dhbId);
              $scope.onSelectDashboard();
              return $scope.isLoading = false;
            });
          }, 50);
        };
        $scope.toggleChangeDashboardNameBox = function(dhb) {
          var tmpDhbCpy;
          tmpDhbCpy = angular.copy(dhb);
          $scope.dashboardToChange = {};
          $scope.dashboardToChange.id = tmpDhbCpy.id;
          $scope.dashboardToChange.name = tmpDhbCpy.full_name;
          $scope.showChangeDashboardNameBox = !$scope.showChangeDashboardNameBox;
          return $timeout(function() {
            var elem;
            elem = $('#changeDhbNameInput');
            elem.select();
            return elem.focus();
          }, 100);
        };
        $scope.hideChangeDashboardNameBox = function() {
          return $scope.showChangeDashboardNameBox = false;
        };
        $scope.checkAndUpdateDashboardName = function(event) {
          if (event.keyCode === 13) {
            $scope.updateDashboardName();
          }
          if (event.keyCode === 27) {
            return $scope.showChangeDashboardNameBox = false;
          }
        };
        $scope.updateDashboardName = function() {
          if (($scope.dashboardToChange == null) || _.isEmpty($scope.dashboardToChange.name)) {
            return;
          }
          return ImpacDashboardsSvc.update($scope.dashboardToChange.id, {
            name: $scope.dashboardToChange.name
          }).then(function(success) {
            return $scope.showChangeDashboardNameBox = false;
          });
        };
        $scope.toggleAccessibilityMode = function() {
          $scope.accessibilityMode = !$scope.accessibilityMode;
          return angular.forEach($scope.currentDhb.widgets, function(w) {
            return w.loadContent();
          });
        };
        $scope.deleteDashboardModal = $scope.$new();
        $scope.deleteDashboardModal.config = {
          backdrop: 'static',
          template: $templateCache.get('dashboard-selector/delete.modal.html'),
          size: 'md',
          windowClass: 'inverse',
          scope: $scope.deleteDashboardModal
        };
        $scope.deleteDashboardModal.open = function() {
          var self;
          self = $scope.deleteDashboardModal;
          if (self.locked) {
            return;
          }
          self.errors = '';
          self.isLoading = false;
          self.instance = $modal.open(self.config);
          self.instance.rendered.then(function(onRender) {
            return self.locked = true;
          });
          return self.instance.result.then(function(onClose) {
            return self.locked = false;
          }, function(onDismiss) {
            return self.locked = false;
          });
        };
        $scope.deleteDashboardModal.proceed = function() {
          var self;
          self = $scope.deleteDashboardModal;
          self.isLoading = true;
          return ImpacDashboardsSvc["delete"]($scope.currentDhb.id).then(function() {
            self.errors = '';
            return self.instance.close();
          }, function(errors) {
            self.errors = ImpacUtilities.processRailsError(errors);
            return self.isLoading = false;
          });
        };
        return $scope;
      }],
      link: function(scope, element, attrs) {
        var _compile, customUrl, getCustomTemplate, getTemplate, options, selectorTemplate, setTemplate;
        scope.currentDhb = ImpacDashboardsSvc.getCurrentDashboard();
        scope.dashboardsList = ImpacDashboardsSvc.getDashboards();
        scope.isThereADashboard = function() {
          return ImpacDashboardsSvc.isThereADashboard();
        };
        options = ImpacTheming.get().dhbSelectorConfig;
        scope.isAccessibilityEnabled = options.accessibilityEnabled;
        scope.isAddWidgetEnabled = options.addWidgetEnabled;
        scope.isAddDhbEnabled = options.addDhbEnabled;
        scope.isDeleteDhbEnabled = options.deleteDhbEnabled;
        scope.showCreateDashboardButton = true;
        scope.showDashboardsDropdown = false;
        scope.showChangeDashboardNameBox = false;
        scope.accessibilityMode = false;
        if (!!options.customTmplPath) {
          customUrl = options.customTmplPath;
        } else {
          scope.selectorType = options.selectorType;
        }
        selectorTemplate = null;
        setTemplate = function(path) {
          return selectorTemplate = path;
        };
        switch (scope.selectorType) {
          case 'dropdown':
            setTemplate('dashboard-selector/dropdown.tmpl.html');
            break;
          case 'tabs':
            setTemplate('dashboard-selector/bootstrap-tabs.tmpl.html');
            break;
          case 'pills':
            setTemplate('dashboard-selector/bootstrap-tabs.tmpl.html');
            break;
          default:
            setTemplate(customUrl);
        }
        getCustomTemplate = function() {
          return $http.get(selectorTemplate, {
            cache: $templateCache
          }).then(function(tmplContent) {
            if (!tmplContent || !tmplContent.data || !tmplContent.data.length) {
              $log.warn('dashboardSelector custom template: no content found');
            }
            return _compile(tmplContent.data);
          }, function(err) {
            return $log.error('Error retrieving custom template: ', err);
          });
        };
        getTemplate = function() {
          return _compile($templateCache.get(selectorTemplate));
        };
        _compile = function(htmlString) {
          element.html(htmlString).show();
          return $compile(element.contents())(scope);
        };
        if (customUrl) {
          return getCustomTemplate();
        } else {
          return getTemplate();
        }
      }
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZGFzaGJvYXJkLXNlbGVjdG9yL2Rhc2hib2FyZC1zZWxlY3Rvci5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDQSxDQUFDLE1BREQsQ0FDUSxxQ0FEUixFQUMrQyxFQUQvQyxDQUVBLENBQUMsU0FGRCxDQUVXLG1CQUZYLEVBRWdDLFNBQUMsSUFBRCxFQUFPLFFBQVAsRUFBaUIsY0FBakIsRUFBaUMsS0FBakMsRUFBd0MsUUFBeEMsRUFBa0QsTUFBbEQsRUFBMEQsWUFBMUQsRUFBd0Usa0JBQXhFLEVBQTRGLFlBQTVGLEVBQTBHLGNBQTFHO0FBQzlCLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLGlCQUFBLEVBQW1CLEdBRGQ7UUFFTCxxQkFBQSxFQUF1QixHQUZsQjtRQUdMLHVCQUFBLEVBQXlCLEdBSHBCO1FBSUwsaUJBQUEsRUFBbUIsR0FKZDtPQUZGO01BUUwsVUFBQSxFQUFZLFNBQUMsTUFBRDtRQU1WLE1BQU0sQ0FBQyxrQkFBUCxHQUE0QixTQUFBO2lCQUMxQixDQUFDLENBQUMsS0FBRixDQUFRLE1BQU0sQ0FBQyxVQUFVLENBQUMsWUFBMUIsRUFBd0MsT0FBeEMsQ0FDQSxDQUFDLElBREQsQ0FDTSxJQUROO1FBRDBCO1FBSTVCLE1BQU0sQ0FBQyw0QkFBUCxHQUFzQyxTQUFBO1VBQ3BDLElBQVUsTUFBTSxDQUFDLDBCQUFqQjtBQUFBLG1CQUFBOztVQUVBLElBQUksa0JBQWtCLENBQUMseUJBQW5CLENBQUEsQ0FBQSxJQUFrRCxNQUFNLENBQUMseUJBQTdEO21CQUNFLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxDQUFDLE1BQU0sQ0FBQyx1QkFEMUM7V0FBQSxNQUFBO21CQUdFLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxNQUhsQzs7UUFIb0M7UUFTdEMsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQyxLQUFEO1VBQ3ZCLElBQVUsTUFBTSxDQUFD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LElBQWdCLENBQUMsV0FBVyxDQUFDLElBQTdCLElBQXFDLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUExRDtjQUNFLElBQUksQ0FBQyxJQUFMLENBQVUscURBQVYsRUFERjs7bUJBRUEsUUFBQSxDQUFTLFdBQVcsQ0FBQyxJQUFyQjtVQUhGLENBREYsRUFLRSxTQUFDLEdBQUQ7bUJBQ0UsSUFBSSxDQUFDLEtBQUwsQ0FBVyxvQ0FBWCxFQUFpRCxHQUFqRDtVQURGLENBTEY7UUFEa0I7UUFXcEIsV0FBQSxHQUFjLFNBQUE7aUJBQ1osUUFBQSxDQUFTLGNBQWMsQ0FBQyxHQUFmLENBQW1CLGdCQUFuQixDQUFUO1FBRFk7UUFJZCxRQUFBLEdBQVcsU0FBQyxVQUFEO1VBQ1QsT0FBTyxDQUFDLElBQVIsQ0FBYSxVQUFiLENBQXdCLENBQUMsSUFBekIsQ0FBQTtpQkFDQSxRQUFBLENBQVMsT0FBTyxDQUFDLFFBQVIsQ0FBQSxDQUFULENBQUEsQ0FBNkIsS0FBN0I7UUFGUztRQUlYLElBQUcsU0FBSDtpQkFBa0IsaUJBQUEsQ0FBQSxFQUFsQjtTQUFBLE1BQUE7aUJBQTJDLFdBQUEsQ0FBQSxFQUEzQzs7TUEzREksQ0E5SEQ7O0VBRHVCLENBRmhDO0FBQUEiLCJmaWxlIjoiY29tcG9uZW50cy9kYXNoYm9hcmQtc2VsZWN0b3IvZGFzaGJvYXJkLXNlbGVjdG9yLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbi5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMuZGFzaGJvYXJkLXNlbGVjdG9yJywgW10pXG4uZGlyZWN0aXZlKCdkYXNoYm9hcmRTZWxlY3RvcicsICgkbG9nLCAkY29tcGlsZSwgJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkdGltZW91dCwgJG1vZGFsLCBJbXBhY1RoZW1pbmcsIEltcGFjRGFzaGJvYXJkc1N2YywgSW1wYWNNYWluU3ZjLCBJbXBhY1V0aWxpdGllcykgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnXG4gICAgc2NvcGU6IHtcbiAgICAgIG9uQ3JlYXRlRGFzaGJvYXJkOiAnJidcbiAgICAgIGlzV2lkZ2V0U2VsZWN0b3JTaG93bjogJyYnXG4gICAgICBvbkRpc3BsYXlXaWRnZXRTZWxlY3RvcjogJyYnXG4gICAgICBvblNlbGVjdERhc2hib2FyZDogJyYnXG4gICAgfVxuICAgIGNvbnRyb2xsZXI6ICgkc2NvcGUpIC0+XG5cbiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICMgU2VsZWN0IGRhc2hib2FyZHNcbiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgJHNjb3BlLm9yZ2FuaXphdGlvbnNOYW1lcyA9IC0+XG4gICAgICAgIF8ucGx1Y2sgJHNjb3BlLmN1cnJlbnREaGIuZGF0YV9zb3VyY2VzLCAnbGFiZWwnXG4gICAgICAgIC5qb2luIFwiLCBcIlxuXG4gICAgICAkc2NvcGUudG9nZ2xlU2hvd0Rhc2hib2FyZHNEcm9wZG93biA9IC0+XG4gICAgICAgIHJldHVybiBpZiAkc2NvcGUuc2hvd0NoYW5nZURhc2hib2FyZE5hbWVCb3hcblxuICAgICAgICBpZiAoSW1wYWNEYXNoYm9hcmRzU3ZjLmFyZVRoZXJlU2V2ZXJhbERhc2hib2FyZHMoKSB8fCAkc2NvcGUuc2hvd0NyZWF0ZURhc2hib2FyZEJ1dHRvbilcbiAgICAgICAgICAkc2NvcGUuc2hvd0Rhc2hib2FyZHNEcm9wZG93biA9ICEkc2NvcGUuc2hvd0Rhc2hib2FyZHNEcm9wZG93blxuICAgICAgICBlbHNlXG4gICAgICAgICAgJHNjb3BlLnNob3dEYXNoYm9hcmRzRHJvcGRvd24gPSBmYWxzZVxuXG4gICAgICAjIFVzZSBvZiB0aW1lb3V0cyBmb3IgYmV0dGVyIGZsdWlkaXR5IChhdm9pZCBmcmVlemluZyB0aGUgZGlzcGxheSlcbiAgICAgICRzY29wZS5zZWxlY3REYXNoYm9hcmQgPSAoZGhiSWQpIC0+XG4gICAgICAgIHJldHVybiBpZiAkc2NvcGUuY3VycmVudERoYi5pZCA9PSBkaGJJZFxuICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkc2NvcGUuc2hvd0Rhc2hib2FyZHNEcm9wZG93biA9IGZhbHNlXG5cbiAgICAgICAgIyBtYWtlIHN1cmUgdGhlIGRyb3Bkb3duIGRpc2FwcGVhcnNcbiAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAkc2NvcGUuJGFwcGx5IC0+XG4gICAgICAgICAgICBJbXBhY0Rhc2hib2FyZHNTdmMuc2V0Q3VycmVudERhc2hib2FyZChkaGJJZClcbiAgICAgICAgICAgICRzY29wZS5vblNlbGVjdERhc2hib2FyZCgpXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgLCA1MFxuICAgICAgICBcblxuICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBDaGFuZ2UgZGFzaGJvYXJkIG5hbWVcbiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgJHNjb3BlLnRvZ2dsZUNoYW5nZURhc2hib2FyZE5hbWVCb3ggPSAoZGhiKSAtPlxuICAgICAgICB0bXBEaGJDcHkgPSBhbmd1bGFyLmNvcHkoZGhiKVxuICAgICAgICAkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2UgPSB7fVxuICAgICAgICAkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2UuaWQgPSB0bXBEaGJDcHkuaWRcbiAgICAgICAgJHNjb3BlLmRhc2hib2FyZFRvQ2hhbmdlLm5hbWUgPSB0bXBEaGJDcHkuZnVsbF9uYW1lXG4gICAgICAgICRzY29wZS5zaG93Q2hhbmdlRGFzaGJvYXJkTmFtZUJveCA9ICEkc2NvcGUuc2hvd0NoYW5nZURhc2hib2FyZE5hbWVCb3hcbiAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICBlbGVtID0gJCgnI2NoYW5nZURoYk5hbWVJbnB1dCcpXG4gICAgICAgICAgZWxlbS5zZWxlY3QoKVxuICAgICAgICAgIGVsZW0uZm9jdXMoKVxuICAgICAgICAsMTAwXG5cbiAgICAgICRzY29wZS5oaWRlQ2hhbmdlRGFzaGJvYXJkTmFtZUJveCA9IC0+XG4gICAgICAgICRzY29wZS5zaG93Q2hhbmdlRGFzaGJvYXJkTmFtZUJveCA9IGZhbHNlXG5cbiAgICAgICRzY29wZS5jaGVja0FuZFVwZGF0ZURhc2hib2FyZE5hbWUgPSAoZXZlbnQpIC0+XG4gICAgICAgICRzY29wZS51cGRhdGVEYXNoYm9hcmROYW1lKCkgaWYgZXZlbnQua2V5Q29kZSA9PSAxM1xuICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZURhc2hib2FyZE5hbWVCb3ggPSBmYWxzZSBpZiBldmVudC5rZXlDb2RlID09IDI3XG5cbiAgICAgICRzY29wZS51cGRhdGVEYXNoYm9hcmROYW1lID0gLT5cbiAgICAgICAgcmV0dXJuIGlmICEkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2U/IHx8IF8uaXNFbXB0eSgkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2UubmFtZSlcbiAgICAgICAgSW1wYWNEYXNoYm9hcmRzU3ZjLnVwZGF0ZSgkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2UuaWQsIHtuYW1lOiAkc2NvcGUuZGFzaGJvYXJkVG9DaGFuZ2UubmFtZX0pLnRoZW4gKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgJHNjb3BlLnNob3dDaGFuZ2VEYXNoYm9hcmROYW1lQm94ID0gZmFsc2VcblxuXG4gICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAjIEFjY2Vzc2liaWxpdHlcbiAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgJHNjb3BlLnRvZ2dsZUFjY2Vzc2liaWxpdHlNb2RlID0gLT5cbiAgICAgICAgJHNjb3BlLmFjY2Vzc2liaWxpdHlNb2RlID0gISRzY29wZS5hY2Nlc3NpYmlsaXR5TW9kZVxuICAgICAgICBhbmd1bGFyLmZvckVhY2ggJHNjb3BlLmN1cnJlbnREaGIud2lkZ2V0cywgKHcpIC0+XG4gICAgICAgICAgdy5sb2FkQ29udGVudCgpXG5cblxuICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBEZWxldGUgZGFzaGJvYXJkIG1vZGFsXG4gICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICRzY29wZS5kZWxldGVEYXNoYm9hcmRNb2RhbCA9ICRzY29wZS4kbmV3KClcblxuICAgICAgJHNjb3BlLmRlbGV0ZURhc2hib2FyZE1vZGFsLmNvbmZpZyA9IHtcbiAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkYXNoYm9hcmQtc2VsZWN0b3IvZGVsZXRlLm1vZGFsLmh0bWwnKSxcbiAgICAgICAgc2l6ZTogJ21kJyxcbiAgICAgICAgd2luZG93Q2xhc3M6ICdpbnZlcnNlJyxcbiAgICAgICAgc2NvcGU6ICRzY29wZS5kZWxldGVEYXNoYm9hcmRNb2RhbFxuICAgICAgfVxuXG4gICAgICAkc2NvcGUuZGVsZXRlRGFzaGJvYXJkTW9kYWwub3BlbiA9IC0+XG4gICAgICAgIHNlbGYgPSAkc2NvcGUuZGVsZXRlRGFzaGJvYXJkTW9kYWxcbiAgICAgICAgcmV0dXJuIGlmIHNlbGYubG9ja2VkXG5cbiAgICAgICAgc2VsZi5lcnJvcnMgPSAnJ1xuICAgICAgICBzZWxmLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgIHNlbGYuaW5zdGFuY2UgPSAkbW9kYWwub3BlbihzZWxmLmNvbmZpZylcbiAgICAgIFxuICAgICAgICBzZWxmLmluc3RhbmNlLnJlbmRlcmVkLnRoZW4gKG9uUmVuZGVyKSAtPlxuICAgICAgICAgIHNlbGYubG9ja2VkID0gdHJ1ZVxuICAgICAgICBzZWxmLmluc3RhbmNlLnJlc3VsdC50aGVuIChvbkNsb3NlKSAtPlxuICAgICAgICAgIHNlbGYubG9ja2VkID0gZmFsc2VcbiAgICAgICAgLChvbkRpc21pc3MpIC0+XG4gICAgICAgICAgc2VsZi5sb2NrZWQgPSBmYWxzZVxuXG4gICAgICAkc2NvcGUuZGVsZXRlRGFzaGJvYXJkTW9kYWwucHJvY2VlZCA9IC0+XG4gICAgICAgIHNlbGYgPSAkc2NvcGUuZGVsZXRlRGFzaGJvYXJkTW9kYWxcblxuICAgICAgICBzZWxmLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgSW1wYWNEYXNoYm9hcmRzU3ZjLmRlbGV0ZSgkc2NvcGUuY3VycmVudERoYi5pZCkudGhlbihcbiAgICAgICAgICAoKSAtPlxuICAgICAgICAgICAgc2VsZi5lcnJvcnMgPSAnJ1xuICAgICAgICAgICAgc2VsZi5pbnN0YW5jZS5jbG9zZSgpXG4gICAgICAgICAgLCAoZXJyb3JzKSAtPlxuICAgICAgICAgICAgc2VsZi5lcnJvcnMgPSBJbXBhY1V0aWxpdGllcy5wcm9jZXNzUmFpbHNFcnJvcihlcnJvcnMpXG4gICAgICAgICAgICBzZWxmLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgIClcblxuXG4gICAgICByZXR1cm4gJHNjb3BlXG5cblxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpIC0+XG4gICAgICAjIHJlZmVyZW5jZXMgdG8gc2VydmljZXNcbiAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgc2NvcGUuY3VycmVudERoYiA9IEltcGFjRGFzaGJvYXJkc1N2Yy5nZXRDdXJyZW50RGFzaGJvYXJkKClcbiAgICAgIHNjb3BlLmRhc2hib2FyZHNMaXN0ID0gSW1wYWNEYXNoYm9hcmRzU3ZjLmdldERhc2hib2FyZHMoKVxuICAgICAgc2NvcGUuaXNUaGVyZUFEYXNoYm9hcmQgPSAtPlxuICAgICAgICBJbXBhY0Rhc2hib2FyZHNTdmMuaXNUaGVyZUFEYXNoYm9hcmQoKVxuXG4gICAgICAjIGRpc3BsYXkgb3B0aW9ucyAvIHBlcm1pc3Npb25zXG4gICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIG9wdGlvbnMgPSBJbXBhY1RoZW1pbmcuZ2V0KCkuZGhiU2VsZWN0b3JDb25maWdcbiAgICAgIHNjb3BlLmlzQWNjZXNzaWJpbGl0eUVuYWJsZWQgPSBvcHRpb25zLmFjY2Vzc2liaWxpdHlFbmFibGVkXG4gICAgICBzY29wZS5pc0FkZFdpZGdldEVuYWJsZWQgPSBvcHRpb25zLmFkZFdpZGdldEVuYWJsZWRcbiAgICAgIHNjb3BlLmlzQWRkRGhiRW5hYmxlZCA9IG9wdGlvbnMuYWRkRGhiRW5hYmxlZFxuICAgICAgc2NvcGUuaXNEZWxldGVEaGJFbmFibGVkID0gb3B0aW9ucy5kZWxldGVEaGJFbmFibGVkXG5cbiAgICAgICMgYnV0dG9ucyAvIGRpc3BsYXlcbiAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgc2NvcGUuc2hvd0NyZWF0ZURhc2hib2FyZEJ1dHRvbiA9IHRydWVcbiAgICAgIHNjb3BlLnNob3dEYXNoYm9hcmRzRHJvcGRvd24gPSBmYWxzZVxuICAgICAgc2NvcGUuc2hvd0NoYW5nZURhc2hib2FyZE5hbWVCb3ggPSBmYWxzZVxuICAgICAgc2NvcGUuYWNjZXNzaWJpbGl0eU1vZGUgPSBmYWxzZVxuXG4gICAgICBpZiAhIW9wdGlvbnMuY3VzdG9tVG1wbFBhdGhcbiAgICAgICAgY3VzdG9tVXJsID0gb3B0aW9ucy5jdXN0b21UbXBsUGF0aFxuICAgICAgZWxzZVxuICAgICAgICBzY29wZS5zZWxlY3RvclR5cGUgPSBvcHRpb25zLnNlbGVjdG9yVHlwZVxuXG4gICAgICBzZWxlY3RvclRlbXBsYXRlID0gbnVsbFxuXG4gICAgICBzZXRUZW1wbGF0ZSA9IChwYXRoKSAtPlxuICAgICAgICBzZWxlY3RvclRlbXBsYXRlID0gcGF0aFxuXG4gICAgICBzd2l0Y2ggc2NvcGUuc2VsZWN0b3JUeXBlXG4gICAgICAgIHdoZW4gJ2Ryb3Bkb3duJyB0aGVuIHNldFRlbXBsYXRlKCdkYXNoYm9hcmQtc2VsZWN0b3IvZHJvcGRvd24udG1wbC5odG1sJylcbiAgICAgICAgd2hlbiAndGFicycgdGhlbiBzZXRUZW1wbGF0ZSgnZGFzaGJvYXJkLXNlbGVjdG9yL2Jvb3RzdHJhcC10YWJzLnRtcGwuaHRtbCcpXG4gICAgICAgIHdoZW4gJ3BpbGxzJyB0aGVuIHNldFRlbXBsYXRlKCdkYXNoYm9hcmQtc2VsZWN0b3IvYm9vdHN0cmFwLXRhYnMudG1wbC5odG1sJylcbiAgICAgICAgZWxzZSBzZXRUZW1wbGF0ZShjdXN0b21VcmwpXG5cbiAgICAgICMgZ2V0cyBjdXN0b20gdGVtcGxhdGUgZnJvbSBsb2NhbCBwYXRoLCByZXR1cm5zIGFzIHN0cmluZy5cbiAgICAgIGdldEN1c3RvbVRlbXBsYXRlID0gLT5cbiAgICAgICAgJGh0dHAuZ2V0KHNlbGVjdG9yVGVtcGxhdGUsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS50aGVuKFxuICAgICAgICAgICh0bXBsQ29udGVudCkgLT5cbiAgICAgICAgICAgIGlmICF0bXBsQ29udGVudCBvciAhdG1wbENvbnRlbnQuZGF0YSBvciAhdG1wbENvbnRlbnQuZGF0YS5sZW5ndGhcbiAgICAgICAgICAgICAgJGxvZy53YXJuICdkYXNoYm9hcmRTZWxlY3RvciBjdXN0b20gdGVtcGxhdGU6IG5vIGNvbnRlbnQgZm91bmQnXG4gICAgICAgICAgICBfY29tcGlsZSh0bXBsQ29udGVudC5kYXRhKVxuICAgICAgICAgIChlcnIpIC0+XG4gICAgICAgICAgICAkbG9nLmVycm9yICdFcnJvciByZXRyaWV2aW5nIGN1c3RvbSB0ZW1wbGF0ZTogJywgZXJyXG4gICAgICAgIClcblxuICAgICAgIyBnZXRzIHRlbXBsYXRlIHN0cmluZyBmcm9tIHRlbXBsYXRlQ2FjaGVcbiAgICAgIGdldFRlbXBsYXRlID0gLT5cbiAgICAgICAgX2NvbXBpbGUoJHRlbXBsYXRlQ2FjaGUuZ2V0KHNlbGVjdG9yVGVtcGxhdGUpKVxuXG4gICAgICAjIGNvbXBpbGVzIGh0bWwgc3RyaW5nIHRvIGVsZW1lbnRcbiAgICAgIF9jb21waWxlID0gKGh0bWxTdHJpbmcpIC0+XG4gICAgICAgIGVsZW1lbnQuaHRtbChodG1sU3RyaW5nKS5zaG93KClcbiAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSlcblxuICAgICAgaWYgY3VzdG9tVXJsIHRoZW4gZ2V0Q3VzdG9tVGVtcGxhdGUoKSBlbHNlIGdldFRlbXBsYXRlKClcbiAgfVxuKVxuXG5cbiJdfQ==

(function() {
  angular.module('impac.components.kpis-bar', []).directive('kpisBar', ["$templateCache", "ImpacKpisSvc", function($templateCache, ImpacKpisSvc) {
    return {
      restrict: 'E',
      scope: {
        kpis: '='
      },
      template: $templateCache.get('kpis-bar/kpis-bar.tmpl.html'),
      controller: ["$scope", "$timeout", "$log", function($scope, $timeout, $log) {
        $scope.hideAvailableKpis = true;
        $scope.showKpisExpanded = false;
        $scope.showEditMode = false;
        $scope.isAddingKPI = false;
        $scope.availableKpis = ImpacKpisSvc.getKpisTemplates();
        $scope.toggleAvailableKpis = function() {
          return $scope.hideAvailableKpis = !$scope.hideAvailableKpis;
        };
        $scope.formatKpiName = function(endpoint) {
          var endpoint_splitted, name;
          endpoint_splitted = endpoint.split('/');
          name = endpoint_splitted[0] + ' | ' + endpoint_splitted.slice(1, endpoint_splitted.length).join(' ');
          name = name.replace('_', ' ');
          return name;
        };
        $scope.addKpi = function(kpi) {
          $scope.isAddingKPI = true;
          return ImpacKpisSvc.create(kpi.source || 'impac', kpi.endpoint, kpi.element_watched).then(function(success) {
            return $scope.kpis.push(success);
          }, function(error) {
            return $log.error("Impac Kpis bar can't add a kpi", error);
          })["finally"](function() {
            return $scope.isAddingKPI = false;
          });
        };
        $scope.removeKpi = function(kpiId) {
          return $scope.kpis = _.remove($scope.kpis, function(kpi) {
            return kpi.id !== kpiId;
          });
        };
        return $scope.toggleEditMode = function() {
          return $scope.showEditMode = !$scope.showEditMode;
        };
      }]
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMva3Bpcy1iYXIva3Bpcy1iYXIuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsMkJBRFYsRUFDdUMsRUFEdkMsQ0FFRSxDQUFDLFNBRkgsQ0FFYSxTQUZiLEVBRXdCLFNBQUMsY0FBRCxFQUFpQixZQUFqQjtBQUNwQixXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxJQUFBLEVBQU0sR0FERDtPQUZGO01BS0wsUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLDZCQUFuQixDQUxMO01BT0wsVUFBQSxFQUFZLFNBQUMsTUFBRCxFQUFTLFFBQVQsRUFBbUIsSUFBbkI7UUFDVixNQUFNLENBQUMsaUJBQVAsR0FBMkI7UUFDM0IsTUFBTSxDQUFDLGdCQUFQLEdBQTBCO1FBQzFCLE1BQU0sQ0FBQyxZQUFQLEdBQXNCO1FBQ3RCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCO1FBSXJCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFlBQVksQ0FBQyxnQkFBYixDQUFBO1FBVXZCLE1BQU0sQ0FBQyxtQkFBUCxHQUE2QixTQUFBO2lCQUMzQixNQUFNLENBQUMsaUJBQVAsR0FBMkIsQ0FBQyxNQUFNLENBQUM7UUFEUjtRQUc3QixNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFDLFFBQUQ7QUFDckIsY0FBQTtVQUFBLGlCQUFBLEdBQW9CLFFBQVEsQ0FBQyxLQUFULENBQWUsR0FBZjtVQUNwQixJQUFBLEdBQU8saUJBQWtCLENBQUEsQ0FBQSxDQUFsQixHQUF1QixLQUF2QixHQUErQixpQkFBaUIsQ0FBQyxLQUFsQixDQUF3QixDQUF4QixFQUEwQixpQkFBaUIsQ0FBQyxNQUE1QyxDQUFtRCxDQUFDLElBQXBELENBQXlELEdBQXpEO1VBQ3RDLElBQUEsR0FBTyxJQUFJLENBQUMsT0FBTCxDQUFhLEdBQWIsRUFBa0IsR0FBbEI7QUFDUCxpQkFBTztRQUpjO1FBTXZCLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLFNBQUMsR0FBRDtVQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCO2lCQUNyQixZQUFZLENBQUMsTUFBYixDQUFvQixHQUFHLENBQUMsTUFBSixJQUFjLE9BQWxDLEVBQTJDLEdBQUcsQ0FBQyxRQUEvQyxFQUF5RCxHQUFHLENBQUMsZUFBN0QsQ0FBNkUsQ0FBQyxJQUE5RSxDQUNFLFNBQUMsT0FBRDttQkFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQVosQ0FBaUIsT0FBakI7VUFERixDQURGLEVBR0UsU0FBQyxLQUFEO21CQUNFLElBQUksQ0FBQyxLQUFMLENBQVcsZ0NBQVgsRUFBNkMsS0FBN0M7VUFERixDQUhGLENBS0MsQ0FBQyxTQUFELENBTEQsQ0FLVSxTQUFBO21CQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCO1VBQXhCLENBTFY7UUFGYztRQVNoQixNQUFNLENBQUMsU0FBUCxHQUFtQixTQUFDLEtBQUQ7aUJBQ2pCLE1BQU0sQ0FBQyxJQUFQLEdBQWMsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxNQUFNLENBQUMsSUFBaEIsRUFBc0IsU0FBQyxHQUFEO21CQUNsQyxHQUFHLENBQUMsRUFBSixLQUFVO1VBRHdCLENBQXRCO1FBREc7ZUFLbkIsTUFBTSxDQUFDLGNBQVAsR0FBd0IsU0FBQTtpQkFDdEIsTUFBTSxDQUFDLFlBQVAsR0FBc0IsQ0FBQyxNQUFNLENBQUM7UUFEUjtNQXpDZCxDQVBQOztFQURhLENBRnhCO0FBQUEiLCJmaWxlIjoiY29tcG9uZW50cy9rcGlzLWJhci9rcGlzLWJhci5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gIC5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMua3Bpcy1iYXInLCBbXSlcbiAgLmRpcmVjdGl2ZSgna3Bpc0JhcicsICgkdGVtcGxhdGVDYWNoZSwgSW1wYWNLcGlzU3ZjKSAtPlxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnXG4gICAgICBzY29wZToge1xuICAgICAgICBrcGlzOiAnPSdcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2twaXMtYmFyL2twaXMtYmFyLnRtcGwuaHRtbCcpXG5cbiAgICAgIGNvbnRyb2xsZXI6ICgkc2NvcGUsICR0aW1lb3V0LCAkbG9nKSAtPlxuICAgICAgICAkc2NvcGUuaGlkZUF2YWlsYWJsZUtwaXMgPSB0cnVlXG4gICAgICAgICRzY29wZS5zaG93S3Bpc0V4cGFuZGVkID0gZmFsc2VcbiAgICAgICAgJHNjb3BlLnNob3dFZGl0TW9kZSA9IGZhbHNlXG4gICAgICAgICRzY29wZS5pc0FkZGluZ0tQSSA9IGZhbHNlXG5cbiAgICAgICAgIyByZWZlcmVuY2VzIHRvIHNlcnZpY2VzIChib3VuZCBvYmplY3RzIHNoYXJlZCBiZXR3ZWVuIGFsbCBjb250cm9sbGVycylcbiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICRzY29wZS5hdmFpbGFibGVLcGlzID0gSW1wYWNLcGlzU3ZjLmdldEtwaXNUZW1wbGF0ZXMoKVxuXG4gICAgICAgICMgJHNjb3BlLmtleVN0YXRzID0gW1xuICAgICAgICAjICAgeyBuYW1lOiAnSW50ZXJlc3QnLCBkYXRhOiB7IHZhbHVlOiAnLTE1LjMwJywgdW5pdDogJyUnIH0sIHN0YXRpYzogdHJ1ZSB9LFxuICAgICAgICAjICAgeyBuYW1lOiAnUHJvZml0YWJpbGl0eScsIGRhdGE6IHsgdmFsdWU6ICc4LjM0JywgdW5pdDogJyUnIH0sIHN0YXRpYzogdHJ1ZX0sXG4gICAgICAgICMgICB7IG5hbWU6ICdDb3N0IG9mIGNhcGl0YWwnLCBkYXRhOiB7IHZhbHVlOiAnMjAuMDAnLCB1bml0OiAnQVVEJyB9LCBzdGF0aWM6IHRydWV9LFxuICAgICAgICAjICAgeyBuYW1lOiAnVEFYICUgYmFzZWQgb24gRlkxNCcsIGRhdGE6IHsgdmFsdWU6ICcyOS45MScsIHVuaXQ6ICclJyB9LCBzdGF0aWM6IHRydWV9LFxuICAgICAgICAjICAgeyBuYW1lOiAnU3VwZXInLCBkYXRhOiB7IHZhbHVlOiAnNDc5MDIzJywgdW5pdDogJ0FVRCcgfSwgc3RhdGljOiB0cnVlfVxuICAgICAgICAjIF1cblxuICAgICAgICAkc2NvcGUudG9nZ2xlQXZhaWxhYmxlS3BpcyA9IC0+XG4gICAgICAgICAgJHNjb3BlLmhpZGVBdmFpbGFibGVLcGlzID0gISRzY29wZS5oaWRlQXZhaWxhYmxlS3Bpc1xuXG4gICAgICAgICRzY29wZS5mb3JtYXRLcGlOYW1lID0gKGVuZHBvaW50KSAtPlxuICAgICAgICAgIGVuZHBvaW50X3NwbGl0dGVkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVxuICAgICAgICAgIG5hbWUgPSBlbmRwb2ludF9zcGxpdHRlZFswXSArICcgfCAnICsgZW5kcG9pbnRfc3BsaXR0ZWQuc2xpY2UoMSxlbmRwb2ludF9zcGxpdHRlZC5sZW5ndGgpLmpvaW4oJyAnKVxuICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoJ18nLCAnICcpXG4gICAgICAgICAgcmV0dXJuIG5hbWVcblxuICAgICAgICAkc2NvcGUuYWRkS3BpID0gKGtwaSkgLT5cbiAgICAgICAgICAkc2NvcGUuaXNBZGRpbmdLUEkgPSB0cnVlXG4gICAgICAgICAgSW1wYWNLcGlzU3ZjLmNyZWF0ZShrcGkuc291cmNlIHx8ICdpbXBhYycsIGtwaS5lbmRwb2ludCwga3BpLmVsZW1lbnRfd2F0Y2hlZCkudGhlbihcbiAgICAgICAgICAgIChzdWNjZXNzKSAtPlxuICAgICAgICAgICAgICAkc2NvcGUua3Bpcy5wdXNoKHN1Y2Nlc3MpXG4gICAgICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyBLcGlzIGJhciBjYW4ndCBhZGQgYSBrcGlcIiwgZXJyb3IpXG4gICAgICAgICAgKS5maW5hbGx5KC0+ICRzY29wZS5pc0FkZGluZ0tQSSA9IGZhbHNlKVxuXG4gICAgICAgICRzY29wZS5yZW1vdmVLcGkgPSAoa3BpSWQpIC0+XG4gICAgICAgICAgJHNjb3BlLmtwaXMgPSBfLnJlbW92ZSgkc2NvcGUua3BpcywgKGtwaSkgLT5cbiAgICAgICAgICAgIGtwaS5pZCAhPSBrcGlJZFxuICAgICAgICAgIClcblxuICAgICAgICAkc2NvcGUudG9nZ2xlRWRpdE1vZGUgPSAtPlxuICAgICAgICAgICRzY29wZS5zaG93RWRpdE1vZGUgPSAhJHNjb3BlLnNob3dFZGl0TW9kZVxuICAgIH1cbiAgKVxuIl19

(function() {
  angular.module('impac.components.kpi', []).directive('impacKpi', ["$log", "ImpacKpisSvc", function($log, ImpacKpisSvc) {
    return {
      restrict: 'EA',
      scope: {
        onDelete: '&',
        kpi: '=',
        editMode: '='
      },
      templateUrl: 'kpi/kpi.tmpl.html',
      controller: ["$scope", function($scope) {
        $scope.showEditSettings = false;
        $scope.kpiTemplates = ImpacKpisSvc.getKpisTemplates();
        $scope.possibleExtraParams = [];
        $scope.limit = {};
        $scope.possibleTargets = [
          {
            label: 'over',
            mode: 'min'
          }, {
            label: 'below',
            mode: 'max'
          }
        ];
        if (!$scope.kpi["static"]) {
          ImpacKpisSvc.show($scope.kpi).then(function(success) {
            var base, kpiTemplate;
            kpiTemplate = _.find($scope.kpiTemplates, function(aKpi) {
              return aKpi.endpoint === $scope.kpi.endpoint;
            });
            if ((kpiTemplate != null) && (kpiTemplate.extra_params != null)) {
              $scope.kpi.possibleExtraParams = kpiTemplate.extra_params;
            }
            (base = $scope.kpi).targets || (base.targets = []);
            if (!_.isEmpty($scope.kpi.targets[0])) {
              if ($scope.kpi.limit == null) {
                $scope.kpi.limit = {};
              }
              $scope.kpi.limit.mode = _.keys($scope.kpi.targets[0])[0];
              return $scope.kpi.limit.value = _.values($scope.kpi.targets[0])[0];
            }
          });
        }
        $scope.displayEditSettings = function() {
          return $scope.showEditSettings = true;
        };
        $scope.hideEditSettings = function() {
          return $scope.showEditSettings = false;
        };
        $scope.updateName = function() {
          if (_.isEmpty($scope.kpi.name)) {
            return;
          }
          return ImpacKpisSvc.update($scope.kpi, {
            name: $scope.kpi.name
          });
        };
        $scope.updateSettings = function() {
          var params, target0;
          params = {};
          if (!(_.isEmpty($scope.kpi.limit.value || _.isEmpty($scope.kpi.limit.mode)))) {
            target0 = {};
            target0[$scope.kpi.limit.mode] = $scope.kpi.limit.value;
            params.targets = [target0];
          }
          if (!_.isEmpty($scope.kpi.extra_params)) {
            params.extra_params = $scope.kpi.extra_params;
          }
          if (!_.isEmpty(params)) {
            ImpacKpisSvc.update($scope.kpi, params);
          }
          return $scope.hideEditSettings();
        };
        return $scope.deleteKpi = function() {
          if ($scope.kpi["static"]) {
            return;
          }
          return ImpacKpisSvc["delete"]($scope.kpi).then((function(success) {
            return $scope.onDelete();
          }));
        };
      }]
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMva3BpL2twaS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSxzQkFEVixFQUNrQyxFQURsQyxDQUVFLENBQUMsU0FGSCxDQUVhLFVBRmIsRUFFeUIsU0FBQyxJQUFELEVBQU8sWUFBUDtBQUNyQixXQUFPO01BQ0wsUUFBQSxFQUFVLElBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxRQUFBLEVBQVUsR0FETDtRQUVMLEdBQUEsRUFBSyxHQUZBO1FBR0wsUUFBQSxFQUFVLEdBSEw7T0FGRjtNQU9MLFdBQUEsRUFBYSxtQkFQUjtNQVNMLFVBQUEsRUFBWSxTQUFDLE1BQUQ7UUFDVixNQUFNLENBQUMsZ0JBQVAsR0FBMEI7UUFFMUIsTUFBTSxDQUFDLFlBQVAsR0FBc0IsWUFBWSxDQUFDLGdCQUFiLENBQUE7UUFDdEIsTUFBTSxDQUFDLG1CQUFQLEdBQTZCO1FBQzdCLE1BQU0sQ0FBQyxLQUFQLEdBQWU7UUFDZixNQUFNLENBQUMsZUFBUCxHQUF5QjtVQUN2QjtZQUFFLEtBQUEsRUFBTyxNQUFUO1lBQWlCLElBQUEsRUFBTSxLQUF2QjtXQUR1QixFQUV2QjtZQUFFLEtBQUEsRUFBTyxPQUFUO1lBQWtCLElBQUEsRUFBTSxLQUF4QjtXQUZ1Qjs7UUFLekIsSUFBQSxDQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBRCxDQUFqQjtVQUNFLFlBQVksQ0FBQyxJQUFiLENBQWtCLE1BQU0sQ0FBQyxHQUF6QixDQUE2QixDQUFDLElBQTlCLENBQ0UsU0FBQyxPQUFEO0FBRUUsZ0JBQUE7WUFBQSxXQUFBLEdBQWMsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsWUFBZCxFQUE0QixTQUFDLElBQUQ7cUJBQ3hDLElBQUksQ0FBQyxRQUFMLEtBQWlCLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFEWSxDQUE1QjtZQUlkLElBQUcscUJBQUEsSUFBZ0Isa0NBQW5CO2NBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxtQkFBWCxHQUFpQyxXQUFXLENBQUMsYUFEL0M7O29CQUdBLE1BQU0sQ0FBQyxJQUFHLENBQUMsZ0JBQUQsQ0FBQyxVQUFZO1lBQ3ZCLElBQUcsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBN0IsQ0FBSjtjQUNFLElBQTBCLHdCQUExQjtnQkFBQSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQVgsR0FBbUIsR0FBbkI7O2NBQ0EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBakIsR0FBd0IsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQTFCLENBQThCLENBQUEsQ0FBQTtxQkFDdEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBakIsR0FBeUIsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQTVCLENBQWdDLENBQUEsQ0FBQSxFQUgzRDs7VUFWRixDQURGLEVBREY7O1FBa0JBLE1BQU0sQ0FBQyxtQkFBUCxHQUE2QixTQUFBO2lCQUMzQixNQUFNLENBQUMsZ0JBQVAsR0FBMEI7UUFEQztRQUc3QixNQUFNLENBQUMsZ0JBQVAsR0FBMEIsU0FBQTtpQkFDeEIsTUFBTSxDQUFDLGdCQUFQLEdBQTBCO1FBREY7UUFHMUIsTUFBTSxDQUFDLFVBQVAsR0FBb0IsU0FBQTtVQUNsQixJQUFVLENBQUMsQ0FBQyxPQUFGLENBQVUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFyQixDQUFWO0FBQUEsbUJBQUE7O2lCQUNBLFlBQVksQ0FBQyxNQUFiLENBQW9CLE1BQU0sQ0FBQyxHQUEzQixFQUFnQztZQUFFLElBQUEsRUFBTSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQW5CO1dBQWhDO1FBRmtCO1FBSXBCLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLFNBQUE7QUFDdEIsY0FBQTtVQUFBLE1BQUEsR0FBUztVQUNULElBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBakIsSUFBMEIsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUEzQixDQUFwQyxDQUFELENBQUo7WUFDRSxPQUFBLEdBQVU7WUFDVixPQUFRLENBQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBakIsQ0FBUixHQUFpQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUNsRCxNQUFNLENBQUMsT0FBUCxHQUFpQixDQUFDLE9BQUQsRUFIbkI7O1VBSUEsSUFBQSxDQUFxRCxDQUFDLENBQUMsT0FBRixDQUFVLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBckIsQ0FBckQ7WUFBQSxNQUFNLENBQUMsWUFBUCxHQUFzQixNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWpDOztVQUVBLElBQUEsQ0FBK0MsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxNQUFWLENBQS9DO1lBQUEsWUFBWSxDQUFDLE1BQWIsQ0FBb0IsTUFBTSxDQUFDLEdBQTNCLEVBQWdDLE1BQWhDLEVBQUE7O2lCQUVBLE1BQU0sQ0FBQyxnQkFBUCxDQUFBO1FBVnNCO2VBWXhCLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLFNBQUE7VUFDakIsSUFBVSxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQUQsQ0FBcEI7QUFBQSxtQkFBQTs7aUJBQ0EsWUFBWSxDQUFDLFFBQUQsQ0FBWixDQUFvQixNQUFNLENBQUMsR0FBM0IsQ0FBK0IsQ0FBQyxJQUFoQyxDQUFxQyxDQUFDLFNBQUMsT0FBRDttQkFBYSxNQUFNLENBQUMsUUFBUCxDQUFBO1VBQWIsQ0FBRCxDQUFyQztRQUZpQjtNQW5EVCxDQVRQOztFQURjLENBRnpCO0FBQUEiLCJmaWxlIjoiY29tcG9uZW50cy9rcGkva3BpLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy5rcGknLCBbXSlcbiAgLmRpcmVjdGl2ZSgnaW1wYWNLcGknLCAoJGxvZywgSW1wYWNLcGlzU3ZjKSAtPlxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJ1xuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb25EZWxldGU6ICcmJ1xuICAgICAgICBrcGk6ICc9J1xuICAgICAgICBlZGl0TW9kZTogJz0nXG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZVVybDogJ2twaS9rcGkudG1wbC5odG1sJ1xuXG4gICAgICBjb250cm9sbGVyOiAoJHNjb3BlKSAtPlxuICAgICAgICAkc2NvcGUuc2hvd0VkaXRTZXR0aW5ncyA9IGZhbHNlXG5cbiAgICAgICAgJHNjb3BlLmtwaVRlbXBsYXRlcyA9IEltcGFjS3Bpc1N2Yy5nZXRLcGlzVGVtcGxhdGVzKClcbiAgICAgICAgJHNjb3BlLnBvc3NpYmxlRXh0cmFQYXJhbXMgPSBbXVxuICAgICAgICAkc2NvcGUubGltaXQgPSB7fVxuICAgICAgICAkc2NvcGUucG9zc2libGVUYXJnZXRzID0gW1xuICAgICAgICAgIHsgbGFiZWw6ICdvdmVyJywgbW9kZTogJ21pbicgfVxuICAgICAgICAgIHsgbGFiZWw6ICdiZWxvdycsIG1vZGU6ICdtYXgnIH1cbiAgICAgICAgXVxuXG4gICAgICAgIHVubGVzcyAkc2NvcGUua3BpLnN0YXRpY1xuICAgICAgICAgIEltcGFjS3Bpc1N2Yy5zaG93KCRzY29wZS5rcGkpLnRoZW4oXG4gICAgICAgICAgICAoc3VjY2VzcykgLT5cbiAgICAgICAgICAgICAgIyBHZXQgdGhlIGNvcnJlc3BvbmRpbmcgdGVtcGxhdGUgb2YgdGhlIEtQSSBsb2FkZWRcbiAgICAgICAgICAgICAga3BpVGVtcGxhdGUgPSBfLmZpbmQgJHNjb3BlLmtwaVRlbXBsYXRlcywgKGFLcGkpIC0+XG4gICAgICAgICAgICAgICAgYUtwaS5lbmRwb2ludCA9PSAkc2NvcGUua3BpLmVuZHBvaW50XG5cbiAgICAgICAgICAgICAgIyBJZiB0aGUgdGVtcGxhdGUgY29udGFpbnMgZXh0cmEgcGFyYW1zIHdlIGFkZCBpdCB0byB0aGUgS1BJXG4gICAgICAgICAgICAgIGlmIGtwaVRlbXBsYXRlPyAmJiBrcGlUZW1wbGF0ZS5leHRyYV9wYXJhbXM/XG4gICAgICAgICAgICAgICAgJHNjb3BlLmtwaS5wb3NzaWJsZUV4dHJhUGFyYW1zID0ga3BpVGVtcGxhdGUuZXh0cmFfcGFyYW1zXG5cbiAgICAgICAgICAgICAgJHNjb3BlLmtwaS50YXJnZXRzIHx8PSBbXVxuICAgICAgICAgICAgICBpZiAhXy5pc0VtcHR5KCRzY29wZS5rcGkudGFyZ2V0c1swXSlcbiAgICAgICAgICAgICAgICAkc2NvcGUua3BpLmxpbWl0ID0ge30gaWYgISRzY29wZS5rcGkubGltaXQ/XG4gICAgICAgICAgICAgICAgJHNjb3BlLmtwaS5saW1pdC5tb2RlID0gXy5rZXlzKCRzY29wZS5rcGkudGFyZ2V0c1swXSlbMF1cbiAgICAgICAgICAgICAgICAkc2NvcGUua3BpLmxpbWl0LnZhbHVlID0gXy52YWx1ZXMoJHNjb3BlLmtwaS50YXJnZXRzWzBdKVswXVxuICAgICAgICAgIClcblxuICAgICAgICAkc2NvcGUuZGlzcGxheUVkaXRTZXR0aW5ncyA9IC0+XG4gICAgICAgICAgJHNjb3BlLnNob3dFZGl0U2V0dGluZ3MgPSB0cnVlXG5cbiAgICAgICAgJHNjb3BlLmhpZGVFZGl0U2V0dGluZ3MgPSAtPlxuICAgICAgICAgICRzY29wZS5zaG93RWRpdFNldHRpbmdzID0gZmFsc2VcblxuICAgICAgICAkc2NvcGUudXBkYXRlTmFtZSA9IC0+XG4gICAgICAgICAgcmV0dXJuIGlmIF8uaXNFbXB0eSgkc2NvcGUua3BpLm5hbWUpXG4gICAgICAgICAgSW1wYWNLcGlzU3ZjLnVwZGF0ZSgkc2NvcGUua3BpLCB7IG5hbWU6ICRzY29wZS5rcGkubmFtZSB9KVxuXG4gICAgICAgICRzY29wZS51cGRhdGVTZXR0aW5ncyA9IC0+XG4gICAgICAgICAgcGFyYW1zID0ge31cbiAgICAgICAgICBpZiAhKF8uaXNFbXB0eSAkc2NvcGUua3BpLmxpbWl0LnZhbHVlIHx8IF8uaXNFbXB0eSAkc2NvcGUua3BpLmxpbWl0Lm1vZGUpXG4gICAgICAgICAgICB0YXJnZXQwID0ge31cbiAgICAgICAgICAgIHRhcmdldDBbJHNjb3BlLmtwaS5saW1pdC5tb2RlXSA9ICRzY29wZS5rcGkubGltaXQudmFsdWVcbiAgICAgICAgICAgIHBhcmFtcy50YXJnZXRzID0gW3RhcmdldDBdXG4gICAgICAgICAgcGFyYW1zLmV4dHJhX3BhcmFtcyA9ICRzY29wZS5rcGkuZXh0cmFfcGFyYW1zIHVubGVzcyBfLmlzRW1wdHkoJHNjb3BlLmtwaS5leHRyYV9wYXJhbXMpXG5cbiAgICAgICAgICBJbXBhY0twaXNTdmMudXBkYXRlKCRzY29wZS5rcGksIHBhcmFtcykgdW5sZXNzIF8uaXNFbXB0eShwYXJhbXMpXG5cbiAgICAgICAgICAkc2NvcGUuaGlkZUVkaXRTZXR0aW5ncygpXG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZUtwaSA9IC0+XG4gICAgICAgICAgcmV0dXJuIGlmICRzY29wZS5rcGkuc3RhdGljXG4gICAgICAgICAgSW1wYWNLcGlzU3ZjLmRlbGV0ZSgkc2NvcGUua3BpKS50aGVuICgoc3VjY2VzcykgLT4gJHNjb3BlLm9uRGVsZXRlKCkpXG4gICAgfVxuICApXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widget', []);

  module.controller('ImpacWidgetCtrl', ["$scope", "$log", "$q", "$timeout", "ImpacWidgetsSvc", function($scope, $log, $q, $timeout, ImpacWidgetsSvc) {
    var w;
    w = $scope.widget || {};
    $scope.widgetDeferred = $q.defer();
    $scope.widgetDeferred.promise.then(function(promises) {
      return $q.all(promises).then(function(success) {
        return $scope.showWidget();
      }, function(error) {
        w.isLoading = false;
        $log.error("widget " + w.id + " failed to render");
        return $log.error(error);
      });
    });
    $scope.showWidget = function(refreshCache) {
      if (refreshCache == null) {
        refreshCache = false;
      }
      w.isLoading || (w.isLoading = true);
      return ImpacWidgetsSvc.show(w, refreshCache).then(function(updatedWidget) {
        if ($scope.isAccessibility) {
          w.initialWidth = w.width;
          return w.width = 12;
        } else if (w.initialWidth) {
          return w.width = w.initialWidth;
        }
      })["finally"](function() {
        return w.isLoading = false;
      });
    };
    $scope.initSettings = function() {
      return ImpacWidgetsSvc.initWidgetSettings(w);
    };
    $scope.updateSettings = function(needContentReload) {
      if (needContentReload == null) {
        needContentReload = true;
      }
      return ImpacWidgetsSvc.updateWidgetSettings(w, needContentReload);
    };
    return w.getColClass = function() {
      return "col-md-" + w.width;
    };
  }]);

  module.directive('impacWidget', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentDashboard: '=',
        widget: '=',
        isAccessibility: '=',
        onDisplayAlerts: '&'
      },
      controller: 'ImpacWidgetCtrl',
      link: function(scope, element) {
        scope.widget.isLoading = true;
        scope.widget.settings = [];
        scope.widget.hasEditAbility = true;
        scope.widget.hasDeleteAbility = true;
        return scope.widgetContentTemplate = function() {
          var splittedPath, templatePath;
          if (scope.widget.metadata.template) {
            scope.templateName = scope.widget.metadata.template.replace(/\/|_/g, '-');
          } else {
            splittedPath = angular.copy(scope.widget.category).split('/');
            splittedPath.length = 2;
            scope.templateName = splittedPath.join("-").replace(/_/g, '-');
          }
          templatePath = 'widgets/' + scope.templateName + '.tmpl.html';
          if (scope.isAccessibility) {
            if ($templateCache.get('widgets/' + scope.templateName + '.accessible.tmpl.html')) {
              templatePath = 'widgets/' + scope.templateName + '.accessible.tmpl.html';
            }
            scope.templateName = scope.templateName + ' accessible';
          }
          return templatePath;
        };
      },
      template: $templateCache.get('widget/widget.tmpl.html')
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0L3dpZGdldC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSx5QkFBZixFQUEwQyxFQUExQzs7RUFDVCxNQUFNLENBQUMsVUFBUCxDQUFrQixpQkFBbEIsRUFBcUMsU0FBQyxNQUFELEVBQVMsSUFBVCxFQUFlLEVBQWYsRUFBbUIsUUFBbkIsRUFBNkIsZUFBN0I7QUFFbkMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUMsTUFBUCxJQUFpQjtJQUtyQixNQUFNLENBQUMsY0FBUCxHQUF3QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3hCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQTlCLENBRUUsU0FBQyxRQUFEO2FBQ0UsRUFBRSxDQUFDLEdBQUgsQ0FBTyxRQUFQLENBQWdCLENBQUMsSUFBakIsQ0FDRSxTQUFDLE9BQUQ7ZUFDRSxNQUFNLENBQUMsVUFBUCxDQUFBO01BREYsQ0FERixFQUlFLFNBQUMsS0FBRDtRQUNFLENBQUMsQ0FBQyxTQUFGLEdBQWM7UUFDZCxJQUFJLENBQUMsS0FBTCxDQUFXLFNBQUEsR0FBVSxDQUFDLENBQUMsRUFBWixHQUFlLG1CQUExQjtlQUNBLElBQUksQ0FBQyxLQUFMLENBQVcsS0FBWDtNQUhGLENBSkY7SUFERixDQUZGO0lBZUEsTUFBTSxDQUFDLFVBQVAsR0FBb0IsU0FBQyxZQUFEOztRQUFDLGVBQWE7O01BQ2hDLENBQUMsQ0FBQyxjQUFGLENBQUMsQ0FBQyxZQUFjO2FBQ2hCLGVBQWUsQ0FBQyxJQUFoQixDQUFxQixDQUFyQixFQUF3QixZQUF4QixDQUFxQyxDQUFDLElBQXRDLENBQ0UsU0FBQyxhQUFEO1FBRUUsSUFBRyxNQUFNLENBQUMsZUFBVjtVQUNFLENBQUMsQ0FBQyxZQUFGLEdBQWlCLENBQUMsQ0FBQztpQkFDbkIsQ0FBQyxDQUFDLEtBQUYsR0FBVSxHQUZaO1NBQUEsTUFHSyxJQUFHLENBQUMsQ0FBQyxZQUFMO2lCQUNILENBQUMsQ0FBQyxLQUFGLEdBQVUsQ0FBQyxDQUFDLGFBRFQ7O01BTFAsQ0FERixDQVFDLENBQUMsU0FBRCxDQVJELENBUVcsU0FBQTtlQUFHLENBQUMsQ0FBQyxTQUFGLEdBQWM7TUFBakIsQ0FSWDtJQUZrQjtJQVlwQixNQUFNLENBQUMsWUFBUCxHQUFzQixTQUFBO2FBQ3BCLGVBQWUsQ0FBQyxrQkFBaEIsQ0FBbUMsQ0FBbkM7SUFEb0I7SUFHdEIsTUFBTSxDQUFDLGNBQVAsR0FBd0IsU0FBQyxpQkFBRDs7UUFBQyxvQkFBa0I7O2FBQ3pDLGVBQWUsQ0FBQyxvQkFBaEIsQ0FBcUMsQ0FBckMsRUFBd0MsaUJBQXhDO0lBRHNCO1dBR3hCLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7YUFDZCxTQUFBLEdBQVUsQ0FBQyxDQUFDO0lBREU7RUF6Q21CLENBQXJDOztFQTZDQSxNQUFNLENBQUMsU0FBUCxDQUFpQixhQUFqQixFQUFnQyxTQUFDLGNBQUQ7QUFDOUIsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsZUFBQSxFQUFpQixHQURaO1FBRUwsTUFBQSxFQUFRLEdBRkg7UUFHTCxlQUFBLEVBQWlCLEdBSFo7UUFJTCxlQUFBLEVBQWlCLEdBSlo7T0FGRjtNQVFMLFVBQUEsRUFBWSxpQkFSUDtNQVNMLElBQUEsRUFBTSxTQUFDLEtBQUQsRUFBUSxPQUFSO1FBSUosS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFiLEdBQXlCO1FBQ3pCLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBYixHQUF3QjtRQUV4QixLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWIsR0FBOEI7UUFDOUIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxnQkFBYixHQUFnQztlQU9oQyxLQUFLLENBQUMscUJBQU4sR0FBOEIsU0FBQTtBQUU1QixjQUFBO1VBQUEsSUFBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUF6QjtZQUNFLEtBQUssQ0FBQyxZQUFOLEdBQXFCLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxPQUEvQixDQUF1QyxPQUF2QyxFQUFnRCxHQUFoRCxFQUR2QjtXQUFBLE1BQUE7WUFLRSxZQUFBLEdBQWUsT0FBTyxDQUFDLElBQVIsQ0FBYSxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQTFCLENBQW1DLENBQUMsS0FBcEMsQ0FBMEMsR0FBMUM7WUFFZixZQUFZLENBQUMsTUFBYixHQUFzQjtZQUN0QixLQUFLLENBQUMsWUFBTixHQUFxQixZQUFZLENBQUMsSUFBYixDQUFrQixHQUFsQixDQUFzQixDQUFDLE9BQXZCLENBQStCLElBQS9CLEVBQXFDLEdBQXJDLEVBUnZCOztVQVdBLFlBQUEsR0FBZSxVQUFBLEdBQWEsS0FBSyxDQUFDLFlBQW5CLEdBQWtDO1VBRWpELElBQUcsS0FBSyxDQUFDLGVBQVQ7WUFDRSxJQUFHLGNBQWMsQ0FBQyxHQUFmLENBQW1CLFVBQUEsR0FBYSxLQUFLLENBQUMsWUFBbkIsR0FBa0MsdUJBQXJELENBQUg7Y0FDRSxZQUFBLEdBQWUsVUFBQSxHQUFhLEtBQUssQ0FBQyxZQUFuQixHQUFrQyx3QkFEbkQ7O1lBRUEsS0FBSyxDQUFDLFlBQU4sR0FBcUIsS0FBSyxDQUFDLFlBQU4sR0FBcUIsY0FINUM7O0FBS0EsaUJBQU87UUFwQnFCO01BZjFCLENBVEQ7TUE4Q0osUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLHlCQUFuQixDQTlDTjs7RUFEdUIsQ0FBaEM7QUE5Q0EiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXQvd2lkZ2V0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldCcsIFtdKVxubW9kdWxlLmNvbnRyb2xsZXIoJ0ltcGFjV2lkZ2V0Q3RybCcsICgkc2NvcGUsICRsb2csICRxLCAkdGltZW91dCwgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0IHx8IHt9XG5cbiAgIyAxc3QgbG9hZFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAjIHdpZGdldERlZmVycmVkIHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgd2lkZ2V0IGlzIHJlYWR5IChpZTogYXQgdGhlIGVuZCBvZiB0aGUgJ3NwZWNpZmljJyBkaXJlY3RpdmUpXG4gICRzY29wZS53aWRnZXREZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnByb21pc2UudGhlbihcbiAgICAjIGVhY2ggcHJvbWlzZSBjb3JyZXNwb25kcyB0byBhIHNldHRpbmcsIGFuZCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIHNldHRpbmcgaXMgcmVhZHlcbiAgICAocHJvbWlzZXMpIC0+XG4gICAgICAkcS5hbGwocHJvbWlzZXMpLnRoZW4oXG4gICAgICAgIChzdWNjZXNzKSAtPlxuICAgICAgICAgICRzY29wZS5zaG93V2lkZ2V0KClcblxuICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgdy5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICRsb2cuZXJyb3IoXCJ3aWRnZXQgI3t3LmlkfSBmYWlsZWQgdG8gcmVuZGVyXCIpXG4gICAgICAgICAgJGxvZy5lcnJvcihlcnJvcilcbiAgICAgIClcbiAgKVxuXG5cbiAgJHNjb3BlLnNob3dXaWRnZXQgPSAocmVmcmVzaENhY2hlPWZhbHNlKSAtPlxuICAgIHcuaXNMb2FkaW5nIHx8PSB0cnVlXG4gICAgSW1wYWNXaWRnZXRzU3ZjLnNob3codywgcmVmcmVzaENhY2hlKS50aGVuKFxuICAgICAgKHVwZGF0ZWRXaWRnZXQpIC0+XG4gICAgICAgICNUT0RPOiBBY2Nlc3NpYmlsaXR5IHNob3VsZCBiZSB0cmVhdGVkIGRpZmZlcmVudGx5IChpbiBzZXJ2aWNlPylcbiAgICAgICAgaWYgJHNjb3BlLmlzQWNjZXNzaWJpbGl0eVxuICAgICAgICAgIHcuaW5pdGlhbFdpZHRoID0gdy53aWR0aFxuICAgICAgICAgIHcud2lkdGggPSAxMlxuICAgICAgICBlbHNlIGlmIHcuaW5pdGlhbFdpZHRoXG4gICAgICAgICAgdy53aWR0aCA9IHcuaW5pdGlhbFdpZHRoXG4gICAgKS5maW5hbGx5KCAtPiB3LmlzTG9hZGluZyA9IGZhbHNlICkgXG5cbiAgJHNjb3BlLmluaXRTZXR0aW5ncyA9IC0+XG4gICAgSW1wYWNXaWRnZXRzU3ZjLmluaXRXaWRnZXRTZXR0aW5ncyh3KVxuXG4gICRzY29wZS51cGRhdGVTZXR0aW5ncyA9IChuZWVkQ29udGVudFJlbG9hZD10cnVlKSAtPlxuICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LCBuZWVkQ29udGVudFJlbG9hZClcblxuICB3LmdldENvbENsYXNzID0gLT5cbiAgICBcImNvbC1tZC0je3cud2lkdGh9XCJcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnaW1wYWNXaWRnZXQnLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50RGFzaGJvYXJkOiAnPSdcbiAgICAgIHdpZGdldDogJz0nXG4gICAgICBpc0FjY2Vzc2liaWxpdHk6ICc9J1xuICAgICAgb25EaXNwbGF5QWxlcnRzOiAnJidcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdJbXBhY1dpZGdldEN0cmwnLFxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCkgLT5cblxuICAgICAgIyBpbml0aWFsaXplIHNjb3BlIGF0dHJpYnV0ZXNcbiAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIHNjb3BlLndpZGdldC5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICBzY29wZS53aWRnZXQuc2V0dGluZ3MgPSBbXVxuICAgICAgIyBVbnVzZWQgc28gZmFyIC0tPlxuICAgICAgc2NvcGUud2lkZ2V0Lmhhc0VkaXRBYmlsaXR5ID0gdHJ1ZVxuICAgICAgc2NvcGUud2lkZ2V0Lmhhc0RlbGV0ZUFiaWxpdHkgPSB0cnVlXG4gICAgICAjIDwtLVxuXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAjIERZTkFNSUMgV0lER0VUIFRFTVBMQVRFIExPQURJTkdcbiAgICAgICMgd2lkZ2V0IGNhdGVnb3J5IGFuZCBtZXRhZGF0YS50ZW1wbGF0ZSBkYXRhIHNlbnQgZnJvbSBNYWVzdHJhbm8gZGIuXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBzY29wZS53aWRnZXRDb250ZW50VGVtcGxhdGUgPSAtPlxuICAgICAgICAjIGltcGFjLWFuZ3VsYXIgY29tcG9uZW50IHRlbXBsYXRlIG5hbWVcbiAgICAgICAgaWYgc2NvcGUud2lkZ2V0Lm1ldGFkYXRhLnRlbXBsYXRlXG4gICAgICAgICAgc2NvcGUudGVtcGxhdGVOYW1lID0gc2NvcGUud2lkZ2V0Lm1ldGFkYXRhLnRlbXBsYXRlLnJlcGxhY2UoL1xcL3xfL2csICctJylcblxuICAgICAgICAjIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIG9sZCB3aWRnZXRzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzcGxpdHRlZFBhdGggPSBhbmd1bGFyLmNvcHkoc2NvcGUud2lkZ2V0LmNhdGVnb3J5KS5zcGxpdCgnLycpXG4gICAgICAgICAgIyByZW1vdmUgYW55IG51bWJlciBvZiBwYXRoIGV4dGVuc2lvbnMgYmV5b25kIGxlbmd0aCA+IDIuIChlZzogYWNjb3VudGluZ192YWx1ZXMgaXMgYSB0ZW1wbGF0ZSB1c2VkIGJ5IHNldmVyYWwgZGlmZmVyZW50IHdpZGdldHMpXG4gICAgICAgICAgc3BsaXR0ZWRQYXRoLmxlbmd0aCA9IDJcbiAgICAgICAgICBzY29wZS50ZW1wbGF0ZU5hbWUgPSBzcGxpdHRlZFBhdGguam9pbihcIi1cIikucmVwbGFjZSgvXy9nLCAnLScpXG5cbiAgICAgICAgIyB1cmwgZm9yIHJldHJlaXZpbmcgd2lkZ2V0IHRlbXBsYXRlcyBmcm9tIGFuZ3VsYXIgJHRlbXBsYXRlQ2FjaGUgc2VydmljZS5cbiAgICAgICAgdGVtcGxhdGVQYXRoID0gJ3dpZGdldHMvJyArIHNjb3BlLnRlbXBsYXRlTmFtZSArICcudG1wbC5odG1sJ1xuXG4gICAgICAgIGlmIHNjb3BlLmlzQWNjZXNzaWJpbGl0eVxuICAgICAgICAgIGlmICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy8nICsgc2NvcGUudGVtcGxhdGVOYW1lICsgJy5hY2Nlc3NpYmxlLnRtcGwuaHRtbCcpXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhdGggPSAnd2lkZ2V0cy8nICsgc2NvcGUudGVtcGxhdGVOYW1lICsgJy5hY2Nlc3NpYmxlLnRtcGwuaHRtbCdcbiAgICAgICAgICBzY29wZS50ZW1wbGF0ZU5hbWUgPSBzY29wZS50ZW1wbGF0ZU5hbWUgKyAnIGFjY2Vzc2libGUnXG5cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlUGF0aFxuXG4gICAgLHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldC93aWRnZXQudG1wbC5odG1sJylcbiAgfVxuKVxuIl19

(function() {
  angular.module('impac.filters.url-helper', []).filter('urlHelper', function() {
    return function(input, params) {
      var processArrayParams, processObjectParams;
      if (!input || !input.length) {
        return;
      }
      processArrayParams = function() {
        input = [input, params.shift()].join('?');
        return input = [].concat.apply([], [input, params]).join('&');
      };
      processObjectParams = function() {
        var arr, i, keys;
        i = 0;
        arr = [];
        keys = Object.keys(params);
        while (i < keys.length) {
          arr.push(keys[i] + '=' + params[keys[i]]);
          i++;
        }
        params = arr;
        return processArrayParams();
      };
      if (Array.isArray(params)) {
        processArrayParams();
      }
      if (typeof params === 'object' && !Array.isArray(params)) {
        processObjectParams();
      }
      return input;
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcnMvdXJsLWhlbHBlci91cmxIZWxwZXIuZmlsdGVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsMEJBRFYsRUFDc0MsRUFEdEMsQ0FFRSxDQUFDLE1BRkgsQ0FFVSxXQUZWLEVBRXVCLFNBQUE7QUFDbkIsV0FBTyxTQUFDLEtBQUQsRUFBUSxNQUFSO0FBQ0wsVUFBQTtNQUFBLElBQVUsQ0FBQyxLQUFELElBQVUsQ0FBQyxLQUFLLENBQUMsTUFBM0I7QUFBQSxlQUFBOztNQUVBLGtCQUFBLEdBQXFCLFNBQUE7UUFDbkIsS0FBQSxHQUFRLENBQUMsS0FBRCxFQUFPLE1BQU0sQ0FBQyxLQUFQLENBQUEsQ0FBUCxDQUFzQixDQUFDLElBQXZCLENBQTRCLEdBQTVCO2VBQ1IsS0FBQSxHQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBVixDQUFnQixFQUFoQixFQUFvQixDQUFDLEtBQUQsRUFBUSxNQUFSLENBQXBCLENBQW9DLENBQUMsSUFBckMsQ0FBMEMsR0FBMUM7TUFGVztNQUlyQixtQkFBQSxHQUFzQixTQUFBO0FBQ3BCLFlBQUE7UUFBQSxDQUFBLEdBQUk7UUFDSixHQUFBLEdBQU07UUFDTixJQUFBLEdBQU8sTUFBTSxDQUFDLElBQVAsQ0FBWSxNQUFaO0FBQ1AsZUFBTSxDQUFBLEdBQUksSUFBSSxDQUFDLE1BQWY7VUFDRSxHQUFHLENBQUMsSUFBSixDQUFTLElBQUssQ0FBQSxDQUFBLENBQUwsR0FBVSxHQUFWLEdBQWdCLE1BQU8sQ0FBQSxJQUFLLENBQUEsQ0FBQSxDQUFMLENBQWhDO1VBQ0EsQ0FBQTtRQUZGO1FBR0EsTUFBQSxHQUFTO2VBQ1Qsa0JBQUEsQ0FBQTtNQVJvQjtNQVV0QixJQUF3QixLQUFLLENBQUMsT0FBTixDQUFjLE1BQWQsQ0FBeEI7UUFBQSxrQkFBQSxDQUFBLEVBQUE7O01BQ0EsSUFBeUIsT0FBTyxNQUFQLEtBQWlCLFFBQWpCLElBQTZCLENBQUMsS0FBSyxDQUFDLE9BQU4sQ0FBYyxNQUFkLENBQXZEO1FBQUEsbUJBQUEsQ0FBQSxFQUFBOztBQUVBLGFBQU87SUFwQkY7RUFEWSxDQUZ2QjtBQUFBIiwiZmlsZSI6ImZpbHRlcnMvdXJsLWhlbHBlci91cmxIZWxwZXIuZmlsdGVyLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIyBGaWx0ZXIgaGVscGVyIGZvciBwcm9jZXNzaW5nIHBhcmFtcyBPYmplY3RzIG9yIEFycmF5cyBpbnRvIGEgUkVTVGZ1bCBpbmxpbmUgdXJsLlxuYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5maWx0ZXJzLnVybC1oZWxwZXInLCBbXSlcbiAgLmZpbHRlcigndXJsSGVscGVyJywgKCkgLT5cbiAgICByZXR1cm4gKGlucHV0LCBwYXJhbXMpIC0+XG4gICAgICByZXR1cm4gaWYgIWlucHV0IG9yICFpbnB1dC5sZW5ndGhcblxuICAgICAgcHJvY2Vzc0FycmF5UGFyYW1zID0gLT5cbiAgICAgICAgaW5wdXQgPSBbaW5wdXQscGFyYW1zLnNoaWZ0KCldLmpvaW4oJz8nKVxuICAgICAgICBpbnB1dCA9IFtdLmNvbmNhdC5hcHBseShbXSwgW2lucHV0LCBwYXJhbXNdKS5qb2luKCcmJylcblxuICAgICAgcHJvY2Vzc09iamVjdFBhcmFtcyA9IC0+XG4gICAgICAgIGkgPSAwXG4gICAgICAgIGFyciA9IFtdXG4gICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpXG4gICAgICAgIHdoaWxlIGkgPCBrZXlzLmxlbmd0aFxuICAgICAgICAgIGFyci5wdXNoKGtleXNbaV0gKyAnPScgKyBwYXJhbXNba2V5c1tpXV0pXG4gICAgICAgICAgaSsrXG4gICAgICAgIHBhcmFtcyA9IGFyclxuICAgICAgICBwcm9jZXNzQXJyYXlQYXJhbXMoKVxuXG4gICAgICBwcm9jZXNzQXJyYXlQYXJhbXMoKSBpZiBBcnJheS5pc0FycmF5KHBhcmFtcylcbiAgICAgIHByb2Nlc3NPYmplY3RQYXJhbXMoKSBpZiB0eXBlb2YgcGFyYW1zID09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHBhcmFtcylcblxuICAgICAgcmV0dXJuIGlucHV0XG4gIClcbiJdfQ==

(function() {
  angular.module('impac.services.assets', []).provider('ImpacAssets', function() {
    var _$get, paths, provider;
    provider = this;
    paths = {
      dataNotFound: null,
      impacTitleLogo: null,
      impacDashboardBackground: null,
      noWarning: false
    };
    provider.configure = function(configOptions) {
      return angular.extend(paths, configOptions);
    };
    _$get = function($log) {
      var service;
      service = this;
      service.get = function(key) {
        var msg, path;
        path = '';
        msg = 'impac-angular warning: There are missing assets (' + key + '), please refer to the including assets section in the docs.';
        if (paths[key] != null) {
          path = paths[key];
        } else {
          if (!paths.noWarning) {
            $log.warn(msg);
          }
        }
        return path;
      };
      return service;
    };
    _$get.$inject = ['$log'];
    provider.$get = _$get;
    return provider;
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL2Fzc2V0cy9hc3NldHMuc3ZjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsdUJBRFYsRUFDbUMsRUFEbkMsQ0FFRSxDQUFDLFFBRkgsQ0FFWSxhQUZaLEVBRTJCLFNBQUE7QUFDdkIsUUFBQTtJQUFBLFFBQUEsR0FBVztJQUtYLEtBQUEsR0FDRTtNQUFBLFlBQUEsRUFBYyxJQUFkO01BQ0EsY0FBQSxFQUFnQixJQURoQjtNQUVBLHdCQUFBLEVBQTBCLElBRjFCO01BR0EsU0FBQSxFQUFXLEtBSFg7O0lBUUYsUUFBUSxDQUFDLFNBQVQsR0FBcUIsU0FBQyxhQUFEO2FBQ25CLE9BQU8sQ0FBQyxNQUFSLENBQWUsS0FBZixFQUFzQixhQUF0QjtJQURtQjtJQUlyQixLQUFBLEdBQVEsU0FBQyxJQUFEO0FBQ04sVUFBQTtNQUFBLE9BQUEsR0FBVTtNQUlWLE9BQU8sQ0FBQyxHQUFSLEdBQWMsU0FBQyxHQUFEO0FBQ1osWUFBQTtRQUFBLElBQUEsR0FBTztRQUNQLEdBQUEsR0FBTSxtREFBQSxHQUFzRCxHQUF0RCxHQUE0RDtRQUNsRSxJQUFHLGtCQUFIO1VBQ0UsSUFBQSxHQUFPLEtBQU0sQ0FBQSxHQUFBLEVBRGY7U0FBQSxNQUFBO1VBR0UsSUFBQSxDQUFzQixLQUFLLENBQUMsU0FBNUI7WUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLEdBQVYsRUFBQTtXQUhGOztBQUlBLGVBQU87TUFQSztBQVNkLGFBQU87SUFkRDtJQWdCUixLQUFLLENBQUMsT0FBTixHQUFnQixDQUFDLE1BQUQ7SUFFaEIsUUFBUSxDQUFDLElBQVQsR0FBZ0I7QUFFaEIsV0FBTztFQXZDZ0IsQ0FGM0I7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy9hc3NldHMvYXNzZXRzLnN2Yy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiMgcHJvdmlkZXIgZm9yIGNvbmZpZ3VyaW5nIGltcGFjIHN0YXRpYyBhc3NldHMuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2ltcGFjLnNlcnZpY2VzLmFzc2V0cycsIFtdKVxuICAucHJvdmlkZXIoJ0ltcGFjQXNzZXRzJywgKCkgLT5cbiAgICBwcm92aWRlciA9IEBcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBQcml2YXRlIERlZmF1bHRzXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgcGFyZW50IGFwcCBzaG91bGQgaG9zdCBpbWFnZXMsIGNvbmZpZ3VyZSB0aGlzIHByb3ZpZGVyIHRvIHByb3ZpZGUgcmVsYXRpdmUgaW1nIHBhdGhzLlxuICAgIHBhdGhzID1cbiAgICAgIGRhdGFOb3RGb3VuZDogbnVsbCxcbiAgICAgIGltcGFjVGl0bGVMb2dvOiBudWxsLFxuICAgICAgaW1wYWNEYXNoYm9hcmRCYWNrZ3JvdW5kOiBudWxsLFxuICAgICAgbm9XYXJuaW5nOiBmYWxzZVxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgUHVibGljIG1ldGhvZHMgYXZhaWxhYmxlIGluIGNvbmZpZ1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBwcm92aWRlci5jb25maWd1cmUgPSAoY29uZmlnT3B0aW9ucykgLT5cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHBhdGhzLCBjb25maWdPcHRpb25zKVxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIF8kZ2V0ID0gKCRsb2cpIC0+XG4gICAgICBzZXJ2aWNlID0gQFxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBQdWJsaWMgbWV0aG9kcyBhdmFpbGFibGUgYXMgc2VydmljZVxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgc2VydmljZS5nZXQgPSAoa2V5KSAtPlxuICAgICAgICBwYXRoID0gJydcbiAgICAgICAgbXNnID0gJ2ltcGFjLWFuZ3VsYXIgd2FybmluZzogVGhlcmUgYXJlIG1pc3NpbmcgYXNzZXRzICgnICsga2V5ICsgJyksIHBsZWFzZSByZWZlciB0byB0aGUgaW5jbHVkaW5nIGFzc2V0cyBzZWN0aW9uIGluIHRoZSBkb2NzLidcbiAgICAgICAgaWYgcGF0aHNba2V5XT9cbiAgICAgICAgICBwYXRoID0gcGF0aHNba2V5XVxuICAgICAgICBlbHNlXG4gICAgICAgICAgJGxvZy53YXJuKG1zZykgdW5sZXNzIHBhdGhzLm5vV2FybmluZ1xuICAgICAgICByZXR1cm4gcGF0aFxuXG4gICAgICByZXR1cm4gc2VydmljZVxuICAgICMgaW5qZWN0IHNlcnZpY2UgZGVwZW5kZW5jaWVzIGhlcmUsIGFuZCBkZWNsYXJlIGluIF8kZ2V0IGZ1bmN0aW9uIGFyZ3MuXG4gICAgXyRnZXQuJGluamVjdCA9IFsnJGxvZyddO1xuICAgICMgYXR0YWNoIHByb3ZpZGVyIGZ1bmN0aW9uIG9udG8gdGhlIHByb3ZpZGVyIG9iamVjdFxuICAgIHByb3ZpZGVyLiRnZXQgPSBfJGdldFxuXG4gICAgcmV0dXJuIHByb3ZpZGVyXG4gIClcbiJdfQ==

(function() {
  angular.module('impac.services.chart-formatter', []).service('ChartFormatterSvc', ["ImpacTheming", "$filter", "$window", "$document", "ImpacDashboardsSvc", function(ImpacTheming, $filter, $window, $document, ImpacDashboardsSvc) {
    var COLORS, _self, cutHex, hexToB, hexToG, hexToR, hexToRGB, lightenColor;
    _self = this;
    COLORS = ImpacTheming.get().chartColors;
    $window.onblur = function() {
      return angular.element($document[0].getElementById('chartjs-tooltip')).remove();
    };
    this.getPositiveColor = function() {
      return COLORS.positive;
    };
    this.getNegativeColor = function() {
      return COLORS.negative;
    };
    this.getOthersColor = function() {
      return COLORS.others;
    };
    this.getColor = function(index) {
      return COLORS.array[index % COLORS.array.length];
    };
    cutHex = function(htmlColor) {
      return htmlColor.replace(/#/, '');
    };
    hexToR = function(htmlColor) {
      return parseInt((cutHex(htmlColor)).substring(0, 2), 16);
    };
    hexToG = function(htmlColor) {
      return parseInt((cutHex(htmlColor)).substring(2, 4), 16);
    };
    hexToB = function(htmlColor) {
      return parseInt((cutHex(htmlColor)).substring(4, 6), 16);
    };
    hexToRGB = function(htmlColor) {
      return [hexToR(htmlColor), hexToG(htmlColor), hexToB(htmlColor)].join(",");
    };
    lightenColor = function(htmlColor, alpha) {
      return "rgba(" + (hexToRGB(htmlColor)) + "," + alpha + ")";
    };
    this.customTooltip = function(tooltip) {
      var canvasEl, innerHtml, obj, offset, ref, tooltipEl;
      tooltipEl = angular.element('#chartjs-tooltip');
      if (!tooltipEl[0]) {
        angular.element('body').append('<div id="chartjs-tooltip"></div>');
        tooltipEl = angular.element('#chartjs-tooltip');
      }
      if (!tooltip.opacity) {
        tooltipEl.css({
          opacity: 0.5
        });
        return;
      }
      tooltipEl.removeClass('above below no-transform');
      if (tooltip.yAlign) {
        tooltipEl.addClass(tooltip.yAlign);
      } else {
        tooltipEl.addClass('no-transform');
      }
      if (tooltip.body) {
        innerHtml = _.compact([(tooltip.beforeTitle || []).join('<br/>'), (tooltip.title || []).join('<br/>'), (tooltip.afterTitle || []).join('<br/>'), (tooltip.beforeBody || []).join('<br/>'), (tooltip.body || []).join('<br/>'), (tooltip.afterBody || []).join('<br/>'), (tooltip.beforeFooter || []).join('<br/>'), (tooltip.footer || []).join('<br/>'), (tooltip.afterFooter || []).join('<br/>')]);
        tooltipEl.html(innerHtml.join('<br/>'));
      }
      canvasEl = angular.element(this._chart.canvas);
      offset = canvasEl.offset();
      canvasEl.bind('mouseleave', function(event) {
        if (event.relatedTarget.id !== 'chartjs-tooltip') {
          return tooltipEl.remove();
        }
      });
      tooltipEl.bind('mouseleave', function(event) {
        if (event.relatedTarget.tagName !== 'CANVAS') {
          return tooltipEl.remove();
        }
      });
      return tooltipEl.css({
        'background-color': '#17262d',
        color: 'white',
        opacity: 1,
        transition: 'opacity 0.5s, top 0.5s, left 0.5s',
        position: 'absolute',
        width: (ref = tooltip.width) != null ? ref : (
          obj = {},
          obj[tooltip.width + "px"] = 'auto',
          obj
        ),
        left: (offset.left + tooltip.x + 10) + "px",
        top: (offset.top + tooltip.y + 10) + "px",
        fontFamily: tooltip._fontFamily,
        fontSize: tooltip.fontSize,
        fontStyle: tooltip._fontStyle,
        padding: tooltip.yPadding + "px " + tooltip.xPadding + "px",
        'border-radius': '2px'
      });
    };
    angular.merge(Chart.defaults.global, {
      defaultColor: _self.getColor(0),
      tooltips: {
        titleFontFamily: "Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",
        bodyFontFamily: "Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",
        footerFontFamily: "Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",
        enabled: false,
        custom: _self.customTooltip
      },
      elements: {
        point: {
          hitRadius: 8,
          hoverRadius: 8
        },
        line: {
          tension: 0,
          borderWidth: 2
        }
      }
    });
    angular.merge(Chart.defaults.scale, {
      ticks: {
        beginAtZero: true,
        minRotation: 0,
        fontFamily: "Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"
      },
      scaleLabel: {
        fontFamily: "Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"
      }
    });
    this.setTooltipsTextLayout = function(opts, showSerieInTitle) {
      if (showSerieInTitle == null) {
        showSerieInTitle = false;
      }
      return angular.merge(opts, {
        tooltips: {
          callbacks: {
            title: function(context, data) {
              var title;
              if (!showSerieInTitle) {
                return data.labels[context[0].index];
              } else {
                title = [data.labels[context[0].index]];
                if (data.datasets[context[0].datasetIndex].label) {
                  title.push(data.datasets[context[0].datasetIndex].label);
                }
                return title.join(' | ');
              }
            },
            label: function(context, data) {
              var currency;
              currency = opts.currency || ImpacDashboardsSvc.getCurrentDashboard().currency;
              if (currency !== 'hide') {
                return $filter('mnoCurrency')(data.datasets[context.datasetIndex].data[context.index], currency);
              } else {
                return data.datasets[context.datasetIndex].data[context.index];
              }
            }
          }
        }
      });
    };
    this.lineChart = function(inputDataArray, opts, versusMode) {
      var index, isFilled, singleValue;
      if (opts == null) {
        opts = {};
      }
      if (versusMode == null) {
        versusMode = false;
      }
      _self.setTooltipsTextLayout(opts, true);
      index = 0;
      isFilled = inputDataArray.length === 1;
      singleValue = false;
      if (inputDataArray[0].labels.length < 2) {
        singleValue = true;
        inputDataArray[0].labels.push(inputDataArray[0].labels[0]);
      }
      if (inputDataArray.length > 1 || ((opts.pointDot != null) && !opts.pointDot) || singleValue) {
        angular.merge(opts, {
          elements: {
            point: {
              radius: 0.0001
            },
            line: {
              tension: 0.3
            }
          }
        });
      }
      return {
        type: 'line',
        options: opts,
        data: {
          labels: inputDataArray[0].labels,
          datasets: _.map(inputDataArray, function(inputData) {
            var color;
            if (singleValue) {
              inputData.values.push(inputData.values[0]);
            }
            if (versusMode) {
              if (index === 0) {
                color = _self.getNegativeColor();
              } else {
                color = _self.getPositiveColor();
              }
            } else {
              color = _self.getColor(index);
            }
            index++;
            return {
              label: inputData.title,
              data: inputData.values,
              fill: isFilled,
              backgroundColor: lightenColor(color, 0.3),
              borderColor: color,
              pointBorderColor: color,
              pointBackgroundColor: color,
              pointHoverBackgroundColor: 'rgb(255,255,255)'
            };
          })
        }
      };
    };
    this.barChart = function(inputData, opts, positivesOnly) {
      var colors, i, index, len, ref, value;
      if (opts == null) {
        opts = {};
      }
      if (positivesOnly == null) {
        positivesOnly = true;
      }
      _self.setTooltipsTextLayout(opts);
      index = 0;
      colors = [];
      ref = inputData.values;
      for (i = 0, len = ref.length; i < len; i++) {
        value = ref[i];
        if (positivesOnly) {
          inputData.values[index] = Math.abs(value);
        }
        colors.push(_self.getColor(index));
        index++;
      }
      return {
        type: 'bar',
        options: opts,
        data: {
          labels: inputData.labels,
          datasets: [
            {
              backgroundColor: colors,
              data: inputData.values
            }
          ]
        }
      };
    };
    this.combinedBarChart = function(inputData, opts, positivesOnly) {
      var index, result;
      if (opts == null) {
        opts = {};
      }
      if (positivesOnly == null) {
        positivesOnly = true;
      }
      _self.setTooltipsTextLayout(opts, true);
      index = 0;
      result = {
        type: 'bar',
        options: opts,
        data: {
          labels: inputData.labels,
          datasets: _.map(inputData.datasets, function(dataset) {
            var color, i, len, ref, value;
            color = _self.getColor(index);
            index++;
            if (positivesOnly) {
              ref = dataset.values;
              for (i = 0, len = ref.length; i < len; i++) {
                value = ref[i];
                value = Math.abs(value);
              }
            }
            return {
              label: dataset.title,
              data: dataset.values,
              backgroundColor: color
            };
          })
        }
      };
      return result;
    };
    this.pieChart = function(inputData, opts, versusMode) {
      var colors, data, i, index, j, len, len1;
      if (opts == null) {
        opts = {};
      }
      if (versusMode == null) {
        versusMode = false;
      }
      _self.setTooltipsTextLayout(opts);
      index = 0;
      colors = [];
      if (versusMode) {
        colors.push(_self.getNegativeColor());
        for (i = 0, len = inputData.length; i < len; i++) {
          data = inputData[i];
          if (index !== 0) {
            colors.push(_self.getPositiveColor());
          }
          index++;
        }
      } else {
        for (j = 0, len1 = inputData.length; j < len1; j++) {
          data = inputData[j];
          colors.push(_self.getColor(index));
          index++;
        }
      }
      return {
        type: 'doughnut',
        options: opts,
        data: {
          datasets: [
            {
              data: _.map(inputData, (function(data) {
                return Math.abs(data.value);
              })),
              backgroundColor: colors
            }
          ],
          labels: _.map(inputData, (function(data) {
            return data.label;
          }))
        }
      };
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL2NoYXJ0LWZvcm1hdHRlci9jaGFydC1mb3JtYXR0ZXIuc3ZjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsZ0NBRFYsRUFDNEMsRUFENUMsQ0FFRSxDQUFDLE9BRkgsQ0FFVyxtQkFGWCxFQUVnQyxTQUFDLFlBQUQsRUFBZSxPQUFmLEVBQXdCLE9BQXhCLEVBQWlDLFNBQWpDLEVBQTRDLGtCQUE1QztBQUU1QixRQUFBO0lBQUEsS0FBQSxHQUFRO0lBRVIsTUFBQSxHQUFTLFlBQVksQ0FBQyxHQUFiLENBQUEsQ0FBa0IsQ0FBQztJQUc1QixPQUFPLENBQUMsTUFBUixHQUFpQixTQUFBO2FBQ2YsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsU0FBVSxDQUFBLENBQUEsQ0FBRSxDQUFDLGNBQWIsQ0FBNEIsaUJBQTVCLENBQWhCLENBQStELENBQUMsTUFBaEUsQ0FBQTtJQURlO0lBSWpCLElBQUMsQ0FBQSxnQkFBRCxHQUFvQixTQUFBO0FBQ2xCLGFBQU8sTUFBTSxDQUFDO0lBREk7SUFJcEIsSUFBQyxDQUFBLGdCQUFELEdBQW9CLFNBQUE7QUFDbEIsYUFBTyxNQUFNLENBQUM7SUFESTtJQUlwQixJQUFDLENBQUEsY0FBRCxHQUFrQixTQUFBO0FBQ2hCLGFBQU8sTUFBTSxDQUFDO0lBREU7SUFJbEIsSUFBQyxDQUFBLFFBQUQsR0FBWSxTQUFDLEtBQUQ7QUFDVixhQUFPLE1BQU0sQ0FBQyxLQUFNLENBQUEsS0FBQSxHQUFNLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBbkI7SUFEVjtJQUlaLE1BQUEsR0FBUyxTQUFDLFNBQUQ7QUFDUCxhQUFPLFNBQVMsQ0FBQyxPQUFWLENBQWtCLEdBQWxCLEVBQXNCLEVBQXRCO0lBREE7SUFHVCxNQUFBLEdBQVMsU0FBQyxTQUFEO0FBQ1AsYUFBTyxRQUFBLENBQVMsQ0FBQyxNQUFBLENBQU8sU0FBUCxDQUFELENBQW1CLENBQUMsU0FBcEIsQ0FBOEIs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LFNBRkY7T0FBQSxNQUFBO0FBTUUsYUFBQSw2Q0FBQTs7VUFDRSxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQUssQ0FBQyxRQUFOLENBQWUsS0FBZixDQUFaO1VBQ0EsS0FBQTtBQUZGLFNBTkY7O2FBVUE7UUFDRSxJQUFBLEVBQU0sVUFEUjtRQUVFLE9BQUEsRUFBUyxJQUZYO1FBR0UsSUFBQSxFQUFNO1VBQ0osUUFBQSxFQUFVO1lBQ1I7Y0FDRSxJQUFBLEVBQU0sQ0FBQyxDQUFDLEdBQUYsQ0FBTSxTQUFOLEVBQWlCLENBQUUsU0FBQyxJQUFEO3VCQUFVLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBSSxDQUFDLEtBQWQ7Y0FBVixDQUFGLENBQWpCLENBRFI7Y0FFRSxlQUFBLEVBQWlCLE1BRm5CO2FBRFE7V0FETjtVQU9KLE1BQUEsRUFBUSxDQUFDLENBQUMsR0FBRixDQUFNLFNBQU4sRUFBaUIsQ0FBRSxTQUFDLElBQUQ7bUJBQVUsSUFBSSxDQUFDO1VBQWYsQ0FBRixDQUFqQixDQVBKO1NBSFI7O0lBZlU7RUFqVGdCLENBRmhDO0FBQUEiLCJmaWxlIjoic2VydmljZXMvY2hhcnQtZm9ybWF0dGVyL2NoYXJ0LWZvcm1hdHRlci5zdmMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gIC5tb2R1bGUoJ2ltcGFjLnNlcnZpY2VzLmNoYXJ0LWZvcm1hdHRlcicsIFtdKVxuICAuc2VydmljZSgnQ2hhcnRGb3JtYXR0ZXJTdmMnLCAoSW1wYWNUaGVtaW5nLCAkZmlsdGVyLCAkd2luZG93LCAkZG9jdW1lbnQsIEltcGFjRGFzaGJvYXJkc1N2YykgLT5cblxuICAgIF9zZWxmID0gQFxuXG4gICAgQ09MT1JTID0gSW1wYWNUaGVtaW5nLmdldCgpLmNoYXJ0Q29sb3JzXG5cbiAgICAjIG9uIGJyb3dzZXIgd2luZG93IGJsdXIgZXZlbnQsIHJlbW92ZSBhbnkgbGluZ2VyaW5nIGNoYXJ0anMtdG9vbHRpcHMgZnJvbSB0aGUgRE9NLlxuICAgICR3aW5kb3cub25ibHVyID0gLT5cbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0anMtdG9vbHRpcCcpKS5yZW1vdmUoKVxuXG4gICAgIyBSZXR1cm5zIHRoZSBjb2xvciBkZWZpbmVkIGZvciBwb3NpdGl2ZSB2YWx1ZXNcbiAgICBAZ2V0UG9zaXRpdmVDb2xvciA9IC0+XG4gICAgICByZXR1cm4gQ09MT1JTLnBvc2l0aXZlXG5cbiAgICAjIFJldHVybnMgdGhlIGNvbG9yIGRlZmluZWQgZm9yIG5lZ2F0aXZlIHZhbHVlc1xuICAgIEBnZXROZWdhdGl2ZUNvbG9yID0gLT5cbiAgICAgIHJldHVybiBDT0xPUlMubmVnYXRpdmVcblxuICAgICMgUmV0dXJucyB0aGUgY29sb3IgZGVmaW5lZCBmb3IgXCJvdGhlcnNcIiB2YWx1ZVxuICAgIEBnZXRPdGhlcnNDb2xvciA9IC0+XG4gICAgICByZXR1cm4gQ09MT1JTLm90aGVyc1xuXG4gICAgIyBSZXR1cm5zIGEgY29sb3IgZnJvbSB0aGUgYXJyYXkgcmV0cmlldmVkIGZyb20gTWFlc3RyYW5vIFJhaWxzIGFwcCAoc2V0IGluIGNvbmZpZyBmaWxlcylcbiAgICBAZ2V0Q29sb3IgPSAoaW5kZXgpIC0+XG4gICAgICByZXR1cm4gQ09MT1JTLmFycmF5W2luZGV4JUNPTE9SUy5hcnJheS5sZW5ndGhdXG5cbiAgICAjIFJlbW92ZXMgdGhlICMgZnJvbSBhbiBIVE1MIGNvbG9yIHZhbHVlXG4gICAgY3V0SGV4ID0gKGh0bWxDb2xvcikgLT5cbiAgICAgIHJldHVybiBodG1sQ29sb3IucmVwbGFjZSgvIy8sJycpXG5cbiAgICBoZXhUb1IgPSAoaHRtbENvbG9yKSAtPlxuICAgICAgcmV0dXJuIHBhcnNlSW50KChjdXRIZXgoaHRtbENvbG9yKSkuc3Vic3RyaW5nKDAsMiksMTYpXG5cbiAgICBoZXhUb0cgPSAoaHRtbENvbG9yKSAtPlxuICAgICAgcmV0dXJuIHBhcnNlSW50KChjdXRIZXgoaHRtbENvbG9yKSkuc3Vic3RyaW5nKDIsNCksMTYpXG5cbiAgICBoZXhUb0IgPSAoaHRtbENvbG9yKSAtPlxuICAgICAgcmV0dXJuIHBhcnNlSW50KChjdXRIZXgoaHRtbENvbG9yKSkuc3Vic3RyaW5nKDQsNiksMTYpXG5cbiAgICBoZXhUb1JHQiA9IChodG1sQ29sb3IpIC0+XG4gICAgICByZXR1cm4gW2hleFRvUihodG1sQ29sb3IpLGhleFRvRyhodG1sQ29sb3IpLGhleFRvQihodG1sQ29sb3IpXS5qb2luKFwiLFwiKVxuXG4gICAgbGlnaHRlbkNvbG9yID0gKGh0bWxDb2xvciwgYWxwaGEpIC0+XG4gICAgICByZXR1cm4gXCJyZ2JhKCN7aGV4VG9SR0IoaHRtbENvbG9yKX0sI3thbHBoYX0pXCJcblxuXG4gICAgIyBDb25maWd1cmUgQ2hhcnRKcyBnbG9iYWwgb3B0aW9uc1xuICAgICMgLS0tLS0tLS0tLVxuICAgIEBjdXN0b21Ub29sdGlwID0gKHRvb2x0aXApIC0+XG4gICAgICAjIEZpbmQgdGhlIHRvb2x0aXBcbiAgICAgIHRvb2x0aXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnI2NoYXJ0anMtdG9vbHRpcCcpXG4gICAgICBpZiAoIXRvb2x0aXBFbFswXSlcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwiY2hhcnRqcy10b29sdGlwXCI+PC9kaXY+JylcbiAgICAgICAgdG9vbHRpcEVsID0gYW5ndWxhci5lbGVtZW50KCcjY2hhcnRqcy10b29sdGlwJylcblxuICAgICAgIyBIaWRlIGlmIG5vIHRvb2x0aXBcbiAgICAgIGlmICghdG9vbHRpcC5vcGFjaXR5KVxuICAgICAgICB0b29sdGlwRWwuY3NzKHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjVcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG5cbiAgICAgICMgU2V0IGNhcmV0IFBvc2l0aW9uXG4gICAgICB0b29sdGlwRWwucmVtb3ZlQ2xhc3MoJ2Fib3ZlIGJlbG93IG5vLXRyYW5zZm9ybScpXG4gICAgICBpZiAodG9vbHRpcC55QWxpZ24pXG4gICAgICAgIHRvb2x0aXBFbC5hZGRDbGFzcyh0b29sdGlwLnlBbGlnbilcbiAgICAgIGVsc2VcbiAgICAgICAgdG9vbHRpcEVsLmFkZENsYXNzKCduby10cmFuc2Zvcm0nKVxuXG4gICAgICAjIFNldCBUZXh0XG4gICAgICBpZiAodG9vbHRpcC5ib2R5KVxuICAgICAgICBpbm5lckh0bWwgPSBfLmNvbXBhY3QoW1xuICAgICAgICAgICh0b29sdGlwLmJlZm9yZVRpdGxlIHx8IFtdKS5qb2luKCc8YnIvPicpLCAodG9vbHRpcC50aXRsZSB8fCBbXSkuam9pbignPGJyLz4nKSwgKHRvb2x0aXAuYWZ0ZXJUaXRsZSB8fCBbXSkuam9pbignPGJyLz4nKSwgKHRvb2x0aXAuYmVmb3JlQm9keSB8fCBbXSkuam9pbignPGJyLz4nKSwgKHRvb2x0aXAuYm9keSB8fCBbXSkuam9pbignPGJyLz4nKSwgKHRvb2x0aXAuYWZ0ZXJCb2R5IHx8IFtdKS5qb2luKCc8YnIvPicpLCAodG9vbHRpcC5iZWZvcmVGb290ZXIgfHwgW10pXG4gICAgICAgICAgLmpvaW4oJzxici8+JyksICh0b29sdGlwLmZvb3RlciB8fCBbXSkuam9pbignPGJyLz4nKSwgKHRvb2x0aXAuYWZ0ZXJGb290ZXIgfHwgW10pLmpvaW4oJzxici8+JylcbiAgICAgICAgXSlcbiAgICAgICAgdG9vbHRpcEVsLmh0bWwoaW5uZXJIdG1sLmpvaW4oJzxici8+JykpXG5cbiAgICAgICMgQWxpZ25tZW50XG4gICAgICBjYW52YXNFbCA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLl9jaGFydC5jYW52YXMpXG4gICAgICBvZmZzZXQgPSBjYW52YXNFbC5vZmZzZXQoKVxuXG4gICAgICAjIEF2b2lkIG1vdXNlIGdsaXRjaGVzXG4gICAgICBjYW52YXNFbC5iaW5kICdtb3VzZWxlYXZlJywgKGV2ZW50KSAtPlxuICAgICAgICB0b29sdGlwRWwucmVtb3ZlKCkgdW5sZXNzIGV2ZW50LnJlbGF0ZWRUYXJnZXQuaWQgPT0gJ2NoYXJ0anMtdG9vbHRpcCdcblxuICAgICAgdG9vbHRpcEVsLmJpbmQgJ21vdXNlbGVhdmUnLCAoZXZlbnQpIC0+XG4gICAgICAgIHRvb2x0aXBFbC5yZW1vdmUoKSB1bmxlc3MgZXZlbnQucmVsYXRlZFRhcmdldC50YWdOYW1lID09ICdDQU5WQVMnXG5cblxuICAgICAgIyBEaXNwbGF5LCBwb3NpdGlvbiwgYW5kIHNldCBzdHlsZXMgZm9yIGZvbnRcbiAgICAgIHRvb2x0aXBFbC5jc3Moe1xuICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjMTcyNjJkJ1xuICAgICAgICBjb2xvcjogJ3doaXRlJ1xuXG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC41cywgdG9wIDAuNXMsIGxlZnQgMC41cydcblxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICB3aWR0aDogdG9vbHRpcC53aWR0aCA/IFwiI3t0b29sdGlwLndpZHRofXB4XCIgOiAnYXV0bydcbiAgICAgICAgbGVmdDogXCIje29mZnNldC5sZWZ0ICsgdG9vbHRpcC54ICsgMTB9cHhcIlxuICAgICAgICB0b3A6IFwiI3tvZmZzZXQudG9wICsgdG9vbHRpcC55ICsgMTB9cHhcIlxuXG4gICAgICAgIGZvbnRGYW1pbHk6IHRvb2x0aXAuX2ZvbnRGYW1pbHlcbiAgICAgICAgZm9udFNpemU6IHRvb2x0aXAuZm9udFNpemVcbiAgICAgICAgZm9udFN0eWxlOiB0b29sdGlwLl9mb250U3R5bGVcbiAgICAgICAgcGFkZGluZzogXCIje3Rvb2x0aXAueVBhZGRpbmd9cHggI3t0b29sdGlwLnhQYWRkaW5nfXB4XCJcbiAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiAnMnB4J1xuICAgICAgfSlcblxuICAgIGFuZ3VsYXIubWVyZ2UgQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLCB7XG4gICAgICBkZWZhdWx0Q29sb3I6IF9zZWxmLmdldENvbG9yKDApXG4gICAgICAjIHJlc3BvbnNpdmVBbmltYXRpb25EdXJhdGlvbjogMTAwMFxuICAgICAgdG9vbHRpcHM6IHtcbiAgICAgICAgdGl0bGVGb250RmFtaWx5OiBcIkxhdG8sICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWZcIlxuICAgICAgICBib2R5Rm9udEZhbWlseTogXCJMYXRvLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmXCJcbiAgICAgICAgZm9vdGVyRm9udEZhbWlseTogXCJMYXRvLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmXCJcblxuICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICBjdXN0b206IF9zZWxmLmN1c3RvbVRvb2x0aXBcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgaGl0UmFkaXVzOiA4XG4gICAgICAgICAgaG92ZXJSYWRpdXM6IDhcbiAgICAgICAgfVxuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgdGVuc2lvbjogMFxuICAgICAgICAgIGJvcmRlcldpZHRoOiAyXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1lcmdlIENoYXJ0LmRlZmF1bHRzLnNjYWxlLCB7XG4gICAgICB0aWNrczoge1xuICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICBtaW5Sb3RhdGlvbjogMFxuICAgICAgICAjIG1heFJvdGF0aW9uOiAwXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiTGF0bywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiXG4gICAgICB9XG4gICAgICBzY2FsZUxhYmVsOiB7XG4gICAgICAgIGZvbnRGYW1pbHk6IFwiTGF0bywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgQHNldFRvb2x0aXBzVGV4dExheW91dCA9IChvcHRzLCBzaG93U2VyaWVJblRpdGxlPWZhbHNlKSAtPlxuICAgICAgYW5ndWxhci5tZXJnZSBvcHRzLCB7XG4gICAgICAgIHRvb2x0aXBzOiB7XG4gICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICB0aXRsZTogKGNvbnRleHQsIGRhdGEpIC0+XG4gICAgICAgICAgICAgIHVubGVzcyBzaG93U2VyaWVJblRpdGxlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEubGFiZWxzW2NvbnRleHRbMF0uaW5kZXhdXG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aXRsZSA9IFtkYXRhLmxhYmVsc1tjb250ZXh0WzBdLmluZGV4XV1cbiAgICAgICAgICAgICAgICB0aXRsZS5wdXNoIGRhdGEuZGF0YXNldHNbY29udGV4dFswXS5kYXRhc2V0SW5kZXhdLmxhYmVsIGlmIGRhdGEuZGF0YXNldHNbY29udGV4dFswXS5kYXRhc2V0SW5kZXhdLmxhYmVsXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlLmpvaW4oJyB8ICcpXG5cbiAgICAgICAgICAgIGxhYmVsOiAoY29udGV4dCwgZGF0YSkgLT5cbiAgICAgICAgICAgICAgY3VycmVuY3kgPSBvcHRzLmN1cnJlbmN5IHx8IEltcGFjRGFzaGJvYXJkc1N2Yy5nZXRDdXJyZW50RGFzaGJvYXJkKCkuY3VycmVuY3lcbiAgICAgICAgICAgICAgdW5sZXNzIGN1cnJlbmN5PT0naGlkZSdcbiAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignbW5vQ3VycmVuY3knKShkYXRhLmRhdGFzZXRzW2NvbnRleHQuZGF0YXNldEluZGV4XS5kYXRhW2NvbnRleHQuaW5kZXhdLCBjdXJyZW5jeSlcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGFzZXRzW2NvbnRleHQuZGF0YXNldEluZGV4XS5kYXRhW2NvbnRleHQuaW5kZXhdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICMgTGluZSBDaGFydCBvZiBzZXZlcmFsIGRhdGFzZXRzIHwgdmVyc3VzTW9kZSBjYW4gYmUgdXNlZCB0byBmb3JjZSBwb3NpdGl2ZS9uZWdhdGl2ZSBjb2xvcnNcbiAgICAjIC0tLS0tLS0tLS1cbiAgICAjIGlucHV0RGF0YUFycmF5OlxuICAgICMgW3tcbiAgICAjICAgdGl0bGU6IFwiU2VyaWVcIixcbiAgICAjICAgbGFiZWxzOiBbXCJkYXRlMVwiLFwiZGF0ZTJcIl0sXG4gICAgIyAgIHZhbHVlczogWzE1LjI1LDcuNF1cbiAgICAjIH1dXG4gICAgIyB2ZXJzdXNNb2RlOiBwdXQgdGhlIG5lZ2F0aXZlIGRhdGFzZXQgZmlyc3RcbiAgICBAbGluZUNoYXJ0ID0gKGlucHV0RGF0YUFycmF5LCBvcHRzPXt9LCB2ZXJzdXNNb2RlPWZhbHNlKSAtPlxuICAgICAgX3NlbGYuc2V0VG9vbHRpcHNUZXh0TGF5b3V0KG9wdHMsIHRydWUpXG5cbiAgICAgIGluZGV4ID0gMFxuICAgICAgaXNGaWxsZWQgPSBpbnB1dERhdGFBcnJheS5sZW5ndGggPT0gMVxuXG4gICAgICBzaW5nbGVWYWx1ZSA9IGZhbHNlXG4gICAgICBpZiBpbnB1dERhdGFBcnJheVswXS5sYWJlbHMubGVuZ3RoIDwgMlxuICAgICAgICAjIGlmIHRoZSB2YWx1ZXMgYXJyYXkgaGF2ZSBvbmx5IG9uZSBlbnRyeSwgd2UgZG91YmxlIGl0IHRvIGF2b2lkIHRoZSBkaXNwbGF5IG9mIGEgc2luZ2xlIHBvaW50IG9uIHRoZSBjaGFydFxuICAgICAgICBzaW5nbGVWYWx1ZSA9IHRydWVcbiAgICAgICAgaW5wdXREYXRhQXJyYXlbMF0ubGFiZWxzLnB1c2ggaW5wdXREYXRhQXJyYXlbMF0ubGFiZWxzWzBdXG5cbiAgICAgICMgRGVmYXV0IHdoZW4gc2V2ZXJhbCBkYXRhc2V0cyBvciBzaW5nbGUgZGF0YXNldCBidXQgd2l0aCBvbmx5IG9uZSB2YWx1ZTogc3RyYWlnaHQgbGluZXMgd2l0aG91dCBwb2ludCBkb3RcbiAgICAgIGlmIGlucHV0RGF0YUFycmF5Lmxlbmd0aCA+IDEgfHwgKG9wdHMucG9pbnREb3Q/ICYmICFvcHRzLnBvaW50RG90KSB8fCBzaW5nbGVWYWx1ZVxuICAgICAgICBhbmd1bGFyLm1lcmdlKG9wdHMsIHtcbiAgICAgICAgICBlbGVtZW50czoge1xuICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgcmFkaXVzOiAwLjAwMDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgdGVuc2lvbjogMC4zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbGluZScsXG4gICAgICAgIG9wdGlvbnM6IG9wdHMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBsYWJlbHM6IGlucHV0RGF0YUFycmF5WzBdLmxhYmVscyxcbiAgICAgICAgICBkYXRhc2V0czogXy5tYXAgaW5wdXREYXRhQXJyYXksIChpbnB1dERhdGEpIC0+XG4gICAgICAgICAgICBpZiBzaW5nbGVWYWx1ZVxuICAgICAgICAgICAgICBpbnB1dERhdGEudmFsdWVzLnB1c2ggaW5wdXREYXRhLnZhbHVlc1swXVxuXG4gICAgICAgICAgICBpZiB2ZXJzdXNNb2RlXG4gICAgICAgICAgICAgIGlmIGluZGV4ID09IDBcbiAgICAgICAgICAgICAgICBjb2xvciA9IF9zZWxmLmdldE5lZ2F0aXZlQ29sb3IoKVxuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29sb3IgPSBfc2VsZi5nZXRQb3NpdGl2ZUNvbG9yKClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgY29sb3IgPSBfc2VsZi5nZXRDb2xvcihpbmRleClcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGxhYmVsOiBpbnB1dERhdGEudGl0bGVcbiAgICAgICAgICAgICAgZGF0YTogaW5wdXREYXRhLnZhbHVlc1xuXG4gICAgICAgICAgICAgIGZpbGw6IGlzRmlsbGVkXG5cbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaWdodGVuQ29sb3IoY29sb3IsMC4zKVxuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3JcbiAgICAgICAgICAgICAgcG9pbnRCb3JkZXJDb2xvcjogY29sb3JcbiAgICAgICAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yXG4gICAgICAgICAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6ICdyZ2IoMjU1LDI1NSwyNTUpJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICMgVE9ETyByZWZhY3RvciBiYXJDaGFydCBhbmQgY29tYmluZWRDaGFydCAobm93IHdlIGhhdmUgY2hhcnRqcyB2Mi4wLi4uKVxuICAgICMgQmFyIENoYXJ0IG9mIG9uZSBkYXRhc2V0IHdpdGggc2V2ZXJhbCB2YWx1ZXMgKGVnOiBkaWZmZXJlbnQgY29sb3VyZWQgYmFycyBmb3Igc2V2ZXJhbCBhY2NvdW50cylcbiAgICAjIC0tLS0tLS0tLS1cbiAgICAjIGlucHV0RGF0YTpcbiAgICAjIHtcbiAgICAjICAgbGFiZWxzOiBbXCJBY2NvdW50MVwiLFwiQWNjb3VudDJcIl0sXG4gICAgIyAgIHZhbHVlczogWzE1LjI1LDcuNF1cbiAgICAjIH1cbiAgICAjIHBvc2l0aXZlc09ubHk6IGlmIHRydWUgKGRlZmF1bHQpLCBuZWdhdGl2ZSBiYXJzIHdpbGwgYmUgdHVybmVkIGludG8gdGhlaXIgb3Bwb3NpdGVcbiAgICBAYmFyQ2hhcnQgPSAoaW5wdXREYXRhLCBvcHRzPXt9LCBwb3NpdGl2ZXNPbmx5PXRydWUpIC0+XG4gICAgICBfc2VsZi5zZXRUb29sdGlwc1RleHRMYXlvdXQob3B0cylcblxuICAgICAgaW5kZXggPSAwXG4gICAgICBjb2xvcnMgPSBbXVxuICAgICAgZm9yIHZhbHVlIGluIGlucHV0RGF0YS52YWx1ZXNcbiAgICAgICAgaW5wdXREYXRhLnZhbHVlc1tpbmRleF0gPSBNYXRoLmFicyh2YWx1ZSkgaWYgcG9zaXRpdmVzT25seVxuICAgICAgICBjb2xvcnMucHVzaChfc2VsZi5nZXRDb2xvcihpbmRleCkpXG4gICAgICAgIGluZGV4KytcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2JhcidcbiAgICAgICAgb3B0aW9uczogb3B0c1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbGFiZWxzOiBpbnB1dERhdGEubGFiZWxzXG4gICAgICAgICAgZGF0YXNldHM6IFt7IGJhY2tncm91bmRDb2xvcjogY29sb3JzLCBkYXRhOiBpbnB1dERhdGEudmFsdWVzIH1dXG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgIyBCYXIgQ2hhcnQgb2Ygc2V2ZXJhbCBkYXRhc2V0cyB3aXRoIHNldmVyYWwgdmFsdWVzIGVhY2hcbiAgICAjIC0tLS0tLS0tLS1cbiAgICAjIGlucHV0RGF0YTpcbiAgICAjICAgbGFiZWxzOiBbJ0NvbXBhbnkgQScsICdDb21wYW55IEInXVxuICAgICMgICBkYXRhc2V0czpcbiAgICAjICAgICBbXG4gICAgIyAgICAgICB7dGl0bGU6ICdBU1NFVCcsIHZhbHVlczogWzE1NjYsNTYxNTZdfVxuICAgICMgICAgICAge3RpdGxlOiAnTElBQklMSVRZJywgdmFsdWVzOiBbNjc4NjgsNjg2XX1cbiAgICAjICAgICBdXG4gICAgIyBwb3NpdGl2ZXNPbmx5OiBpZiB0cnVlIChkZWZhdWx0KSwgbmVnYXRpdmUgYmFycyB3aWxsIGJlIHR1cm5lZCBpbnRvIHRoZWlyIG9wcG9zaXRlXG4gICAgQGNvbWJpbmVkQmFyQ2hhcnQgPSAoaW5wdXREYXRhLCBvcHRzPXt9LCBwb3NpdGl2ZXNPbmx5PXRydWUpIC0+XG4gICAgICBfc2VsZi5zZXRUb29sdGlwc1RleHRMYXlvdXQob3B0cywgdHJ1ZSlcblxuICAgICAgaW5kZXggPSAwXG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICBvcHRpb25zOiBvcHRzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbGFiZWxzOiBpbnB1dERhdGEubGFiZWxzXG4gICAgICAgICAgZGF0YXNldHM6IF8ubWFwIGlucHV0RGF0YS5kYXRhc2V0cywgKGRhdGFzZXQpIC0+XG4gICAgICAgICAgICBjb2xvciA9IF9zZWxmLmdldENvbG9yKGluZGV4KVxuICAgICAgICAgICAgaW5kZXgrK1xuXG4gICAgICAgICAgICBpZiBwb3NpdGl2ZXNPbmx5XG4gICAgICAgICAgICAgIGZvciB2YWx1ZSBpbiBkYXRhc2V0LnZhbHVlc1xuICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGxhYmVsOiBkYXRhc2V0LnRpdGxlLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhc2V0LnZhbHVlcyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG5cbiAgICAjIGlucHV0RGF0YTpcbiAgICAjIFsge1xuICAgICMgICAgIGxhYmVsOiBcIkN1c3RvbWVyIDFcIixcbiAgICAjICAgICB2YWx1ZTogMTU1MC4xMlxuICAgICMgXSB9XG4gICAgQHBpZUNoYXJ0ID0gKGlucHV0RGF0YSwgb3B0cz17fSwgdmVyc3VzTW9kZT1mYWxzZSkgLT5cbiAgICAgIF9zZWxmLnNldFRvb2x0aXBzVGV4dExheW91dChvcHRzKVxuXG4gICAgICBpbmRleD0wXG4gICAgICBjb2xvcnM9W11cbiAgICAgIGlmIHZlcnN1c01vZGVcbiAgICAgICAgY29sb3JzLnB1c2goX3NlbGYuZ2V0TmVnYXRpdmVDb2xvcigpKVxuICAgICAgICBmb3IgZGF0YSBpbiBpbnB1dERhdGFcbiAgICAgICAgICBjb2xvcnMucHVzaChfc2VsZi5nZXRQb3NpdGl2ZUNvbG9yKCkpIHVubGVzcyBpbmRleD09MFxuICAgICAgICAgIGluZGV4KytcbiAgICAgIGVsc2VcbiAgICAgICAgZm9yIGRhdGEgaW4gaW5wdXREYXRhXG4gICAgICAgICAgY29sb3JzLnB1c2goX3NlbGYuZ2V0Q29sb3IoaW5kZXgpKVxuICAgICAgICAgIGluZGV4KytcblxuICAgICAge1xuICAgICAgICB0eXBlOiAnZG91Z2hudXQnLFxuICAgICAgICBvcHRpb25zOiBvcHRzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGF0YTogXy5tYXAgaW5wdXREYXRhLCAoIChkYXRhKSAtPiBNYXRoLmFicyhkYXRhLnZhbHVlKSApXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICAgIGxhYmVsczogXy5tYXAgaW5wdXREYXRhLCAoIChkYXRhKSAtPiBkYXRhLmxhYmVsIClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgcmV0dXJuXG4pXG4iXX0=

(function() {
  angular.module('impac.services.dashboards', []).service('ImpacDashboardsSvc', ["$q", "$http", "$log", "$timeout", "ImpacMainSvc", "ImpacRoutes", "ImpacKpisSvc", "ImpacTheming", function($q, $http, $log, $timeout, ImpacMainSvc, ImpacRoutes, ImpacKpisSvc, ImpacTheming) {
    var _self, belongsToCurrentOrganization, needConfigurationLoad, setDefaultCurrentDashboard;
    _self = this;
    this.config = {};
    this.config.dashboards = [];
    this.getDashboards = function() {
      return _self.config.dashboards;
    };
    this.config.currentDashboard = {};
    this.getCurrentDashboard = function() {
      return _self.config.currentDashboard;
    };
    this.config.widgetsTemplates = [];
    this.getWidgetsTemplates = function() {
      return _self.config.widgetsTemplates;
    };
    this.callbacks = {};
    this.callbacks.dashboardChanged = $q.defer();
    this.dashboardChanged = function() {
      return _self.callbacks.dashboardChanged.promise;
    };
    this.callbacks.widgetAdded = $q.defer();
    this.widgetAdded = function() {
      return _self.callbacks.widgetAdded.promise;
    };
    needConfigurationLoad = function() {
      return _.isEmpty(_self.config.dashboards) || _.isEmpty(_self.config.currentDashboard);
    };
    this.isThereADashboard = function() {
      return !_.isEmpty(_self.config.currentDashboard);
    };
    this.areThereSeveralDashboards = function() {
      return _self.config.dashboards.length > 1;
    };
    this.isCurrentDashboardEmpty = function() {
      return _self.isThereADashboard() && _.isEmpty(_self.config.currentDashboard.widgets);
    };
    this.areKpisEnabled = function() {
      return ImpacTheming.get().dhbKpisConfig.enableKpis;
    };
    this.loadLocked = false;
    this.load = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      if (!_self.loadLocked) {
        _self.loadLocked = true;
        deferred = $q.defer();
        if (needConfigurationLoad() || force) {
          ImpacMainSvc.loadOrganizations(force).then(function(success) {
            var orgId;
            orgId = success.currentOrganization.id;
            return $http.get(ImpacRoutes.dashboards.index(orgId)).then(function(dashboards) {
              _self.setDashboards(dashboards.data).then(function() {
                _self.setCurrentDashboard();
                _self.loadLocked = false;
                return deferred.resolve(_self.config);
              });
              return function(error) {
                _self.loadLocked = false;
                return deferred.reject(error);
              };
            }, function(error) {
              $log.error("Impac - DashboardSvc: cannot retrieve dashboards list for org: " + orgId);
              _self.loadLocked = false;
              return deferred.reject(error);
            });
          }, function(error) {
            $log.error("Impac - DashboardSvc: cannot retrieve current organization");
            _self.loadLocked = false;
            return deferred.reject(error);
          });
        } else {
          _self.loadLocked = false;
          deferred.resolve(_self.config);
        }
        return deferred.promise;
      } else {
        $log.warn("ImpacDashboardsSvc.load locked. Trying again in 1s");
        return $timeout((function() {
          return _self.load(force);
        }), 1000);
      }
    };
    setDefaultCurrentDashboard = function() {
      if ((_self.config.dashboards != null) && _self.config.dashboards.length > 0) {
        $log.info("Impac - DashboardSvc: first dashboard set as current by default");
        ImpacMainSvc.override(_self.config.currentDashboard, _self.config.dashboards[0]);
        _self.setWidgetsTemplates(_self.config.currentDashboard.widgets_templates);
        if (_self.areKpisEnabled()) {
          ImpacKpisSvc.initialize(_self.config.currentDashboard);
        }
        _self.initializeActiveTabs();
        _self.callbacks.dashboardChanged.notify(_self.config.currentDashboard);
        return true;
      } else {
        $log.warn("Impac - DashboardSvc: cannot set default current dashboard");
        ImpacMainSvc.override(_self.config.currentDashboard, {});
        _self.callbacks.dashboardChanged.notify(false);
        return false;
      }
    };
    this.setCurrentDashboard = function(id) {
      var fetchedDhb;
      if (id == null) {
        id = null;
      }
      if (id != null) {
        fetchedDhb = _.find(_self.config.dashboards, (function(dhb) {
          return id === dhb.id;
        }));
        if (!_.isEmpty(fetchedDhb)) {
          ImpacMainSvc.override(_self.config.currentDashboard, fetchedDhb);
          _self.setWidgetsTemplates(fetchedDhb.widgets_templates);
          if (_self.areKpisEnabled()) {
            ImpacKpisSvc.initialize(_self.config.currentDashboard);
          }
          _self.initializeActiveTabs();
          _self.callbacks.dashboardChanged.notify(_self.config.currentDashboard);
          return true;
        } else {
          $log.error("Impac - DashboardSvc: dashboard: " + id + " not found in dashboards list");
          return setDefaultCurrentDashboard();
        }
      } else {
        return setDefaultCurrentDashboard();
      }
    };
    belongsToCurrentOrganization = function(dashboard, org) {
      return _.includes(_.pluck(dashboard.data_sources, 'id'), org.id);
    };
    this.setDashboards = function(dashboardsArray) {
      if (dashboardsArray == null) {
        dashboardsArray = [];
      }
      return ImpacMainSvc.loadOrganizations().then(function(config) {
        var curOrg, dhb, i, len, results;
        curOrg = config.currentOrganization;
        _.remove(_self.config.dashboards, (function() {
          return true;
        }));
        results = [];
        for (i = 0, len = dashboardsArray.length; i < len; i++) {
          dhb = dashboardsArray[i];
          if (belongsToCurrentOrganization(dhb, curOrg)) {
            results.push(_self.config.dashboards.push(dhb));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }, function(error) {
        return $log.error("Impac - DashboardSvc: Cannot load user's organizations");
      });
    };
    this.setWidgetsTemplates = function(templatesArray) {
      var i, len, template;
      if (_.isEmpty(templatesArray) || !_.isEmpty(_self.config.widgetsTemplates)) {
        return false;
      }
      for (i = 0, len = templatesArray.length; i < len; i++) {
        template = templatesArray[i];
        _self.config.widgetsTemplates.push(template);
      }
      return true;
    };
    this.initializeActiveTabs = function() {
      var dhb, i, len, ref, results;
      ref = _self.config.dashboards;
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        dhb = ref[i];
        results.push(_.merge(dhb, {
          active: _self.config.currentDashboard.id === dhb.id
        }));
      }
      return results;
    };
    this.create = function(dashboard) {
      return _self.load().then(function() {
        var data, deferred, org;
        deferred = $q.defer();
        org = ImpacMainSvc.config.currentOrganization;
        if (dashboard.currency == null) {
          dashboard.currency = org.currency || 'USD';
        }
        data = {
          dashboard: dashboard
        };
        $http.post(ImpacRoutes.dashboards.create(org.id), data).then(function(success) {
          _self.config.dashboards.push(success.data);
          _self.setCurrentDashboard(success.data.id);
          return deferred.resolve(success.data);
        }, function(error) {
          $log.error("Impac - DashboardSvc: cannot create dashboard with parameters: " + (angular.toJson(dashboard)), error);
          return deferred.reject(error);
        });
        return deferred.promise;
      });
    };
    this["delete"] = function(id) {
      var deferred;
      deferred = $q.defer();
      $http["delete"](ImpacRoutes.dashboards["delete"](id)).then(function(success) {
        _.remove(_self.config.dashboards, function(dhb) {
          return id === dhb.id;
        });
        _self.setCurrentDashboard();
        return deferred.resolve(success);
      }, function(error) {
        $log.error("Impac - DashboardSvc: cannot delete dashboard: " + id);
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    this.update = function(id, opts) {
      var data, deferred;
      deferred = $q.defer();
      data = {
        dashboard: opts
      };
      $http.put(ImpacRoutes.dashboards.update(id), data).then(function(success) {
        angular.merge(_.find(_self.config.dashboards, function(dhb) {
          return id === dhb.id;
        }), success.data);
        if (id === _self.config.currentDashboard.id) {
          angular.merge(_self.config.currentDashboard, success.data);
        }
        return deferred.resolve(success.data);
      }, function(error) {
        $log.error("Impac - DashboardSvc: cannot update dashboard: " + id + " with parameters: " + opts);
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    return _self;
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL2Rhc2hib2FyZHMvZGFzaGJvYXJkcy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSwyQkFEVixFQUN1QyxFQUR2QyxDQUVFLENBQUMsT0FGSCxDQUVXLG9CQUZYLEVBRWlDLFNBQUMsRUFBRCxFQUFLLEtBQUwsRUFBWSxJQUFaLEVBQWtCLFFBQWxCLEVBQTRCLFlBQTVCLEVBQTBDLFdBQTFDLEVBQXVELFlBQXZELEVBQXFFLFlBQXJFO0FBSzdCLFFBQUE7SUFBQSxLQUFBLEdBQVE7SUFDUixJQUFDLENBQUEsTUFBRCxHQUFVO0lBRVYsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLEdBQXFCO0lBQ3JCLElBQUMsQ0FBQSxhQUFELEdBQWlCLFNBQUE7QUFDZixhQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFETDtJQUdqQixJQUFDLENBQUEsTUFBTSxDQUFDLGdCQUFSLEdBQTJCO0lBQzNCLElBQUMsQ0FBQSxtQkFBRCxHQUF1QixTQUFBO0FBQ3JCLGFBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQztJQURDO0lBR3ZCLElBQUMsQ0FBQSxNQUFNLENBQUMsZ0JBQVIsR0FBMkI7SUFDM0IsSUFBQyxDQUFBLG1CQUFELEdBQXVCLFNBQUE7QUFDckIsYUFBTyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBREM7SUFPdkIsSUFBQyxDQUFBLFNBQUQsR0FBYTtJQUViLElBQUMsQ0FBQSxTQUFTLENBQUMsZ0JBQVgsR0FBOEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM5QixJQUFDLENBQUEsZ0JBQUQsR0FBb0IsU0FBQTtBQUNsQixhQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUM7SUFEdEI7SUFHcEIsSUFBQyxDQUFBLFNBQVMsQ0FBQyxXQUFYLEdBQXlCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDekIsSUFBQyxDQUFBLFdBQUQsR0FBZSxTQUFBO0FBQ2IsYUFBTyxLQUFLLENB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c2hib2FyZHMuc3ZjLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy5kYXNoYm9hcmRzJywgW10pXG4gIC5zZXJ2aWNlICdJbXBhY0Rhc2hib2FyZHNTdmMnLCAoJHEsICRodHRwLCAkbG9nLCAkdGltZW91dCwgSW1wYWNNYWluU3ZjLCBJbXBhY1JvdXRlcywgSW1wYWNLcGlzU3ZjLCBJbXBhY1RoZW1pbmcpIC0+XG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgSW5pdGlhbGl6YXRpb24gYW5kIGdldHRlcnNcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBfc2VsZiA9IEBcbiAgICBAY29uZmlnID0ge31cblxuICAgIEBjb25maWcuZGFzaGJvYXJkcyA9IFtdXG4gICAgQGdldERhc2hib2FyZHMgPSAtPlxuICAgICAgcmV0dXJuIF9zZWxmLmNvbmZpZy5kYXNoYm9hcmRzXG5cbiAgICBAY29uZmlnLmN1cnJlbnREYXNoYm9hcmQgPSB7fVxuICAgIEBnZXRDdXJyZW50RGFzaGJvYXJkID0gLT5cbiAgICAgIHJldHVybiBfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZFxuXG4gICAgQGNvbmZpZy53aWRnZXRzVGVtcGxhdGVzID0gW11cbiAgICBAZ2V0V2lkZ2V0c1RlbXBsYXRlcyA9IC0+XG4gICAgICByZXR1cm4gX3NlbGYuY29uZmlnLndpZGdldHNUZW1wbGF0ZXNcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIENhbGxiYWNrc1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBjYWxsYmFja3MgPSB7fVxuXG4gICAgQGNhbGxiYWNrcy5kYXNoYm9hcmRDaGFuZ2VkID0gJHEuZGVmZXIoKVxuICAgIEBkYXNoYm9hcmRDaGFuZ2VkID0gLT5cbiAgICAgIHJldHVybiBfc2VsZi5jYWxsYmFja3MuZGFzaGJvYXJkQ2hhbmdlZC5wcm9taXNlXG5cbiAgICBAY2FsbGJhY2tzLndpZGdldEFkZGVkID0gJHEuZGVmZXIoKVxuICAgIEB3aWRnZXRBZGRlZCA9IC0+XG4gICAgICByZXR1cm4gX3NlbGYuY2FsbGJhY2tzLndpZGdldEFkZGVkLnByb21pc2VcblxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgQ29udGV4dCBoZWxwZXJzIChyZXR1cm4gYm9vbGVhbnM6IGNhbiBiZSBjYWxsZWQgYnV0IGNhbid0IGJlIGJvdW5kISlcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBuZWVkQ29uZmlndXJhdGlvbkxvYWQgPSAtPlxuICAgICAgcmV0dXJuICBfLmlzRW1wdHkoX3NlbGYuY29uZmlnLmRhc2hib2FyZHMpIHx8IF8uaXNFbXB0eShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZClcblxuICAgIEBpc1RoZXJlQURhc2hib2FyZCA9IC0+XG4gICAgICAhXy5pc0VtcHR5IF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkXG5cbiAgICBAYXJlVGhlcmVTZXZlcmFsRGFzaGJvYXJkcyA9IC0+XG4gICAgICBfc2VsZi5jb25maWcuZGFzaGJvYXJkcy5sZW5ndGggPiAxXG5cbiAgICBAaXNDdXJyZW50RGFzaGJvYXJkRW1wdHkgPSAtPlxuICAgICAgX3NlbGYuaXNUaGVyZUFEYXNoYm9hcmQoKSAmJiBfLmlzRW1wdHkoX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmQud2lkZ2V0cylcblxuICAgIEBhcmVLcGlzRW5hYmxlZCA9IC0+XG4gICAgICBJbXBhY1RoZW1pbmcuZ2V0KCkuZGhiS3Bpc0NvbmZpZy5lbmFibGVLcGlzXG5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIExvYWRlcnMgYW5kIHNldHRlcnNcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAbG9hZExvY2tlZD1mYWxzZVxuICAgIEBsb2FkID0gKGZvcmNlPWZhbHNlKSAtPlxuXG4gICAgICAjIFNpbmdsZXRvbiBwcmV2ZW50cyBjb25jdXJyZW50IGNhbGxzIG9mIF9zZWxmLmxvYWRcbiAgICAgIGlmICFfc2VsZi5sb2FkTG9ja2VkXG4gICAgICAgIF9zZWxmLmxvYWRMb2NrZWQ9dHJ1ZVxuXG4gICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgICAgICBpZiAobmVlZENvbmZpZ3VyYXRpb25Mb2FkKCkgfHwgZm9yY2UpXG5cbiAgICAgICAgICBJbXBhY01haW5TdmMubG9hZE9yZ2FuaXphdGlvbnMoZm9yY2UpLnRoZW4gKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICBvcmdJZCA9IHN1Y2Nlc3MuY3VycmVudE9yZ2FuaXphdGlvbi5pZFxuXG4gICAgICAgICAgICAkaHR0cC5nZXQoSW1wYWNSb3V0ZXMuZGFzaGJvYXJkcy5pbmRleChvcmdJZCkpLnRoZW4gKGRhc2hib2FyZHMpIC0+XG4gICAgICAgICAgICAgIF9zZWxmLnNldERhc2hib2FyZHMoZGFzaGJvYXJkcy5kYXRhKS50aGVuIC0+XG4gICAgICAgICAgICAgICAgX3NlbGYuc2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgICAgICAgICAgICAgX3NlbGYubG9hZExvY2tlZD1mYWxzZVxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3NlbGYuY29uZmlnKVxuICAgICAgICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgICAgICAgX3NlbGYubG9hZExvY2tlZD1mYWxzZVxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcblxuICAgICAgICAgICAgLChlcnJvcikgLT5cbiAgICAgICAgICAgICAgJGxvZy5lcnJvcihcIkltcGFjIC0gRGFzaGJvYXJkU3ZjOiBjYW5ub3QgcmV0cmlldmUgZGFzaGJvYXJkcyBsaXN0IGZvciBvcmc6ICN7b3JnSWR9XCIpXG4gICAgICAgICAgICAgIF9zZWxmLmxvYWRMb2NrZWQ9ZmFsc2VcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKVxuXG4gICAgICAgICAgLChlcnJvcikgLT5cbiAgICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyAtIERhc2hib2FyZFN2YzogY2Fubm90IHJldHJpZXZlIGN1cnJlbnQgb3JnYW5pemF0aW9uXCIpXG4gICAgICAgICAgICBfc2VsZi5sb2FkTG9ja2VkPWZhbHNlXG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG5cbiAgICAgICAgZWxzZVxuICAgICAgICAgIF9zZWxmLmxvYWRMb2NrZWQ9ZmFsc2VcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9zZWxmLmNvbmZpZylcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG4gICAgICBlbHNlXG4gICAgICAgICRsb2cud2FybiBcIkltcGFjRGFzaGJvYXJkc1N2Yy5sb2FkIGxvY2tlZC4gVHJ5aW5nIGFnYWluIGluIDFzXCJcbiAgICAgICAgJHRpbWVvdXQgKC0+IF9zZWxmLmxvYWQoZm9yY2UpKSwgMTAwMFxuXG5cbiAgICBzZXREZWZhdWx0Q3VycmVudERhc2hib2FyZCA9IC0+XG4gICAgICBpZiBfc2VsZi5jb25maWcuZGFzaGJvYXJkcz8gJiYgX3NlbGYuY29uZmlnLmRhc2hib2FyZHMubGVuZ3RoID4gMFxuICAgICAgICAkbG9nLmluZm8oXCJJbXBhYyAtIERhc2hib2FyZFN2YzogZmlyc3QgZGFzaGJvYXJkIHNldCBhcyBjdXJyZW50IGJ5IGRlZmF1bHRcIilcbiAgICAgICAgSW1wYWNNYWluU3ZjLm92ZXJyaWRlIF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkLCBfc2VsZi5jb25maWcuZGFzaGJvYXJkc1swXVxuICAgICAgICBfc2VsZi5zZXRXaWRnZXRzVGVtcGxhdGVzKF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkLndpZGdldHNfdGVtcGxhdGVzKVxuICAgICAgICBJbXBhY0twaXNTdmMuaW5pdGlhbGl6ZShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZCkgaWYgX3NlbGYuYXJlS3Bpc0VuYWJsZWQoKVxuICAgICAgICBfc2VsZi5pbml0aWFsaXplQWN0aXZlVGFicygpXG4gICAgICAgIF9zZWxmLmNhbGxiYWNrcy5kYXNoYm9hcmRDaGFuZ2VkLm5vdGlmeShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgJGxvZy53YXJuKFwiSW1wYWMgLSBEYXNoYm9hcmRTdmM6IGNhbm5vdCBzZXQgZGVmYXVsdCBjdXJyZW50IGRhc2hib2FyZFwiKVxuICAgICAgICBJbXBhY01haW5TdmMub3ZlcnJpZGUgX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmQsIHt9XG4gICAgICAgIF9zZWxmLmNhbGxiYWNrcy5kYXNoYm9hcmRDaGFuZ2VkLm5vdGlmeShmYWxzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBAc2V0Q3VycmVudERhc2hib2FyZCA9IChpZD1udWxsKSAtPlxuICAgICAgaWYgaWQ/XG4gICAgICAgIGZldGNoZWREaGIgPSBfLmZpbmQgX3NlbGYuY29uZmlnLmRhc2hib2FyZHMsICgoZGhiKSAtPiBpZCA9PSBkaGIuaWQpXG5cbiAgICAgICAgaWYgIV8uaXNFbXB0eShmZXRjaGVkRGhiKVxuICAgICAgICAgIEltcGFjTWFpblN2Yy5vdmVycmlkZSBfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZCwgZmV0Y2hlZERoYlxuICAgICAgICAgIF9zZWxmLnNldFdpZGdldHNUZW1wbGF0ZXMoZmV0Y2hlZERoYi53aWRnZXRzX3RlbXBsYXRlcylcbiAgICAgICAgICBJbXBhY0twaXNTdmMuaW5pdGlhbGl6ZShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZCkgaWYgX3NlbGYuYXJlS3Bpc0VuYWJsZWQoKVxuICAgICAgICAgIF9zZWxmLmluaXRpYWxpemVBY3RpdmVUYWJzKClcbiAgICAgICAgICBfc2VsZi5jYWxsYmFja3MuZGFzaGJvYXJkQ2hhbmdlZC5ub3RpZnkoX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmQpXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgZWxzZVxuICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyAtIERhc2hib2FyZFN2YzogZGFzaGJvYXJkOiAje2lkfSBub3QgZm91bmQgaW4gZGFzaGJvYXJkcyBsaXN0XCIpXG4gICAgICAgICAgcmV0dXJuIHNldERlZmF1bHRDdXJyZW50RGFzaGJvYXJkKClcblxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gc2V0RGVmYXVsdEN1cnJlbnREYXNoYm9hcmQoKVxuXG5cbiAgICAjIFRPRE86IHJlZmFjdG9yIGJhY2tlbmQgY29udHJvbGxlcjogZGFzaGJvYXJkcyhvcmdJZCkgc2hvdWxkIHJldHVybiBvbmx5IHRoZSBkYXNoYm9hcmRzIGxpbmtlZCB0byB0aGUgb3JnYW5pemF0aW9uXG4gICAgIyBhbmQgbm90IGFsbCB0aGUgZGFzaGJvYXJkcyBiZWxvbmdpbmcgdG8gdGhlIHVzZXIuLi5cbiAgICBiZWxvbmdzVG9DdXJyZW50T3JnYW5pemF0aW9uID0gKGRhc2hib2FyZCwgb3JnKSAtPlxuICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoXy5wbHVjayhkYXNoYm9hcmQuZGF0YV9zb3VyY2VzLCAnaWQnKSwgb3JnLmlkKVxuXG5cbiAgICBAc2V0RGFzaGJvYXJkcyA9IChkYXNoYm9hcmRzQXJyYXk9W10pIC0+XG4gICAgICBJbXBhY01haW5TdmMubG9hZE9yZ2FuaXphdGlvbnMoKS50aGVuKFxuICAgICAgICAoY29uZmlnKSAtPlxuICAgICAgICAgIGN1ck9yZyA9IGNvbmZpZy5jdXJyZW50T3JnYW5pemF0aW9uXG4gICAgICAgICAgIyBDbGVhciBhcnJheVxuICAgICAgICAgIF8ucmVtb3ZlIF9zZWxmLmNvbmZpZy5kYXNoYm9hcmRzLCAoLT4gdHJ1ZSlcbiAgICAgICAgICBmb3IgZGhiIGluIGRhc2hib2FyZHNBcnJheVxuICAgICAgICAgICAgaWYgYmVsb25nc1RvQ3VycmVudE9yZ2FuaXphdGlvbihkaGIsIGN1ck9yZylcbiAgICAgICAgICAgICAgX3NlbGYuY29uZmlnLmRhc2hib2FyZHMucHVzaCBkaGJcbiAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyAtIERhc2hib2FyZFN2YzogQ2Fubm90IGxvYWQgdXNlcidzIG9yZ2FuaXphdGlvbnNcIilcbiAgICAgIClcblxuXG4gICAgQHNldFdpZGdldHNUZW1wbGF0ZXMgPSAodGVtcGxhdGVzQXJyYXkpIC0+XG4gICAgICAjIFdpbGwgYmUgZmlsbGVkIG9ubHkgb25jZVxuICAgICAgcmV0dXJuIGZhbHNlIGlmIF8uaXNFbXB0eSh0ZW1wbGF0ZXNBcnJheSkgfHwgIV8uaXNFbXB0eShfc2VsZi5jb25maWcud2lkZ2V0c1RlbXBsYXRlcylcbiAgICAgIGZvciB0ZW1wbGF0ZSBpbiB0ZW1wbGF0ZXNBcnJheVxuICAgICAgICBfc2VsZi5jb25maWcud2lkZ2V0c1RlbXBsYXRlcy5wdXNoIHRlbXBsYXRlXG5cbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICBAaW5pdGlhbGl6ZUFjdGl2ZVRhYnMgPSAtPlxuICAgICAgZm9yIGRoYiBpbiBfc2VsZi5jb25maWcuZGFzaGJvYXJkc1xuICAgICAgICBfLm1lcmdlIGRoYiwge2FjdGl2ZTogX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmQuaWQgPT0gZGhiLmlkfVxuXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBDUlVEIG1ldGhvZHNcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAY3JlYXRlID0gKGRhc2hib2FyZCkgLT5cbiAgICAgIF9zZWxmLmxvYWQoKS50aGVuIC0+XG4gICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICAgIG9yZyA9IEltcGFjTWFpblN2Yy5jb25maWcuY3VycmVudE9yZ2FuaXphdGlvblxuXG4gICAgICAgIHVubGVzcyBkYXNoYm9hcmQuY3VycmVuY3k/XG4gICAgICAgICAgZGFzaGJvYXJkLmN1cnJlbmN5ID0gb3JnLmN1cnJlbmN5IHx8ICdVU0QnXG5cbiAgICAgICAgZGF0YSA9IHsgZGFzaGJvYXJkOiBkYXNoYm9hcmQgfVxuXG4gICAgICAgICRodHRwLnBvc3QoSW1wYWNSb3V0ZXMuZGFzaGJvYXJkcy5jcmVhdGUob3JnLmlkKSwgZGF0YSkudGhlbiAoc3VjY2VzcykgLT5cbiAgICAgICAgICBfc2VsZi5jb25maWcuZGFzaGJvYXJkcy5wdXNoKHN1Y2Nlc3MuZGF0YSlcbiAgICAgICAgICBfc2VsZi5zZXRDdXJyZW50RGFzaGJvYXJkKHN1Y2Nlc3MuZGF0YS5pZClcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MuZGF0YSlcbiAgICAgICAgLChlcnJvcikgLT5cbiAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWMgLSBEYXNoYm9hcmRTdmM6IGNhbm5vdCBjcmVhdGUgZGFzaGJvYXJkIHdpdGggcGFyYW1ldGVyczogI3thbmd1bGFyLnRvSnNvbihkYXNoYm9hcmQpfVwiLCBlcnJvcilcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgQGRlbGV0ZSA9IChpZCkgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICAkaHR0cC5kZWxldGUoSW1wYWNSb3V0ZXMuZGFzaGJvYXJkcy5kZWxldGUoaWQpKS50aGVuIChzdWNjZXNzKSAtPlxuICAgICAgICBfLnJlbW92ZSBfc2VsZi5jb25maWcuZGFzaGJvYXJkcywgKGRoYikgLT5cbiAgICAgICAgICBpZCA9PSBkaGIuaWRcbiAgICAgICAgX3NlbGYuc2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoc3VjY2VzcylcbiAgICAgICwoZXJyb3IpIC0+XG4gICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyAtIERhc2hib2FyZFN2YzogY2Fubm90IGRlbGV0ZSBkYXNoYm9hcmQ6ICN7aWR9XCIpXG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgQHVwZGF0ZSA9IChpZCwgb3B0cykgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgICAgZGF0YSA9IHsgZGFzaGJvYXJkOiBvcHRzIH1cblxuICAgICAgJGh0dHAucHV0KEltcGFjUm91dGVzLmRhc2hib2FyZHMudXBkYXRlKGlkKSwgZGF0YSkudGhlbiAoc3VjY2VzcykgLT5cbiAgICAgICAgYW5ndWxhci5tZXJnZSggXy5maW5kKF9zZWxmLmNvbmZpZy5kYXNoYm9hcmRzLCAoZGhiKSAtPlxuICAgICAgICAgIGlkID09IGRoYi5pZFxuICAgICAgICApLCBzdWNjZXNzLmRhdGEpXG5cbiAgICAgICAgaWYgaWQgPT0gX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmQuaWRcbiAgICAgICAgICBhbmd1bGFyLm1lcmdlIF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkLCBzdWNjZXNzLmRhdGFcblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MuZGF0YSlcbiAgICAgICwoZXJyb3IpIC0+XG4gICAgICAgICRsb2cuZXJyb3IoXCJJbXBhYyAtIERhc2hib2FyZFN2YzogY2Fubm90IHVwZGF0ZSBkYXNoYm9hcmQ6ICN7aWR9IHdpdGggcGFyYW1ldGVyczogI3tvcHRzfVwiKVxuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG5cblxuICAgIHJldHVybiBfc2VsZlxuIl19

(function() {
  angular.module('impac.services.kpis', []).service('ImpacKpisSvc', ["$log", "$http", "$filter", "$q", "ImpacRoutes", "ImpacMainSvc", function($log, $http, $filter, $q, ImpacRoutes, ImpacMainSvc) {
    var _self, formatShowQuery, index, isDeveloper, isInitialized;
    _self = this;
    this.config = {};
    this.config.ssoSessionId = "";
    this.getSsoSessionId = function() {
      return _self.config.ssoSessionId;
    };
    this.config.kpisTemplates = [];
    this.getKpisTemplates = function() {
      return _self.config.kpisTemplates;
    };
    this.config.currentDashboardId = "";
    this.getCurrentDashboardId = function() {
      return _self.config.currentDashboardId;
    };
    formatShowQuery = function(basePath, endpoint, watchable, params) {
      var baseUrl, url;
      baseUrl = [basePath, endpoint, watchable].join('/');
      url = [baseUrl, decodeURIComponent($.param(params))].join('?');
      return url;
    };
    isInitialized = function() {
      return !(_.isEmpty(_self.config.ssoSessionId || _.isEmpty(_self.config.kpisTemplates || _.isEmpty(_self.config.currentDashboardId))));
    };
    isDeveloper = function() {
      var basicAuth;
      basicAuth = $http.defaults.headers.common.Authorization;
      return basicAuth && typeof basicAuth === 'string' && basicAuth.length;
    };
    this.load = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      deferred = $q.defer();
      if (_.isEmpty(_self.config.ssoSessionId) || force) {
        ImpacMainSvc.loadUserData(force).then(function(mainConfig) {
          _self.config.ssoSessionId = mainConfig.sso_session;
          return deferred.resolve(_self.config);
        }, function(error) {
          return deferred.reject(error);
        });
      } else {
        deferred.resolve(_self.config);
      }
      return deferred.promise;
    };
    this.initialize = function(dashboard) {
      return _self.load().then(function() {
        var orgUids, params, promises;
        _self.config.currentDashboardId = dashboard.id;
        orgUids = _.pluck(dashboard.data_sources, 'uid');
        params = {};
        params.metadata = {
          organization_ids: orgUids
        };
        if (_self.config.ssoSessionId) {
          params.metadata.sso_session = _self.config.ssoSessionId;
        }
        promises = {
          impac: index(params)
        };
        if (ImpacRoutes.kpis.local()) {
          promises.local = $http.get(ImpacRoutes.kpis.local());
        }
        return $q.all(promises).then(function(response) {
          var i, j, len, len1, ref, ref1, results, template;
          _.remove(_self.config.kpisTemplates, (function() {
            return true;
          }));
          ref = response.impac.data.kpis;
          for (i = 0, len = ref.length; i < len; i++) {
            template = ref[i];
            template.source || (template.source = 'impac');
            _self.config.kpisTemplates.push(template);
          }
          if (response.local) {
            ref1 = response.local.data.kpis;
            results = [];
            for (j = 0, len1 = ref1.length; j < len1; j++) {
              template = ref1[j];
              template.source = 'local';
              results.push(_self.config.kpisTemplates.push(template));
            }
            return results;
          }
        }, function(error) {
          return $log.error('ImpacKpisSvc - cannot retrieve kpis templates list', error);
        });
      });
    };
    index = function(params) {
      var host, url;
      host = ImpacRoutes.kpis.index();
      url = [host, decodeURIComponent($.param(params))].join('?');
      return $http.get(url);
    };
    this.show = function(kpi) {
      var deferred, host, params, url;
      deferred = $q.defer();
      if (!(isInitialized() || isDeveloper())) {
        $log.error('ImpacKpisSvc - Service not initialized');
        deferred.reject({
          error: {
            message: 'ImpacKpisSvc is not initialized'
          }
        });
      } else {
        params = {};
        if (_self.config.ssoSessionId) {
          params.sso_session = _self.config.ssoSessionId;
        }
        if (kpi.targets != null) {
          params.targets = kpi.targets;
        }
        if (kpi.settings != null) {
          params.metadata = kpi.settings;
        }
        if (kpi.extra_params != null) {
          params.extra_params = kpi.extra_params;
        }
        switch (kpi.source) {
          case 'impac':
            host = ImpacRoutes.kpis.show(_self.config.currentDashboardId, kpi.id);
            break;
          case 'local':
            host = ImpacRoutes.kpis.local();
        }
        url = formatShowQuery(host, kpi.endpoint, kpi.element_watched, params);
        $http.get(url).then(function(response) {
          var missingParams, updatedConfig;
          kpi.data || (kpi.data = {});
          angular.extend(kpi.data, _.pick(response.data.kpi, ['value', 'unit', 'results']));
          updatedConfig = response.data.kpi.configuration || {};
          missingParams = _.select(['targets', 'extra_params'], (function(param) {
            return (kpi[param] == null) && (updatedConfig[param] != null);
          }));
          angular.extend(kpi, _.pick(updatedConfig, missingParams));
          return deferred.resolve(kpi);
        }, function(err) {
          $log.error('impac-angular ERROR: Could not retrieve KPI at: ' + kpi.endpoint, err);
          return deferred.reject(err);
        });
      }
      return deferred.promise;
    };
    this.create = function(source, endpoint, elementWatched) {
      var deferred, params, url;
      deferred = $q.defer();
      if (!(isInitialized() || isDeveloper())) {
        deferred.reject({
          error: {
            message: 'ImpacKpisSvc is not initialized'
          }
        });
      } else {
        params = {
          source: source,
          endpoint: endpoint,
          element_watched: elementWatched
        };
        url = ImpacRoutes.kpis.create(_self.config.currentDashboardId);
        $http.post(url, {
          kpi: params
        }).then(function(success) {
          return deferred.resolve(success.data);
        }, function(err) {
          return deferred.reject(err);
        });
      }
      return deferred.promise;
    };
    this.update = function(kpi, params) {
      var deferred, filtered_params, url;
      deferred = $q.defer();
      filtered_params = {};
      if (params.name != null) {
        filtered_params.name = params.name;
      }
      if (params.metadata != null) {
        filtered_params.settings = params.metadata;
      }
      if (params.targets != null) {
        filtered_params.targets = params.targets;
      }
      if (params.extra_params != null) {
        filtered_params.extra_params = params.extra_params;
      }
      url = ImpacRoutes.kpis.update(_self.config.currentDashboardId, kpi.id);
      if (!_.isEmpty(filtered_params)) {
        $http.put(url, {
          kpi: params
        }).then(function(success) {
          angular.extend(kpi, success.data);
          _self.show(kpi);
          return deferred.resolve(kpi);
        }, function(err) {
          $log.error('impac-angular ERROR: Unable to update KPI ', err);
          return deferred.reject(err);
        });
      }
      return deferred.promise;
    };
    this["delete"] = function(kpi) {
      var deferred, url;
      deferred = $q.defer();
      url = ImpacRoutes.kpis["delete"](_self.config.currentDashboardId, kpi.id);
      $http["delete"](url).then(function(success) {
        return deferred.resolve(success);
      }, function(err) {
        return deferred.reject(err);
      });
      return deferred.promise;
    };
    return this;
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL2twaXMva3Bpcy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSxxQkFEVixFQUNpQyxFQURqQyxDQUVFLENBQUMsT0FGSCxDQUVXLGNBRlgsRUFFMkIsU0FBQyxJQUFELEVBQU8sS0FBUCxFQUFjLE9BQWQsRUFBdUIsRUFBdkIsRUFBMkIsV0FBM0IsRUFBd0MsWUFBeEM7QUFFdkIsUUFBQTtJQUFBLEtBQUEsR0FBUTtJQU1SLElBQUMsQ0FBQSxNQUFELEdBQVU7SUFFVixJQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsR0FBdUI7SUFDdkIsSUFBQyxDQUFBLGVBQUQsR0FBbUIsU0FBQTtBQUNqQixhQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFESDtJQUduQixJQUFDLENBQUEsTUFBTSxDQUFDLGFBQVIsR0FBd0I7SUFDeEIsSUFBQyxDQUFBLGdCQUFELEdBQW9CLFNBQUE7QUFDbEIsYUFBTyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBREY7SUFHcEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxrQkFBUixHQUE2QjtJQUM3QixJQUFDLENBQUEscUJBQUQsR0FBeUIsU0FBQTtBQUN2QixhQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFERztJQVF6QixlQUFBLEdBQWtCLFNBQUMsUUFBRCxFQUFXLFFBQVgsRUFBcUIsU0FBckIsRUFBZ0MsTUFBaEM7QUFDaEIsVUFBQTtNQUFBLE9BQUEsR0FBVSxDQUFDLFFBQUQsRUFBVSxRQUFWLEVBQW1CLFNBQW5CLENBQTZCLENBQUMsSUFBOUIsQ0FBbUMsR0FBbkM7TUFDVixHQUFBLEdBQU0sQ0FBQyxPQUFELEVBQVMsa0JBQUEsQ0FBb0IsQ0FBQyxDQUFDLEtBQUYsQ0FBUyxNQUFULENBQXBCLENBQVQsQ0FBaUQsQ0FBQyxJQUFsRCxDQUF1RCxHQUF2RDtBQUNOLGFBQU87SUFIUztJQUtsQixhQUFBLEdBQWdCLFNBQUE7YUFDZCxDQUFDLENBQUMs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RDtlQUNyQixRQUFRLENBQUMsT0FBVCxDQUFpQixPQUFqQjtNQURxQixDQUF2QixFQUVDLFNBQUMsR0FBRDtlQUNDLFFBQVEsQ0FBQyxNQUFULENBQWdCLEdBQWhCO01BREQsQ0FGRDtBQUtBLGFBQU8sUUFBUSxDQUFDO0lBVFI7QUFZVixXQUFPO0VBaE9nQixDQUYzQjtBQUFBIiwiZmlsZSI6InNlcnZpY2VzL2twaXMva3Bpcy5zdmMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gIC5tb2R1bGUoJ2ltcGFjLnNlcnZpY2VzLmtwaXMnLCBbXSlcbiAgLnNlcnZpY2UoJ0ltcGFjS3Bpc1N2YycsICgkbG9nLCAkaHR0cCwgJGZpbHRlciwgJHEsIEltcGFjUm91dGVzLCBJbXBhY01haW5TdmMpIC0+XG5cbiAgICBfc2VsZiA9IEBcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIEdldHRlcnNcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAY29uZmlnID0ge31cblxuICAgIEBjb25maWcuc3NvU2Vzc2lvbklkID0gXCJcIlxuICAgIEBnZXRTc29TZXNzaW9uSWQgPSAtPlxuICAgICAgcmV0dXJuIF9zZWxmLmNvbmZpZy5zc29TZXNzaW9uSWRcblxuICAgIEBjb25maWcua3Bpc1RlbXBsYXRlcyA9IFtdXG4gICAgQGdldEtwaXNUZW1wbGF0ZXMgPSAtPlxuICAgICAgcmV0dXJuIF9zZWxmLmNvbmZpZy5rcGlzVGVtcGxhdGVzXG5cbiAgICBAY29uZmlnLmN1cnJlbnREYXNoYm9hcmRJZCA9IFwiXCJcbiAgICBAZ2V0Q3VycmVudERhc2hib2FyZElkID0gLT5cbiAgICAgIHJldHVybiBfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZElkXG5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIENvbnRleHQgaGVscGVyc1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZvcm1hdFNob3dRdWVyeSA9IChiYXNlUGF0aCwgZW5kcG9pbnQsIHdhdGNoYWJsZSwgcGFyYW1zKSAtPlxuICAgICAgYmFzZVVybCA9IFtiYXNlUGF0aCxlbmRwb2ludCx3YXRjaGFibGVdLmpvaW4oJy8nKVxuICAgICAgdXJsID0gW2Jhc2VVcmwsZGVjb2RlVVJJQ29tcG9uZW50KCAkLnBhcmFtKCBwYXJhbXMgKSApXS5qb2luKCc/JylcbiAgICAgIHJldHVybiB1cmxcblxuICAgIGlzSW5pdGlhbGl6ZWQgPSAtPlxuICAgICAgIShfLmlzRW1wdHkgX3NlbGYuY29uZmlnLnNzb1Nlc3Npb25JZCBvciBfLmlzRW1wdHkgX3NlbGYuY29uZmlnLmtwaXNUZW1wbGF0ZXMgb3IgXy5pc0VtcHR5IF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkSWQpXG5cbiAgICAjIGltcGFjIGRldmVsb3BlciB0b29sa2l0IGJhc2ljIGF1dGhlbnRpY2F0aW9uIGlzIHByZXNlbnQuXG4gICAgaXNEZXZlbG9wZXIgPSAtPlxuICAgICAgYmFzaWNBdXRoID0gJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvblxuICAgICAgcmV0dXJuIGJhc2ljQXV0aCAmJiB0eXBlb2YgYmFzaWNBdXRoID09ICdzdHJpbmcnICYmIGJhc2ljQXV0aC5sZW5ndGhcblxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgTG9hZCBhbmQgaW5pdGlhbGl6ZVxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBsb2FkID0gKGZvcmNlPWZhbHNlKSAtPlxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIGlmIF8uaXNFbXB0eShfc2VsZi5jb25maWcuc3NvU2Vzc2lvbklkKSB8fCBmb3JjZVxuICAgICAgICBJbXBhY01haW5TdmMubG9hZFVzZXJEYXRhKGZvcmNlKS50aGVuKFxuICAgICAgICAgIChtYWluQ29uZmlnKSAtPlxuICAgICAgICAgICAgX3NlbGYuY29uZmlnLnNzb1Nlc3Npb25JZCA9IG1haW5Db25maWcuc3NvX3Nlc3Npb25cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3NlbGYuY29uZmlnKVxuICAgICAgICAgIChlcnJvcikgLT5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgICAgKVxuXG4gICAgICBlbHNlXG4gICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9zZWxmLmNvbmZpZylcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuICAgICMgV2lsbCBiZSBjYWxsZWQgYnkgSW1wYWNEYXNoYm9hcmRzU3ZjIHdoZW4gdGhlIGN1cnJlbnQgRGhiIGlzIHNldFxuICAgICMgKHJlcXVpcmVkIGJlY2F1c2Ugd2UgbmVlZCB0aGUgbGlzdCBvZiBvcmdhbml6YXRpb25zIHVpZHMgdG8gcHJvcGVybHkgbG9hZCB0aGUgYXZhaWxhYmxlIGtwaXMgZnJvbiAjSU5ERVgpXG4gICAgQGluaXRpYWxpemUgPSAoZGFzaGJvYXJkKSAtPlxuICAgICAgX3NlbGYubG9hZCgpLnRoZW4oIC0+XG4gICAgICAgIF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkSWQgPSBkYXNoYm9hcmQuaWRcblxuICAgICAgICBvcmdVaWRzID0gXy5wbHVjayBkYXNoYm9hcmQuZGF0YV9zb3VyY2VzLCAndWlkJ1xuXG4gICAgICAgIHBhcmFtcyA9IHt9XG4gICAgICAgIHBhcmFtcy5tZXRhZGF0YSA9IHtcbiAgICAgICAgICBvcmdhbml6YXRpb25faWRzOiBvcmdVaWRzXG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zLm1ldGFkYXRhLnNzb19zZXNzaW9uID0gX3NlbGYuY29uZmlnLnNzb1Nlc3Npb25JZCBpZiBfc2VsZi5jb25maWcuc3NvU2Vzc2lvbklkXG5cbiAgICAgICAgcHJvbWlzZXMgPSB7XG4gICAgICAgICAgaW1wYWM6IGluZGV4KHBhcmFtcylcbiAgICAgICAgfVxuXG4gICAgICAgICMgR2V0IGxvY2FsIGtwaXNcbiAgICAgICAgaWYgSW1wYWNSb3V0ZXMua3Bpcy5sb2NhbCgpXG4gICAgICAgICAgcHJvbWlzZXMubG9jYWwgPSAkaHR0cC5nZXQoSW1wYWNSb3V0ZXMua3Bpcy5sb2NhbCgpKVxuXG4gICAgICAgICRxLmFsbChwcm9taXNlcykudGhlbihcbiAgICAgICAgICAocmVzcG9uc2UpIC0+XG4gICAgICAgICAgICAjIGNsZWFyIGFycmF5XG4gICAgICAgICAgICBfLnJlbW92ZSBfc2VsZi5jb25maWcua3Bpc1RlbXBsYXRlcywgKC0+IHRydWUpXG5cbiAgICAgICAgICAgICMgZmlsbCBhcnJheSB3aXRoIG5ldyB2YWx1ZXMgZnJvbSBJbXBhYyEgYXBpXG4gICAgICAgICAgICBmb3IgdGVtcGxhdGUgaW4gcmVzcG9uc2UuaW1wYWMuZGF0YS5rcGlzXG4gICAgICAgICAgICAgIHRlbXBsYXRlLnNvdXJjZSB8fD0gJ2ltcGFjJ1xuICAgICAgICAgICAgICBfc2VsZi5jb25maWcua3Bpc1RlbXBsYXRlcy5wdXNoIHRlbXBsYXRlXG5cbiAgICAgICAgICAgIGlmIHJlc3BvbnNlLmxvY2FsXG4gICAgICAgICAgICAgICMgZmlsbCBhcnJheSB3aXRoIG5ldyB2YWx1ZXMgZnJvbSBsb2NhbCBlbmRwb2luc3RcbiAgICAgICAgICAgICAgZm9yIHRlbXBsYXRlIGluIHJlc3BvbnNlLmxvY2FsLmRhdGEua3Bpc1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdsb2NhbCdcbiAgICAgICAgICAgICAgICBfc2VsZi5jb25maWcua3Bpc1RlbXBsYXRlcy5wdXNoIHRlbXBsYXRlXG5cbiAgICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdJbXBhY0twaXNTdmMgLSBjYW5ub3QgcmV0cmlldmUga3BpcyB0ZW1wbGF0ZXMgbGlzdCcsIGVycm9yKVxuICAgICAgICApXG4gICAgICApXG5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIENSVUQgbWV0aG9kc1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICMgUmV0cmlldmUgYWxsIHRoZSBhdmFpbGFibGUga3BpcyBmcm9tIEltcGFjIVxuICAgICMgTm90ZTogaW5kZXggaXMgYSBwcml2YXRlIG1ldGhvZCB0aGF0IHNob3VsZCBiZSBjYWxsZWQgb25seSBieSBfc2VsZi5pbml0aWFsaXplZFxuICAgIGluZGV4ID0gKHBhcmFtcykgLT5cbiAgICAgIGhvc3QgPSBJbXBhY1JvdXRlcy5rcGlzLmluZGV4KClcbiAgICAgIHVybCA9IFtob3N0LGRlY29kZVVSSUNvbXBvbmVudCggJC5wYXJhbSggcGFyYW1zICkgKV0uam9pbignPycpXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybClcblxuXG4gICAgIyByZXRyaWV2ZXMgZGF0YSBmb3Iga3BpIGZyb20gYXBpXG4gICAgQHNob3cgPSAoa3BpKSAtPlxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIHVubGVzcyBpc0luaXRpYWxpemVkKCkgfHwgaXNEZXZlbG9wZXIoKVxuICAgICAgICAkbG9nLmVycm9yICdJbXBhY0twaXNTdmMgLSBTZXJ2aWNlIG5vdCBpbml0aWFsaXplZCdcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHtlcnJvcjoge21lc3NhZ2U6ICdJbXBhY0twaXNTdmMgaXMgbm90IGluaXRpYWxpemVkJ319KVxuXG4gICAgICBlbHNlXG4gICAgICAgIHBhcmFtcyA9IHt9XG4gICAgICAgIHBhcmFtcy5zc29fc2Vzc2lvbiA9IF9zZWxmLmNvbmZpZy5zc29TZXNzaW9uSWQgaWYgX3NlbGYuY29uZmlnLnNzb1Nlc3Npb25JZFxuICAgICAgICBwYXJhbXMudGFyZ2V0cyA9IGtwaS50YXJnZXRzIGlmIGtwaS50YXJnZXRzP1xuICAgICAgICBwYXJhbXMubWV0YWRhdGEgPSBrcGkuc2V0dGluZ3MgaWYga3BpLnNldHRpbmdzP1xuICAgICAgICBwYXJhbXMuZXh0cmFfcGFyYW1zID0ga3BpLmV4dHJhX3BhcmFtcyBpZiBrcGkuZXh0cmFfcGFyYW1zP1xuXG4gICAgICAgIHN3aXRjaCBrcGkuc291cmNlXG4gICAgICAgICAgd2hlbiAnaW1wYWMnXG4gICAgICAgICAgICBob3N0ID0gSW1wYWNSb3V0ZXMua3Bpcy5zaG93KF9zZWxmLmNvbmZpZy5jdXJyZW50RGFzaGJvYXJkSWQsIGtwaS5pZClcbiAgICAgICAgICB3aGVuICdsb2NhbCdcbiAgICAgICAgICAgIGhvc3QgPSBJbXBhY1JvdXRlcy5rcGlzLmxvY2FsKClcblxuICAgICAgICB1cmwgPSBmb3JtYXRTaG93UXVlcnkoaG9zdCwga3BpLmVuZHBvaW50LCBrcGkuZWxlbWVudF93YXRjaGVkLCBwYXJhbXMpXG5cbiAgICAgICAgJGh0dHAuZ2V0KHVybCkudGhlbihcbiAgICAgICAgICAocmVzcG9uc2UpIC0+XG4gICAgICAgICAgICBrcGkuZGF0YSB8fD0ge31cbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kIGtwaS5kYXRhLCBfLnBpY2sgcmVzcG9uc2UuZGF0YS5rcGksIFsndmFsdWUnLCAndW5pdCcsICdyZXN1bHRzJ11cblxuICAgICAgICAgICAgIyBXaGVuIHRoZSBrcGkgaW5pdGlhbCBjb25maWd1cmF0aW9uIGlzIHBhcnRpYWwsIHdlIHVwZGF0ZSBpdCB3aXRoIHdoYXQgdGhlIEFQSSBoYXMgcGlja2VkIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHVwZGF0ZWRDb25maWcgPSByZXNwb25zZS5kYXRhLmtwaS5jb25maWd1cmF0aW9uIHx8IHt9XG4gICAgICAgICAgICBtaXNzaW5nUGFyYW1zID0gXy5zZWxlY3QgWyd0YXJnZXRzJywnZXh0cmFfcGFyYW1zJ10sICggKHBhcmFtKSAtPiAha3BpW3BhcmFtXT8gJiYgdXBkYXRlZENvbmZpZ1twYXJhbV0/KVxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQga3BpLCBfLnBpY2sodXBkYXRlZENvbmZpZywgbWlzc2luZ1BhcmFtcylcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShrcGkpXG4gICAgICAgICAgKGVycikgLT5cbiAgICAgICAgICAgICRsb2cuZXJyb3IgJ2ltcGFjLWFuZ3VsYXIgRVJST1I6IENvdWxkIG5vdCByZXRyaWV2ZSBLUEkgYXQ6ICcgKyBrcGkuZW5kcG9pbnQsIGVyclxuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycilcbiAgICAgICAgKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG5cbiAgICBAY3JlYXRlID0gKHNvdXJjZSwgZW5kcG9pbnQsIGVsZW1lbnRXYXRjaGVkKSAtPlxuICAgICMgQGNyZWF0ZSA9IChzb3VyY2UsIGVuZHBvaW50LCBlbGVtZW50V2F0Y2hlZCwgZXh0cmFQYXJhbXM9W10pIC0+XG4gICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICAgICAgdW5sZXNzIGlzSW5pdGlhbGl6ZWQoKSB8fCBpc0RldmVsb3BlcigpXG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7ZXJyb3I6IHttZXNzYWdlOiAnSW1wYWNLcGlzU3ZjIGlzIG5vdCBpbml0aWFsaXplZCd9fSlcblxuICAgICAgZWxzZVxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2VcbiAgICAgICAgICBlbmRwb2ludDogZW5kcG9pbnRcbiAgICAgICAgICBlbGVtZW50X3dhdGNoZWQ6IGVsZW1lbnRXYXRjaGVkXG4gICAgICAgIH1cbiAgICAgICAgIyBmb3IgcGFyYW0gaW4gZXh0cmFQYXJhbXNcbiAgICAgICAgIyAgIHBhcmFtcy5leHRyYV9wYXJhbXMgfHw9IFtdXG4gICAgICAgICMgICBwYXJhbXMuZXh0cmFfcGFyYW1zLnB1c2ggcGFyYW1cblxuICAgICAgICB1cmwgPSBJbXBhY1JvdXRlcy5rcGlzLmNyZWF0ZShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZElkKVxuXG4gICAgICAgICRodHRwLnBvc3QodXJsLCB7a3BpOiBwYXJhbXN9KS50aGVuKFxuICAgICAgICAgIChzdWNjZXNzKSAtPlxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzLmRhdGEpXG4gICAgICAgICAgKGVycikgLT5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpXG4gICAgICAgIClcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgQHVwZGF0ZSA9IChrcGksIHBhcmFtcykgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICBmaWx0ZXJlZF9wYXJhbXMgPSB7fVxuICAgICAgZmlsdGVyZWRfcGFyYW1zLm5hbWUgPSBwYXJhbXMubmFtZSBpZiBwYXJhbXMubmFtZT9cbiAgICAgIGZpbHRlcmVkX3BhcmFtcy5zZXR0aW5ncyA9IHBhcmFtcy5tZXRhZGF0YSBpZiBwYXJhbXMubWV0YWRhdGE/XG4gICAgICBmaWx0ZXJlZF9wYXJhbXMudGFyZ2V0cyA9IHBhcmFtcy50YXJnZXRzIGlmIHBhcmFtcy50YXJnZXRzP1xuICAgICAgZmlsdGVyZWRfcGFyYW1zLmV4dHJhX3BhcmFtcyA9IHBhcmFtcy5leHRyYV9wYXJhbXMgaWYgcGFyYW1zLmV4dHJhX3BhcmFtcz9cblxuICAgICAgdXJsID0gSW1wYWNSb3V0ZXMua3Bpcy51cGRhdGUoX3NlbGYuY29uZmlnLmN1cnJlbnREYXNoYm9hcmRJZCwga3BpLmlkKVxuXG4gICAgICBpZiAhXy5pc0VtcHR5IGZpbHRlcmVkX3BhcmFtc1xuICAgICAgICAkaHR0cC5wdXQodXJsLCB7a3BpOiBwYXJhbXN9KS50aGVuIChzdWNjZXNzKSAtPlxuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGtwaSwgc3VjY2Vzcy5kYXRhKVxuICAgICAgICAgIF9zZWxmLnNob3coa3BpKVxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoa3BpKVxuICAgICAgICAsKGVycikgLT5cbiAgICAgICAgICAkbG9nLmVycm9yICdpbXBhYy1hbmd1bGFyIEVSUk9SOiBVbmFibGUgdG8gdXBkYXRlIEtQSSAnLCBlcnJcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG5cbiAgICBAZGVsZXRlID0gKGtwaSkgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICB1cmwgPSBJbXBhY1JvdXRlcy5rcGlzLmRlbGV0ZShfc2VsZi5jb25maWcuY3VycmVudERhc2hib2FyZElkLCBrcGkuaWQpXG4gICAgICAkaHR0cC5kZWxldGUodXJsKS50aGVuIChzdWNjZXNzKSAtPlxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpXG4gICAgICAsKGVycikgLT5cbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycilcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgcmV0dXJuIEBcbiAgKVxuIl19

(function() {
  angular.module('impac.services.linking', []).provider('ImpacLinking', function() {
    var _$get, links, provider;
    provider = this;
    links = {
      user: null,
      organizations: null
    };
    provider.linkData = function(configData) {
      return _.forIn(links, function(value, key) {
        var link;
        link = configData[key];
        if (link == null) {
          throw new Error("impac-angular linking.svc: Missing core data (" + key + ") to run impac-angular.");
        }
        if (typeof link !== 'function') {
          throw new TypeError("impac-angular linking.svc: " + key + " should be a Function.");
        }
        return links[key] = link;
      });
    };
    _$get = function($q) {
      var service;
      service = this;
      service.getUserData = function() {
        return links.user().then(function(success) {
          return success;
        }, function(err) {
          return $q.reject(err);
        });
      };
      service.getOrganizations = function() {
        return links.organizations().then(function(success) {
          return success;
        }, function(err) {
          return $q.reject(err);
        });
      };
      return service;
    };
    _$get.$inject = ['$q'];
    provider.$get = _$get;
    return provider;
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL2xpbmtpbmcvbGlua2luZy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSx3QkFEVixFQUNvQyxFQURwQyxDQUVFLENBQUMsUUFGSCxDQUVZLGNBRlosRUFFNEIsU0FBQTtBQUN4QixRQUFBO0lBQUEsUUFBQSxHQUFXO0lBS1gsS0FBQSxHQUFRO01BQ04sSUFBQSxFQUFNLElBREE7TUFFTixhQUFBLEVBQWUsSUFGVDs7SUFRUixRQUFRLENBQUMsUUFBVCxHQUFvQixTQUFDLFVBQUQ7YUFDbEIsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxLQUFSLEVBQWUsU0FBQyxLQUFELEVBQVEsR0FBUjtBQUNiLFlBQUE7UUFBQSxJQUFBLEdBQU8sVUFBVyxDQUFBLEdBQUE7UUFDbEIsSUFBTyxZQUFQO0FBQ0UsZ0JBQVUsSUFBQSxLQUFBLENBQU0sZ0RBQUEsR0FBaUQsR0FBakQsR0FBcUQseUJBQTNELEVBRFo7O1FBRUEsSUFBRyxPQUFPLElBQVAsS0FBZSxVQUFsQjtBQUNFLGdCQUFVLElBQUEsU0FBQSxDQUFVLDZCQUFBLEdBQThCLEdBQTlCLEdBQWtDLHdCQUE1QyxFQURaOztlQUVBLEtBQU0sQ0FBQSxHQUFBLENBQU4sR0FBYTtNQU5BLENBQWY7SUFEa0I7SUFXcEIsS0FBQSxHQUFRLFNBQUMsRUFBRDtBQUNOLFVBQUE7TUFBQSxPQUFBLEdBQVU7TUFJVixPQUFPLENBQUMsV0FBUixHQUFzQixTQUFBO0FBQ3BCLGVBQU8sS0FBSyxDQUFDLElBQU4sQ0FBQSxDQUFZLENBQUMsSUFBYixDQUNMLFNBQUMsT0FBRDtBQUNFLGlCQUFPO1FBRFQsQ0FESyxFQUdMLFNBQUMsR0FBRDtBQUNFLGlCQUFPLEVBQUUsQ0FBQyxNQUFILENBQVUsR0FBVjtRQURULENBSEs7TUFEYTtNQVF0QixPQUFPLENBQUMsZ0JBQVIsR0FBMkIsU0FBQTtBQUN6QixlQUFPLEtBQUssQ0FBQyxhQUFOLENBQUEsQ0FBcUIsQ0FBQyxJQUF0QixDQUNMLFNBQUMsT0FBRDtBQUNFLGlCQUFPO1FBRFQsQ0FESyxFQUdMLFNBQUMsR0FBRDtBQUNFLGlCQUFPLEVBQUUsQ0FBQyxNQUFILENBQVUsR0FBVjtRQURULENBSEs7TUFEa0I7QUFRM0IsYUFBTztJQXJCRDtJQXVCUixLQUFLLENBQUMsT0FBTixHQUFnQixDQUFDLElBQUQ7SUFFaEIsUUFBUSxDQUFDLElBQVQsR0FBZ0I7QUFFaEIsV0FBTztFQXBEaUIsQ0FGNUI7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy9saW5raW5nL2xpbmtpbmcuc3ZjLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBUaGlzIHByb3ZpZGVyIHNlcnZpY2UgaXMgZGVzaWduZWQgdG8gcHJvdmlkZSBpbXBhYy1hbmd1bGFyIHdpdGggYWxsIGl0J3Mgdml0YWwgbWV0aG9kcyAmIGRhdGEsXG4jIHdoaWxlIGludGVybmFsbHkga2VlcGluZyBpdCdzIGNvbmNlcm5zIGFzIGZvY3VzZWQgYXMgcG9zc2libGUuXG4jIFRPRE86IHdoZW4gdGhpcyBnZXRzIGxlc3MgdmFyaWVkLi4gc3BsaXQgb3V0IGludG8gbXVsdGlwbGUsIG1vcmUgc3BlY2lmaWMgcHJvdmlkZXJzLlxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy5saW5raW5nJywgW10pXG4gIC5wcm92aWRlcignSW1wYWNMaW5raW5nJywgKCkgLT5cbiAgICBwcm92aWRlciA9IEBcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBQcml2YXRlIERlZmF1bHRzXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgUmVxdWlyZWQgZGF0YTpcbiAgICBsaW5rcyA9IHtcbiAgICAgIHVzZXI6IG51bGwsICMgQHBhcmFtcyBGdW5jdGlvbiAtPiByZXR1cm5zIFByb21pc2VcbiAgICAgIG9yZ2FuaXphdGlvbnM6IG51bGwgIyBAcGFyYW1zIEZ1bmN0aW9uIC0+IHJldHVybiBQcm9taXNlXG4gICAgfVxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIFB1YmxpYyBtZXRob2RzIGF2YWlsYWJsZSBpbiBjb25maWdcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgIyBJdGVyYXRlcyBvdmVyIGRlZmF1bHQgbGlua3Mgb2JqZWN0IGFuZCBhc3NpZ25zIHZhbHVlcyBmcm9tIGNvbmZpZ0RhdGEgd2l0aCBzdHJpY3QgY2hlY2tpbmcuXG4gICAgcHJvdmlkZXIubGlua0RhdGEgPSAoY29uZmlnRGF0YSkgIC0+XG4gICAgICBfLmZvckluKGxpbmtzLCAodmFsdWUsIGtleSkgLT5cbiAgICAgICAgbGluayA9IGNvbmZpZ0RhdGFba2V5XVxuICAgICAgICB1bmxlc3MgbGluaz9cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXBhYy1hbmd1bGFyIGxpbmtpbmcuc3ZjOiBNaXNzaW5nIGNvcmUgZGF0YSAoI3trZXl9KSB0byBydW4gaW1wYWMtYW5ndWxhci5cIilcbiAgICAgICAgaWYgdHlwZW9mIGxpbmsgIT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbXBhYy1hbmd1bGFyIGxpbmtpbmcuc3ZjOiAje2tleX0gc2hvdWxkIGJlIGEgRnVuY3Rpb24uXCIpXG4gICAgICAgIGxpbmtzW2tleV0gPSBsaW5rXG4gICAgICApXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgXyRnZXQgPSAoJHEpIC0+XG4gICAgICBzZXJ2aWNlID0gQFxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBQdWJsaWMgbWV0aG9kcyBhdmFpbGFibGUgYXMgc2VydmljZVxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgc2VydmljZS5nZXRVc2VyRGF0YSA9IC0+XG4gICAgICAgIHJldHVybiBsaW5rcy51c2VyKCkudGhlbihcbiAgICAgICAgICAoc3VjY2VzcykgLT5cbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzXG4gICAgICAgICAgKGVycikgLT5cbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyKVxuICAgICAgKVxuXG4gICAgICBzZXJ2aWNlLmdldE9yZ2FuaXphdGlvbnMgPSAtPlxuICAgICAgICByZXR1cm4gbGlua3Mub3JnYW5pemF0aW9ucygpLnRoZW4oXG4gICAgICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc1xuICAgICAgICAgIChlcnIpIC0+XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycilcbiAgICAgICAgKVxuXG4gICAgICByZXR1cm4gc2VydmljZVxuICAgICMgaW5qZWN0IHNlcnZpY2UgZGVwZW5kZW5jaWVzIGhlcmUsIGFuZCBkZWNsYXJlIGluIF8kZ2V0IGZ1bmN0aW9uIGFyZ3MuXG4gICAgXyRnZXQuJGluamVjdCA9IFsnJHEnXTtcbiAgICAjIGF0dGFjaCBwcm92aWRlciBmdW5jdGlvbiBvbnRvIHRoZSBwcm92aWRlciBvYmplY3RcbiAgICBwcm92aWRlci4kZ2V0ID0gXyRnZXRcblxuICAgIHJldHVybiBwcm92aWRlclxuXG4gIClcbiJdfQ==

(function() {
  angular.module('impac.services.main', []).service('ImpacMainSvc', ["$q", "$log", "ImpacLinking", function($q, $log, ImpacLinking) {
    var _self, isConfigurationLoaded, setDefaultCurrentOrganization;
    _self = this;
    this.config = {};
    this.config.organizations = [];
    this.config.currentOrganization = {};
    this.config.userData = {};
    this.config.currencies = ["USD", "AUD", "CAD", "CNY", "EUR", "GBP", "HKD", "INR", "JPY", "NZD", "SGD", "PHP", "AED", "IDR"];
    isConfigurationLoaded = function() {
      return !(_.isEmpty(_self.config.organizations) || _.isEmpty(_self.config.currentOrganization || _.isEmpty(_self.config.userData)));
    };
    this.load = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      deferred = $q.defer();
      if (!isConfigurationLoaded() || force) {
        $q.all([_self.loadOrganizations(force), _self.loadUserData(force)]).then(function(results) {
          return deferred.resolve(_self.config);
        }, function(error) {
          $log.error("ImpacMainSvc: failed to load configuration");
          return deferred.reject(error);
        });
      } else {
        deferred.resolve(_self.config);
      }
      return deferred.promise;
    };
    this.loadOrganizations = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      deferred = $q.defer();
      if (_.isEmpty(_self.config.organizations) || _.isEmpty(_self.config.currentOrganization) || force) {
        ImpacLinking.getOrganizations().then(function(success) {
          if ((success.organizations != null) && success.organizations.length > 0) {
            _self.config.organizations = success.organizations;
            _self.setCurrentOrganization(success.currentOrgId);
          } else {
            _self.config.organizations = [];
            _self.config.currentOrganization = {};
            $log.info("ImpacMainSvc: retrieved empty organizations list");
          }
          return deferred.resolve(_self.config);
        }, function(error) {
          $log.error("ImpacMainSvc: cannot set organization: " + id + " as currentOrganization");
          return deferred.reject(error);
        });
      } else {
        deferred.resolve(_self.config);
      }
      return deferred.promise;
    };
    setDefaultCurrentOrganization = function() {
      if ((_self.config.organizations != null) && _self.config.organizations.length > 0) {
        _self.config.currentOrganization = _self.config.organizations[0];
        $log.info("ImpacMainSvc: first organization set as current by default");
        return true;
      } else {
        _self.config.currentOrganization = {};
        $log.error("ImpacMainSvc: cannot set default current organization");
        return {
          error: {
            code: 400,
            message: "cannot set default current organization"
          }
        };
      }
    };
    this.setCurrentOrganization = function(id) {
      var fetchedOrg;
      if (id == null) {
        id = null;
      }
      if (id != null) {
        fetchedOrg = _.find(_self.config.organizations, (function(org) {
          return id === org.id;
        }));
        if (!_.isEmpty(fetchedOrg)) {
          _self.config.currentOrganization = fetchedOrg;
          return true;
        } else {
          $log.error("ImpacMainSvc: organization: " + id + " not found in organizations list");
          return setDefaultCurrentOrganization();
        }
      } else {
        return setDefaultCurrentOrganization();
      }
    };
    this.loadUserData = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      deferred = $q.defer();
      if (_.isEmpty(_self.config.userData) || force) {
        ImpacLinking.getUserData().then(function(user) {
          angular.extend(_self.config.userData, user);
          return deferred.resolve(_self.config.userData);
        }, function(error) {
          $log.error('ImpacMainSvc: cannot retrieve user data');
          return deferred.reject(error);
        });
      } else {
        deferred.resolve(_self.config.userData);
      }
      return deferred.promise;
    };
    this.override = function(src, dst) {
      var key, value;
      for (key in src) {
        value = src[key];
        delete src[key];
      }
      for (key in dst) {
        value = dst[key];
        src[key] = value;
      }
      return src;
    };
    return _self;
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL21haW4vbWFpbi5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSxxQkFEVixFQUNpQyxFQURqQyxDQUVFLENBQUMsT0FGSCxDQUVXLGNBRlgsRUFFMkIsU0FBQyxFQUFELEVBQUssSUFBTCxFQUFXLFlBQVg7QUFFdkIsUUFBQTtJQUFBLEtBQUEsR0FBUTtJQUNSLElBQUMsQ0FBQSxNQUFELEdBQVU7SUFDVixJQUFDLENBQUEsTUFBTSxDQUFDLGFBQVIsR0FBd0I7SUFDeEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxtQkFBUixHQUE4QjtJQUM5QixJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVIsR0FBbUI7SUFDbkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLEdBQXFCLENBQUMsS0FBRCxFQUFPLEtBQVAsRUFBYSxLQUFiLEVBQW1CLEtBQW5CLEVBQXlCLEtBQXpCLEVBQStCLEtBQS9CLEVBQXFDLEtBQXJDLEVBQTJDLEtBQTNDLEVBQWlELEtBQWpELEVBQXVELEtBQXZELEVBQTZELEtBQTdELEVBQW1FLEtBQW5FLEVBQXlFLEtBQXpFLEVBQStFLEtBQS9FO0lBR3JCLHFCQUFBLEdBQXdCLFNBQUE7QUFDdEIsYUFBTyxDQUFDLENBQUUsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxLQUFLLENBQUMsTUFBTSxDQUFDLGFBQXZCLENBQUEsSUFBeUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxLQUFLLENBQUMsTUFBTSxDQUFDLG1CQUFiLElBQW9DLENBQUMsQ0FBQyxPQUFGLENBQVUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUF2QixDQUE5QyxDQUEzQztJQURjO0lBSXhCLElBQUMsQ0FBQSxJQUFELEdBQVEsU0FBQyxLQUFEO0FBQ04sVUFBQTs7UUFETyxRQUFNOztNQUNiLFFBQUEsR0FBVyxFQUFFLENBQUMsS0FBSCxDQUFBO01BRVgsSUFBRyxDQUFDLHFCQUFBLENBQUEsQ0FBRCxJQUE0QixLQUEv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QUFBLENBQUosR0FBVztBQURiO0FBR0EsYUFBTztJQU5HO0FBU1osV0FBTztFQWpIZ0IsQ0FGM0I7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy9tYWluL21haW4uc3ZjLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy5tYWluJywgW10pXG4gIC5zZXJ2aWNlICdJbXBhY01haW5TdmMnLCAoJHEsICRsb2csIEltcGFjTGlua2luZykgLT5cblxuICAgIF9zZWxmID0gQFxuICAgIEBjb25maWcgPSB7fVxuICAgIEBjb25maWcub3JnYW5pemF0aW9ucyA9IFtdXG4gICAgQGNvbmZpZy5jdXJyZW50T3JnYW5pemF0aW9uID0ge31cbiAgICBAY29uZmlnLnVzZXJEYXRhID0ge31cbiAgICBAY29uZmlnLmN1cnJlbmNpZXMgPSBbXCJVU0RcIixcIkFVRFwiLFwiQ0FEXCIsXCJDTllcIixcIkVVUlwiLFwiR0JQXCIsXCJIS0RcIixcIklOUlwiLFwiSlBZXCIsXCJOWkRcIixcIlNHRFwiLFwiUEhQXCIsXCJBRURcIixcIklEUlwiXVxuXG5cbiAgICBpc0NvbmZpZ3VyYXRpb25Mb2FkZWQgPSAtPlxuICAgICAgcmV0dXJuICEoIF8uaXNFbXB0eShfc2VsZi5jb25maWcub3JnYW5pemF0aW9ucykgfHwgXy5pc0VtcHR5KF9zZWxmLmNvbmZpZy5jdXJyZW50T3JnYW5pemF0aW9uIHx8IF8uaXNFbXB0eShfc2VsZi5jb25maWcudXNlckRhdGEpKSApXG5cblxuICAgIEBsb2FkID0gKGZvcmNlPWZhbHNlKSAtPlxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIGlmICFpc0NvbmZpZ3VyYXRpb25Mb2FkZWQoKSB8fCBmb3JjZVxuXG4gICAgICAgICRxLmFsbChbX3NlbGYubG9hZE9yZ2FuaXphdGlvbnMoZm9yY2UpLCBfc2VsZi5sb2FkVXNlckRhdGEoZm9yY2UpXSkudGhlbiAocmVzdWx0cykgLT5cbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9zZWxmLmNvbmZpZylcbiAgICAgICAgLChlcnJvcikgLT5cbiAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNNYWluU3ZjOiBmYWlsZWQgdG8gbG9hZCBjb25maWd1cmF0aW9uXCIpXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKVxuXG4gICAgICBlbHNlXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3NlbGYuY29uZmlnKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG5cbiAgICBAbG9hZE9yZ2FuaXphdGlvbnMgPSAoZm9yY2U9ZmFsc2UpIC0+XG4gICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICAgICAgaWYgXy5pc0VtcHR5KF9zZWxmLmNvbmZpZy5vcmdhbml6YXRpb25zKSB8fCBfLmlzRW1wdHkoX3NlbGYuY29uZmlnLmN1cnJlbnRPcmdhbml6YXRpb24pIHx8IGZvcmNlXG5cbiAgICAgICAgSW1wYWNMaW5raW5nLmdldE9yZ2FuaXphdGlvbnMoKS50aGVuIChzdWNjZXNzKSAtPlxuXG4gICAgICAgICAgaWYgc3VjY2Vzcy5vcmdhbml6YXRpb25zPyAmJiBzdWNjZXNzLm9yZ2FuaXphdGlvbnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgX3NlbGYuY29uZmlnLm9yZ2FuaXphdGlvbnMgPSBzdWNjZXNzLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIF9zZWxmLnNldEN1cnJlbnRPcmdhbml6YXRpb24oc3VjY2Vzcy5jdXJyZW50T3JnSWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgX3NlbGYuY29uZmlnLm9yZ2FuaXphdGlvbnMgPSBbXVxuICAgICAgICAgICAgX3NlbGYuY29uZmlnLmN1cnJlbnRPcmdhbml6YXRpb24gPSB7fVxuICAgICAgICAgICAgJGxvZy5pbmZvKFwiSW1wYWNNYWluU3ZjOiByZXRyaWV2ZWQgZW1wdHkgb3JnYW5pemF0aW9ucyBsaXN0XCIpXG5cbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9zZWxmLmNvbmZpZylcblxuICAgICAgICAsKGVycm9yKSAtPlxuICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhY01haW5TdmM6IGNhbm5vdCBzZXQgb3JnYW5pemF0aW9uOiAje2lkfSBhcyBjdXJyZW50T3JnYW5pemF0aW9uXCIpXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKVxuXG4gICAgICBlbHNlXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoX3NlbGYuY29uZmlnKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG5cbiAgICBzZXREZWZhdWx0Q3VycmVudE9yZ2FuaXphdGlvbiA9IC0+XG4gICAgICBpZiBfc2VsZi5jb25maWcub3JnYW5pemF0aW9ucz8gJiYgX3NlbGYuY29uZmlnLm9yZ2FuaXphdGlvbnMubGVuZ3RoID4gMFxuICAgICAgICBfc2VsZi5jb25maWcuY3VycmVudE9yZ2FuaXphdGlvbiA9IF9zZWxmLmNvbmZpZy5vcmdhbml6YXRpb25zWzBdXG4gICAgICAgICRsb2cuaW5mbyhcIkltcGFjTWFpblN2YzogZmlyc3Qgb3JnYW5pemF0aW9uIHNldCBhcyBjdXJyZW50IGJ5IGRlZmF1bHRcIilcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgX3NlbGYuY29uZmlnLmN1cnJlbnRPcmdhbml6YXRpb24gPSB7fVxuICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNNYWluU3ZjOiBjYW5ub3Qgc2V0IGRlZmF1bHQgY3VycmVudCBvcmdhbml6YXRpb25cIilcbiAgICAgICAgcmV0dXJuIHtlcnJvcjoge2NvZGU6IDQwMCwgbWVzc2FnZTogXCJjYW5ub3Qgc2V0IGRlZmF1bHQgY3VycmVudCBvcmdhbml6YXRpb25cIn19IFxuXG4gICAgQHNldEN1cnJlbnRPcmdhbml6YXRpb24gPSAoaWQ9bnVsbCkgLT5cbiAgICAgIGlmIGlkP1xuICAgICAgICBmZXRjaGVkT3JnID0gXy5maW5kIF9zZWxmLmNvbmZpZy5vcmdhbml6YXRpb25zLCAoKG9yZykgLT4gaWQgPT0gb3JnLmlkKVxuXG4gICAgICAgIGlmICFfLmlzRW1wdHkoZmV0Y2hlZE9yZylcbiAgICAgICAgICBfc2VsZi5jb25maWcuY3VycmVudE9yZ2FuaXphdGlvbiA9IGZldGNoZWRPcmdcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgJGxvZy5lcnJvcihcIkltcGFjTWFpblN2Yzogb3JnYW5pemF0aW9uOiAje2lkfSBub3QgZm91bmQgaW4gb3JnYW5pemF0aW9ucyBsaXN0XCIpXG4gICAgICAgICAgcmV0dXJuIHNldERlZmF1bHRDdXJyZW50T3JnYW5pemF0aW9uKClcblxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gc2V0RGVmYXVsdEN1cnJlbnRPcmdhbml6YXRpb24oKVxuXG5cbiAgICBAbG9hZFVzZXJEYXRhID0gKGZvcmNlPWZhbHNlKSAtPlxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIGlmIF8uaXNFbXB0eShfc2VsZi5jb25maWcudXNlckRhdGEpIHx8IGZvcmNlXG4gICAgICAgIEltcGFjTGlua2luZy5nZXRVc2VyRGF0YSgpLnRoZW4gKHVzZXIpIC0+XG4gICAgICAgICAgYW5ndWxhci5leHRlbmQgX3NlbGYuY29uZmlnLnVzZXJEYXRhLCB1c2VyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShfc2VsZi5jb25maWcudXNlckRhdGEpXG4gICAgICAgICwoZXJyb3IpIC0+XG4gICAgICAgICAgJGxvZy5lcnJvcignSW1wYWNNYWluU3ZjOiBjYW5ub3QgcmV0cmlldmUgdXNlciBkYXRhJylcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG5cbiAgICAgIGVsc2VcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShfc2VsZi5jb25maWcudXNlckRhdGEpXG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG5cblxuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBIZWxwZXJzXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAb3ZlcnJpZGUgPSAoc3JjLCBkc3QpIC0+XG4gICAgICBmb3Iga2V5LHZhbHVlIG9mIHNyY1xuICAgICAgICBkZWxldGUgc3JjW2tleV1cbiAgICAgIGZvciBrZXksdmFsdWUgb2YgZHN0XG4gICAgICAgIHNyY1trZXldID0gdmFsdWVcblxuICAgICAgcmV0dXJuIHNyY1xuXG5cbiAgICByZXR1cm4gX3NlbGZcbiJdfQ==

(function() {
  angular.module('impac.services.message-bus', []).service('MsgBus', function() {
    var msgBusData;
    msgBusData = {
      dashboardGrid: {},
      controlBarFilter: {},
      controlBarQuickFilter: {},
      orgaSharingModal: {},
      appConnectModal: {},
      page: {},
      pane: {},
      errors: [],
      autostopQueue: [],
      notificationQueue: [],
      params: {}
    };
    this.publish = function(name, object) {
      return msgBusData[name] = object;
    };
    this.subscribe = function(name) {
      return function() {
        return msgBusData[name];
      };
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL21zZy1idXMvbXNnLWJ1cy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSw0QkFEVixFQUN3QyxFQUR4QyxDQUVFLENBQUMsT0FGSCxDQUVXLFFBRlgsRUFFcUIsU0FBQTtBQWdCakIsUUFBQTtJQUFBLFVBQUEsR0FDRTtNQUFBLGFBQUEsRUFBZSxFQUFmO01BQ0EsZ0JBQUEsRUFBa0IsRUFEbEI7TUFFQSxxQkFBQSxFQUF1QixFQUZ2QjtNQUdBLGdCQUFBLEVBQWtCLEVBSGxCO01BSUEsZUFBQSxFQUFpQixFQUpqQjtNQUtBLElBQUEsRUFBTSxFQUxOO01BTUEsSUFBQSxFQUFNLEVBTk47TUFPQSxNQUFBLEVBQVEsRUFQUjtNQVFBLGFBQUEsRUFBZSxFQVJmO01BU0EsaUJBQUEsRUFBbUIsRUFUbkI7TUFVQSxNQUFBLEVBQVEsRUFWUjs7SUFhRixJQUFDLENBQUEsT0FBRCxHQUFXLFNBQUMsSUFBRCxFQUFNLE1BQU47YUFDVCxVQUFXLENBQUEsSUFBQSxDQUFYLEdBQW1CO0lBRFY7SUFRWCxJQUFDLENBQUEsU0FBRCxHQUFhLFNBQUMsSUFBRDtBQUNYLGFBQU8sU0FBQTtlQUFNLFVBQVcsQ0FBQSxJQUFBO01BQWpCO0lBREk7RUF0Q0ksQ0FGckI7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy9tc2ctYnVzL21zZy1idXMuc3ZjLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIyBUaGlzIHNlcnZpY2UgaXMgdXNlZCB0byBwYXNzIG9iamVjdHMgYmV0d2VlbiBkaXJlY3RpdmVzXG4jIC0tLVxuIyBQbGVhc2UgcmVnaXN0ZXIgYmVsb3cgYW55IG9iamVjdCB0aGF0IHNob3VsZCBiZSBzaGFyZWQgc28gd2VcbiMgd2UgY2FuIGVuc3VyZSB0aGF0IHRoZXJlIGlzIG5vIG5hbWUgY29uZmxpY3RcbmFuZ3VsYXJcbiAgLm1vZHVsZSgnaW1wYWMuc2VydmljZXMubWVzc2FnZS1idXMnLCBbXSlcbiAgLnNlcnZpY2UoJ01zZ0J1cycsICgpIC0+XG5cbiAgICAjIE1lc3NhZ2VzXG4gICAgIyAtLS1cbiAgICAjIE5vdGUgdGhhdCBzdHJpbmdzIG9yIGludGVnZXIgY2FuJ3QgYmUgcGFzc2VkIGRpcmVjdGx5LiBPYmplY3RzIG5lZWQgdG8gYmVcbiAgICAjIHBhc3NlZCBieSByZWZlcmVuY2VcbiAgICAjIFRvIHBhc3MgYSBzdHJpbmcgb3IgaW50ZWdlciB5b3Ugd291bGQgbmVlZCB0byBkbyBzb21ldGhpbmcgbGlrZSB0aGlzXG4gICAgI1xuICAgICMgQ29udHJvbGxlcjE6XG4gICAgIyAkc2NvcGUubXlzdHJpbmcgPSB7IHZhbHVlOiAnYmxhJyB9XG4gICAgIyBNc2dCdXMucHVibGlzaCgkc2NvcGUubXlzdHJpbmcpXG4gICAgI1xuICAgICMgQ29udHJvbGxlcjI6XG4gICAgIyAkc2NvcGUubXlzdHJpbmcgPSBNc2dCdXMuc3Vic2NyaWJlKCdteXN0cmluZycpXG4gICAgIyBhbmQgdXNlIGl0IGluIHZpZXcgbGlrZSB0aGlzOiBteXN0cmluZygpLnZhbHVlXG4gICAgI1xuICAgIG1zZ0J1c0RhdGEgPVxuICAgICAgZGFzaGJvYXJkR3JpZDoge30gICAgICAgICAgIyBkYXNoYm9hcmRHcmlkIGNyZWF0ZWQgaW4gQXBwc0N0cmxcbiAgICAgIGNvbnRyb2xCYXJGaWx0ZXI6IHt9ICAgICAgICMgc2VhcmNoIGJhciBmaWx0ZXJcbiAgICAgIGNvbnRyb2xCYXJRdWlja0ZpbHRlcjoge30gICMgcXVpY2sgZmlsdGVycyBvbiBjb250cm9sIGJhclxuICAgICAgb3JnYVNoYXJpbmdNb2RhbDoge30gICAgICAgIyBTaGFyaW5nIFdhbGt0aHJvdWdoIE1vZGFsXG4gICAgICBhcHBDb25uZWN0TW9kYWw6IHt9ICAgICAgICAjIENvbm5lYyEgV2Fsa3Rocm91Z2ggTW9kYWxcbiAgICAgIHBhZ2U6IHt9ICAgICAgICAgICAgICAgICAgICMgdGhlIHBhZ2Ugd2UncmUgb25cbiAgICAgIHBhbmU6IHt9ICAgICAgICAgICAgICAgICAgICMgdGhlIHBhbmUgd2UncmUgb25cbiAgICAgIGVycm9yczogW10gICAgICAgICAgICAgICAgICMgY3VycmVudCBlcnJvcnMgdG8gYmUgcGFzc2VkIHRvIHRoZSBlcnJvciBmbGFzaFxuICAgICAgYXV0b3N0b3BRdWV1ZTogW10gICAgICAgICAgIyBsaXN0IG9mIEFwcEluc3RhbmNlIHRoYXQgc2hvdWxkIGJlIHByb3Bvc2VkIGFuIGF1dG9zdG9wXG4gICAgICBub3RpZmljYXRpb25RdWV1ZTogW10gICAgICAjIGxpc3Qgb2Ygbm90aWZpY2F0aW9ucyB0aGF0IHNob3VsZCBhcHBlYXIgaW4gdGhlIG5vdGlmaWNhdGlvbiB3aWRnZXRcbiAgICAgIHBhcmFtczoge30gICAgICAgICAgICAgICAgICMgUGFyYW1zIHBhc3NlZCB0byBteXNwYWNlIHBhcmFtIHVwb24gbG9hZGluZy4gRS5nLjogL215c3BhY2U/bmV3QXBwPXRydWVcblxuICAgICMgU2V0IGFuIG9iamVjdCBvbiB0aGUgYnVzXG4gICAgQHB1Ymxpc2ggPSAobmFtZSxvYmplY3QpIC0+XG4gICAgICBtc2dCdXNEYXRhW25hbWVdID0gb2JqZWN0XG5cbiAgICAjIEdldCBhIGJ1cyBhY2Nlc3NvciB0byB0aGUgb2JqZWN0XG4gICAgIyBOb3RlIHRoYXQgdGhpcyBtZXRob2QgcmV0dXJucyBhIEZVTkNUSU9OIG5vdCBhbiBhdHRyaWJ1dGVcbiAgICAjIC0tLVxuICAgICMgV2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiBpZiB3ZSB3YW50IHRoZSByZXN1bHQgdG8gYmVcbiAgICAjIGV2YWx1YXRlZCBkdXJpbmcgJGRpZ2VzdCAoYW5kIFVJIHVwZGF0ZWQgYXV0b21hdGljYWxseSlcbiAgICBAc3Vic2NyaWJlID0gKG5hbWUpIC0+XG4gICAgICByZXR1cm4gKCkgLT4gbXNnQnVzRGF0YVtuYW1lXVxuXG4gICAgcmV0dXJuXG4gIClcbiJdfQ==

(function() {
  angular.module('impac.services.routes', []).provider('ImpacRoutes', function() {
    var _$get, defaults, provider;
    provider = this;
    defaults = {
      mnoHub: '/api/v2',
      impacPrefix: '/impac',
      impacApi: 'http://localhost:4000/api',
      dashboards: {
        index: null,
        show: null,
        create: null,
        update: null,
        del: null
      },
      widgets: {
        index: null,
        show: null,
        create: null,
        update: null,
        del: null,
        suggest: null
      },
      kpis: {
        index: null,
        show: null,
        create: null,
        update: null,
        del: null,
        local: null
      },
      organizations: {
        appInstancesSync: null
      }
    };
    provider.configureRoutes = function(configOptions) {
      return angular.extend(defaults, configOptions);
    };
    _$get = function() {
      var service;
      service = this;
      service.dashboards = {
        index: function(orgId) {
          if (orgId == null) {
            orgId = null;
          }
          if (defaults.dashboards.index) {
            return defaults.dashboards.index.replace(':organization_id', orgId);
          } else {
            return "" + defaults.mnoHub + defaults.impacPrefix + "/dashboards";
          }
        },
        create: function(orgId) {
          if (orgId == null) {
            orgId = null;
          }
          if (defaults.dashboards.create) {
            return defaults.dashboards.create.replace(':organization_id', orgId);
          } else {
            return service.dashboards.index(orgId);
          }
        },
        show: function(id) {
          if (defaults.dashboards.show) {
            return defaults.dashboards.show.replace(':id', id);
          } else {
            return "" + defaults.mnoHub + defaults.impacPrefix + "/dashboards/" + id;
          }
        },
        update: function(id) {
          if (defaults.dashboards.update) {
            return defaults.dashboards.update.replace(':id', id);
          } else {
            return service.dashboards.show(id);
          }
        },
        "delete": function(id) {
          if (defaults.dashboards.del) {
            return defaults.dashboards.del.replace(':id', id);
          } else {
            return service.dashboards.show(id);
          }
        }
      };
      service.widgets = {
        index: function(dashboard_id) {
          if (defaults.widgets.index) {
            return defaults.widgets.index.replace(':dashboard_id', dashboard_id);
          } else {
            return (service.dashboards.show(dashboard_id)) + "/widgets";
          }
        },
        show: function(dashboard_id, id) {
          if (defaults.widgets.show) {
            return defaults.widgets.show.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return defaults.impacApi + "/v1/get_widget";
          }
        },
        create: function(dashboard_id) {
          if (defaults.widgets.create) {
            return defaults.widgets.create.replace(':dashboard_id', dashboard_id);
          } else {
            return service.widgets.index(dashboard_id);
          }
        },
        update: function(dashboard_id, id) {
          if (defaults.widgets.update) {
            return defaults.widgets.update.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return (service.widgets.index(dashboard_id)) + "/" + id;
          }
        },
        "delete": function(dashboard_id, id) {
          if (defaults.widgets.del) {
            return defaults.widgets.del.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return (service.widgets.index(dashboard_id)) + "/" + id;
          }
        },
        suggest: function() {
          return defaults.widgets.suggest;
        }
      };
      service.kpis = {
        index: function(dashboard_id) {
          if (defaults.kpis.index) {
            return defaults.kpis.index.replace(':dashboard_id', dashboard_id);
          } else {
            return defaults.impacApi + "/v2/kpis";
          }
        },
        show: function(dashboard_id, id) {
          if (defaults.kpis.show) {
            return defaults.kpis.show.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return defaults.impacApi + "/v2/kpis";
          }
        },
        create: function(dashboard_id) {
          if (defaults.kpis.create) {
            return defaults.kpis.create.replace(':dashboard_id', dashboard_id);
          } else {
            return (service.dashboards.show(dashboard_id)) + "/kpis";
          }
        },
        update: function(dashboard_id, id) {
          if (defaults.kpis.update) {
            return defaults.kpis.update.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return (service.kpis.create(dashboard_id)) + "/" + id;
          }
        },
        "delete": function(dashboard_id, id) {
          if (defaults.kpis.del) {
            return defaults.kpis.del.replace(':dashboard_id', dashboard_id).replace(':id', id);
          } else {
            return (service.kpis.create(dashboard_id)) + "/" + id;
          }
        },
        local: function() {
          return defaults.kpis.local;
        }
      };
      service.organizations = {
        appInstancesSync: function(uid) {
          if (defaults.organizations.appInstancesSync) {
            return defaults.organizations.appInstancesSync.replace(':uid', uid);
          } else {
            return defaults.mnoHub + "/organizations/" + uid + "/app_instances_sync";
          }
        }
      };
      return service;
    };
    _$get.$inject = [];
    provider.$get = _$get;
    return provider;
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL3JvdXRlcy9yb3V0ZXMuc3ZjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsdUJBRFYsRUFDbUMsRUFEbkMsQ0FFRSxDQUFDLFFBRkgsQ0FFWSxhQUZaLEVBRTJCLFNBQUE7QUFDdkIsUUFBQTtJQUFBLFFBQUEsR0FBVztJQUlYLFFBQUEsR0FFRTtNQUFBLE1BQUEsRUFBUSxTQUFSO01BQ0EsV0FBQSxFQUFhLFFBRGI7TUFFQSxRQUFBLEVBQVUsMkJBRlY7TUFJQSxVQUFBLEVBQ0U7UUFBQSxLQUFBLEVBQU8sSUFBUDtRQUNBLElBQUEsRUFBTSxJQUROO1FBRUEsTUFBQSxFQUFRLElBRlI7UUFHQSxNQUFBLEVBQVEsSUFIUjtRQUlBLEdBQUEsRUFBSyxJQUpMO09BTEY7TUFXQSxPQUFBLEVBQ0U7UUFBQSxLQUFBLEVBQU8sSUFBUDtRQUNBLElBQUEsRUFBTSxJQUROO1FBRUEsTUFBQSxFQUFRLElBRlI7UUFHQSxNQUFBLEVBQVEsSUFIUjtRQUlBLEdBQUEsRUFBSyxJQUpMO1FBTUEsT0FBQSxFQUFTLElBTlQ7T0FaRjtNQW9CQSxJQUFBLEVBQ0U7UUFBQSxLQUFBLEVBQU8sSUFBUDtRQUNBLElBQUEsRUFBTSxJQUROO1FBRUEsTUFBQSxFQUFRLElBRlI7UUFHQSxNQUFBLEVBQVEsSUFIUjtRQUlBLEdBQUEsRUFBSyxJQUpMO1FBTUEsS0FBQSxFQUFPLElBTlA7T0FyQkY7TUE2QkEsYUFBQSxFQUNFO1FBQUEsZ0JBQUEsRUFBa0IsSUFBbEI7T0E5QkY7O0lBbUNGLFFBQVEsQ0FBQyxlQUFULEdBQTJCLFNBQUMsYUFBRDthQUN6QixPQUFPLENBQUMsTUFBUixDQUFlLFFBQWYsRUFBeUIsYUFBekI7SUFEeUI7SUFJM0IsS0FBQSxHQUFRLFNBQUE7QUFDTixVQUFBO01BQUEsT0FBQSxHQUFVO01BSVYsT0FBTyxDQUFDLFVBQVIsR0FJRTtRQUFBLEtBQUEsRUFBTyxTQUFDLEtBQUQ7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LEdBQW1DLEdBQW5DLEdBQXNDLEdBSDFDOztRQURNLENBeEJSO1FBOEJBLEtBQUEsRUFBTyxTQUFBO2lCQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFBakIsQ0E5QlA7O01BZ0NGLE9BQU8sQ0FBQyxhQUFSLEdBQ0U7UUFBQSxnQkFBQSxFQUFrQixTQUFDLEdBQUQ7VUFDaEIsSUFBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUExQjttQkFDRSxRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLE9BQXhDLENBQWdELE1BQWhELEVBQXdELEdBQXhELEVBREY7V0FBQSxNQUFBO21CQUdLLFFBQVEsQ0FBQyxNQUFWLEdBQWlCLGlCQUFqQixHQUFrQyxHQUFsQyxHQUFzQyxzQkFIMUM7O1FBRGdCLENBQWxCOztBQU1GLGFBQU87SUFySEQ7SUF1SFIsS0FBSyxDQUFDLE9BQU4sR0FBZ0I7SUFFaEIsUUFBUSxDQUFDLElBQVQsR0FBZ0I7QUFFaEIsV0FBTztFQXpLZ0IsQ0FGM0I7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy9yb3V0ZXMvcm91dGVzLnN2Yy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiMgcHJvdmlkZXIgZm9yIGNvbmZpZ3VyaW5nIGh0dHAgZW5kcG9pbnRzLlxuYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy5yb3V0ZXMnLCBbXSlcbiAgLnByb3ZpZGVyKCdJbXBhY1JvdXRlcycsICgpIC0+XG4gICAgcHJvdmlkZXIgPSBAXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgUHJpdmF0ZSBEZWZhdWx0c1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBkZWZhdWx0cyA9XG4gICAgICAjIGJhc2UgcGF0aHNcbiAgICAgIG1ub0h1YjogJy9hcGkvdjInXG4gICAgICBpbXBhY1ByZWZpeDogJy9pbXBhYydcbiAgICAgIGltcGFjQXBpOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL2FwaSdcbiAgICAgIFxuICAgICAgZGFzaGJvYXJkczpcbiAgICAgICAgaW5kZXg6IG51bGxcbiAgICAgICAgc2hvdzogbnVsbFxuICAgICAgICBjcmVhdGU6IG51bGxcbiAgICAgICAgdXBkYXRlOiBudWxsXG4gICAgICAgIGRlbDogbnVsbFxuXG4gICAgICB3aWRnZXRzOlxuICAgICAgICBpbmRleDogbnVsbFxuICAgICAgICBzaG93OiBudWxsXG4gICAgICAgIGNyZWF0ZTogbnVsbFxuICAgICAgICB1cGRhdGU6IG51bGxcbiAgICAgICAgZGVsOiBudWxsXG4gICAgICAgICMgcGF0aCBmb3Igd2lkZ2V0IHN1Z2dlc3Rpb24gZmVhdHVyZVxuICAgICAgICBzdWdnZXN0OiBudWxsXG5cbiAgICAgIGtwaXM6XG4gICAgICAgIGluZGV4OiBudWxsXG4gICAgICAgIHNob3c6IG51bGxcbiAgICAgICAgY3JlYXRlOiBudWxsXG4gICAgICAgIHVwZGF0ZTogbnVsbFxuICAgICAgICBkZWw6IG51bGxcbiAgICAgICAgIyByZXRyaWV2ZSBsb2NhbCBrcGlzIGRhdGFcbiAgICAgICAgbG9jYWw6IG51bGxcblxuICAgICAgb3JnYW5pemF0aW9uczpcbiAgICAgICAgYXBwSW5zdGFuY2VzU3luYzogbnVsbFxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICMgUHVibGljIG1ldGhvZHMgYXZhaWxhYmxlIGluIGNvbmZpZ1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBwcm92aWRlci5jb25maWd1cmVSb3V0ZXMgPSAoY29uZmlnT3B0aW9ucykgLT5cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRzLCBjb25maWdPcHRpb25zKVxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIF8kZ2V0ID0gKCkgLT5cbiAgICAgIHNlcnZpY2UgPSBAXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAjIFB1YmxpYyBtZXRob2RzIGF2YWlsYWJsZSBhcyBzZXJ2aWNlXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBzZXJ2aWNlLmRhc2hib2FyZHMgPVxuICAgICAgICAjIE1ub2U6IC9hcGkvbW5vZS9qcGkvdjEvb3JnYW5pemF0aW9ucy86b3JnYW5pemF0aW9uX2lkL2ltcGFjL2Rhc2hib2FyZHNcbiAgICAgICAgIyBNYWVzdHJhbm86IC9hcGkvanNfYXBpL3YxL2FuYWx5dGljcy9kYXNoYm9hcmRzXG4gICAgICAgICMgRGV2LiBUb29sa2l0OiAvYXBpL3YyL2ltcGFjL2Rhc2hib2FyZHNcbiAgICAgICAgaW5kZXg6IChvcmdJZD1udWxsKSAtPlxuICAgICAgICAgIGlmIGRlZmF1bHRzLmRhc2hib2FyZHMuaW5kZXhcbiAgICAgICAgICAgIGRlZmF1bHRzLmRhc2hib2FyZHMuaW5kZXgucmVwbGFjZSgnOm9yZ2FuaXphdGlvbl9pZCcsIG9yZ0lkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIFwiI3tkZWZhdWx0cy5tbm9IdWJ9I3tkZWZhdWx0cy5pbXBhY1ByZWZpeH0vZGFzaGJvYXJkc1wiXG5cbiAgICAgICAgIyBNbm9lOiAvYXBpL21ub2UvanBpL3YxL2ltcGFjL2Rhc2hib2FyZHNcbiAgICAgICAgIyBNYWVzdHJhbm86IC9hcGkvanNfYXBpL3YxL2FuYWx5dGljcy9kYXNoYm9hcmRzXG4gICAgICAgICMgRGV2LiBUb29sa2l0OiAvYXBpL3YyL2ltcGFjL2Rhc2hib2FyZHNcbiAgICAgICAgY3JlYXRlOiAob3JnSWQ9bnVsbCkgLT5cbiAgICAgICAgICBpZiBkZWZhdWx0cy5kYXNoYm9hcmRzLmNyZWF0ZVxuICAgICAgICAgICAgZGVmYXVsdHMuZGFzaGJvYXJkcy5jcmVhdGUucmVwbGFjZSgnOm9yZ2FuaXphdGlvbl9pZCcsIG9yZ0lkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNlcnZpY2UuZGFzaGJvYXJkcy5pbmRleChvcmdJZClcblxuICAgICAgICBzaG93OiAoaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMuZGFzaGJvYXJkcy5zaG93XG4gICAgICAgICAgICBkZWZhdWx0cy5kYXNoYm9hcmRzLnNob3cucmVwbGFjZSgnOmlkJywgaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgXCIje2RlZmF1bHRzLm1ub0h1Yn0je2RlZmF1bHRzLmltcGFjUHJlZml4fS9kYXNoYm9hcmRzLyN7aWR9XCJcblxuICAgICAgICB1cGRhdGU6IChpZCkgLT5cbiAgICAgICAgICBpZiBkZWZhdWx0cy5kYXNoYm9hcmRzLnVwZGF0ZVxuICAgICAgICAgICAgZGVmYXVsdHMuZGFzaGJvYXJkcy51cGRhdGUucmVwbGFjZSgnOmlkJywgaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2VydmljZS5kYXNoYm9hcmRzLnNob3coaWQpXG4gICAgICAgIGRlbGV0ZTogKGlkKSAtPlxuICAgICAgICAgIGlmIGRlZmF1bHRzLmRhc2hib2FyZHMuZGVsXG4gICAgICAgICAgICBkZWZhdWx0cy5kYXNoYm9hcmRzLmRlbC5yZXBsYWNlKCc6aWQnLCBpZClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzZXJ2aWNlLmRhc2hib2FyZHMuc2hvdyhpZClcblxuICAgICAgc2VydmljZS53aWRnZXRzID1cbiAgICAgICAgaW5kZXg6IChkYXNoYm9hcmRfaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMud2lkZ2V0cy5pbmRleFxuICAgICAgICAgICAgZGVmYXVsdHMud2lkZ2V0cy5pbmRleC5yZXBsYWNlKCc6ZGFzaGJvYXJkX2lkJywgZGFzaGJvYXJkX2lkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIFwiI3tzZXJ2aWNlLmRhc2hib2FyZHMuc2hvdyhkYXNoYm9hcmRfaWQpfS93aWRnZXRzXCJcblxuICAgICAgICAjIE1ub2U6IC9hcGkvbW5vZS9qcGkvdjEvaW1wYWMvd2lkZ2V0cy86aWRcbiAgICAgICAgIyBNYWVzdHJhbm86IC9hcGkvanNfYXBpL3YxL2FuYWx5dGljcy93aWRnZXRzLzppZFxuICAgICAgICAjIERldi4gVG9vbGtpdDogL2FwaS92Mi9pbXBhYy9kYXNoYm9hcmRzLzpkYXNoYm9hcmRfaWQvd2lkZ2V0cy86aWRcbiAgICAgICAgc2hvdzogKGRhc2hib2FyZF9pZCwgaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMud2lkZ2V0cy5zaG93XG4gICAgICAgICAgICBkZWZhdWx0cy53aWRnZXRzLnNob3cucmVwbGFjZSgnOmRhc2hib2FyZF9pZCcsIGRhc2hib2FyZF9pZCkucmVwbGFjZSgnOmlkJywgaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgXCIje2RlZmF1bHRzLmltcGFjQXBpfS92MS9nZXRfd2lkZ2V0XCJcblxuICAgICAgICBjcmVhdGU6IChkYXNoYm9hcmRfaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMud2lkZ2V0cy5jcmVhdGVcbiAgICAgICAgICAgIGRlZmF1bHRzLndpZGdldHMuY3JlYXRlLnJlcGxhY2UoJzpkYXNoYm9hcmRfaWQnLCBkYXNoYm9hcmRfaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2VydmljZS53aWRnZXRzLmluZGV4KGRhc2hib2FyZF9pZClcblxuICAgICAgICB1cGRhdGU6IChkYXNoYm9hcmRfaWQsIGlkKSAtPlxuICAgICAgICAgIGlmIGRlZmF1bHRzLndpZGdldHMudXBkYXRlXG4gICAgICAgICAgICBkZWZhdWx0cy53aWRnZXRzLnVwZGF0ZS5yZXBsYWNlKCc6ZGFzaGJvYXJkX2lkJywgZGFzaGJvYXJkX2lkKS5yZXBsYWNlKCc6aWQnLCBpZClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBcIiN7c2VydmljZS53aWRnZXRzLmluZGV4KGRhc2hib2FyZF9pZCl9LyN7aWR9XCJcblxuICAgICAgICBkZWxldGU6IChkYXNoYm9hcmRfaWQsIGlkKSAtPlxuICAgICAgICAgIGlmIGRlZmF1bHRzLndpZGdldHMuZGVsXG4gICAgICAgICAgICBkZWZhdWx0cy53aWRnZXRzLmRlbC5yZXBsYWNlKCc6ZGFzaGJvYXJkX2lkJywgZGFzaGJvYXJkX2lkKS5yZXBsYWNlKCc6aWQnLCBpZClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBcIiN7c2VydmljZS53aWRnZXRzLmluZGV4KGRhc2hib2FyZF9pZCl9LyN7aWR9XCJcblxuICAgICAgICBzdWdnZXN0OiAtPiBkZWZhdWx0cy53aWRnZXRzLnN1Z2dlc3RcblxuICAgICAgc2VydmljZS5rcGlzID1cbiAgICAgICAgaW5kZXg6IChkYXNoYm9hcmRfaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMua3Bpcy5pbmRleFxuICAgICAgICAgICAgZGVmYXVsdHMua3Bpcy5pbmRleC5yZXBsYWNlKCc6ZGFzaGJvYXJkX2lkJywgZGFzaGJvYXJkX2lkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIFwiI3tkZWZhdWx0cy5pbXBhY0FwaX0vdjIva3Bpc1wiXG5cbiAgICAgICAgc2hvdzogKGRhc2hib2FyZF9pZCwgaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMua3Bpcy5zaG93XG4gICAgICAgICAgICBkZWZhdWx0cy5rcGlzLnNob3cucmVwbGFjZSgnOmRhc2hib2FyZF9pZCcsIGRhc2hib2FyZF9pZCkucmVwbGFjZSgnOmlkJywgaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgXCIje2RlZmF1bHRzLmltcGFjQXBpfS92Mi9rcGlzXCJcblxuICAgICAgICBjcmVhdGU6IChkYXNoYm9hcmRfaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMua3Bpcy5jcmVhdGVcbiAgICAgICAgICAgIGRlZmF1bHRzLmtwaXMuY3JlYXRlLnJlcGxhY2UoJzpkYXNoYm9hcmRfaWQnLCBkYXNoYm9hcmRfaWQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgXCIje3NlcnZpY2UuZGFzaGJvYXJkcy5zaG93KGRhc2hib2FyZF9pZCl9L2twaXNcIlxuXG4gICAgICAgIHVwZGF0ZTogKGRhc2hib2FyZF9pZCwgaWQpIC0+XG4gICAgICAgICAgaWYgZGVmYXVsdHMua3Bpcy51cGRhdGVcbiAgICAgICAgICAgIGRlZmF1bHRzLmtwaXMudXBkYXRlLnJlcGxhY2UoJzpkYXNoYm9hcmRfaWQnLCBkYXNoYm9hcmRfaWQpLnJlcGxhY2UoJzppZCcsIGlkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIFwiI3tzZXJ2aWNlLmtwaXMuY3JlYXRlKGRhc2hib2FyZF9pZCl9LyN7aWR9XCJcblxuICAgICAgICBkZWxldGU6IChkYXNoYm9hcmRfaWQsIGlkKSAtPlxuICAgICAgICAgIGlmIGRlZmF1bHRzLmtwaXMuZGVsXG4gICAgICAgICAgICBkZWZhdWx0cy5rcGlzLmRlbC5yZXBsYWNlKCc6ZGFzaGJvYXJkX2lkJywgZGFzaGJvYXJkX2lkKS5yZXBsYWNlKCc6aWQnLCBpZClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBcIiN7c2VydmljZS5rcGlzLmNyZWF0ZShkYXNoYm9hcmRfaWQpfS8je2lkfVwiXG5cbiAgICAgICAgbG9jYWw6IC0+IGRlZmF1bHRzLmtwaXMubG9jYWxcblxuICAgICAgc2VydmljZS5vcmdhbml6YXRpb25zID1cbiAgICAgICAgYXBwSW5zdGFuY2VzU3luYzogKHVpZCkgLT5cbiAgICAgICAgICBpZiBkZWZhdWx0cy5vcmdhbml6YXRpb25zLmFwcEluc3RhbmNlc1N5bmNcbiAgICAgICAgICAgIGRlZmF1bHRzLm9yZ2FuaXphdGlvbnMuYXBwSW5zdGFuY2VzU3luYy5yZXBsYWNlKCc6dWlkJywgdWlkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIFwiI3tkZWZhdWx0cy5tbm9IdWJ9L29yZ2FuaXphdGlvbnMvI3t1aWR9L2FwcF9pbnN0YW5jZXNfc3luY1wiXG5cbiAgICAgIHJldHVybiBzZXJ2aWNlXG4gICAgIyBpbmplY3Qgc2VydmljZSBkZXBlbmRlbmNpZXMgaGVyZSwgYW5kIGRlY2xhcmUgaW4gXyRnZXQgZnVuY3Rpb24gYXJncy5cbiAgICBfJGdldC4kaW5qZWN0ID0gW107XG4gICAgIyBhdHRhY2ggcHJvdmlkZXIgZnVuY3Rpb24gb250byB0aGUgcHJvdmlkZXIgb2JqZWN0XG4gICAgcHJvdmlkZXIuJGdldCA9IF8kZ2V0XG5cbiAgICByZXR1cm4gcHJvdmlkZXJcblxuICApXG4iXX0=

(function() {
  angular.module('impac.services.theming', []).provider('ImpacTheming', function() {
    var _$get, options, provider;
    provider = this;
    options = {
      chartColors: {
        positive: '#3FC4FF',
        negative: '#1DE9B6',
        array: ["#1de9b6", "#7c4dff", "#ffc928", "#3fc4ff", "#ff8e01", "#c6ff00", "#d500fa", "#ff6e41", "#ffeb3c", "#ff1844"]
      },
      dhbConfig: {
        showDhbHeading: false,
        dhbHeadingText: 'Impac!'
      },
      dhbSelectorConfig: {
        selectorType: 'dropdown',
        customTmplPath: null,
        accessibilityEnabled: false,
        addWidgetEnabled: true,
        addDhbEnabled: true,
        deleteDhbEnabled: true
      },
      dhbKpisConfig: {
        enableKpis: false,
        parentElementId: ''
      },
      dataNotFoundConfig: {
        mainMessage: 'Data not found',
        linkMessage: 'Are you missing an app?',
        linkUrl: '/apps',
        linkTarget: '_blank',
        linkUrlCallback: null
      },
      dhbErrorsConfig: {
        firstTimeCreated: {
          first: 'It\'s time to add a reporting dashboard!',
          second: 'In 2 clicks, you\'ll be able to visualize how your business is performing.',
          note: 'Note: dashboards you create will only be accessible by you. Dashboard sharing across users will be added soon.'
        },
        empty: {
          first: 'Now it\'s time to select the metrics you want to see!',
          second: 'Add widgets to your dashboard to help make an Impac!™ to your business.'
        }
      },
      dhbSubMenuConfig: {
        myobMessage: {
          show: true,
          appLink: {
            show: true,
            url: '#/marketplace',
            text: '>> Check this app on our marketplace'
          }
        }
      },
      widgetSelectorConfig: {
        path: null
      },
      addChartTile: {
        show: false,
        onClickOptions: {
          triggers: []
        }
      },
      showNoWidgetMsg: {
        show: true
      },
      dhbSettings: {
        inWidgetsContainer: false,
        showSyncApps: function() {
          return true;
        },
        currency: {
          locked: false
        }
      }
    };
    provider.configure = function(configOptions) {
      return angular.merge(options, configOptions);
    };
    _$get = function() {
      var service;
      service = this;
      service.get = function() {
        return options;
      };
      return service;
    };
    _$get.$inject = [];
    provider.$get = _$get;
    return provider;
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL3RoZW1pbmcvdGhlbWluZy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSx3QkFEVixFQUNvQyxFQURwQyxDQUVFLENBQUMsUUFGSCxDQUVZLGNBRlosRUFFNEIsU0FBQTtBQUV4QixRQUFBO0lBQUEsUUFBQSxHQUFXO0lBSVgsT0FBQSxHQUVFO01BQUEsV0FBQSxFQUNFO1FBQUEsUUFBQSxFQUFVLFNBQVY7UUFDQSxRQUFBLEVBQVUsU0FEVjtRQUVBLEtBQUEsRUFBTyxDQUNMLFNBREssRUFFTCxTQUZLLEVBR0wsU0FISyxFQUlMLFNBSkssRUFLTCxTQUxLLEVBTUwsU0FOSyxFQU9MLFNBUEssRUFRTCxTQVJLLEVBU0wsU0FUSyxFQVVMLFNBVkssQ0FGUDtPQURGO01BZ0JBLFNBQUEsRUFDRTtRQUFBLGNBQUEsRUFBZ0IsS0FBaEI7UUFDQSxjQUFBLEVBQWdCLFFBRGhCO09BakJGO01Bb0JBLGlCQUFBLEVBQ0U7UUFBQSxZQUFBLEVBQWMsVUFBZDtRQUNBLGNBQUEsRUFBZ0IsSUFEaEI7UUFFQSxvQkFBQSxFQUFzQixLQUZ0QjtRQUdBLGdCQUFBLEVBQWtCLElBSGxCO1FBSUEsYUFBQSxFQUFlLElBSmY7UUFLQSxnQkFBQSxFQUFrQixJQUxsQjtPQXJCRjtNQTRCQSxhQUFBLEVBQ0U7UUFBQSxVQUFBLEVBQVksS0FBWjtRQUNBLGVBQUEsRUFBaUIsRUFEakI7T0E3QkY7TUFnQ0Esa0JBQUEsRUFDRTtRQUFBLFdBQUEsRUFBYSxnQkFBYjtRQUNBLFdBQUEsRUFBYSx5QkFEYjtRQUVBLE9BQUEsRUFBUyxPQUZUO1FBR0EsVUFBQSxFQUFZLFFBSFo7UUFJQSxlQUFBLEVBQWlCLElBSmpCO09BakNGO01Bd0NBLGVBQUEsRUFDRTtRQUFBLGdCQUFBLEVBQ0U7VUFBQSxLQUFBLEVBQU8sMENBQVA7VUFDQSxNQUFBLEVBQVEsNEVBRFI7VUFFQSxJQUFBLEVBQU0sZ0hBRk47U0FERjtRQUlBLEtBQUEsRUFDRTtVQUFBLEtBQUEsRUFBTyx1REFBUDtVQUNBLE1BQUEsRUFBUSx5RUFEUjtTQUxGO09BekNGO01BaURBLGdCQUFBLEVBQ0U7UUFBQSxXQUFBLEVBQ0U7VUFBQSxJQUFBLEVBQU0sSUFBTjtVQUNBLE9BQUEsRUFDRTtZQUFBLElBQUEsRUFBTSxJQUFOO1lBQ0EsR0FBQSxFQUFLLGVBREw7WUFFQSxJQUFBLEVBQU0sc0NBRk47V0FGRjtTQURGO09BbERGO01BMERBLG9CQUFBLEVBQ0U7UUFBQSxJQUFBLEVBQU0sSUFBTjtPQTNERjtNQTZEQSxZQUFBLEVBQ0U7UUFBQSxJQUFBLEVBQU0sS0FBTjtRQUNBLGNBQUEsRUFDRTtVQUFBLFFBQUEsRUFBVSxFQUFWO1NBRkY7T0E5REY7TUFrRUEsZUFBQSxFQUNFO1FBQUEsSUFBQSxFQUFNLElBQU47T0FuRUY7TUFxRUEsV0FBQSxFQUNFO1FBQUEsa0JBQUEsRUFBb0IsS0FBcEI7UUFDQSxZQUFBLEVBQWMsU0FBQTtpQkFBRztRQUFILENBRGQ7UUFFQSxRQUFBLEVBQ0U7VUFBQSxNQUFBLEVBQVEsS0FBUjtTQUhGO09BdEVGOztJQStFRixRQUFRLENBQUMsU0FBVCxHQUFxQixTQUFDLGFBQUQ7YUFDbkIsT0FBTyxDQUFDLEtBQVIsQ0FBYyxPQUFkLEVBQXVCLGFBQXZCO0lBRG1CO0lBSXJCLEtBQUEsR0FBUSxTQUFBO0FBQ04sVUFBQTtNQUFBLE9BQUEsR0FBVTtNQUlWLE9BQU8sQ0FBQyxHQUFSLEdBQWMsU0FBQTtBQUNaLGVBQU87TUFESztBQUdkLGFBQU87SUFSRDtJQVVSLEtBQUssQ0FBQyxPQUFOLEdBQWdCO0lBRWhCLFFBQVEsQ0FBQyxJQUFULEdBQWdCO0FBRWhCLFdBQU87RUF6R2lCLENBRjVCO0FBQUEiLCJmaWxlIjoic2VydmljZXMvdGhlbWluZy90aGVtaW5nLnN2Yy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiMgcHJvdmlkZXIgZm9yIGNvbmZpZ3VyaW5nIGltcGFjLWFuZ3VsYXIgY29sb3VyIHRoZW1lICYgbGF5b3V0LlxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy50aGVtaW5nJywgW10pXG4gIC5wcm92aWRlcignSW1wYWNUaGVtaW5nJywgKCkgLT5cblxuICAgIHByb3ZpZGVyID0gQFxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIFByaXZhdGUgRGVmYXVsdHMgfCBDdXN0b21pc2FibGUgZmVhdHVyZXNcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgb3B0aW9ucyA9XG4gICAgICAjIHdpZGdldCBjaGFydHMgY29sb3VyIHBhbGV0dGVcbiAgICAgIGNoYXJ0Q29sb3JzOlxuICAgICAgICBwb3NpdGl2ZTogJyMzRkM0RkYnLFxuICAgICAgICBuZWdhdGl2ZTogJyMxREU5QjYnLFxuICAgICAgICBhcnJheTogW1xuICAgICAgICAgIFwiIzFkZTliNlwiLFxuICAgICAgICAgIFwiIzdjNGRmZlwiLFxuICAgICAgICAgIFwiI2ZmYzkyOFwiLFxuICAgICAgICAgIFwiIzNmYzRmZlwiLFxuICAgICAgICAgIFwiI2ZmOGUwMVwiLFxuICAgICAgICAgIFwiI2M2ZmYwMFwiLFxuICAgICAgICAgIFwiI2Q1MDBmYVwiLFxuICAgICAgICAgIFwiI2ZmNmU0MVwiLFxuICAgICAgICAgIFwiI2ZmZWIzY1wiLFxuICAgICAgICAgIFwiI2ZmMTg0NFwiXG4gICAgICAgIF1cbiAgICAgICMgZ2VuZXJhbCBkYXNoYm9hcmQgb3B0aW9uc1xuICAgICAgZGhiQ29uZmlnOlxuICAgICAgICBzaG93RGhiSGVhZGluZzogZmFsc2VcbiAgICAgICAgZGhiSGVhZGluZ1RleHQ6ICdJbXBhYyEnXG4gICAgICAjIGNvbmZpZ3VyYXRpb25zIGZvciB0aGUgZGFzaGJvYXJkIHNlbGVjdG9yIGZlYXR1cmUuXG4gICAgICBkaGJTZWxlY3RvckNvbmZpZzpcbiAgICAgICAgc2VsZWN0b3JUeXBlOiAnZHJvcGRvd24nXG4gICAgICAgIGN1c3RvbVRtcGxQYXRoOiBudWxsXG4gICAgICAgIGFjY2Vzc2liaWxpdHlFbmFibGVkOiBmYWxzZVxuICAgICAgICBhZGRXaWRnZXRFbmFibGVkOiB0cnVlXG4gICAgICAgIGFkZERoYkVuYWJsZWQ6IHRydWVcbiAgICAgICAgZGVsZXRlRGhiRW5hYmxlZDogdHJ1ZVxuICAgICAgIyBrcGlzIG9wdGlvbnNcbiAgICAgIGRoYktwaXNDb25maWc6XG4gICAgICAgIGVuYWJsZUtwaXM6IGZhbHNlXG4gICAgICAgIHBhcmVudEVsZW1lbnRJZDogJydcbiAgICAgICMgb3B0aW9ucyBmb3IgdGhlIGRhdGEtbm90LWZvdW5kIGRpc3BsYXkgcGFuZWwgbWVzc2FnZXMuXG4gICAgICBkYXRhTm90Rm91bmRDb25maWc6XG4gICAgICAgIG1haW5NZXNzYWdlOiAnRGF0YSBub3QgZm91bmQnXG4gICAgICAgIGxpbmtNZXNzYWdlOiAnQXJlIHlvdSBtaXNzaW5nIGFuIGFwcD8nXG4gICAgICAgIGxpbmtVcmw6ICcvYXBwcydcbiAgICAgICAgbGlua1RhcmdldDogJ19ibGFuaydcbiAgICAgICAgbGlua1VybENhbGxiYWNrOiBudWxsXG5cbiAgICAgICMgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgdGhlIGRoYiBlcnJvcnMgbWVzc2FnZXMuXG4gICAgICBkaGJFcnJvcnNDb25maWc6XG4gICAgICAgIGZpcnN0VGltZUNyZWF0ZWQ6XG4gICAgICAgICAgZmlyc3Q6ICdJdFxcJ3MgdGltZSB0byBhZGQgYSByZXBvcnRpbmcgZGFzaGJvYXJkISdcbiAgICAgICAgICBzZWNvbmQ6ICdJbiAyIGNsaWNrcywgeW91XFwnbGwgYmUgYWJsZSB0byB2aXN1YWxpemUgaG93IHlvdXIgYnVzaW5lc3MgaXMgcGVyZm9ybWluZy4nXG4gICAgICAgICAgbm90ZTogJ05vdGU6IGRhc2hib2FyZHMgeW91IGNyZWF0ZSB3aWxsIG9ubHkgYmUgYWNjZXNzaWJsZSBieSB5b3UuIERhc2hib2FyZCBzaGFyaW5nIGFjcm9zcyB1c2VycyB3aWxsIGJlIGFkZGVkIHNvb24uJ1xuICAgICAgICBlbXB0eTpcbiAgICAgICAgICBmaXJzdDogJ05vdyBpdFxcJ3MgdGltZSB0byBzZWxlY3QgdGhlIG1ldHJpY3MgeW91IHdhbnQgdG8gc2VlISdcbiAgICAgICAgICBzZWNvbmQ6ICdBZGQgd2lkZ2V0cyB0byB5b3VyIGRhc2hib2FyZCB0byBoZWxwIG1ha2UgYW4gSW1wYWMh4oSiIHRvIHlvdXIgYnVzaW5lc3MuJ1xuXG4gICAgICBkaGJTdWJNZW51Q29uZmlnOlxuICAgICAgICBteW9iTWVzc2FnZTpcbiAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgYXBwTGluazpcbiAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgIHVybDogJyMvbWFya2V0cGxhY2UnXG4gICAgICAgICAgICB0ZXh0OiAnPj4gQ2hlY2sgdGhpcyBhcHAgb24gb3VyIG1hcmtldHBsYWNlJ1xuXG4gICAgICAjIG9wdGlvbnMgZm9yIHRoZSB3aWRnZXQgc2VsZWN0b3IgcGFuZWwuXG4gICAgICB3aWRnZXRTZWxlY3RvckNvbmZpZzpcbiAgICAgICAgcGF0aDogbnVsbFxuICAgICAgIyBhZGQgY2hhcnQod2lkZ2V0KSB0aWxlIGZlYXR1cmUgJiBjb25maWd1cmF0aW9ucy5cbiAgICAgIGFkZENoYXJ0VGlsZTpcbiAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgb25DbGlja09wdGlvbnM6XG4gICAgICAgICAgdHJpZ2dlcnM6IFtdXG4gICAgICAjIHNob3dpbmcgdGhlIG5vIHdpZGdldHMgLyBlbXB0eSBkYXNoYm9hcmQgbWVzc2FnZSBwYW5lbCAmIGFueSBjb25maWd1cmF0aW9ucyB0aGF0IGJlbG9uZy5cbiAgICAgIHNob3dOb1dpZGdldE1zZzpcbiAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgIyBjb25maWd1cmluZyBkYXNoYm9hcmQgc2V0dGluZ3NcbiAgICAgIGRoYlNldHRpbmdzOlxuICAgICAgICBpbldpZGdldHNDb250YWluZXI6IGZhbHNlXG4gICAgICAgIHNob3dTeW5jQXBwczogLT4gdHJ1ZVxuICAgICAgICBjdXJyZW5jeTpcbiAgICAgICAgICBsb2NrZWQ6IGZhbHNlXG5cblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIFB1YmxpYyBtZXRob2RzIGF2YWlsYWJsZSBpbiBjb25maWdcbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgcHJvdmlkZXIuY29uZmlndXJlID0gKGNvbmZpZ09wdGlvbnMpIC0+XG4gICAgICBhbmd1bGFyLm1lcmdlKG9wdGlvbnMsIGNvbmZpZ09wdGlvbnMpXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgXyRnZXQgPSAoKSAtPlxuICAgICAgc2VydmljZSA9IEBcbiAgICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICMgUHVibGljIG1ldGhvZHMgYXZhaWxhYmxlIGFzIHNlcnZpY2VcbiAgICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIHNlcnZpY2UuZ2V0ID0gLT5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnNcblxuICAgICAgcmV0dXJuIHNlcnZpY2VcbiAgICAjIGluamVjdCBzZXJ2aWNlIGRlcGVuZGVuY2llcyBoZXJlLCBhbmQgZGVjbGFyZSBpbiBfJGdldCBmdW5jdGlvbiBhcmdzLlxuICAgIF8kZ2V0LiRpbmplY3QgPSBbXTtcbiAgICAjIGF0dGFjaCBwcm92aWRlciBmdW5jdGlvbiBvbnRvIHRoZSBwcm92aWRlciBvYmplY3RcbiAgICBwcm92aWRlci4kZ2V0ID0gXyRnZXRcblxuICAgIHJldHVybiBwcm92aWRlclxuICApXG4iXX0=

(function() {
  angular.module('impac.services.utilities', []).service('ImpacUtilities', function() {
    this.processRailsError = function(error) {
      var messages;
      messages = [];
      if (error.status && error.status === 401) {
        messages.push("Sorry! You are not authorized to perform this action");
      } else {
        if (error.data && error.data !== " ") {
          if (angular.isArray(error.data)) {
            _.each(error.data, function(errorMessage) {
              var capitalizedError;
              capitalizedError = errorMessage.charAt(0).toUpperCase() + errorMessage.slice(1);
              return messages.push("" + capitalizedError);
            });
          } else if (angular.isObject(error.data)) {
            _.each(error.data, function(attrErrors, attribute) {
              var capitalizedAttr;
              capitalizedAttr = (attribute.charAt(0).toUpperCase() + attribute.slice(1)).replace('_', ' ');
              if (angular.isArray(attrErrors)) {
                return _.each(attrErrors, function(attrError) {
                  if (capitalizedAttr.match(/base/i)) {
                    return messages.push(attrError);
                  } else {
                    return messages.push(capitalizedAttr + " " + attrError);
                  }
                });
              } else {
                if (capitalizedAttr.match(/base/i)) {
                  return messages.push(attrErrors);
                } else {
                  return messages.push(capitalizedAttr + " " + attrErrors);
                }
              }
            });
          } else if (angular.isString(error.data)) {
            messages.push(error.data);
          } else {
            messages.push("Potentially a system or communication error. Please retry later.");
          }
        } else {
          messages.push("Potentially a system or communication error. Please retry later.");
        }
      }
      return messages;
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL3V0aWxpdGllcy91dGlsaXRpZXMuc3ZjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsMEJBRFYsRUFDc0MsRUFEdEMsQ0FFRSxDQUFDLE9BRkgsQ0FFVyxnQkFGWCxFQUU2QixTQUFBO0lBSXpCLElBQUMsQ0FBQSxpQkFBRCxHQUFxQixTQUFDLEtBQUQ7QUFDbkIsVUFBQTtNQUFBLFFBQUEsR0FBVztNQUVYLElBQUcsS0FBSyxDQUFDLE1BQU4sSUFBZ0IsS0FBSyxDQUFDLE1BQU4sS0FBZ0IsR0FBbkM7UUFDRSxRQUFRLENBQUMsSUFBVCxDQUFjLHNEQUFkLEVBREY7T0FBQSxNQUFBO1FBR0UsSUFBRyxLQUFLLENBQUMsSUFBTixJQUFjLEtBQUssQ0FBQyxJQUFOLEtBQWMsR0FBL0I7VUFDRSxJQUFHLE9BQU8sQ0FBQyxPQUFSLENBQWdCLEtBQUssQ0FBQyxJQUF0QixDQUFIO1lBQ0UsQ0FBQyxDQUFDLElBQUYsQ0FBTyxLQUFLLENBQUMsSUFBYixFQUFtQixTQUFDLFlBQUQ7QUFDakIsa0JBQUE7Y0FBQSxnQkFBQSxHQUFtQixZQUFZLENBQUMsTUFBYixDQUFvQixDQUFwQixDQUFzQixDQUFDLFdBQXZCLENBQUEsQ0FBQSxHQUF1QyxZQUFZLENBQUMsS0FBYixDQUFtQixDQUFuQjtxQkFDMUQsUUFBUSxDQUFDLElBQVQsQ0FBYyxFQUFBLEdBQUcsZ0JBQWpCO1lBRmlCLENBQW5CLEVBREY7V0FBQSxNQUtLLElBQUcsT0FBTyxDQUFDLFFBQVIsQ0FBaUIsS0FBSyxDQUFDLElBQXZCLENBQUg7WUFDSCxDQUFDLENBQUMsSUFBRixDQUFPLEtBQUssQ0FBQyxJQUFiLEVBQW1CLFNBQUMsVUFBRCxFQUFhLFNBQWI7QUFDakIsa0JBQUE7Y0FBQSxlQUFBLEdBQWtCLENBQUMsU0FBUyxDQUFDLE1BQVYsQ0FBaUIsQ0FBakIsQ0FBbUIsQ0FBQyxXQUFwQixDQUFBLENBQUEsR0FBb0MsU0FBUyxDQUFDLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBckMsQ0FBd0QsQ0FBQyxPQUF6RCxDQUFpRSxHQUFqRSxFQUFzRSxHQUF0RTtjQUNsQixJQUFHLE9BQU8sQ0FBQyxPQUFSLENBQWdCLFVBQWhCLENBQUg7dUJBQ0UsQ0FBQyxDQUFDLElBQUYsQ0FBTyxVQUFQLEVBQW1CLFNBQUMsU0FBRDtrQkFDakIsSUFBRyxlQUFlLENBQUMsS0FBaEIsQ0FBc0IsT0FBdEIsQ0FBSDsyQkFDRSxRQUFRLENBQUMsSUFBVCxDQUFjLFNBQWQsRUFERjttQkFBQSxNQUFBOzJCQUdFLFFBQVEsQ0FBQyxJQUFULENBQWlCLGVBQUQsR0FBaUIsR0FBakIsR0FBb0IsU0FBcEMsRUFIRjs7Z0JBRGlCLENBQW5CLEVBREY7ZUFBQSxNQUFBO2dCQVFFLElBQUcsZUFBZSxDQUFDLEtBQWhCLENBQXNCLE9BQXRCLENBQUg7eUJBQ0UsUUFBUSxDQUFDLElBQVQsQ0FBYyxVQUFkLEVBREY7aUJBQUEsTUFBQTt5QkFHRSxRQUFRLENBQUMsSUFBVCxDQUFpQixlQUFELEdBQWlCLEdBQWpCLEdBQW9CLFVBQXBDLEVBSEY7aUJBUkY7O1lBRmlCLENBQW5CLEVBREc7V0FBQSxNQWdCQSxJQUFHLE9BQU8sQ0FBQyxRQUFSLENBQWlCLEtBQUssQ0FBQyxJQUF2QixDQUFIO1lBQ0gsUUFBUSxDQUFDLElBQVQsQ0FBYyxLQUFLLENBQUMsSUFBcEIsRUFERztXQUFBLE1BQUE7WUFHSCxRQUFRLENBQUMsSUFBVCxDQUFjLGtFQUFkLEVBSEc7V0F0QlA7U0FBQSxNQUFBO1VBMkJFLFFBQVEsQ0FBQyxJQUFULENBQWMsa0VBQWQsRUEzQkY7U0FIRjs7QUFnQ0EsYUFBTztJQW5DWTtFQUpJLENBRjdCO0FBQUEiLCJmaWxlIjoic2VydmljZXMvdXRpbGl0aWVzL3V0aWxpdGllcy5zdmMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIjIFRoaXMgc2VydmljZSBwcm92aWRlcyBvZnRlbmx5IHVzZWQgbWV0aG9kcyBsaWtlIFJhaWxzIGVycm9yIHByb2Nlc3NpbmcuXG4jIHRvZG86OmxpYi1zdHJ1Y3R1cmU6IHNob3VsZCB0aGlzIGJlIGluIGltcGFjLWFuZ3VsYXI/XG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2ltcGFjLnNlcnZpY2VzLnV0aWxpdGllcycsIFtdKVxuICAuc2VydmljZSgnSW1wYWNVdGlsaXRpZXMnLCAoKSAtPlxuXG4gICAgIyBQYXJzZSBhIFJhaWxzIG1vZGVsIGVycm9yIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgbWVzc2FnZXNcbiAgICAjIHJlYWR5IHRvIGJlIGRpc3BsYXllZFxuICAgIEBwcm9jZXNzUmFpbHNFcnJvciA9IChlcnJvcikgLT5cbiAgICAgIG1lc3NhZ2VzID0gW11cblxuICAgICAgaWYgZXJyb3Iuc3RhdHVzICYmIGVycm9yLnN0YXR1cyA9PSA0MDFcbiAgICAgICAgbWVzc2FnZXMucHVzaChcIlNvcnJ5ISBZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb25cIilcbiAgICAgIGVsc2VcbiAgICAgICAgaWYgZXJyb3IuZGF0YSAmJiBlcnJvci5kYXRhICE9IFwiIFwiXG4gICAgICAgICAgaWYgYW5ndWxhci5pc0FycmF5KGVycm9yLmRhdGEpXG4gICAgICAgICAgICBfLmVhY2goZXJyb3IuZGF0YSwgKGVycm9yTWVzc2FnZSkgLT5cbiAgICAgICAgICAgICAgY2FwaXRhbGl6ZWRFcnJvciA9IGVycm9yTWVzc2FnZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGVycm9yTWVzc2FnZS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChcIiN7Y2FwaXRhbGl6ZWRFcnJvcn1cIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICBlbHNlIGlmIGFuZ3VsYXIuaXNPYmplY3QoZXJyb3IuZGF0YSlcbiAgICAgICAgICAgIF8uZWFjaChlcnJvci5kYXRhLCAoYXR0ckVycm9ycywgYXR0cmlidXRlKSAtPlxuICAgICAgICAgICAgICBjYXBpdGFsaXplZEF0dHIgPSAoYXR0cmlidXRlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYXR0cmlidXRlLnNsaWNlKDEpKS5yZXBsYWNlKCdfJywgJyAnKVxuICAgICAgICAgICAgICBpZiBhbmd1bGFyLmlzQXJyYXkoYXR0ckVycm9ycylcbiAgICAgICAgICAgICAgICBfLmVhY2goYXR0ckVycm9ycywgKGF0dHJFcnJvcikgLT5cbiAgICAgICAgICAgICAgICAgIGlmIGNhcGl0YWxpemVkQXR0ci5tYXRjaCgvYmFzZS9pKVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKGF0dHJFcnJvcilcbiAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChcIiN7Y2FwaXRhbGl6ZWRBdHRyfSAje2F0dHJFcnJvcn1cIilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpZiBjYXBpdGFsaXplZEF0dHIubWF0Y2goL2Jhc2UvaSlcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYXR0ckVycm9ycylcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFwiI3tjYXBpdGFsaXplZEF0dHJ9ICN7YXR0ckVycm9yc31cIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICBlbHNlIGlmIGFuZ3VsYXIuaXNTdHJpbmcoZXJyb3IuZGF0YSlcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goZXJyb3IuZGF0YSlcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFwiUG90ZW50aWFsbHkgYSBzeXN0ZW0gb3IgY29tbXVuaWNhdGlvbiBlcnJvci4gUGxlYXNlIHJldHJ5IGxhdGVyLlwiKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgbWVzc2FnZXMucHVzaChcIlBvdGVudGlhbGx5IGEgc3lzdGVtIG9yIGNvbW11bmljYXRpb24gZXJyb3IuIFBsZWFzZSByZXRyeSBsYXRlci5cIilcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VzXG5cbiAgICByZXR1cm5cbiAgKVxuIl19

(function() {
  angular.module('impac.services.widgets', []).service('ImpacWidgetsSvc', ["$q", "$http", "$log", "ImpacRoutes", "ImpacMainSvc", "ImpacDashboardsSvc", function($q, $http, $log, ImpacRoutes, ImpacMainSvc, ImpacDashboardsSvc) {
    var _self, isWidgetInCurrentDashboard;
    _self = this;
    this.config = {};
    this.config.ssoSessionId = "";
    this.load = function(force) {
      var deferred;
      if (force == null) {
        force = false;
      }
      deferred = $q.defer();
      if (_.isEmpty(_self.config.ssoSessionId) || force) {
        $q.all([ImpacMainSvc.loadUserData(force), ImpacDashboardsSvc.load(force)]).then(function(results) {
          _self.config.ssoSessionId = results[0].sso_session;
          return deferred.resolve(_self.config);
        }, function(error) {
          return deferred.reject(error);
        });
      } else {
        deferred.resolve(_self.config);
      }
      return deferred.promise;
    };
    this.create = function(opts) {
      var deferred;
      deferred = $q.defer();
      _self.load().then(function(config) {
        var dashboard, data;
        dashboard = ImpacDashboardsSvc.getCurrentDashboard();
        data = {
          widget: opts
        };
        return $http.post(ImpacRoutes.widgets.create(dashboard.id), data).then(function(success) {
          var newWidget;
          newWidget = success.data;
          dashboard.widgets.push(newWidget);
          ImpacDashboardsSvc.callbacks.widgetAdded.notify(newWidget);
          return deferred.resolve(newWidget);
        }, function(error) {
          $log.error("ImpacWidgetsSvc: cannot create widget on dashboard " + dashboard.id);
          return deferred.reject(error);
        });
      }, function(error) {
        $log.error("ImpacWidgetsSvc: error while trying to load the service");
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    isWidgetInCurrentDashboard = function(widgetId) {
      var currentDhb;
      currentDhb = ImpacDashboardsSvc.getCurrentDashboard();
      if (_.isEmpty(currentDhb) || _.isEmpty(currentDhb.widgets)) {
        return false;
      }
      return _.contains(_.pluck(currentDhb.widgets, 'id'), widgetId);
    };
    this.initWidgetSettings = function(w) {
      var i, len, ref, setting;
      w.isEditMode = false;
      if (_.isEmpty(w.settings)) {
        return;
      }
      ref = w.settings;
      for (i = 0, len = ref.length; i < len; i++) {
        setting = ref[i];
        setting.initialize();
      }
      return true;
    };
    this.updateWidgetSettings = function(widget, needContentReload) {
      var deferred, i, len, meta, ref, setting;
      if (needContentReload == null) {
        needContentReload = true;
      }
      widget.isEditMode = false;
      deferred = $q.defer();
      if (_.isEmpty(widget.settings)) {
        deferred.reject('no setting to update');
      } else {
        if (needContentReload) {
          widget.isLoading = true;
        }
        meta = {};
        ref = widget.settings;
        for (i = 0, len = ref.length; i < len; i++) {
          setting = ref[i];
          angular.merge(meta, setting.toMetadata());
        }
        _self.update(widget, {
          metadata: meta
        }).then(function(updatedSettingsWidget) {
          if (needContentReload) {
            return _self.show(updatedSettingsWidget).then(function(updatedContentWidget) {
              updatedContentWidget.isLoading = false;
              return deferred.resolve(updatedContentWidget);
            }, function(error) {
              updatedSettingsWidget.isLoading = false;
              return deferred.reject(error);
            });
          } else {
            return deferred.resolve(updatedSettingsWidget);
          }
        }, function(error) {
          return deferred.reject(error);
        });
      }
      return deferred.promise;
    };
    this.massAssignAll = function(metadata) {
      if (!_.isEmpty(metadata)) {
        return _self.load().then(function() {
          var currentDhb, i, len, newMetadata, promises, ref, widget;
          currentDhb = ImpacDashboardsSvc.getCurrentDashboard();
          promises = [];
          if ((currentDhb != null) && (currentDhb.widgets != null)) {
            if (!_.isEmpty(currentDhb.widgets)) {
              ref = currentDhb.widgets;
              for (i = 0, len = ref.length; i < len; i++) {
                widget = ref[i];
                newMetadata = angular.merge({}, widget.metadata, metadata);
                if (!_.isEqual(widget.metadata, newMetadata)) {
                  promises.push(_self.update(widget, {
                    metadata: newMetadata
                  }).then(function(updatedWidget) {
                    updatedWidget.isLoading = true;
                    return _self.show(updatedWidget).then(function(renderedWidget) {
                      return renderedWidget.isLoading = false;
                    });
                  }));
                }
              }
              return $q.all(promises);
            } else {
              return $q.resolve([]);
            }
          } else {
            $log.error("ImpacWidgetsSvc - currentDhb.widgets is null", currentDhb);
            return $q.reject(null);
          }
        });
      }
    };
    this.refreshAll = function() {
      return ImpacDashboardsSvc.load().then(function(config) {
        var widgets;
        widgets = config.currentDashboard.widgets;
        return _.forEach(widgets, function(w) {
          w.isLoading || (w.isLoading = true);
          return _self.show(w, true).then(function(updatedWidget) {
            return w.isLoading = false;
          }, function(errorResponse) {
            w.isLoading = false;
            if ((errorResponse.data != null) && errorResponse.data.error) {
              return $log.error(errorResponse.data.error);
            }
          });
        });
      });
    };
    this.show = function(widget, refreshCache) {
      var deferred;
      if (refreshCache == null) {
        refreshCache = false;
      }
      deferred = $q.defer();
      _self.load().then(function(config) {
        var dashboard, data;
        if (!isWidgetInCurrentDashboard(widget.id)) {
          $log.info("ImpacWidgetsSvc: trying to load a widget (id: " + widget.id + ") that is not in currentDashboard");
          return deferred.reject("trying to load a widget (id: " + widget.id + ") that is not in currentDashboard");
        } else {
          data = {
            owner: widget.owner,
            sso_session: _self.config.ssoSessionId,
            metadata: widget.metadata,
            engine: widget.category
          };
          if (refreshCache) {
            angular.extend(data, {
              refresh_cache: true
            });
          }
          dashboard = ImpacDashboardsSvc.getCurrentDashboard();
          return $http.post(ImpacRoutes.widgets.show(dashboard.id, widget.id), data).then(function(success) {
            var content, i, len, name, ref, setting;
            content = success.data.content || {};
            name = success.data.name;
            angular.extend(widget, {
              content: content,
              originalName: name
            });
            if (angular.isDefined(widget.initContext)) {
              widget.initContext();
            }
            ref = widget.settings;
            for (i = 0, len = ref.length; i < len; i++) {
              setting = ref[i];
              if (angular.isDefined(setting.initialize)) {
                setting.initialize();
              }
            }
            if (angular.isDefined(widget.format)) {
              widget.format();
            }
            return deferred.resolve(widget);
          }, function(errorResponse) {
            var i, len, ref, setting;
            if (angular.isDefined(widget.initContext)) {
              widget.initContext();
            }
            ref = widget.settings;
            for (i = 0, len = ref.length; i < len; i++) {
              setting = ref[i];
              if (angular.isDefined(setting.initialize)) {
                setting.initialize();
              }
            }
            if (angular.isDefined(widget.processError) && (errorResponse.data != null) && errorResponse.data.error) {
              widget.processError(errorResponse.data.error);
            }
            return deferred.reject(errorResponse);
          });
        }
      }, function(error) {
        $log.error("ImpacWidgetsSvc: error while trying to load the service");
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    this.update = function(widget, opts) {
      var dashboard, data, deferred;
      deferred = $q.defer();
      _self.load().then(function(config) {}, !isWidgetInCurrentDashboard(widget.id) ? ($log.info("ImpacWidgetsSvc: trying to update a widget (id: " + widget.id + ") that is not in currentDashboard"), deferred.reject("trying to update a widget (id: " + widget.id + ") that is not in currentDashboard")) : (data = {
        widget: opts
      }, dashboard = ImpacDashboardsSvc.getCurrentDashboard(), $http.put(ImpacRoutes.widgets.update(dashboard.id, widget.id), data).then(function(success) {
        var updatedWidget;
        updatedWidget = success.data;
        angular.extend(widget, updatedWidget);
        return deferred.resolve(widget);
      }, function(error) {
        $log.error("ImpacWidgetsSvc: cannot update widget: " + widget.id);
        return deferred.reject(error);
      })), function(error) {
        $log.error("ImpacWidgetsSvc: error while trying to load the service");
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    this["delete"] = function(widgetToDelete) {
      var deferred;
      deferred = $q.defer();
      _self.load().then(function(config) {
        var dashboard;
        dashboard = ImpacDashboardsSvc.getCurrentDashboard();
        return $http["delete"](ImpacRoutes.widgets["delete"](dashboard.id, widgetToDelete.id)).then(function(success) {
          _.remove(dashboard.widgets, function(widget) {
            return widget.id === widgetToDelete.id;
          });
          return deferred.resolve(success);
        }, function(error) {
          $log.error("ImpacWidgetsSvc: error while trying to delete widget: " + widgetToDelete.id);
          return deferred.reject(error);
        });
      }, function(error) {
        $log.error("ImpacWidgetsSvc: error while trying to load the service");
        return deferred.reject(error);
      });
      return deferred.promise;
    };
    return _self;
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL3dpZGdldHMvd2lkZ2V0cy5zdmMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSx3QkFEVixFQUNvQyxFQURwQyxDQUVFLENBQUMsT0FGSCxDQUVXLGlCQUZYLEVBRThCLFNBQUMsRUFBRCxFQUFLLEtBQUwsRUFBWSxJQUFaLEVBQWtCLFdBQWxCLEVBQStCLFlBQS9CLEVBQTZDLGtCQUE3QztBQUUxQixRQUFBO0lBQUEsS0FBQSxHQUFRO0lBQ1IsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxNQUFNLENBQUMsWUFBUixHQUF1QjtJQUd2QixJQUFDLENBQUEsSUFBRCxHQUFRLFNBQUMsS0FBRDtBQUNOLFVBQUE7O1FBRE8sUUFBTTs7TUFDYixRQUFBLEdBQVcsRUFBRSxDQUFDLEtBQUgsQ0FBQTtNQUVYLElBQUcsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxLQUFLLENBQUMsTUFBTSxDQUFDLFlBQXZCLENBQUEsSUFBd0MsS0FBM0M7UUFFRSxFQUFFLENBQUMsR0FBSCxDQUFPLENBQUMsWUFBWSxDQUFDLFlBQWIsQ0FBMEIsS0FBMUIsQ0FBRCxFQUFtQyxrQkFBa0IsQ0FBQyxJQUFuQixDQUF3QixLQUF4QixDQUFuQyxDQUFQLENBQTBFLENBQUMsSUFBM0UsQ0FDRSxTQUFDLE9BQUQ7VUFDRSxLQUFLLENBQUMsTUFBTSxDQUFDLFlBQWIsR0FBNEIsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDO2lCQUN2QyxRQUFRLENBQUMsT0FBVCxDQUFpQixLQUFLLENBQUMsTUFBdkI7UUFGRixDQURGLEVBSUUsU0FBQyxLQUFEO2lCQUNFLFFBQVEsQ0FBQyxNQUFULENBQWdCLEtBQWhCO1FBREYsQ0FKRixFQUZGO09BQUEsTUFBQTtRQVdHLFFBQVEsQ0FBQyxPQUFULENBQWlCLEtBQUssQ0FBQyxNQUF2QixFQVhIOztBQWFBLGFBQU8sUUFBUSxDQUFDO0lBaEJWO0lBbUJSLElBQUMs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ZUFDQSxRQUFRLENBQUMsTUFBVCxDQUFnQixLQUFoQjtNQUZGLENBckJGO0FBMEJBLGFBQU8sUUFBUSxDQUFDO0lBN0JSO0lBZ0NWLElBQUMsQ0FBQSxRQUFBLENBQUQsR0FBVSxTQUFDLGNBQUQ7QUFDUixVQUFBO01BQUEsUUFBQSxHQUFXLEVBQUUsQ0FBQyxLQUFILENBQUE7TUFFWCxLQUFLLENBQUMsSUFBTixDQUFBLENBQVksQ0FBQyxJQUFiLENBQ0UsU0FBQyxNQUFEO0FBQ0UsWUFBQTtRQUFBLFNBQUEsR0FBWSxrQkFBa0IsQ0FBQyxtQkFBbkIsQ0FBQTtlQUVaLEtBQUssQ0FBQyxRQUFELENBQUwsQ0FBYSxXQUFXLENBQUMsT0FBTyxDQUFDLFFBQUQsQ0FBbkIsQ0FBMkIsU0FBUyxDQUFDLEVBQXJDLEVBQXlDLGNBQWMsQ0FBQyxFQUF4RCxDQUFiLENBQXlFLENBQUMsSUFBMUUsQ0FDRSxTQUFDLE9BQUQ7VUFDRSxDQUFDLENBQUMsTUFBRixDQUFTLFNBQVMsQ0FBQyxPQUFuQixFQUE0QixTQUFDLE1BQUQ7bUJBQzFCLE1BQU0sQ0FBQyxFQUFQLEtBQWEsY0FBYyxDQUFDO1VBREYsQ0FBNUI7aUJBRUEsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsT0FBakI7UUFIRixDQURGLEVBTUUsU0FBQyxLQUFEO1VBQ0UsSUFBSSxDQUFDLEtBQUwsQ0FBVyx3REFBQSxHQUF5RCxjQUFjLENBQUMsRUFBbkY7aUJBQ0EsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsS0FBaEI7UUFGRixDQU5GO01BSEYsQ0FERixFQWVFLFNBQUMsS0FBRDtRQUNFLElBQUksQ0FBQyxLQUFMLENBQVcseURBQVg7ZUFDQSxRQUFRLENBQUMsTUFBVCxDQUFnQixLQUFoQjtNQUZGLENBZkY7QUFvQkEsYUFBTyxRQUFRLENBQUM7SUF2QlI7QUEyQlYsV0FBTztFQXpRbUIsQ0FGOUI7QUFBQSIsImZpbGUiOiJzZXJ2aWNlcy93aWRnZXRzL3dpZGdldHMuc3ZjLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAubW9kdWxlKCdpbXBhYy5zZXJ2aWNlcy53aWRnZXRzJywgW10pXG4gIC5zZXJ2aWNlICdJbXBhY1dpZGdldHNTdmMnLCAoJHEsICRodHRwLCAkbG9nLCBJbXBhY1JvdXRlcywgSW1wYWNNYWluU3ZjLCBJbXBhY0Rhc2hib2FyZHNTdmMpIC0+XG5cbiAgICBfc2VsZiA9IEBcbiAgICBAY29uZmlnID0ge31cbiAgICBAY29uZmlnLnNzb1Nlc3Npb25JZCA9IFwiXCJcblxuXG4gICAgQGxvYWQgPSAoZm9yY2U9ZmFsc2UpIC0+XG4gICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICAgICAgaWYgXy5pc0VtcHR5KF9zZWxmLmNvbmZpZy5zc29TZXNzaW9uSWQpIHx8IGZvcmNlXG5cbiAgICAgICAgJHEuYWxsKFtJbXBhY01haW5TdmMubG9hZFVzZXJEYXRhKGZvcmNlKSwgSW1wYWNEYXNoYm9hcmRzU3ZjLmxvYWQoZm9yY2UpXSkudGhlbihcbiAgICAgICAgICAocmVzdWx0cykgLT5cbiAgICAgICAgICAgIF9zZWxmLmNvbmZpZy5zc29TZXNzaW9uSWQgPSByZXN1bHRzWzBdLnNzb19zZXNzaW9uXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9zZWxmLmNvbmZpZylcbiAgICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG4gICAgICAgIClcblxuICAgICAgZWxzZVxuICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShfc2VsZi5jb25maWcpXG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG5cblxuICAgIEBjcmVhdGUgPSAob3B0cykgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICBfc2VsZi5sb2FkKCkudGhlbihcbiAgICAgICAgKGNvbmZpZykgLT5cblxuICAgICAgICAgIGRhc2hib2FyZCA9IEltcGFjRGFzaGJvYXJkc1N2Yy5nZXRDdXJyZW50RGFzaGJvYXJkKClcbiAgICAgICAgICBkYXRhID0geyB3aWRnZXQ6IG9wdHMgfVxuXG4gICAgICAgICAgJGh0dHAucG9zdChJbXBhY1JvdXRlcy53aWRnZXRzLmNyZWF0ZShkYXNoYm9hcmQuaWQpLCBkYXRhKS50aGVuKFxuICAgICAgICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICAgIG5ld1dpZGdldCA9IHN1Y2Nlc3MuZGF0YVxuICAgICAgICAgICAgICBkYXNoYm9hcmQud2lkZ2V0cy5wdXNoKG5ld1dpZGdldClcbiAgICAgICAgICAgICAgSW1wYWNEYXNoYm9hcmRzU3ZjLmNhbGxiYWNrcy53aWRnZXRBZGRlZC5ub3RpZnkobmV3V2lkZ2V0KVxuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG5ld1dpZGdldClcblxuICAgICAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNXaWRnZXRzU3ZjOiBjYW5ub3QgY3JlYXRlIHdpZGdldCBvbiBkYXNoYm9hcmQgI3tkYXNoYm9hcmQuaWR9XCIpXG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgICAgICApXG5cbiAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICRsb2cuZXJyb3IoXCJJbXBhY1dpZGdldHNTdmM6IGVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIHRoZSBzZXJ2aWNlXCIpXG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG5cbiAgICBpc1dpZGdldEluQ3VycmVudERhc2hib2FyZCA9ICh3aWRnZXRJZCkgLT5cbiAgICAgIGN1cnJlbnREaGIgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgICByZXR1cm4gZmFsc2UgaWYgXy5pc0VtcHR5KGN1cnJlbnREaGIpIHx8IF8uaXNFbXB0eShjdXJyZW50RGhiLndpZGdldHMpXG4gICAgICByZXR1cm4gXy5jb250YWlucyggXy5wbHVjayhjdXJyZW50RGhiLndpZGdldHMsICdpZCcpLCB3aWRnZXRJZClcblxuXG4gICAgQGluaXRXaWRnZXRTZXR0aW5ncyA9ICh3KSAtPlxuICAgICAgdy5pc0VkaXRNb2RlID0gZmFsc2VcbiAgICAgIHJldHVybiBpZiBfLmlzRW1wdHkody5zZXR0aW5ncylcbiAgICAgIGZvciBzZXR0aW5nIGluIHcuc2V0dGluZ3NcbiAgICAgICAgc2V0dGluZy5pbml0aWFsaXplKClcbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICBAdXBkYXRlV2lkZ2V0U2V0dGluZ3MgPSAod2lkZ2V0LCBuZWVkQ29udGVudFJlbG9hZD10cnVlKSAtPlxuICAgICAgd2lkZ2V0LmlzRWRpdE1vZGUgPSBmYWxzZVxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIGlmIF8uaXNFbXB0eSh3aWRnZXQuc2V0dGluZ3MpXG4gICAgICAgIGRlZmVycmVkLnJlamVjdCgnbm8gc2V0dGluZyB0byB1cGRhdGUnKVxuXG4gICAgICBlbHNlXG4gICAgICAgIHdpZGdldC5pc0xvYWRpbmcgPSB0cnVlIGlmIG5lZWRDb250ZW50UmVsb2FkXG4gICAgICAgIG1ldGEgPSB7fVxuICAgICAgICBmb3Igc2V0dGluZyBpbiB3aWRnZXQuc2V0dGluZ3NcbiAgICAgICAgICBhbmd1bGFyLm1lcmdlIG1ldGEsIHNldHRpbmcudG9NZXRhZGF0YSgpXG5cbiAgICAgICAgX3NlbGYudXBkYXRlKHdpZGdldCwgeyBtZXRhZGF0YTogbWV0YSB9KS50aGVuKFxuICAgICAgICAgICh1cGRhdGVkU2V0dGluZ3NXaWRnZXQpIC0+XG4gICAgICAgICAgICBpZiBuZWVkQ29udGVudFJlbG9hZFxuICAgICAgICAgICAgICBfc2VsZi5zaG93KHVwZGF0ZWRTZXR0aW5nc1dpZGdldCkudGhlbihcbiAgICAgICAgICAgICAgICAodXBkYXRlZENvbnRlbnRXaWRnZXQpIC0+XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ29udGVudFdpZGdldC5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1cGRhdGVkQ29udGVudFdpZGdldClcbiAgICAgICAgICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkU2V0dGluZ3NXaWRnZXQuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHVwZGF0ZWRTZXR0aW5nc1dpZGdldClcblxuICAgICAgICAgIChlcnJvcikgLT5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgICAgKVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuXG4gICAgQG1hc3NBc3NpZ25BbGwgPSAobWV0YWRhdGEpIC0+XG4gICAgICB1bmxlc3MgXy5pc0VtcHR5KG1ldGFkYXRhKVxuICAgICAgICBfc2VsZi5sb2FkKCkudGhlbiAtPlxuICAgICAgICAgIGN1cnJlbnREaGIgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgICAgICAgcHJvbWlzZXMgPSBbXVxuXG4gICAgICAgICAgaWYgY3VycmVudERoYj8gJiYgY3VycmVudERoYi53aWRnZXRzP1xuICAgICAgICAgICAgaWYgIV8uaXNFbXB0eShjdXJyZW50RGhiLndpZGdldHMpXG4gICAgICAgICAgICAgIGZvciB3aWRnZXQgaW4gY3VycmVudERoYi53aWRnZXRzXG4gICAgICAgICAgICAgICAgbmV3TWV0YWRhdGEgPSBhbmd1bGFyLm1lcmdlKHt9LCB3aWRnZXQubWV0YWRhdGEsIG1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIHVubGVzcyBfLmlzRXF1YWwod2lkZ2V0Lm1ldGFkYXRhLCBuZXdNZXRhZGF0YSlcbiAgICAgICAgICAgICAgICAgICMgSWYgdGhlIG1ldGFkYXRhIGhhcyBub3QgYmVlbiBjaGFuZ2VkLCB3ZSBkb24ndCBwdXNoIHRoZSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoIF9zZWxmLnVwZGF0ZSh3aWRnZXQsIHttZXRhZGF0YTogbmV3TWV0YWRhdGF9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAodXBkYXRlZFdpZGdldCkgLT5cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkV2lkZ2V0LmlzTG9hZGluZz10cnVlXG4gICAgICAgICAgICAgICAgICAgICAgIyBUT0RPOiBzaG91bGQgQ29ubmVjISBjYWNoZSBiZSByZWZyZXNoZWQgb24gc2hvdz9cbiAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zaG93KHVwZGF0ZWRXaWRnZXQpLnRoZW4oIChyZW5kZXJlZFdpZGdldCktPiByZW5kZXJlZFdpZGdldC5pc0xvYWRpbmc9ZmFsc2UgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKVxuXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHJldHVybiAkcS5yZXNvbHZlKFtdKVxuXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgJGxvZy5lcnJvciBcIkltcGFjV2lkZ2V0c1N2YyAtIGN1cnJlbnREaGIud2lkZ2V0cyBpcyBudWxsXCIsIGN1cnJlbnREaGJcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QobnVsbClcblxuICAgIEByZWZyZXNoQWxsID0gLT5cbiAgICAgIEltcGFjRGFzaGJvYXJkc1N2Yy5sb2FkKCkudGhlbihcbiAgICAgICAgKGNvbmZpZyktPlxuICAgICAgICAgIHdpZGdldHMgPSBjb25maWcuY3VycmVudERhc2hib2FyZC53aWRnZXRzXG4gICAgICAgICAgXy5mb3JFYWNoKHdpZGdldHMsICh3KSAtPlxuICAgICAgICAgICAgdy5pc0xvYWRpbmcgfHw9IHRydWVcbiAgICAgICAgICAgIF9zZWxmLnNob3codywgdHJ1ZSkudGhlbihcbiAgICAgICAgICAgICAgKHVwZGF0ZWRXaWRnZXQpIC0+XG4gICAgICAgICAgICAgICAgdy5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAoZXJyb3JSZXNwb25zZSkgLT5cbiAgICAgICAgICAgICAgICB3LmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgIyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWFuYWdlbWVudFxuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3JSZXNwb25zZS5kYXRhLmVycm9yKSBpZiBlcnJvclJlc3BvbnNlLmRhdGE/ICYmIGVycm9yUmVzcG9uc2UuZGF0YS5lcnJvclxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgIClcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAjIENSVUQgbWV0aG9kc1xuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBzaG93ID0gKHdpZGdldCwgcmVmcmVzaENhY2hlPWZhbHNlKSAtPlxuICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgIF9zZWxmLmxvYWQoKS50aGVuKFxuICAgICAgICAoY29uZmlnKSAtPlxuICAgICAgICAgIHVubGVzcyBpc1dpZGdldEluQ3VycmVudERhc2hib2FyZCh3aWRnZXQuaWQpXG4gICAgICAgICAgICAkbG9nLmluZm8oXCJJbXBhY1dpZGdldHNTdmM6IHRyeWluZyB0byBsb2FkIGEgd2lkZ2V0IChpZDogI3t3aWRnZXQuaWR9KSB0aGF0IGlzIG5vdCBpbiBjdXJyZW50RGFzaGJvYXJkXCIpXG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoXCJ0cnlpbmcgdG8gbG9hZCBhIHdpZGdldCAoaWQ6ICN7d2lkZ2V0LmlkfSkgdGhhdCBpcyBub3QgaW4gY3VycmVudERhc2hib2FyZFwiKVxuXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgb3duZXI6IHdpZGdldC5vd25lclxuICAgICAgICAgICAgICBzc29fc2Vzc2lvbjogX3NlbGYuY29uZmlnLnNzb1Nlc3Npb25JZFxuICAgICAgICAgICAgICBtZXRhZGF0YTogd2lkZ2V0Lm1ldGFkYXRhXG4gICAgICAgICAgICAgIGVuZ2luZTogd2lkZ2V0LmNhdGVnb3J5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChkYXRhLCB7cmVmcmVzaF9jYWNoZTogdHJ1ZX0pIGlmIHJlZnJlc2hDYWNoZVxuXG4gICAgICAgICAgICBkYXNoYm9hcmQgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG5cbiAgICAgICAgICAgICRodHRwLnBvc3QoSW1wYWNSb3V0ZXMud2lkZ2V0cy5zaG93KGRhc2hib2FyZC5pZCwgd2lkZ2V0LmlkKSwgZGF0YSkudGhlbihcbiAgICAgICAgICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICAgICAgIyBQdXNoZXMgbmV3IGNvbnRlbnQgdG8gd2lkZ2V0XG4gICAgICAgICAgICAgICAgY29udGVudCA9IHN1Y2Nlc3MuZGF0YS5jb250ZW50IHx8IHt9XG4gICAgICAgICAgICAgICAgbmFtZSA9IHN1Y2Nlc3MuZGF0YS5uYW1lXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQgd2lkZ2V0LCB7Y29udGVudDogY29udGVudCwgb3JpZ2luYWxOYW1lOiBuYW1lfVxuXG4gICAgICAgICAgICAgICAgIyBJbml0aWFsaXplcyB3aWRnZXQncyBjb250ZXh0LCBhbmQgZGV0ZXJtaW5lcyBpZiB0aGUgZGF0YSBoYXMgYmVlbiBmb3VuZFxuICAgICAgICAgICAgICAgIHdpZGdldC5pbml0Q29udGV4dCgpIGlmIGFuZ3VsYXIuaXNEZWZpbmVkKHdpZGdldC5pbml0Q29udGV4dClcbiAgICAgICAgICAgICAgICAjIEluaXRpYWxpemVzIGVhY2ggd2lkZ2V0J3Mgc2V0dGluZ1xuICAgICAgICAgICAgICAgIGZvciBzZXR0aW5nIGluIHdpZGdldC5zZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgc2V0dGluZy5pbml0aWFsaXplKCkgaWYgYW5ndWxhci5pc0RlZmluZWQoc2V0dGluZy5pbml0aWFsaXplKVxuXG4gICAgICAgICAgICAgICAgIyBGb3JtYXRzIHRoZSBjaGFydCB3aGVuIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIHdpZGdldC5mb3JtYXQoKSBpZiBhbmd1bGFyLmlzRGVmaW5lZCh3aWRnZXQuZm9ybWF0KVxuXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSB3aWRnZXRcblxuICAgICAgICAgICAgICAoZXJyb3JSZXNwb25zZSkgLT5cbiAgICAgICAgICAgICAgICAjIFdlIHN0aWxsIGluaXRpYWxpemUgdGhlIHdpZGdldCB3aXRoIHRoZSBsYXN0IHNhdmVkIHNldHRpbmdzIChzaG91bGQgYmUgc2F2ZWQgaW4gbWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgd2lkZ2V0LmluaXRDb250ZXh0KCkgaWYgYW5ndWxhci5pc0RlZmluZWQod2lkZ2V0LmluaXRDb250ZXh0KVxuICAgICAgICAgICAgICAgIGZvciBzZXR0aW5nIGluIHdpZGdldC5zZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgc2V0dGluZy5pbml0aWFsaXplKCkgaWYgYW5ndWxhci5pc0RlZmluZWQoc2V0dGluZy5pbml0aWFsaXplKVxuXG4gICAgICAgICAgICAgICAgIyBXZSBwcm9jZXNzIHRoZSBlcnJvclxuICAgICAgICAgICAgICAgIHdpZGdldC5wcm9jZXNzRXJyb3IoZXJyb3JSZXNwb25zZS5kYXRhLmVycm9yKSBpZiBhbmd1bGFyLmlzRGVmaW5lZCh3aWRnZXQucHJvY2Vzc0Vycm9yKSAmJiBlcnJvclJlc3BvbnNlLmRhdGE/ICYmIGVycm9yUmVzcG9uc2UuZGF0YS5lcnJvclxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvclJlc3BvbnNlKVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIChlcnJvcikgLT5cbiAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNXaWRnZXRzU3ZjOiBlcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCB0aGUgc2VydmljZVwiKVxuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgQHVwZGF0ZSA9ICh3aWRnZXQsIG9wdHMpIC0+XG4gICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICAgICAgX3NlbGYubG9hZCgpLnRoZW4oXG4gICAgICAgIChjb25maWcpIC0+XG5cbiAgICAgICAgdW5sZXNzIGlzV2lkZ2V0SW5DdXJyZW50RGFzaGJvYXJkKHdpZGdldC5pZClcbiAgICAgICAgICAkbG9nLmluZm8oXCJJbXBhY1dpZGdldHNTdmM6IHRyeWluZyB0byB1cGRhdGUgYSB3aWRnZXQgKGlkOiAje3dpZGdldC5pZH0pIHRoYXQgaXMgbm90IGluIGN1cnJlbnREYXNoYm9hcmRcIilcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoXCJ0cnlpbmcgdG8gdXBkYXRlIGEgd2lkZ2V0IChpZDogI3t3aWRnZXQuaWR9KSB0aGF0IGlzIG5vdCBpbiBjdXJyZW50RGFzaGJvYXJkXCIpXG5cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRhdGEgPSB7IHdpZGdldDogb3B0cyB9XG4gICAgICAgICAgZGFzaGJvYXJkID0gSW1wYWNEYXNoYm9hcmRzU3ZjLmdldEN1cnJlbnREYXNoYm9hcmQoKVxuXG4gICAgICAgICAgJGh0dHAucHV0KEltcGFjUm91dGVzLndpZGdldHMudXBkYXRlKGRhc2hib2FyZC5pZCwgd2lkZ2V0LmlkKSwgZGF0YSkudGhlbihcbiAgICAgICAgICAgIChzdWNjZXNzKSAtPlxuICAgICAgICAgICAgICB1cGRhdGVkV2lkZ2V0ID0gc3VjY2Vzcy5kYXRhXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kIHdpZGdldCwgdXBkYXRlZFdpZGdldFxuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHdpZGdldClcbiAgICAgICAgICAgIChlcnJvcikgLT5cbiAgICAgICAgICAgICAgJGxvZy5lcnJvcihcIkltcGFjV2lkZ2V0c1N2YzogY2Fubm90IHVwZGF0ZSB3aWRnZXQ6ICN7d2lkZ2V0LmlkfVwiKVxuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG4gICAgICAgICAgKVxuXG4gICAgICAgIChlcnJvcikgLT5cbiAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNXaWRnZXRzU3ZjOiBlcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCB0aGUgc2VydmljZVwiKVxuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcilcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuXG4gICAgQGRlbGV0ZSA9ICh3aWRnZXRUb0RlbGV0ZSkgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gICAgICBfc2VsZi5sb2FkKCkudGhlbihcbiAgICAgICAgKGNvbmZpZykgLT5cbiAgICAgICAgICBkYXNoYm9hcmQgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG5cbiAgICAgICAgICAkaHR0cC5kZWxldGUoSW1wYWNSb3V0ZXMud2lkZ2V0cy5kZWxldGUoZGFzaGJvYXJkLmlkLCB3aWRnZXRUb0RlbGV0ZS5pZCkpLnRoZW4oXG4gICAgICAgICAgICAoc3VjY2VzcykgLT5cbiAgICAgICAgICAgICAgXy5yZW1vdmUgZGFzaGJvYXJkLndpZGdldHMsICh3aWRnZXQpIC0+XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlkID09IHdpZGdldFRvRGVsZXRlLmlkXG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc3VjY2VzcylcblxuICAgICAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICAgICAkbG9nLmVycm9yKFwiSW1wYWNXaWRnZXRzU3ZjOiBlcnJvciB3aGlsZSB0cnlpbmcgdG8gZGVsZXRlIHdpZGdldDogI3t3aWRnZXRUb0RlbGV0ZS5pZH1cIilcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKVxuICAgICAgICAgIClcblxuICAgICAgICAoZXJyb3IpIC0+XG4gICAgICAgICAgJGxvZy5lcnJvcihcIkltcGFjV2lkZ2V0c1N2YzogZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgdGhlIHNlcnZpY2VcIilcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpXG4gICAgICApXG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG5cblxuXG4gICAgcmV0dXJuIF9zZWxmXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.dashboard-settings.currency', []);

  module.directive('dashboardSettingCurrency', ["$templateCache", "$log", "ImpacMainSvc", "ImpacDashboardsSvc", "ImpacWidgetsSvc", "ImpacTheming", function($templateCache, $log, ImpacMainSvc, ImpacDashboardsSvc, ImpacWidgetsSvc, ImpacTheming) {
    return {
      restrict: 'A',
      scope: {
        currency: '='
      },
      link: function(scope, element, attrs) {
        scope.locked = ImpacTheming.get().dhbSettings.currency.locked;
        ImpacMainSvc.load().then(function(mainConfig) {
          return ImpacDashboardsSvc.load().then(function() {
            scope.currentDhb = ImpacDashboardsSvc.getCurrentDashboard();
            return scope.currencies = mainConfig.currencies;
          });
        });
        return scope.massAssignCurrency = function() {
          var data;
          data = {
            currency: scope.currency
          };
          ImpacDashboardsSvc.update(scope.currentDhb.id, data);
          return ImpacWidgetsSvc.massAssignAll(data);
        };
      },
      template: $templateCache.get('dashboard-settings/currency.tmpl.html')
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZGFzaGJvYXJkLXNldHRpbmdzL2N1cnJlbmN5L2N1cnJlbmN5LmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLDhDQUFmLEVBQThELEVBQTlEOztFQUVULE1BQU0sQ0FBQyxTQUFQLENBQWlCLDBCQUFqQixFQUE2QyxTQUFDLGNBQUQsRUFBaUIsSUFBakIsRUFBdUIsWUFBdkIsRUFBcUMsa0JBQXJDLEVBQXlELGVBQXpELEVBQTBFLFlBQTFFO0FBQzNDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLFFBQUEsRUFBVSxHQURMO09BRkY7TUFLTCxJQUFBLEVBQU0sU0FBQyxLQUFELEVBQVEsT0FBUixFQUFpQixLQUFqQjtRQUNKLEtBQUssQ0FBQyxNQUFOLEdBQWUsWUFBWSxDQUFDLEdBQWIsQ0FBQSxDQUFrQixDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUM7UUFFdkQsWUFBWSxDQUFDLElBQWIsQ0FBQSxDQUFtQixDQUFDLElBQXBCLENBQ0UsU0FBQyxVQUFEO2lCQUNFLGtCQUFrQixDQUFDLElBQW5CLENBQUEsQ0FBeUIsQ0FBQyxJQUExQixDQUErQixTQUFBO1lBRTdCLEtBQUssQ0FBQyxVQUFOLEdBQW1CLGtCQUFrQixDQUFDLG1CQUFuQixDQUFBO21CQUNuQixLQUFLLENBQUMsVUFBTixHQUFtQixVQUFVLENBQUM7VUFIRCxDQUEvQjtRQURGLENBREY7ZUFRQSxLQUFLLENBQUMsa0JBQU4sR0FBMkIsU0FBQTtBQUN6QixjQUFBO1VBQUEsSUFBQSxHQUFPO1lBQUMsUUFBQSxFQUFVLEtBQUssQ0FBQyxRQUFqQjs7VUFDUCxrQkFBa0IsQ0FBQyxNQUFuQixDQUEwQixLQUFLLENBQUMsVUFBVSxDQUFDLEVBQTNDLEVBQStDLElBQS9DO2lCQUNBLGVBQWUsQ0FBQyxhQUFoQixDQUE4QixJQUE5QjtRQUh5QjtNQVh2QixDQUxEO01Bc0JMLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQix1Q0FBbkIsQ0F0Qkw7O0VBRG9DLENBQTdDO0FBRkEiLCJmaWxlIjoiY29tcG9uZW50cy9kYXNoYm9hcmQtc2V0dGluZ3MvY3VycmVuY3kvY3VycmVuY3kuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMuZGFzaGJvYXJkLXNldHRpbmdzLmN1cnJlbmN5JyxbXSlcblxubW9kdWxlLmRpcmVjdGl2ZSgnZGFzaGJvYXJkU2V0dGluZ0N1cnJlbmN5JywgKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCBJbXBhY01haW5TdmMsIEltcGFjRGFzaGJvYXJkc1N2YywgSW1wYWNXaWRnZXRzU3ZjLCBJbXBhY1RoZW1pbmcpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgY3VycmVuY3k6ICc9J1xuICAgIH0sXG4gICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRycykgLT5cbiAgICAgIHNjb3BlLmxvY2tlZCA9IEltcGFjVGhlbWluZy5nZXQoKS5kaGJTZXR0aW5ncy5jdXJyZW5jeS5sb2NrZWRcblxuICAgICAgSW1wYWNNYWluU3ZjLmxvYWQoKS50aGVuKFxuICAgICAgICAobWFpbkNvbmZpZykgLT5cbiAgICAgICAgICBJbXBhY0Rhc2hib2FyZHNTdmMubG9hZCgpLnRoZW4gLT5cbiAgICAgICAgICAgICMgc2NvcGUgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREaGIgPSBJbXBhY0Rhc2hib2FyZHNTdmMuZ2V0Q3VycmVudERhc2hib2FyZCgpXG4gICAgICAgICAgICBzY29wZS5jdXJyZW5jaWVzID0gbWFpbkNvbmZpZy5jdXJyZW5jaWVzXG4gICAgICApXG5cbiAgICAgIHNjb3BlLm1hc3NBc3NpZ25DdXJyZW5jeSA9IC0+XG4gICAgICAgIGRhdGEgPSB7Y3VycmVuY3k6IHNjb3BlLmN1cnJlbmN5fVxuICAgICAgICBJbXBhY0Rhc2hib2FyZHNTdmMudXBkYXRlKHNjb3BlLmN1cnJlbnREaGIuaWQsIGRhdGEpXG4gICAgICAgIEltcGFjV2lkZ2V0c1N2Yy5tYXNzQXNzaWduQWxsKGRhdGEpXG5cblxuICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2Rhc2hib2FyZC1zZXR0aW5ncy9jdXJyZW5jeS50bXBsLmh0bWwnKSxcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.dashboard-settings.sync-apps', []);

  module.directive('dashboardSettingSyncApps', ["$templateCache", "$log", "$http", "$filter", "$modal", "ImpacMainSvc", "ImpacRoutes", "ImpacWidgetsSvc", "ImpacTheming", "poller", "$timeout", function($templateCache, $log, $http, $filter, $modal, ImpacMainSvc, ImpacRoutes, ImpacWidgetsSvc, ImpacTheming, poller, $timeout) {
    return {
      restrict: 'A',
      scope: {},
      template: $templateCache.get('dashboard-settings/sync-apps.tmpl.html'),
      link: function(scope, element, attrs) {
        var getOffset, processAppInstancesSync, refreshDashboard;
        scope.isSyncing = false;
        scope.hasConnectors = false;
        processAppInstancesSync = function(responseData) {
          var c, i, len, ref;
          scope.isSyncing = responseData.is_syncing;
          scope.hasConnectors = responseData.connectors && responseData.connectors.length > 0;
          if (scope.hasConnectors) {
            scope.lastConnector = responseData.connectors[0];
            scope.otherConnectors = _.slice(responseData.connectors, 1);
            scope.failedConnectors = [];
            scope.disconnectedConnectors = [];
            ref = responseData.connectors;
            for (i = 0, len = ref.length; i < len; i++) {
              c = ref[i];
              if (c.status === "FAILED") {
                scope.failedConnectors.push(angular.copy(c));
              } else if (c.status === "DISCONNECTED") {
                scope.disconnectedConnectors.push(angular.copy(c));
              }
            }
          } else {
            scope.lastConnector = {
              status: 'SUCCESS',
              last_sync_date: new Date()
            };
          }
          if (!scope.isSyncing) {
            return refreshDashboard();
          }
        };
        refreshDashboard = function() {
          var modalInstance;
          scope.syncingPoller.stop();
          if (!scope.isDashboardRefreshAuthorized) {
            return;
          }
          ImpacWidgetsSvc.refreshAll();
          if (!(_.isEmpty(scope.failedConnectors) && _.isEmpty(scope.disconnectedConnectors))) {
            modalInstance = $modal.open({
              animation: true,
              size: 'md',
              templateUrl: 'alerts.tmpl.html',
              appendTo: angular.element('impac-dashboard'),
              controller: ["$scope", "connectors", function($scope, connectors) {
                $scope.failedConnectors = connectors.failed;
                $scope.disconnectedConnectors = connectors.disconnected;
                return $scope.ok = function() {
                  return modalInstance.close();
                };
              }],
              resolve: {
                connectors: function() {
                  return {
                    disconnected: scope.disconnectedConnectors,
                    failed: scope.failedConnectors
                  };
                }
              }
            });
          }
          return scope.isDashboardRefreshAuthorized = false;
        };
        getOffset = function() {
          var hours, minutes, offsetArray, timezone;
          timezone = new Date().getTimezoneOffset();
          offsetArray = ['+', '00', '00'];
          if (!(timezone < 0)) {
            offsetArray[0] = '-';
          }
          hours = "" + (Math.abs(Math.floor(timezone / 60)));
          if (hours.length < 2) {
            offsetArray[1] = "0" + hours;
          } else {
            offsetArray[1] = hours;
          }
          minutes = "" + (Math.abs(timezone % 60));
          if (minutes.length < 2) {
            offsetArray[2] = "0" + minutes;
          } else {
            offsetArray[2] = minutes;
          }
          return offsetArray.join('');
        };
        scope.synchronize = function() {
          if (scope.isSyncing) {
            return;
          }
          scope.isSyncing = true;
          scope.isDashboardRefreshAuthorized = true;
          return $http.post(ImpacRoutes.organizations.appInstancesSync(scope.orgUID)).then(function(success) {
            processAppInstancesSync(success.data);
            if (success.data.is_syncing) {
              return $timeout(function() {
                return scope.syncingPoller.start();
              }, 5000);
            }
          }, function(err) {
            $log.error('Unable to sync apps', err);
            return scope.isSyncing = false;
          });
        };
        scope.formatStatus = function(connector) {
          var date, name, status;
          if (!connector) {
            return;
          }
          name = connector.name;
          status = "";
          if (connector.last_sync_date) {
            date = $filter('date')(connector.last_sync_date, "yyyy-MM-dd 'at' h:mma", getOffset());
            switch (connector.status) {
              case 'SUCCESS':
                status = "Last sync: " + date;
                break;
              case 'FAILED':
                status = "Last sync failed: " + date;
                break;
              case 'DISCONNECTED':
                status = "Disconnected - previous sync was: " + date;
            }
          } else {
            switch (connector.status) {
              case 'FAILED':
                status = "Sync failed";
                break;
              case 'DISCONNECTED':
                status = "Sync failed - Disconnected";
                break;
              case 'NOT SYNCED':
                status = "Not synced yet";
            }
          }
          if (!(_.isEmpty(status) || _.isEmpty(name))) {
            status = status + " (" + name + ")";
          }
          return status;
        };
        ImpacMainSvc.load(true).then(function(config) {
          scope.orgUID = config.currentOrganization.uid;
          scope.syncingPoller = poller.get(ImpacRoutes.organizations.appInstancesSync(scope.orgUID), {
            delay: 5000,
            smart: true
          });
          return scope.syncingPoller.promise.then(null, null, function(response) {
            return processAppInstancesSync(response.data);
          });
        });
        return scope.$on("$destroy", function() {
          if (scope.syncingPoller) {
            return scope.syncingPoller.stop() && scope.syncingPoller.remove();
          }
        });
      }
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZGFzaGJvYXJkLXNldHRpbmdzL3N5bmMtYXBwcy9zeW5jLWFwcHMuZGlyZWN0aXZlLmpzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsK0NBQWYsRUFBK0QsRUFBL0Q7O0VBRVQsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsMEJBQWpCLEVBQTZDLFNBQUMsY0FBRCxFQUFpQixJQUFqQixFQUF1QixLQUF2QixFQUE4QixPQUE5QixFQUF1QyxNQUF2QyxFQUErQyxZQUEvQyxFQUE2RCxXQUE3RCxFQUEwRSxlQUExRSxFQUEyRixZQUEzRixFQUF5RyxNQUF6RyxFQUFpSCxRQUFqSDtBQUMzQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU8sRUFGRjtNQUlMLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQix3Q0FBbkIsQ0FKTDtNQU1MLElBQUEsRUFBTSxTQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLEtBQWpCO0FBS0osWUFBQTtRQUFBLEtBQUssQ0FBQyxTQUFOLEdBQWtCO1FBQ2xCLEtBQUssQ0FBQyxhQUFOLEdBQXNCO1FBT3RCLHVCQUFBLEdBQTBCLFNBQUMsWUFBRDtBQUN4QixjQUFBO1VBQUEsS0FBSyxDQUFDLFNBQU4sR0FBa0IsWUFBWSxDQUFDO1VBQy9CLEtBQUssQ0FBQyxhQUFOLEdBQXVCLFlBQVksQ0FBQyxVQUFiLElBQTJCLFlBQVksQ0FBQyxVQUFVLENBQUMsTUFBeEIsR0FBaUM7VUFFbkYsSUFBRyxLQUFLLENBQUMsYUFBVDtZQUVFLEtBQUssQ0FBQyxhQUFOLEdBQXNCLFlBQVksQ0FBQyxVQUFXLENBQUEsQ0FBQTtZQUU5QyxLQUFLLENBQUMsZUFBTixHQUF3QixDQUFDLENBQUMsS0FBRixDQUFRLFlBQVksQ0FBQyxVQUFyQixFQUFpQyxDQUFqQztZQUd4QixLQUFLLENBQUMsZ0JBQU4sR0FB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QUE7VUFBRyxJQUFnRSxLQUFLLENBQUMsYUFBdEU7bUJBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFwQixDQUFBLENBQUEsSUFBOEIsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFwQixDQUFBLEVBQS9COztRQUFILENBQXRCO01BN0pJLENBTkQ7O0VBRG9DLENBQTdDO0FBRkEiLCJmaWxlIjoiY29tcG9uZW50cy9kYXNoYm9hcmQtc2V0dGluZ3Mvc3luYy1hcHBzL3N5bmMtYXBwcy5kaXJlY3RpdmUuanMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy5kYXNoYm9hcmQtc2V0dGluZ3Muc3luYy1hcHBzJyxbXSlcblxubW9kdWxlLmRpcmVjdGl2ZSgnZGFzaGJvYXJkU2V0dGluZ1N5bmNBcHBzJywgKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkaHR0cCwgJGZpbHRlciwgJG1vZGFsLCBJbXBhY01haW5TdmMsIEltcGFjUm91dGVzLCBJbXBhY1dpZGdldHNTdmMsIEltcGFjVGhlbWluZywgcG9sbGVyLCAkdGltZW91dCkgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkYXNoYm9hcmQtc2V0dGluZ3Mvc3luYy1hcHBzLnRtcGwuaHRtbCcpLFxuXG4gICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRycykgLT5cblxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBWYXJpYWJsZXMgaW5pdGlhbGl6YXRpb25cbiAgICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIHNjb3BlLmlzU3luY2luZyA9IGZhbHNlXG4gICAgICBzY29wZS5oYXNDb25uZWN0b3JzID0gZmFsc2VcblxuXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAjIExvY2FsIG1ldGhvZHNcbiAgICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICMgUmV0dXJucyB0aGUgZm9ybWF0dGVkIHRpbWV6b25lIG9mZnNldCBmb3IgZGF0ZSBkaXNwbGF5IHB1cnBvc2VcbiAgICAgIHByb2Nlc3NBcHBJbnN0YW5jZXNTeW5jID0gKHJlc3BvbnNlRGF0YSkgLT5cbiAgICAgICAgc2NvcGUuaXNTeW5jaW5nID0gcmVzcG9uc2VEYXRhLmlzX3N5bmNpbmdcbiAgICAgICAgc2NvcGUuaGFzQ29ubmVjdG9ycyA9IChyZXNwb25zZURhdGEuY29ubmVjdG9ycyAmJiByZXNwb25zZURhdGEuY29ubmVjdG9ycy5sZW5ndGggPiAwKVxuXG4gICAgICAgIGlmIHNjb3BlLmhhc0Nvbm5lY3RvcnNcbiAgICAgICAgICAjIFRoZSBjb25uZWN0b3IgdGhhdCB3aWxsIGJlIGRpc3BsYXllZCBvbiBmcm9udFxuICAgICAgICAgIHNjb3BlLmxhc3RDb25uZWN0b3IgPSByZXNwb25zZURhdGEuY29ubmVjdG9yc1swXVxuICAgICAgICAgICMgVGhlIG90aGVyIGNvbm5lY3RvcnMgdGhhdCB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgcG9wb3ZlclxuICAgICAgICAgIHNjb3BlLm90aGVyQ29ubmVjdG9ycyA9IF8uc2xpY2UocmVzcG9uc2VEYXRhLmNvbm5lY3RvcnMsIDEpXG4gICAgICAgICAgXG4gICAgICAgICAgIyBUaGUgY29ubmVjdG9ycyB3ZSB3aWxsIHVzZSBmb3IgZXJyb3IgbWFuYWdlbWVudFxuICAgICAgICAgIHNjb3BlLmZhaWxlZENvbm5lY3RvcnMgPSBbXVxuICAgICAgICAgIHNjb3BlLmRpc2Nvbm5lY3RlZENvbm5lY3RvcnMgPSBbXVxuICAgICAgICAgIGZvciBjIGluIHJlc3BvbnNlRGF0YS5jb25uZWN0b3JzXG4gICAgICAgICAgICBpZiBjLnN0YXR1cyA9PSBcIkZBSUxFRFwiXG4gICAgICAgICAgICAgIHNjb3BlLmZhaWxlZENvbm5lY3RvcnMucHVzaCBhbmd1bGFyLmNvcHkoYylcbiAgICAgICAgICAgIGVsc2UgaWYgYy5zdGF0dXMgPT0gXCJESVNDT05ORUNURURcIlxuICAgICAgICAgICAgICBzY29wZS5kaXNjb25uZWN0ZWRDb25uZWN0b3JzLnB1c2ggYW5ndWxhci5jb3B5KGMpXG5cbiAgICAgICAgIyBObyBjb25uZWN0b3I6IGRhdGEgaXMgc3luY2VkIGluIHJlYWx0aW1lLCBsZXQncyBkaXNwbGF5IHRoZSBjdXJyZW50IHRpbWUgYXMgXCJsYXN0IHN5bmNcIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgc2NvcGUubGFzdENvbm5lY3RvciA9IFxuICAgICAgICAgICAgc3RhdHVzOiAnU1VDQ0VTUydcbiAgICAgICAgICAgIGxhc3Rfc3luY19kYXRlOiBuZXcgRGF0ZSgpXG5cbiAgICAgICAgdW5sZXNzIHNjb3BlLmlzU3luY2luZ1xuICAgICAgICAgIHJlZnJlc2hEYXNoYm9hcmQoKVxuXG4gICAgICAjIFJlZnJlc2hlcyB0aGUgd2lkZ2V0cyBhbmQgZGlzcGxheSB0aGUgbW9kYWwgaWYgbmVlZGVkXG4gICAgICByZWZyZXNoRGFzaGJvYXJkID0gLT5cbiAgICAgICAgc2NvcGUuc3luY2luZ1BvbGxlci5zdG9wKClcbiAgICAgICAgIyBBdm9pZCBoYXZpbmcgdGhlIHJlZnJlc2ggdHJpZ2dlcmVkIHdoZW4gdGhlIGJ1dHRvbiBoYXMgbm90IGJlZW4gY2xpY2tlZFxuICAgICAgICByZXR1cm4gdW5sZXNzIHNjb3BlLmlzRGFzaGJvYXJkUmVmcmVzaEF1dGhvcml6ZWRcbiAgICAgICAgIyBSZWxvYWRzIGFsbCB0aGUgd2lkZ2V0cyBjb250ZW50c1xuICAgICAgICBJbXBhY1dpZGdldHNTdmMucmVmcmVzaEFsbCgpXG5cbiAgICAgICAgIyBPcGVucyB0aGUgbW9kYWwgaWYgZXJyb3JzIGFyZSBwcmVzZW50XG4gICAgICAgIHVubGVzcyAoXy5pc0VtcHR5KHNjb3BlLmZhaWxlZENvbm5lY3RvcnMpICYmIF8uaXNFbXB0eShzY29wZS5kaXNjb25uZWN0ZWRDb25uZWN0b3JzKSlcbiAgICAgICAgICBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB0cnVlXG4gICAgICAgICAgICBzaXplOiAnbWQnXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FsZXJ0cy50bXBsLmh0bWwnXG4gICAgICAgICAgICBhcHBlbmRUbzogYW5ndWxhci5lbGVtZW50KCdpbXBhYy1kYXNoYm9hcmQnKVxuICAgICAgICAgICAgY29udHJvbGxlcjogKCRzY29wZSwgY29ubmVjdG9ycykgLT5cbiAgICAgICAgICAgICAgJHNjb3BlLmZhaWxlZENvbm5lY3RvcnMgPSBjb25uZWN0b3JzLmZhaWxlZFxuICAgICAgICAgICAgICAkc2NvcGUuZGlzY29ubmVjdGVkQ29ubmVjdG9ycyA9IGNvbm5lY3RvcnMuZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICRzY29wZS5vayA9IC0+XG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZSgpXG4gICAgICAgICAgICByZXNvbHZlOlxuICAgICAgICAgICAgICBjb25uZWN0b3JzOiAtPlxuICAgICAgICAgICAgICAgIHtkaXNjb25uZWN0ZWQ6IHNjb3BlLmRpc2Nvbm5lY3RlZENvbm5lY3RvcnMsIGZhaWxlZDogc2NvcGUuZmFpbGVkQ29ubmVjdG9yc31cbiAgICAgICAgICB9KVxuXG4gICAgICAgICMgQmxvY2tzIHRoZSBkYXNoYm9hcmQgcmVmcmVzaCB1bnRpbCBuZXh0IGNsaWNrIG9uIFwic3luY2hyb25pemVcIlxuICAgICAgICBzY29wZS5pc0Rhc2hib2FyZFJlZnJlc2hBdXRob3JpemVkID0gZmFsc2VcblxuICAgICAgZ2V0T2Zmc2V0ID0gLT5cbiAgICAgICAgdGltZXpvbmUgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgICAgICAgb2Zmc2V0QXJyYXkgPSBbJysnLCcwMCcsJzAwJ11cbiAgICAgICAgb2Zmc2V0QXJyYXlbMF0gPSAnLScgdW5sZXNzIHRpbWV6b25lIDwgMFxuXG4gICAgICAgIGhvdXJzID0gXCIje01hdGguYWJzKE1hdGguZmxvb3IodGltZXpvbmUvNjApKX1cIlxuICAgICAgICBpZiBob3Vycy5sZW5ndGggPCAyXG4gICAgICAgICAgb2Zmc2V0QXJyYXlbMV0gPSBcIjBcIiArIGhvdXJzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvZmZzZXRBcnJheVsxXSA9IGhvdXJzXG5cbiAgICAgICAgbWludXRlcyA9IFwiI3tNYXRoLmFicyh0aW1lem9uZSU2MCl9XCJcbiAgICAgICAgaWYgbWludXRlcy5sZW5ndGggPCAyXG4gICAgICAgICAgb2Zmc2V0QXJyYXlbMl0gPSBcIjBcIiArIG1pbnV0ZXNcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG9mZnNldEFycmF5WzJdID0gbWludXRlc1xuXG4gICAgICAgIHJldHVybiBvZmZzZXRBcnJheS5qb2luKCcnKVxuXG5cbiAgICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICMgU2NvcGUgbWV0aG9kc1xuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBSdW5zIG9uIHN5bmNyb25pemUgYnV0dG9uIGNsaWNrXG4gICAgICBzY29wZS5zeW5jaHJvbml6ZSA9IC0+XG4gICAgICAgIHJldHVybiBpZiBzY29wZS5pc1N5bmNpbmdcbiAgICAgICAgc2NvcGUuaXNTeW5jaW5nID0gdHJ1ZVxuICAgICAgICBzY29wZS5pc0Rhc2hib2FyZFJlZnJlc2hBdXRob3JpemVkID0gdHJ1ZVxuXG4gICAgICAgICRodHRwLnBvc3QoSW1wYWNSb3V0ZXMub3JnYW5pemF0aW9ucy5hcHBJbnN0YW5jZXNTeW5jKHNjb3BlLm9yZ1VJRCkpLnRoZW4oXG4gICAgICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICAgICBwcm9jZXNzQXBwSW5zdGFuY2VzU3luYyhzdWNjZXNzLmRhdGEpXG4gICAgICAgICAgICBpZiBzdWNjZXNzLmRhdGEuaXNfc3luY2luZ1xuICAgICAgICAgICAgICAjIFVzZSB0aW1lb3V0IHRvIG1ha2Ugc3VyZSBDb25uZWMhIGhhcyBlbm91Z2ggdGltZSB0byBjcmVhdGUgdGhlIENvbm5lY3RvU3luYyBvYmplY3RcbiAgICAgICAgICAgICAgJHRpbWVvdXQgLT5cbiAgICAgICAgICAgICAgICBzY29wZS5zeW5jaW5nUG9sbGVyLnN0YXJ0KClcbiAgICAgICAgICAgICAgLCA1MDAwXG4gICAgICAgICAgKGVycikgLT5cbiAgICAgICAgICAgICRsb2cuZXJyb3IgJ1VuYWJsZSB0byBzeW5jIGFwcHMnLCBlcnJcbiAgICAgICAgICAgIHNjb3BlLmlzU3luY2luZyA9IGZhbHNlXG4gICAgICAgIClcblxuICAgICAgc2NvcGUuZm9ybWF0U3RhdHVzID0gKGNvbm5lY3RvcikgLT5cbiAgICAgICAgcmV0dXJuIHVubGVzcyBjb25uZWN0b3JcbiAgICAgICAgbmFtZSA9IGNvbm5lY3Rvci5uYW1lXG4gICAgICAgIHN0YXR1cyA9IFwiXCJcblxuICAgICAgICBpZiBjb25uZWN0b3IubGFzdF9zeW5jX2RhdGVcbiAgICAgICAgICBkYXRlID0gJGZpbHRlcignZGF0ZScpKGNvbm5lY3Rvci5sYXN0X3N5bmNfZGF0ZSwgXCJ5eXl5LU1NLWRkICdhdCcgaDptbWFcIiwgZ2V0T2Zmc2V0KCkpXG4gICAgICAgIFxuICAgICAgICAgIHN3aXRjaCBjb25uZWN0b3Iuc3RhdHVzXG4gICAgICAgICAgICB3aGVuICdTVUNDRVNTJyB0aGVuIHN0YXR1cyA9IFwiTGFzdCBzeW5jOiAje2RhdGV9XCJcbiAgICAgICAgICAgIHdoZW4gJ0ZBSUxFRCcgdGhlbiBzdGF0dXMgPSBcIkxhc3Qgc3luYyBmYWlsZWQ6ICN7ZGF0ZX1cIlxuICAgICAgICAgICAgd2hlbiAnRElTQ09OTkVDVEVEJyB0aGVuIHN0YXR1cyA9IFwiRGlzY29ubmVjdGVkIC0gcHJldmlvdXMgc3luYyB3YXM6ICN7ZGF0ZX1cIlxuICAgICAgICAgICAgIyBcIlJVTk5JTkdcIiBjYXNlIHNob3VsZCBpbXBseSBpc1N5bmNpbmc9PXRydWUuLi5cblxuICAgICAgICBlbHNlXG4gICAgICAgICAgc3dpdGNoIGNvbm5lY3Rvci5zdGF0dXNcbiAgICAgICAgICAgIHdoZW4gJ0ZBSUxFRCcgdGhlbiBzdGF0dXMgPSBcIlN5bmMgZmFpbGVkXCJcbiAgICAgICAgICAgIHdoZW4gJ0RJU0NPTk5FQ1RFRCcgdGhlbiBzdGF0dXMgPSBcIlN5bmMgZmFpbGVkIC0gRGlzY29ubmVjdGVkXCJcbiAgICAgICAgICAgIHdoZW4gJ05PVCBTWU5DRUQnIHRoZW4gc3RhdHVzID0gXCJOb3Qgc3luY2VkIHlldFwiXG4gICAgICAgICAgICAjIEFueSBvdGhlciBjYXNlIHdvdWxkIGJlIGJ1Z2d5Li4uXG5cbiAgICAgICAgc3RhdHVzID0gXCIje3N0YXR1c30gKCN7bmFtZX0pXCIgdW5sZXNzIF8uaXNFbXB0eShzdGF0dXMpIHx8IF8uaXNFbXB0eShuYW1lKVxuICAgICAgICByZXR1cm4gc3RhdHVzXG5cblxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgIyBEaXJlY3RpdmUgTG9hZCBhbmQgRGVzdHJveVxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgSW1wYWNNYWluU3ZjLmxvYWQodHJ1ZSkudGhlbihcbiAgICAgICAgKGNvbmZpZykgLT5cbiAgICAgICAgICBzY29wZS5vcmdVSUQgPSBjb25maWcuY3VycmVudE9yZ2FuaXphdGlvbi51aWRcblxuICAgICAgICAgICMgUmV0dXJuczpcbiAgICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgIyBkYXRhOlxuICAgICAgICAgICMgICBjb25uZWN0b3JzW106XG4gICAgICAgICAgIyAgICAgbmFtZSAoU3RyaW5nKVxuICAgICAgICAgICMgICAgIHN0YXR1cyAoJ1NVQ0NFU1MnIHwgJ1JVTk5JTkcnIHwgJ0ZBSUxFRCcgfCAnRElTQ09OTkVDVEVEJylcbiAgICAgICAgICAjICAgICBsYXN0X3N5bmNfZGF0ZSAoRGF0ZVRpbWUpXG4gICAgICAgICAgIyAgIGlzX3N5bmNpbmcgKEJvb2wpXG4gICAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIHNjb3BlLnN5bmNpbmdQb2xsZXIgPSBwb2xsZXIuZ2V0KEltcGFjUm91dGVzLm9yZ2FuaXphdGlvbnMuYXBwSW5zdGFuY2VzU3luYyhzY29wZS5vcmdVSUQpLCB7ZGVsYXk6IDUwMDAsIHNtYXJ0OiB0cnVlfSlcbiAgICAgICAgICBzY29wZS5zeW5jaW5nUG9sbGVyLnByb21pc2UudGhlbihudWxsLCBudWxsLCAocmVzcG9uc2UpIC0+IHByb2Nlc3NBcHBJbnN0YW5jZXNTeW5jKHJlc3BvbnNlLmRhdGEpIClcbiAgICAgIClcblxuICAgICAgIyBSZW1vdmVzIHRoZSBwb2xsZXIgd2hlbiB0aGUgZGlyZWN0aXZlIGlzIGRlc3Ryb3llZCAoZWc6IHdoZW4gd2Ugc3dpdGNoIGZyb20gdGhlIGltcGFjIGRhc2hib2FyZCB0byBhbm90aGVyIGpzIHJvdXRlKVxuICAgICAgc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgLT4gKHNjb3BlLnN5bmNpbmdQb2xsZXIuc3RvcCgpICYmIHNjb3BlLnN5bmNpbmdQb2xsZXIucmVtb3ZlKCkpIGlmIHNjb3BlLnN5bmNpbmdQb2xsZXIgKVxuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-accounting-values', []);

  module.controller('WidgetAccountsAccountingValuesCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = (w.content != null) && (w.content.accounting != null);
    };
    $scope.getCurrentPrice = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.accounting.values);
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.accounting.currency;
      }
    };
    $scope.getLegend = function() {
      if ($scope.isDataFound) {
        return w.content.accounting.legend;
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, data, dates, inputData, options, period;
      if ($scope.isDataFound) {
        data = angular.copy(w.content.accounting);
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(data.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: data.type,
          labels: dates,
          values: data.values
        };
        all_values_are_positive = true;
        angular.forEach(data.values, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false,
          currency: data.currency
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsAccountingValues', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsAccountingValuesCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1hY2NvdW50aW5nLXZhbHVlcy9hY2NvdW50cy1hY2NvdW50aW5nLXZhbHVlcy5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxxREFBZixFQUFxRSxFQUFyRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixvQ0FBbEIsRUFBd0QsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiLEVBQWdDLE9BQWhDO0FBRXRELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsaUJBQVAsR0FBMkIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUMzQixNQUFNLENBQUMsZ0JBQVAsR0FBMEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUMxQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsaUJBQWlCLENBQUMsT0FGUixFQUdqQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FIUCxFQUlqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BSko7SUFVbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTthQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLG1CQUFBLElBQWM7SUFEckI7SUFHaEIsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQTtNQUN2QixJQUE2QyxNQUFNLENBQUMsV0FBcEQ7QUFBQSxlQUFPLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBNUIsRUFBUDs7SUFEdUI7SUFHekIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsU0FBQTtNQUNuQixJQUF3QyxNQUFNLENBQUMsV0FBL0M7QUFBQSxlQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFNBQTVCOztJQURtQjtJQUdyQixNQUFNLENBQUMsU0FBUCxHQUFtQixTQUFBO01BQ2pCLElBQXNDLE1BQU0sQ0FBQyxXQUE3QztBQUFBLGVBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBNUI7O0lBRGlCO0lBTW5CLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSxJQUFBLEdBQU8sT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQXZCO1FBRVAsTUFBQSxHQUFTO1FBQ1QsSUFBOEMsb0JBQUEsSUFBZSxvQ0FBN0Q7VUFBQSxNQUFBLEdBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsT0FBcEM7O1FBQ0EsS0FBQSxHQUFRLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBSSxDQUFDLEtBQVgsRUFBa0IsU0FBQyxJQUFEO2lCQUN4QixPQUFBLENBQVEsU0FBUixDQUFBLENBQW1CLElBQW5CLEVBQXlCLE1BQXpCO1FBRHdCLENBQWxCO1FBR1IsU0FBQSxHQUFZO1VBQUMsS0FBQSxFQUFPLElBQUksQ0FBQyxJQUFiO1VBQW1CLE1BQUEsRUFBUSxLQUEzQjtVQUFrQyxNQUFBLEVBQVEsSUFBSSxDQUFDLE1BQS9DOztRQUNaLHVCQUFBLEdBQTBCO1FBQzFCLE9BQU8sQ0FBQyxPQUFSLENBQWdCLElBQUksQ0FBQyxNQUFyQixFQUE2QixTQUFDLEtBQUQ7aUJBQzNCLDRCQUFBLDBCQUE0QixLQUFBLElBQVM7UUFEVixDQUE3QjtRQUlBLE9BQUEsR0FBVTtVQUNSLGdCQUFBLEVBQWtCLHVCQURWO1VBRVIsV0FBQSxFQUFhLEtBRkw7VUFHUixRQUFBLEVBQVUsSUFBSSxDQUFDLFFBSFA7O1FBS1YsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLENBQUMsU0FBRCxDQUE1QixFQUF3QyxPQUF4QztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUF0QkY7O0lBRFM7V0E0QlgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFqRXNELENBQXhEOztFQW9FQSxNQUFNLENBQUMsU0FBUCxDQUFpQixnQ0FBakIsRUFBbUQsU0FBQTtBQUNqRCxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksb0NBRlA7O0VBRDBDLENBQW5EO0FBdEVBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1hY2NvdW50aW5nLXZhbHVlcy9hY2NvdW50cy1hY2NvdW50aW5nLXZhbHVlcy5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmFjY291bnRzLWFjY291bnRpbmctdmFsdWVzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEFjY291bnRzQWNjb3VudGluZ1ZhbHVlc0N0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmhpc3RNb2RlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgdy5jb250ZW50LmFjY291bnRpbmc/XG5cbiAgJHNjb3BlLmdldEN1cnJlbnRQcmljZSA9IC0+XG4gICAgcmV0dXJuIF8ubGFzdCB3LmNvbnRlbnQuYWNjb3VudGluZy52YWx1ZXMgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldEN1cnJlbmN5ID0gLT5cbiAgICByZXR1cm4gdy5jb250ZW50LmFjY291bnRpbmcuY3VycmVuY3kgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldExlZ2VuZCA9IC0+XG4gICAgcmV0dXJuIHcuY29udGVudC5hY2NvdW50aW5nLmxlZ2VuZCBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBkYXRhID0gYW5ndWxhci5jb3B5KHcuY29udGVudC5hY2NvdW50aW5nKVxuXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIGRhdGEuZGF0ZXMsIChkYXRlKSAtPlxuICAgICAgICAkZmlsdGVyKCdtbm9EYXRlJykoZGF0ZSwgcGVyaW9kKVxuXG4gICAgICBpbnB1dERhdGEgPSB7dGl0bGU6IGRhdGEudHlwZSwgbGFiZWxzOiBkYXRlcywgdmFsdWVzOiBkYXRhLnZhbHVlc31cbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEudmFsdWVzLCAodmFsdWUpIC0+XG4gICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG4gICAgICApXG5cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNjYWxlQmVnaW5BdFplcm86IGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlLFxuICAgICAgICBzaG93WExhYmVsczogZmFsc2UsXG4gICAgICAgIGN1cnJlbmN5OiBkYXRhLmN1cnJlbmN5XG4gICAgICB9XG4gICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5saW5lQ2hhcnQoW2lucHV0RGF0YV0sb3B0aW9ucylcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRBY2NvdW50c0FjY291bnRpbmdWYWx1ZXMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEFjY291bnRzQWNjb3VudGluZ1ZhbHVlc0N0cmwnLFxuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-assets-liability-summary', []);

  module.controller('WidgetAccountsAssetsLiabilitySummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary);
      switch ((w.metadata.classification || 'asset').toLowerCase()) {
        case 'liability':
          $scope.classification = "Liabilities";
          break;
        default:
          $scope.classification = "Assets";
      }
      $scope.accountsOptions = [
        {
          label: 'Assets Accounts',
          value: 'ASSET'
        }, {
          label: 'Liability Accounts',
          value: 'LIABILITY'
        }
      ];
      if (!$scope.selectedAccountsOption) {
        $scope.selectedAccountsOption = angular.copy(_.find($scope.accountsOptions, {
          value: w.metadata.classification || 'ASSET'
        }));
      }
      if ($scope.isDataFound) {
        if (w.metadata.organization_ids.length > 1) {
          return $scope.dataSource = w.content.repartition;
        } else {
          return $scope.dataSource = w.content.summary;
        }
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency;
      }
    };
    $scope.getAccountColor = function(elem) {
      if ($scope.isDataFound) {
        return ChartFormatterSvc.getColor(_.indexOf($scope.dataSource, elem));
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        pieData = _.map($scope.dataSource, function(company) {
          return {
            label: company.label,
            value: company.total
          };
        });
        pieOptions = {
          percentageInnerCutout: 50,
          tooltipFontSize: 12
        };
        chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsAssetsLiabilitySummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsAssetsLiabilitySummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1hc3NldHMtbGlhYmlsaXR5LXN1bW1hcnkvYWNjb3VudHMtYXNzZXRzLWxpYWJpbGl0eS1zdW1tYXJ5LmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLDREQUFmLEVBQTZFLEVBQTdFOztFQUNULE1BQU0sQ0FBQyxVQUFQLENBQWtCLDBDQUFsQixFQUE4RCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWI7QUFFNUQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFHWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFL0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FGSixFQUdqQixNQUFNLENBQUMscUJBQXFCLENBQUMsT0FIWjtJQVFuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsTUFBTSxDQUFDLFdBQVAsR0FBcUIsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsQ0FBQyxDQUFDLE9BQXBCLENBQUEsSUFBZ0MsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBcEI7QUFFdEQsY0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBWCxJQUE2QixPQUE5QixDQUFzQyxDQUFDLFdBQXZDLENBQUEsQ0FBUDtBQUFBLGFBQ08sV0FEUDtVQUVJLE1BQU0sQ0FBQyxjQUFQLEdBQXdCO0FBRHJCO0FBRFA7VUFJSSxNQUFNLENBQUMsY0FBUCxHQUF3QjtBQUo1QjtNQU1BLE1BQU0sQ0FBQyxlQUFQLEdBQXlCO1FBQ3ZCO1VBQUUsS0FBQSxFQUFPLGlCQUFUO1VBQTRCLEtBQUEsRUFBTyxPQUFuQztTQUR1QixFQUV2QjtVQUFFLEtBQUEsRUFBTyxvQkFBVDtVQUErQixLQUFBLEVBQU8sV0FBdEM7U0FGdUI7O01BS3pCLElBQUcsQ0FBQyxNQUFNLENBQUMsc0JBQVg7UUFDRSxNQUFNLENBQUMsc0JBQVAsR0FBZ0MsT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFDLENBQUMsSUFBRixDQUFPLE1BQU0sQ0FBQyxlQUFkLEVBQStCO1VBQzFFLEtBQUEsRUFBTyxDQUFDLENBQUMsUUFBUSxDQUFDLGNBQVgsSUFBNkIsT0FEc0M7U0FBL0IsQ0FBYixFQURsQzs7TUFLQSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsSUFBRyxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE1BQTVCLEdBQXFDLENBQXhDO2lCQUNFLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFEaEM7U0FBQSxNQUFBO2lCQUdFLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFIaEM7U0FERjs7SUFuQmM7SUF5QmhCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUE7TUFDbkIsSUFBc0IsTUFBTSxDQUFDLFdBQTdCO2VBQUEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFWOztJQURtQjtJQUdyQixNQUFNLENBQUMsZUFBUCxHQUF5QixTQUFDLElBQUQ7TUFDdkIsSUFBa0UsTUFBTSxDQUFDLFdBQXpFO2VBQUEsaUJBQWlCLENBQUMsUUFBbEIsQ0FBMkIsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxNQUFNLENBQUMsVUFBakIsRUFBNkIsSUFBN0IsQ0FBM0IsRUFBQTs7SUFEdUI7SUFLekIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixDQUFDLENBQUMsTUFBRixHQUFXLFNBQUE7QUFDVCxVQUFBO01BQUEsSUFBRyxNQUFNLENBQUMsV0FBVjtRQUNFLE9BQUEsR0FBVSxDQUFDLENBQUMsR0FBRixDQUFNLE1BQU0sQ0FBQyxVQUFiLEVBQXlCLFNBQUMsT0FBRDtpQkFDakM7WUFDRSxLQUFBLEVBQU8sT0FBTyxDQUFDLEtBRGpCO1lBRUUsS0FBQSxFQUFPLE9BQU8sQ0FBQyxLQUZqQjs7UUFEaUMsQ0FBekI7UUFLVixVQUFBLEdBQWE7VUFDWCxxQkFBQSxFQUF1QixFQURaO1VBRVgsZUFBQSxFQUFpQixFQUZOOztRQUliLFNBQUEsR0FBWSxpQkFBaUIsQ0FBQyxRQUFsQixDQUEyQixPQUEzQixFQUFvQyxVQUFwQztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFiRjs7SUFEUztXQW1CWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQXRFNEQsQ0FBOUQ7O0VBeUVBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHNDQUFqQixFQUF5RCxTQUFBO0FBQ3ZELFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSwwQ0FGUDs7RUFEZ0QsQ0FBekQ7QUExRUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLWFzc2V0cy1saWFiaWxpdHktc3VtbWFyeS9hY2NvdW50cy1hc3NldHMtbGlhYmlsaXR5LXN1bW1hcnkuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5hY2NvdW50cy1hc3NldHMtbGlhYmlsaXR5LXN1bW1hcnknLCBbXSlcbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0Fzc2V0c0xpYWJpbGl0eVN1bW1hcnlDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc3VtbWFyeSlcbiAgICAjVE9ETzogTm8gLnBsdXJhbGl6ZSgpIGluIGFuZ3VsYXI/XG4gICAgc3dpdGNoICh3Lm1ldGFkYXRhLmNsYXNzaWZpY2F0aW9uIHx8ICdhc3NldCcpLnRvTG93ZXJDYXNlKClcbiAgICAgIHdoZW4gJ2xpYWJpbGl0eSdcbiAgICAgICAgJHNjb3BlLmNsYXNzaWZpY2F0aW9uID0gXCJMaWFiaWxpdGllc1wiXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS5jbGFzc2lmaWNhdGlvbiA9IFwiQXNzZXRzXCJcblxuICAgICRzY29wZS5hY2NvdW50c09wdGlvbnMgPSBbXG4gICAgICB7IGxhYmVsOiAnQXNzZXRzIEFjY291bnRzJywgdmFsdWU6ICdBU1NFVCcgfSxcbiAgICAgIHsgbGFiZWw6ICdMaWFiaWxpdHkgQWNjb3VudHMnLCB2YWx1ZTogJ0xJQUJJTElUWScgfVxuICAgIF1cblxuICAgIGlmICEkc2NvcGUuc2VsZWN0ZWRBY2NvdW50c09wdGlvblxuICAgICAgJHNjb3BlLnNlbGVjdGVkQWNjb3VudHNPcHRpb24gPSBhbmd1bGFyLmNvcHkoXy5maW5kKCRzY29wZS5hY2NvdW50c09wdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IHcubWV0YWRhdGEuY2xhc3NpZmljYXRpb24gfHwgJ0FTU0VUJ1xuICAgICAgfSkpXG5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIGlmIHcubWV0YWRhdGEub3JnYW5pemF0aW9uX2lkcy5sZW5ndGggPiAxXG4gICAgICAgICRzY29wZS5kYXRhU291cmNlID0gdy5jb250ZW50LnJlcGFydGl0aW9uXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS5kYXRhU291cmNlID0gdy5jb250ZW50LnN1bW1hcnlcblxuICAkc2NvcGUuZ2V0Q3VycmVuY3kgPSAtPlxuICAgIHcuY29udGVudC5jdXJyZW5jeSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0QWNjb3VudENvbG9yID0gKGVsZW0pIC0+XG4gICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoXy5pbmRleE9mKCRzY29wZS5kYXRhU291cmNlLCBlbGVtKSkgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIHBpZURhdGEgPSBfLm1hcCAkc2NvcGUuZGF0YVNvdXJjZSwgKGNvbXBhbnkpIC0+XG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogY29tcGFueS5sYWJlbCxcbiAgICAgICAgICB2YWx1ZTogY29tcGFueS50b3RhbCxcbiAgICAgICAgfVxuICAgICAgcGllT3B0aW9ucyA9IHtcbiAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0OiA1MCxcbiAgICAgICAgdG9vbHRpcEZvbnRTaXplOiAxMixcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLnBpZUNoYXJ0KHBpZURhdGEsIHBpZU9wdGlvbnMpXG5cbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0QWNjb3VudHNBc3NldHNMaWFiaWxpdHlTdW1tYXJ5JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRBY2NvdW50c0Fzc2V0c0xpYWJpbGl0eVN1bW1hcnlDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-assets-summary', []);

  module.controller('WidgetAccountsAssetsSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary);
      if ($scope.isDataFound) {
        if (w.metadata.organization_ids.length > 1) {
          $scope.dataSource = w.content.repartition;
        } else {
          $scope.dataSource = w.content.summary;
        }
      }
      switch ((w.metadata.classification || 'assets').toLowerCase()) {
        case 'liability':
          return $scope.classification = "Liabilities";
        default:
          return $scope.classification = "Assets";
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency;
      }
    };
    $scope.getAccountColor = function(elem) {
      if ($scope.isDataFound) {
        return ChartFormatterSvc.getColor(_.indexOf($scope.dataSource, elem));
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        pieData = _.map($scope.dataSource, function(company) {
          return {
            label: company.label,
            value: company.total
          };
        });
        pieOptions = {
          percentageInnerCutout: 50,
          tooltipFontSize: 12
        };
        chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsAssetsSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsAssetsSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1hc3NldHMtc3VtbWFyeS9hY2NvdW50cy1hc3NldHMtc3VtbWFyeS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxrREFBZixFQUFtRSxFQUFuRTs7RUFDVCxNQUFNLENBQUMsVUFBUCxDQUFrQixpQ0FBbEIsRUFBcUQsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiO0FBRW5ELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BRko7SUFRbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQXBCO01BRXRELElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSxJQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBNUIsR0FBcUMsQ0FBeEM7VUFDRSxNQUFNLENBQUMsVUFBUCxHQUFvQixDQUFDLENBQUMsT0FBTyxDQUFDLFlBRGhDO1NBQUEsTUFBQTtVQUdFLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFIaEM7U0FERjs7QUFPQSxjQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFYLElBQTZCLFFBQTlCLENBQXVDLENBQUMsV0FBeEMsQ0FBQSxDQUFQO0FBQUEsYUFDTyxXQURQO2lCQUVJLE1BQU0sQ0FBQyxjQUFQLEdBQXdCO0FBRjVCO2lCQUlJLE1BQU0sQ0FBQyxjQUFQLEdBQXdCO0FBSjVCO0lBVmM7SUFnQmhCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUE7TUFDbkIsSUFBc0IsTUFBTSxDQUFDLFdBQTdCO2VBQUEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFWOztJQURtQjtJQUdyQixNQUFNLENBQUMsZUFBUCxHQUF5QixTQUFDLElBQUQ7TUFDdkIsSUFBa0UsTUFBTSxDQUFDLFdBQXpFO2VBQUEsaUJBQWlCLENBQUMsUUFBbEIsQ0FBMkIsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxNQUFNLENBQUMsVUFBakIsRUFBNkIsSUFBN0IsQ0FBM0IsRUFBQTs7SUFEdUI7SUFNekIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixDQUFDLENBQUMsTUFBRixHQUFXLFNBQUE7QUFDVCxVQUFBO01BQUEsSUFBRyxNQUFNLENBQUMsV0FBVjtRQUNFLE9BQUEsR0FBVSxDQUFDLENBQUMsR0FBRixDQUFNLE1BQU0sQ0FBQyxVQUFiLEVBQXlCLFNBQUMsT0FBRDtpQkFDakM7WUFDRSxLQUFBLEVBQU8sT0FBTyxDQUFDLEtBRGpCO1lBRUUsS0FBQSxFQUFPLE9BQU8sQ0FBQyxLQUZqQjs7UUFEaUMsQ0FBekI7UUFNVixVQUFBLEdBQWE7VUFDWCxxQkFBQSxFQUF1QixFQURaO1VBRVgsZUFBQSxFQUFpQixFQUZOOztRQUliLFNBQUEsR0FBWSxpQkFBaUIsQ0FBQyxRQUFsQixDQUEyQixPQUEzQixFQUFvQyxVQUFwQztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFkRjs7SUFEUztXQW9CWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQS9EbUQsQ0FBckQ7O0VBa0VBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLDZCQUFqQixFQUFnRCxTQUFBO0FBQzlDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSxpQ0FGUDs7RUFEdUMsQ0FBaEQ7QUFuRUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLWFzc2V0cy1zdW1tYXJ5L2FjY291bnRzLWFzc2V0cy1zdW1tYXJ5LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtYXNzZXRzLXN1bW1hcnknLCBbXSlcbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0Fzc2V0c1N1bW1hcnlDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LnN1bW1hcnkpXG4gICAgXG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBpZiB3Lm1ldGFkYXRhLm9yZ2FuaXphdGlvbl9pZHMubGVuZ3RoID4gMVxuICAgICAgICAkc2NvcGUuZGF0YVNvdXJjZSA9IHcuY29udGVudC5yZXBhcnRpdGlvblxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUuZGF0YVNvdXJjZSA9IHcuY29udGVudC5zdW1tYXJ5XG5cbiAgICAjVE9ETzogTm8gLnBsdXJhbGl6ZSgpIGluIGFuZ3VsYXI/XG4gICAgc3dpdGNoICh3Lm1ldGFkYXRhLmNsYXNzaWZpY2F0aW9uIHx8ICdhc3NldHMnKS50b0xvd2VyQ2FzZSgpXG4gICAgICB3aGVuICdsaWFiaWxpdHknXG4gICAgICAgICRzY29wZS5jbGFzc2lmaWNhdGlvbiA9IFwiTGlhYmlsaXRpZXNcIlxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUuY2xhc3NpZmljYXRpb24gPSBcIkFzc2V0c1wiXG5cbiAgJHNjb3BlLmdldEN1cnJlbmN5ID0gLT5cbiAgICB3LmNvbnRlbnQuY3VycmVuY3kgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldEFjY291bnRDb2xvciA9IChlbGVtKSAtPlxuICAgIENoYXJ0Rm9ybWF0dGVyU3ZjLmdldENvbG9yKF8uaW5kZXhPZigkc2NvcGUuZGF0YVNvdXJjZSwgZWxlbSkpIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIHBpZURhdGEgPSBfLm1hcCAkc2NvcGUuZGF0YVNvdXJjZSwgKGNvbXBhbnkpIC0+XG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogY29tcGFueS5sYWJlbCxcbiAgICAgICAgICB2YWx1ZTogY29tcGFueS50b3RhbCxcbiAgICAgICAgfVxuXG4gICAgICBwaWVPcHRpb25zID0ge1xuICAgICAgICBwZXJjZW50YWdlSW5uZXJDdXRvdXQ6IDUwLFxuICAgICAgICB0b29sdGlwRm9udFNpemU6IDEyLFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMucGllQ2hhcnQocGllRGF0YSwgcGllT3B0aW9ucylcblxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRBY2NvdW50c0Fzc2V0c1N1bW1hcnknLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEFjY291bnRzQXNzZXRzU3VtbWFyeUN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-assets-vs-liabilities', []);

  module.controller('WidgetAccountsAssetsVsLiabilitiesCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      var index;
      $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.companies);
      if ($scope.isDataFound) {
        index = 0;
        return $scope.companiesList = _.map(w.content.companies, function(company) {
          var assetSum, liabilitiesSum, result;
          assetSum = _.find(w.content.summary, (function(sum) {
            return sum.classification === "ASSET";
          }));
          liabilitiesSum = _.find(w.content.summary, (function(sum) {
            return sum.classification === "LIABILITY";
          }));
          result = {
            company: company,
            assets: assetSum != null ? assetSum.totals[index] : 0.0,
            liabilities: liabilitiesSum != null ? liabilitiesSum.totals[index] : 0.0,
            currency: w.content.currency
          };
          index++;
          return result;
        });
      }
    };
    $scope.assetsColor = ChartFormatterSvc.getColor(0);
    $scope.liabilitiesColor = ChartFormatterSvc.getColor(1);
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, datasets, inputData, options;
      if ($scope.isDataFound) {
        datasets = _.map(w.content.summary, function(sum) {
          if (_.includes(['ASSET', 'LIABILITY'], sum.classification)) {
            return {
              title: sum.classification,
              values: sum.totals
            };
          }
        });
        datasets = _.sortByOrder(datasets, ['title']);
        inputData = {
          labels: w.content.companies,
          datasets: _.compact(datasets)
        };
        options = {
          showTooltips: false,
          showXLabels: false,
          barValueSpacing: Math.max(8 - w.content.companies.length, 1)
        };
        chartData = ChartFormatterSvc.combinedBarChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsAssetsVsLiabilities', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsAssetsVsLiabilitiesCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1hc3NldHMtdnMtbGlhYmlsaXRpZXMvYWNjb3VudHMtYXNzZXRzLXZzLWxpYWJpbGl0aWVzLmRpcmVjdGl2ZS5qcy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLHlEQUFmLEVBQXlFLEVBQXpFOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLHVDQUFsQixFQUEyRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEM7QUFFekQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FGSjtJQU9uQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO0FBQ2QsVUFBQTtNQUFBLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLG1CQUFBLElBQWMsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBcEIsQ0FBZixJQUErQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQjtNQUVyRSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsS0FBQSxHQUFNO2VBQ04sTUFBTSxDQUFDLGFBQVAsR0FBdUIsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQWhCLEVBQTJCLFNBQUMsT0FBRDtBQUNoRCxjQUFBO1VBQUEsUUFBQSxHQUFXLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFqQixFQUEwQixDQUFDLFNBQUMsR0FBRDttQkFBUyxHQUFHLENBQUMsY0FBSixLQUFzQjtVQUEvQixDQUFELENBQTFCO1VBQ1gsY0FBQSxHQUFpQixDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBakIsRUFBMEIsQ0FBQyxTQUFDLEdBQUQ7bUJBQVMsR0FBRyxDQUFDLGNBQUosS0FBc0I7VUFBL0IsQ0FBRCxDQUExQjtVQUVqQixNQUFBLEdBQVM7WUFDUCxPQUFBLEVBQVMsT0FERjtZQUVQLE1BQUEsRUFBVyxnQkFBSCxHQUFrQixRQUFRLENBQUMsTUFBTyxDQUFBLEtBQUEsQ0FBbEMsR0FBOEMsR0FGL0M7WUFHUCxXQUFBLEVBQWdCLHNCQUFILEdBQXdCLGNBQWMsQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUE5QyxHQUEwRCxHQUhoRTtZQUlQLFFBQUEsRUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBSmI7O1VBT1QsS0FBQTtpQkFDQTtRQVpnRCxDQUEzQixFQUZ6Qjs7SUFIYztJQW1CaEIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsaUJBQWlCLENBQUMsUUFBbEIsQ0FBMkIsQ0FBM0I7SUFDckIsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLGlCQUFpQixDQUFDLFFBQWxCLENBQTJCLENBQTNCO0lBWTFCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSxRQUFBLEdBQVcsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQWhCLEVBQXlCLFNBQUMsR0FBRDtVQUNsQyxJQUFHLENBQUMsQ0FBQyxRQUFGLENBQVcsQ0FBQyxPQUFELEVBQVUsV0FBVixDQUFYLEVBQW1DLEdBQUcsQ0FBQyxjQUF2QyxDQUFIO21CQUNFO2NBQUUsS0FBQSxFQUFPLEdBQUcsQ0FBQyxjQUFiO2NBQTZCLE1BQUEsRUFBUSxHQUFHLENBQUMsTUFBekM7Y0FERjs7UUFEa0MsQ0FBekI7UUFJWCxRQUFBLEdBQVcsQ0FBQyxDQUFDLFdBQUYsQ0FBYyxRQUFkLEVBQXdCLENBQUMsT0FBRCxDQUF4QjtRQUVYLFNBQUEsR0FBWTtVQUFFLE1BQUEsRUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCO1VBQStCLFFBQUEsRUFBVSxDQUFDLENBQUMsT0FBRixDQUFVLFFBQVYsQ0FBekM7O1FBRVosT0FBQSxHQUFVO1VBQ1IsWUFBQSxFQUFjLEtBRE47VUFFUixXQUFBLEVBQWEsS0FGTDtVQUdSLGVBQUEsRUFBaUIsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFBLEdBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBL0IsRUFBc0MsQ0FBdEMsQ0FIVDs7UUFLVixTQUFBLEdBQVksaUJBQWlCLENBQUMsZ0JBQWxCLENBQW1DLFNBQW5DLEVBQTZDLE9BQTdDO2VBR1osTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQWpCRjs7SUFEUztXQXNCWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQXZFeUQsQ0FBM0Q7O0VBMEVBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLG1DQUFqQixFQUFzRCxTQUFBO0FBQ3BELFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSx1Q0FGUDs7RUFENkMsQ0FBdEQ7QUE1RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLWFzc2V0cy12cy1saWFiaWxpdGllcy9hY2NvdW50cy1hc3NldHMtdnMtbGlhYmlsaXRpZXMuZGlyZWN0aXZlLmpzLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5hY2NvdW50cy1hc3NldHMtdnMtbGlhYmlsaXRpZXMnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0QWNjb3VudHNBc3NldHNWc0xpYWJpbGl0aWVzQ3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YywgJGZpbHRlcikgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc3VtbWFyeSkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuY29tcGFuaWVzKVxuICAgIFxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgaW5kZXg9MFxuICAgICAgJHNjb3BlLmNvbXBhbmllc0xpc3QgPSBfLm1hcCB3LmNvbnRlbnQuY29tcGFuaWVzLCAoY29tcGFueSkgLT5cbiAgICAgICAgYXNzZXRTdW0gPSBfLmZpbmQody5jb250ZW50LnN1bW1hcnksICgoc3VtKSAtPiBzdW0uY2xhc3NpZmljYXRpb24gPT0gXCJBU1NFVFwiKSlcbiAgICAgICAgbGlhYmlsaXRpZXNTdW0gPSBfLmZpbmQody5jb250ZW50LnN1bW1hcnksICgoc3VtKSAtPiBzdW0uY2xhc3NpZmljYXRpb24gPT0gXCJMSUFCSUxJVFlcIikpXG5cbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnlcbiAgICAgICAgICBhc3NldHM6IGlmIGFzc2V0U3VtPyB0aGVuIGFzc2V0U3VtLnRvdGFsc1tpbmRleF0gZWxzZSAwLjBcbiAgICAgICAgICBsaWFiaWxpdGllczogaWYgbGlhYmlsaXRpZXNTdW0/IHRoZW4gbGlhYmlsaXRpZXNTdW0udG90YWxzW2luZGV4XSBlbHNlIDAuMFxuICAgICAgICAgIGN1cnJlbmN5OiB3LmNvbnRlbnQuY3VycmVuY3lcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4KytcbiAgICAgICAgcmVzdWx0XG5cbiAgJHNjb3BlLmFzc2V0c0NvbG9yID0gQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoMClcbiAgJHNjb3BlLmxpYWJpbGl0aWVzQ29sb3IgPSBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcigxKVxuXG5cbiAgIyAkc2NvcGUuZ2V0QWNjb3VudENvbG9yID0gKGFuQWNjb3VudCkgLT5cbiAgIyAgIGlmICRzY29wZS5pc011bHRpQ29tcGFueU1vZGUoKVxuICAjICAgICBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcihfLmluZGV4T2Yody5zZWxlY3RlZEFjY291bnRzWzBdLmFjY291bnRzLCBhbkFjY291bnQpKVxuICAjICAgZWxzZVxuICAjICAgICBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcihfLmluZGV4T2Yody5zZWxlY3RlZEFjY291bnRzLCBhbkFjY291bnQpKVxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIGRhdGFzZXRzID0gXy5tYXAgdy5jb250ZW50LnN1bW1hcnksIChzdW0pIC0+XG4gICAgICAgIGlmIF8uaW5jbHVkZXMgWydBU1NFVCcsICdMSUFCSUxJVFknXSwgc3VtLmNsYXNzaWZpY2F0aW9uXG4gICAgICAgICAgeyB0aXRsZTogc3VtLmNsYXNzaWZpY2F0aW9uLCB2YWx1ZXM6IHN1bS50b3RhbHMgfVxuXG4gICAgICBkYXRhc2V0cyA9IF8uc29ydEJ5T3JkZXIoZGF0YXNldHMsIFsndGl0bGUnXSlcblxuICAgICAgaW5wdXREYXRhID0geyBsYWJlbHM6IHcuY29udGVudC5jb21wYW5pZXMsIGRhdGFzZXRzOiBfLmNvbXBhY3QgZGF0YXNldHMgfVxuXG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VG9vbHRpcHM6IGZhbHNlLFxuICAgICAgICBzaG93WExhYmVsczogZmFsc2UsXG4gICAgICAgIGJhclZhbHVlU3BhY2luZzogTWF0aC5tYXgoOC13LmNvbnRlbnQuY29tcGFuaWVzLmxlbmd0aCwxKSxcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmNvbWJpbmVkQmFyQ2hhcnQoaW5wdXREYXRhLG9wdGlvbnMpXG5cbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzQXNzZXRzVnNMaWFiaWxpdGllcycsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNBc3NldHNWc0xpYWJpbGl0aWVzQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-balance', []);

  module.controller('WidgetAccountsBalanceCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.accountBackDeferred = $q.defer();
    $scope.accountFrontDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.accountBackDeferred, $scope.accountFrontDeferred, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise];
    $scope.isDataFound = true;
    w.initContext = function() {
      return $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.account_list);
    };
    $scope.getName = function() {
      if (w.selectedAccount != null) {
        return w.selectedAccount.name;
      }
    };
    $scope.getCurrentBalance = function() {
      if (w.selectedAccount != null) {
        return w.selectedAccount.current_balance;
      }
    };
    $scope.getCurrency = function() {
      if (w.selectedAccount != null) {
        return w.selectedAccount.currency;
      }
    };
    $scope.displayAccount = function() {
      $scope.updateSettings(false);
      return w.format();
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, data, dates, inputData, options, period;
      if ($scope.isDataFound && (w.selectedAccount != null)) {
        data = angular.copy(w.selectedAccount);
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: data.name,
          labels: dates,
          values: data.balances
        };
        all_values_are_positive = true;
        angular.forEach(data.balances, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsBalance', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsBalanceCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1iYWxhbmNlL2FjY291bnRzLWJhbGFuY2UuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMkJBQWxCLEVBQStDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUU3QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG1CQUFQLEdBQTZCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDN0IsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDMUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG1CQUZVLEVBR2pCLE1BQU0sQ0FBQyxvQkFIVSxFQUlqQixNQUFNLENBQUMsaUJBQWlCLENBQUMsT0FKUixFQUtqQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FMUCxFQU1qQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BTko7SUFZbkIsTUFBTSxDQUFDLFdBQVAsR0FBbUI7SUFDbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTthQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLG1CQUFBLElBQWMsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBcEI7SUFEdEI7SUFHaEIsTUFBTSxDQUFDLE9BQVAsR0FBaUIsU0FBQTtNQUNmLElBQTBCLHlCQUExQjtlQUFBLENBQUMsQ0FBQyxlQUFlLENBQUMsS0FBbEI7O0lBRGU7SUFHakIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLFNBQUE7TUFDekIsSUFBcUMseUJBQXJDO2VBQUEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxnQkFBbEI7O0lBRHlCO0lBRzNCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUE7TUFDbkIsSUFBOEIseUJBQTlCO2VBQUEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxTQUFsQjs7SUFEbUI7SUFHckIsTUFBTSxDQUFDLGNBQVAsR0FBd0IsU0FBQTtNQUN0QixNQUFNLENBQUMsY0FBUCxDQUFzQixLQUF0QjthQUNBLENBQUMsQ0FBQyxNQUFGLENBQUE7SUFGc0I7SUFPeEIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixDQUFDLENBQUMsTUFBRixHQUFXLFNBQUE7QUFDVCxVQUFBO01BQUEsSUFBRyxNQUFNLENBQUMsV0FBUCxJQUFzQiwyQkFBekI7UUFDRSxJQUFBLEdBQU8sT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFDLENBQUMsZUFBZjtRQUVQLE1BQUEsR0FBUztRQUNULElBQThDLG9CQUFBLElBQWUsb0NBQTdEO1VBQUEsTUFBQSxHQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQXBDOztRQUNBLEtBQUEsR0FBUSxDQUFDLENBQUMsR0FBRixDQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBaEIsRUFBdUIsU0FBQyxJQUFEO2lCQUM3QixPQUFBLENBQVEsU0FBUixDQUFBLENBQW1CLElBQW5CLEVBQXlCLE1BQXpCO1FBRDZCLENBQXZCO1FBR1IsU0FBQSxHQUFZO1VBQUMsS0FBQSxFQUFPLElBQUksQ0FBQyxJQUFiO1VBQW1CLE1BQUEsRUFBUSxLQUEzQjtVQUFrQyxNQUFBLEVBQVEsSUFBSSxDQUFDLFFBQS9DOztRQUNaLHVCQUFBLEdBQTBCO1FBQzFCLE9BQU8sQ0FBQyxPQUFSLENBQWdCLElBQUksQ0FBQyxRQUFyQixFQUErQixTQUFDLEtBQUQ7aUJBQzdCLDRCQUFBLDBCQUE0QixLQUFBLElBQVM7UUFEUixDQUEvQjtRQUlBLE9BQUEsR0FBVTtVQUNSLGdCQUFBLEVBQWtCLHVCQURWO1VBRVIsV0FBQSxFQUFhLEtBRkw7O1FBSVYsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLENBQUMsU0FBRCxDQUE1QixFQUF3QyxPQUF4QztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFyQkY7O0lBRFM7V0EyQlgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUF6RTZDLENBQS9DOztFQTRFQSxNQUFNLENBQUMsU0FBUCxDQUFpQix1QkFBakIsRUFBMEMsU0FBQTtBQUN4QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksMkJBRlA7O0VBRGlDLENBQTFDO0FBOUVBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1iYWxhbmNlL2FjY291bnRzLWJhbGFuY2UuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5hY2NvdW50cy1iYWxhbmNlJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEFjY291bnRzQmFsYW5jZUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmFjY291bnRCYWNrRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5hY2NvdW50RnJvbnREZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5hY2NvdW50QmFja0RlZmVycmVkXG4gICAgJHNjb3BlLmFjY291bnRGcm9udERlZmVycmVkXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmlzRGF0YUZvdW5kPXRydWVcbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gdy5jb250ZW50PyAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5hY2NvdW50X2xpc3QpXG5cbiAgJHNjb3BlLmdldE5hbWUgPSAtPlxuICAgIHcuc2VsZWN0ZWRBY2NvdW50Lm5hbWUgaWYgdy5zZWxlY3RlZEFjY291bnQ/XG5cbiAgJHNjb3BlLmdldEN1cnJlbnRCYWxhbmNlID0gLT5cbiAgICB3LnNlbGVjdGVkQWNjb3VudC5jdXJyZW50X2JhbGFuY2UgaWYgdy5zZWxlY3RlZEFjY291bnQ/XG5cbiAgJHNjb3BlLmdldEN1cnJlbmN5ID0gLT5cbiAgICB3LnNlbGVjdGVkQWNjb3VudC5jdXJyZW5jeSBpZiB3LnNlbGVjdGVkQWNjb3VudD9cblxuICAkc2NvcGUuZGlzcGxheUFjY291bnQgPSAtPlxuICAgICRzY29wZS51cGRhdGVTZXR0aW5ncyhmYWxzZSlcbiAgICB3LmZvcm1hdCgpXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiB3LnNlbGVjdGVkQWNjb3VudD9cbiAgICAgIGRhdGEgPSBhbmd1bGFyLmNvcHkody5zZWxlY3RlZEFjY291bnQpXG5cbiAgICAgIHBlcmlvZCA9IG51bGxcbiAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgIGRhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgJGZpbHRlcignbW5vRGF0ZScpKGRhdGUsIHBlcmlvZClcblxuICAgICAgaW5wdXREYXRhID0ge3RpdGxlOiBkYXRhLm5hbWUsIGxhYmVsczogZGF0ZXMsIHZhbHVlczogZGF0YS5iYWxhbmNlc31cbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEuYmFsYW5jZXMsICh2YWx1ZSkgLT5cbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChbaW5wdXREYXRhXSxvcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGluZ3MgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzQmFsYW5jZScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNCYWxhbmNlQ3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-balance-sheet', []);

  module.controller('WidgetAccountsBalanceSheetCtrl', ["$scope", "$q", "ImpacWidgetsSvc", function($scope, $q, ImpacWidgetsSvc) {
    var settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorFrontDeferred = $q.defer();
    $scope.paramSelectorBackDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorFrontDeferred.promise, $scope.paramSelectorBackDeferred.promise];
    $scope.periodOptions = [
      {
        label: "Year",
        value: "YEARLY"
      }, {
        label: "Quarter",
        value: "QUARTERLY"
      }, {
        label: "Month",
        value: "MONTHLY"
      }, {
        label: "Week",
        value: "WEEKLY"
      }, {
        label: "Day",
        value: "DAILY"
      }
    ];
    $scope.period = angular.copy($scope.periodOptions[2]);
    w.initContext = function() {
      if ((w.content != null) && (w.content.period != null) && _.contains(_.pluck($scope.periodOptions, 'value'), w.content.period)) {
        $scope.period = angular.copy(_.find($scope.periodOptions, (function(o) {
          return o.value === w.content.period;
        })));
      }
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.dates)) {
        $scope.dates = w.content.dates;
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        return $scope.categories = Object.keys(w.content.summary);
      }
    };
    $scope.toggleCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === categoryName;
          });
        } else {
          $scope.unCollapsed.push(categoryName);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsBalanceSheet', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsBalanceSheetCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1iYWxhbmNlLXNoZWV0L2FjY291bnRzLWJhbGFuY2Utc2hlZXQuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsZ0NBQWxCLEVBQW9ELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxlQUFiO0FBRWxELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsMEJBQVAsR0FBb0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNwQyxNQUFNLENBQUMseUJBQVAsR0FBbUMsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUVuQyxnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLDBCQUEwQixDQUFDLE9BRmpCLEVBR2pCLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxPQUhoQjtJQVNuQixNQUFNLENBQUMsYUFBUCxHQUF1QjtNQUNyQjtRQUFDLEtBQUEsRUFBTyxNQUFSO1FBQWdCLEtBQUEsRUFBTyxRQUF2QjtPQURxQixFQUVyQjtRQUFDLEtBQUEsRUFBTyxTQUFSO1FBQW1CLEtBQUEsRUFBTyxXQUExQjtPQUZxQixFQUdyQjtRQUFDLEtBQUEsRUFBTyxPQUFSO1FBQWlCLEtBQUEsRUFBTyxTQUF4QjtPQUhxQixFQUlyQjtRQUFDLEtBQUEsRUFBTyxNQUFSO1FBQWdCLEtBQUEsRUFBTyxRQUF2QjtPQUpxQixFQUtyQjtRQUFDLEtBQUEsRUFBTyxLQUFSO1FBQWUsS0FBQSxFQUFPLE9BQXRCO09BTHFCOztJQU92QixNQUFNLENBQUMsTUFBUCxHQUFnQixPQUFPLENBQUMsSUFBUixDQUFhLE1BQU0sQ0FBQyxhQUFjLENBQUEsQ0FBQSxDQUFsQztJQUNoQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxtQkFBQSxJQUFjLDBCQUFkLElBQW1DLENBQUMsQ0FBQyxRQUFGLENBQVcsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxNQUFNLENBQUMsYUFBZixFQUE4QixPQUE5QixDQUFYLEVBQW1ELENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBN0QsQ0FBdEM7UUFDRSxNQUFNLENBQUMsTUFBUCxHQUFnQixPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLGFBQWQsRUFBNkIsQ0FBQyxTQUFDLENBQUQ7aUJBQU8sQ0FBQyxDQUFDLEtBQUYsS0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQTVCLENBQUQsQ0FBN0IsQ0FBYixFQURsQjs7TUFHQSxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQXBCLENBQWpDLElBQWlFLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQXBCLENBQTFGO1FBQ0UsTUFBTSxDQUFDLEtBQVAsR0FBZSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBWCxJQUEwQjtlQUMvQyxNQUFNLENBQUMsVUFBUCxHQUFvQixNQUFNLENBQUMsSUFBUCxDQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBdEIsRUFIdEI7O0lBSmM7SUFTaEIsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQyxZQUFEO01BQ3ZCLElBQUcsb0JBQUg7UUFDRSxJQUFHLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLFdBQWQsRUFBMkIsQ0FBQyxTQUFDLElBQUQ7aUJBQVUsWUFBQSxLQUFnQjtRQUExQixDQUFELENBQTNCLENBQUg7VUFDRSxNQUFNLENBQUMsV0FBUCxHQUFxQixDQUFDLENBQUMsTUFBRixDQUFTLE1BQU0sQ0FBQyxXQUFoQixFQUE2QixTQUFDLElBQUQ7bUJBQ2hELElBQUEsS0FBUTtVQUR3QyxDQUE3QixFQUR2QjtTQUFBLE1BQUE7VUFLRSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQW5CLENBQXdCLFlBQXhCLEVBTEY7O2VBTUEsZUFBZSxDQUFDLG9CQUFoQixDQUFxQyxDQUFyQyxFQUF1QyxLQUF2QyxFQVBGOztJQUR1QjtJQVV6QixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFDLFlBQUQ7TUFDbkIsSUFBRyxvQkFBSDtRQUNFLElBQUcsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsV0FBZCxFQUEyQixDQUFDLFNBQUMsSUFBRDtpQkFBVSxZQUFBLEtBQWdCO1FBQTFCLENBQUQsQ0FBM0IsQ0FBSDtBQUNFLGlCQUFPLE1BRFQ7U0FBQSxNQUFBO0FBR0UsaUJBQU8sS0FIVDtTQURGOztJQURtQjtJQVdyQixrQkFBQSxHQUFxQjtJQUNyQixrQkFBa0IsQ0FBQyxXQUFuQixHQUFpQztJQUVqQyxrQkFBa0IsQ0FBQyxVQUFuQixHQUFnQyxTQUFBO2FBQzlCLGtCQUFrQixDQUFDLFdBQW5CLEdBQWlDO0lBREg7SUFHaEMsa0JBQWtCLENBQUMsVUFBbkIsR0FBZ0MsU0FBQTthQUM5QjtRQUFDLFdBQUEsRUFBYSxNQUFNLENBQUMsV0FBckI7O0lBRDhCO0lBR2hDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixrQkFBaEI7V0FLQSxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQXZFa0QsQ0FBcEQ7O0VBMEVBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLDRCQUFqQixFQUErQyxTQUFBO0FBQzdDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSxnQ0FGUDs7RUFEc0MsQ0FBL0M7QUE1RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLWJhbGFuY2Utc2hlZXQvYWNjb3VudHMtYmFsYW5jZS1zaGVldC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmFjY291bnRzLWJhbGFuY2Utc2hlZXQnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0QWNjb3VudHNCYWxhbmNlU2hlZXRDdHJsJywgKCRzY29wZSwgJHEsIEltcGFjV2lkZ2V0c1N2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckZyb250RGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yQmFja0RlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckZyb250RGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yQmFja0RlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5wZXJpb2RPcHRpb25zID0gW1xuICAgIHtsYWJlbDogXCJZZWFyXCIsIHZhbHVlOiBcIllFQVJMWVwifSxcbiAgICB7bGFiZWw6IFwiUXVhcnRlclwiLCB2YWx1ZTogXCJRVUFSVEVSTFlcIn0sXG4gICAge2xhYmVsOiBcIk1vbnRoXCIsIHZhbHVlOiBcIk1PTlRITFlcIn0sXG4gICAge2xhYmVsOiBcIldlZWtcIiwgdmFsdWU6IFwiV0VFS0xZXCJ9LFxuICAgIHtsYWJlbDogXCJEYXlcIiwgdmFsdWU6IFwiREFJTFlcIn0sXG4gIF1cbiAgJHNjb3BlLnBlcmlvZCA9IGFuZ3VsYXIuY29weSAkc2NvcGUucGVyaW9kT3B0aW9uc1syXVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICBpZiB3LmNvbnRlbnQ/ICYmIHcuY29udGVudC5wZXJpb2Q/ICYmIF8uY29udGFpbnMoXy5wbHVjaygkc2NvcGUucGVyaW9kT3B0aW9ucywgJ3ZhbHVlJyksIHcuY29udGVudC5wZXJpb2QpXG4gICAgICAkc2NvcGUucGVyaW9kID0gYW5ndWxhci5jb3B5IF8uZmluZCAkc2NvcGUucGVyaW9kT3B0aW9ucywgKChvKSAtPiBvLnZhbHVlID09IHcuY29udGVudC5wZXJpb2QpXG5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LnN1bW1hcnkpICYmICFfLmlzRW1wdHkody5jb250ZW50LmRhdGVzKVxuICAgICAgJHNjb3BlLmRhdGVzID0gdy5jb250ZW50LmRhdGVzXG4gICAgICAkc2NvcGUudW5Db2xsYXBzZWQgPSB3Lm1ldGFkYXRhLnVuQ29sbGFwc2VkIHx8IFtdXG4gICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IE9iamVjdC5rZXlzKHcuY29udGVudC5zdW1tYXJ5KVxuXG4gICRzY29wZS50b2dnbGVDb2xsYXBzZWQgPSAoY2F0ZWdvcnlOYW1lKSAtPlxuICAgIGlmIGNhdGVnb3J5TmFtZT9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUudW5Db2xsYXBzZWQsICgobmFtZSkgLT4gY2F0ZWdvcnlOYW1lID09IG5hbWUpKVxuICAgICAgICAkc2NvcGUudW5Db2xsYXBzZWQgPSBfLnJlamVjdCgkc2NvcGUudW5Db2xsYXBzZWQsIChuYW1lKSAtPlxuICAgICAgICAgIG5hbWUgPT0gY2F0ZWdvcnlOYW1lXG4gICAgICAgIClcbiAgICAgIGVsc2VcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkLnB1c2goY2F0ZWdvcnlOYW1lKVxuICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG5cbiAgJHNjb3BlLmlzQ29sbGFwc2VkID0gKGNhdGVnb3J5TmFtZSkgLT5cbiAgICBpZiBjYXRlZ29yeU5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGNhdGVnb3J5TmFtZSA9PSBuYW1lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG5cblxuICAjIE1pbmktc2V0dGluZ3Mgb2JqZWN0c1xuICAjIGhhbmRsZXMgdGhlIHNhdmluZyBvZiBjb2xsYXBzZWQgLyB1bmNvbGxhcHNlZCBsaXN0IGdyb3Vwcy5cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB1bkNvbGxhcHNlZFNldHRpbmcgPSB7fVxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHt1bkNvbGxhcHNlZDogJHNjb3BlLnVuQ29sbGFwc2VkfVxuXG4gIHcuc2V0dGluZ3MucHVzaCh1bkNvbGxhcHNlZFNldHRpbmcpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzQmFsYW5jZVNoZWV0JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRBY2NvdW50c0JhbGFuY2VTaGVldEN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-cash-summary', []);

  module.controller('WidgetAccountsCashSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, $filter, ImpacWidgetsSvc) {
    var selectedElementSetting, settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.dates)) {
        $scope.dates = w.content.dates;
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        if (w.metadata.selectedElement) {
          $scope.selectedElement = _.find(w.content.summary, function(statement) {
            return statement.name === w.metadata.selectedElement.name;
          });
          if (!$scope.selectedElement) {
            return angular.forEach(w.content.summary, function(statement) {
              if (statement.accounts != null) {
                return $scope.selectedElement || ($scope.selectedElement = _.find(statement.accounts, function(account) {
                  return account.id === w.metadata.selectedElement.id;
                }));
              }
            });
          }
        }
      }
    };
    $scope.getLastDate = function() {
      if ($scope.dates != null) {
        return $scope.dates[$scope.dates.length - 1];
      }
    };
    $scope.getPrevDate = function() {
      if ($scope.dates != null) {
        return $scope.dates[$scope.dates.length - 2];
      }
    };
    $scope.getLastValue = function(element) {
      if (element.cash_flows != null) {
        return _.last(element.cash_flows);
      }
    };
    $scope.formatVariance = function(aVariance) {
      if (aVariance != null) {
        if (aVariance > 0) {
          return "+" + aVariance + " %";
        } else {
          return aVariance + " %";
        }
      } else {
        return "-";
      }
    };
    $scope.getLastVariance = function(element) {
      if ((element.variances != null) && (_.last(element.variances) != null)) {
        return $scope.formatVariance(_.last(element.variances));
      } else {
        return "-";
      }
    };
    $scope.getVarianceClassColor = function(aVariance) {
      if (parseInt(aVariance) > 0) {
        return 'positive';
      } else if (parseInt(aVariance) < 0) {
        return 'negative';
      } else {
        return null;
      }
    };
    $scope.getName = function(element) {
      if ((element != null) && (element.name != null)) {
        return element.name.replace(/_/g, " ");
      }
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElement = null;
        if (w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElement = angular.copy(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      if ((element != null) && ($scope.selectedElement != null)) {
        if (((element.id != null) && $scope.selectedElement.id && element.id === $scope.selectedElement.id) || (element.name === $scope.selectedElement.name)) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    };
    $scope.toggleCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === element.name;
          });
        } else {
          $scope.unCollapsed.push(element.name);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          return false;
        } else {
          return true;
        }
        if ($scope.selectedElement == null) {
          return w.width = 6;
        }
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, data, dates, inputData, options, period;
      if ($scope.isDataFound && ($scope.selectedElement != null)) {
        data = angular.copy($scope.selectedElement);
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          labels: dates,
          datasets: [
            {
              title: data.name,
              values: data.cash_flows
            }
          ]
        };
        all_values_are_positive = true;
        angular.forEach(data.cash_flows, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true
        };
        chartData = ChartFormatterSvc.combinedBarChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    selectedElementSetting = {};
    selectedElementSetting.initialized = false;
    selectedElementSetting.initialize = function() {
      return selectedElementSetting.initialized = true;
    };
    selectedElementSetting.toMetadata = function() {
      return {
        selectedElement: $scope.selectedElement
      };
    };
    w.settings.push(selectedElementSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsCashSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsCashSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1jYXNoLXN1bW1hcnkvYWNjb3VudHMtY2FzaC1zdW1tYXJ5LmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLGdEQUFmLEVBQWdFLEVBQWhFOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLCtCQUFsQixFQUFtRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEMsRUFBeUMsZUFBekM7QUFFakQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FKSjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFwQixDQUFqQyxJQUFpRSxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFwQixDQUExRjtRQUVFLE1B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OztFQStLQSxNQUFNLENBQUMsU0FBUCxDQUFpQiwyQkFBakIsRUFBOEMsU0FBQTtBQUM1QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksK0JBRlA7O0VBRHFDLENBQTlDO0FBakxBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1jYXNoLXN1bW1hcnkvYWNjb3VudHMtY2FzaC1zdW1tYXJ5LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtY2FzaC1zdW1tYXJ5JyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEFjY291bnRzQ2FzaFN1bW1hcnlDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUud2lkdGhEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc3VtbWFyeSkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZGF0ZXMpXG5cbiAgICAgICRzY29wZS5kYXRlcyA9IHcuY29udGVudC5kYXRlc1xuICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gdy5tZXRhZGF0YS51bkNvbGxhcHNlZCB8fCBbXVxuXG4gICAgICBpZiB3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudFxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50ID0gXy5maW5kKHcuY29udGVudC5zdW1tYXJ5LCAoc3RhdGVtZW50KS0+XG4gICAgICAgICAgc3RhdGVtZW50Lm5hbWUgPT0gdy5tZXRhZGF0YS5zZWxlY3RlZEVsZW1lbnQubmFtZVxuICAgICAgICApXG4gICAgICAgIGlmICEkc2NvcGUuc2VsZWN0ZWRFbGVtZW50XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHcuY29udGVudC5zdW1tYXJ5LCAoc3RhdGVtZW50KSAtPlxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudCB8fD0gXy5maW5kKHN0YXRlbWVudC5hY2NvdW50cywgKGFjY291bnQpLT5cbiAgICAgICAgICAgICAgYWNjb3VudC5pZCA9PSB3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudC5pZFxuICAgICAgICAgICAgKSBpZiBzdGF0ZW1lbnQuYWNjb3VudHM/XG4gICAgICAgICAgKVxuXG4gICRzY29wZS5nZXRMYXN0RGF0ZSA9IC0+XG4gICAgJHNjb3BlLmRhdGVzWyRzY29wZS5kYXRlcy5sZW5ndGgtMV0gaWYgJHNjb3BlLmRhdGVzP1xuXG4gICRzY29wZS5nZXRQcmV2RGF0ZSA9IC0+XG4gICAgJHNjb3BlLmRhdGVzWyRzY29wZS5kYXRlcy5sZW5ndGgtMl0gaWYgJHNjb3BlLmRhdGVzP1xuXG4gICRzY29wZS5nZXRMYXN0VmFsdWUgPSAoZWxlbWVudCkgLT5cbiAgICBfLmxhc3QoZWxlbWVudC5jYXNoX2Zsb3dzKSBpZiBlbGVtZW50LmNhc2hfZmxvd3M/XG5cbiAgJHNjb3BlLmZvcm1hdFZhcmlhbmNlID0gKGFWYXJpYW5jZSkgLT5cbiAgICBpZiBhVmFyaWFuY2U/XG4gICAgICBpZiBhVmFyaWFuY2UgPiAwXG4gICAgICAgIFwiKyN7YVZhcmlhbmNlfSAlXCJcbiAgICAgIGVsc2VcbiAgICAgICAgXCIje2FWYXJpYW5jZX0gJVwiXG4gICAgZWxzZVxuICAgICAgXCItXCJcblxuICAkc2NvcGUuZ2V0TGFzdFZhcmlhbmNlID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudC52YXJpYW5jZXM/ICYmIF8ubGFzdChlbGVtZW50LnZhcmlhbmNlcyk/XG4gICAgICAkc2NvcGUuZm9ybWF0VmFyaWFuY2UoXy5sYXN0KGVsZW1lbnQudmFyaWFuY2VzKSlcbiAgICBlbHNlXG4gICAgICBcIi1cIlxuXG4gICRzY29wZS5nZXRWYXJpYW5jZUNsYXNzQ29sb3IgPSAoYVZhcmlhbmNlKSAtPlxuICAgIGlmIHBhcnNlSW50KGFWYXJpYW5jZSkgPiAwXG4gICAgICByZXR1cm4gJ3Bvc2l0aXZlJ1xuICAgIGVsc2UgaWYgcGFyc2VJbnQoYVZhcmlhbmNlKSA8IDBcbiAgICAgIHJldHVybiAnbmVnYXRpdmUnXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG51bGxcblxuICAkc2NvcGUuZ2V0TmFtZSA9IChlbGVtZW50KSAtPlxuICAgIGVsZW1lbnQubmFtZS5yZXBsYWNlKC9fL2csIFwiIFwiKSBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG5cblxuICAkc2NvcGUudG9nZ2xlU2VsZWN0ZWRFbGVtZW50ID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgJHNjb3BlLmlzU2VsZWN0ZWQoZWxlbWVudClcbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnQgPSBudWxsXG4gICAgICBpZiB3LmlzRXhwYW5kZWQoKVxuICAgICAgICB3LnRvZ2dsZUV4cGFuZGVkKClcbiAgICAgIGVsc2VcbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG4gICAgZWxzZVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudCA9IGFuZ3VsYXIuY29weShlbGVtZW50KVxuICAgICAgdy5mb3JtYXQoKVxuICAgICAgaWYgIXcuaXNFeHBhbmRlZCgpXG4gICAgICAgIHcudG9nZ2xlRXhwYW5kZWQoKVxuICAgICAgZWxzZVxuICAgICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNTZWxlY3RlZCA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnQ/XG4gICAgICBpZiAoZWxlbWVudC5pZD8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudC5pZCAmJiBlbGVtZW50LmlkID09ICRzY29wZS5zZWxlY3RlZEVsZW1lbnQuaWQpIHx8IChlbGVtZW50Lm5hbWUgPT0gJHNjb3BlLnNlbGVjdGVkRWxlbWVudC5uYW1lKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICBlbHNlXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAkc2NvcGUudG9nZ2xlQ29sbGFwc2VkID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgZWxlbWVudC5uYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBlbGVtZW50Lm5hbWUgPT0gbmFtZSkpXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZCA9IF8ucmVqZWN0KCRzY29wZS51bkNvbGxhcHNlZCwgKG5hbWUpIC0+XG4gICAgICAgICAgbmFtZSA9PSBlbGVtZW50Lm5hbWVcbiAgICAgICAgKVxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUudW5Db2xsYXBzZWQucHVzaChlbGVtZW50Lm5hbWUpXG4gICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNDb2xsYXBzZWQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGVsZW1lbnQubmFtZSA9PSBuYW1lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB3LndpZHRoID0gNiB1bmxlc3MgJHNjb3BlLnNlbGVjdGVkRWxlbWVudD9cblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnQ/XG4gICAgICBkYXRhID0gYW5ndWxhci5jb3B5KCRzY29wZS5zZWxlY3RlZEVsZW1lbnQpXG5cbiAgICAgIHBlcmlvZCA9IG51bGxcbiAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgIGRhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgJGZpbHRlcignbW5vRGF0ZScpKGRhdGUsIHBlcmlvZClcblxuICAgICAgaW5wdXREYXRhID0ge2xhYmVsczogZGF0ZXMsIGRhdGFzZXRzOiBbe3RpdGxlOiBkYXRhLm5hbWUsIHZhbHVlczogZGF0YS5jYXNoX2Zsb3dzfV19XG4gICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSA9IHRydWVcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLmNhc2hfZmxvd3MsICh2YWx1ZSkgLT5cbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiB0cnVlLFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMuY29tYmluZWRCYXJDaGFydChpbnB1dERhdGEsb3B0aW9ucylcblxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBNaW5pLXNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdW5Db2xsYXBzZWRTZXR0aW5nID0ge31cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7dW5Db2xsYXBzZWQ6ICRzY29wZS51bkNvbGxhcHNlZH1cblxuICB3LnNldHRpbmdzLnB1c2godW5Db2xsYXBzZWRTZXR0aW5nKVxuXG4gIHNlbGVjdGVkRWxlbWVudFNldHRpbmcgPSB7fVxuICBzZWxlY3RlZEVsZW1lbnRTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICBzZWxlY3RlZEVsZW1lbnRTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHNlbGVjdGVkRWxlbWVudFNldHRpbmcuaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgc2VsZWN0ZWRFbGVtZW50U2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7c2VsZWN0ZWRFbGVtZW50OiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50fVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZWxlY3RlZEVsZW1lbnRTZXR0aW5nKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRBY2NvdW50c0Nhc2hTdW1tYXJ5JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRBY2NvdW50c0Nhc2hTdW1tYXJ5Q3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-class-comparison', []);

  module.controller('WidgetAccountsClassComparisonCtrl', ["$scope", "$q", "$filter", "ChartFormatterSvc", function($scope, $q, $filter, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.companies);
      if ($scope.isDataFound) {
        $scope.classifications = _.map(w.content.summary, function(summary) {
          var klass;
          klass = summary.classification;
          return {
            label: _.capitalize(klass.toLowerCase()),
            value: klass
          };
        });
        if (!$scope.selectedClassification) {
          return $scope.selectedClassification = angular.copy(_.find($scope.classifications, {
            value: w.metadata.classification || $scope.classifications[0].value
          }));
        }
      }
    };
    $scope.getTotals = function() {
      var amount;
      return amount = _.find(w.content.summary, function(sum) {
        return sum.classification === $scope.selectedClassification.value;
      }).totals;
    };
    $scope.getAmount = function(index) {
      var amount;
      amount = $scope.getTotals()[index];
      return $filter('mnoCurrency')(amount, w.content.currency);
    };
    $scope.getAccountColor = function(anEntity) {
      return ChartFormatterSvc.getColor(_.indexOf(w.content.companies, anEntity));
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, inputData, options;
      if ($scope.isDataFound) {
        inputData = {};
        inputData.labels = w.content.companies;
        inputData.values = $scope.getTotals();
        if (inputData.labels.length > 15) {
          inputData.labels.length = 15;
        }
        if (inputData.values.length > 15) {
          inputData.values.length = 15;
        }
        options = {
          showTooltips: false,
          showXLabels: false,
          barValueSpacing: Math.max(8 - w.content.companies.length, 1)
        };
        chartData = ChartFormatterSvc.barChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsClassComparison', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsClassComparisonCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1jbGFzcy1jb21wYXJpc29uL2FjY291bnRzLWNsYXNzLWNvbXBhcmlzb24uZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsb0RBQWYsRUFBcUUsRUFBckU7O0VBQ1QsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsbUNBQWxCLEVBQXVELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxPQUFiLEVBQXNCLGlCQUF0QjtBQUVyRCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMscUJBQVAsR0FBK0IsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUUvQixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUZKLEVBR2pCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUhaO0lBUW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFwQixDQUFqQyxJQUFpRSxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQjtNQUN2RixJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBRUUsTUFBTSxDQUFDLGVBQVAsR0FBeUIsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQWhCLEVBQXlCLFNBQUMsT0FBRDtBQUNoRCxjQUFBO1VBQUEsS0FBQSxHQUFRLE9BQU8sQ0FBQztpQkFDaEI7WUFDRSxLQUFBLEVBQU8sQ0FBQyxDQUFDLFVBQUYsQ0FBYSxLQUFLLENBQUMsV0FBTixDQUFBLENBQWIsQ0FEVDtZQUVFLEtBQUEsRUFBTyxLQUZUOztRQUZnRCxDQUF6QjtRQVF6QixJQUFHLENBQUMsTUFBTSxDQUFDLHNCQUFYO2lCQUNFLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLGVBQWQsRUFBK0I7WUFDMUUsS0FBQSxFQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBWCxJQUE2QixNQUFNLENBQUMsZUFBZ0IsQ0FBQSxDQUFBLENBQUUsQ0FBQyxLQURZO1dBQS9CLENBQWIsRUFEbEM7U0FWRjs7SUFGYztJQWlCaEIsTUFBTSxDQUFDLFNBQVAsR0FBbUIsU0FBQTtBQUNqQixVQUFBO2FBQUEsTUFBQSxHQUFTLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFqQixFQUEwQixTQUFDLEdBQUQ7ZUFDakMsR0FBRyxDQUFDLGNBQUosS0FBc0IsTUFBTSxDQUFDLHNCQUFzQixDQUFDO01BRG5CLENBQTFCLENBRVIsQ0FBQztJQUhlO0lBS25CLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLFNBQUMsS0FBRDtBQUNqQixVQUFBO01BQUEsTUFBQSxHQUFTLE1BQU0sQ0FBQyxTQUFQLENBQUEsQ0FBbUIsQ0FBQSxLQUFBO0FBQzVCLGFBQU8sT0FBQSxDQUFRLGFBQVIsQ0FBQSxDQUF1QixNQUF2QixFQUErQixDQUFDLENBQUMsT0FBTyxDQUFDLFFBQXpDO0lBRlU7SUFJbkIsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQyxRQUFEO2FBQ3ZCLGlCQUFpQixDQUFDLFFBQWxCLENBQTJCLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQixFQUErQixRQUEvQixDQUEzQjtJQUR1QjtJQUt6QixNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLENBQUMsQ0FBQyxNQUFGLEdBQVcsU0FBQTtBQUNULFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsU0FBQSxHQUFZO1FBRVosU0FBUyxDQUFDLE1BQVYsR0FBbUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUM3QixTQUFTLENBQUMsTUFBVixHQUFtQixNQUFNLENBQUMsU0FBUCxDQUFBO1FBS25CLElBQWdDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBakIsR0FBMEIsRUFBMUQ7VUFBQSxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQWpCLEdBQTBCLEdBQTFCOztRQUNBLElBQWdDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBakIsR0FBMEIsRUFBMUQ7VUFBQSxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQWpCLEdBQTBCLEdBQTFCOztRQUVBLE9BQUEsR0FBVTtVQUNSLFlBQUEsRUFBYyxLQUROO1VBRVIsV0FBQSxFQUFhLEtBRkw7VUFHUixlQUFBLEVBQWlCLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBQSxHQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQS9CLEVBQXNDLENBQXRDLENBSFQ7O1FBS1YsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFFBQWxCLENBQTJCLFNBQTNCLEVBQXFDLE9BQXJDO2VBRVosTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQW5CRjs7SUFEUztXQXlCWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQTNFcUQsQ0FBdkQ7O0VBNkVBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLCtCQUFqQixFQUFrRCxTQUFBO0FBQ2hELFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSxtQ0FGUDs7RUFEeUMsQ0FBbEQ7QUE5RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLWNsYXNzLWNvbXBhcmlzb24vYWNjb3VudHMtY2xhc3MtY29tcGFyaXNvbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmFjY291bnRzLWNsYXNzLWNvbXBhcmlzb24nLCBbXSlcbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0NsYXNzQ29tcGFyaXNvbkN0cmwnLCAoJHNjb3BlLCAkcSwgJGZpbHRlciwgQ2hhcnRGb3JtYXR0ZXJTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LnN1bW1hcnkpICYmICFfLmlzRW1wdHkody5jb250ZW50LmNvbXBhbmllcylcbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAgICAgJHNjb3BlLmNsYXNzaWZpY2F0aW9ucyA9IF8ubWFwIHcuY29udGVudC5zdW1tYXJ5LCAoc3VtbWFyeSkgLT5cbiAgICAgICAga2xhc3MgPSBzdW1tYXJ5LmNsYXNzaWZpY2F0aW9uXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogXy5jYXBpdGFsaXplKGtsYXNzLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgdmFsdWU6IGtsYXNzXG4gICAgICAgIH1cbiAgICAgICAgIyByZXR1cm4geyBsYWJlbDogXy5jYXBpdGFsaXplKHN1bW1hcnkudG9Mb3dlckNhc2UoKSksIHZhbHVlOiBzdW1tYXJ5IH1cblxuICAgICAgaWYgISRzY29wZS5zZWxlY3RlZENsYXNzaWZpY2F0aW9uXG4gICAgICAgICRzY29wZS5zZWxlY3RlZENsYXNzaWZpY2F0aW9uID0gYW5ndWxhci5jb3B5KF8uZmluZCAkc2NvcGUuY2xhc3NpZmljYXRpb25zLCB7XG4gICAgICAgICAgdmFsdWU6IHcubWV0YWRhdGEuY2xhc3NpZmljYXRpb24gfHwgJHNjb3BlLmNsYXNzaWZpY2F0aW9uc1swXS52YWx1ZVxuICAgICAgICB9KVxuXG4gICRzY29wZS5nZXRUb3RhbHMgPSAtPlxuICAgIGFtb3VudCA9IF8uZmluZCh3LmNvbnRlbnQuc3VtbWFyeSwgKHN1bSkgLT5cbiAgICAgIHN1bS5jbGFzc2lmaWNhdGlvbiA9PSAkc2NvcGUuc2VsZWN0ZWRDbGFzc2lmaWNhdGlvbi52YWx1ZVxuICAgICkudG90YWxzXG5cbiAgJHNjb3BlLmdldEFtb3VudCA9IChpbmRleCkgLT5cbiAgICBhbW91bnQgPSAkc2NvcGUuZ2V0VG90YWxzKClbaW5kZXhdXG4gICAgcmV0dXJuICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYW1vdW50LCB3LmNvbnRlbnQuY3VycmVuY3kpXG5cbiAgJHNjb3BlLmdldEFjY291bnRDb2xvciA9IChhbkVudGl0eSkgLT5cbiAgICBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcihfLmluZGV4T2Yody5jb250ZW50LmNvbXBhbmllcywgYW5FbnRpdHkpKVxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBpbnB1dERhdGEgPSB7fVxuXG4gICAgICBpbnB1dERhdGEubGFiZWxzID0gdy5jb250ZW50LmNvbXBhbmllc1xuICAgICAgaW5wdXREYXRhLnZhbHVlcyA9ICRzY29wZS5nZXRUb3RhbHMoKVxuXG4gICAgICAjIGlucHV0RGF0YS5sYWJlbHMgPSBfLm1hcCB3LmNvbnRlbnQuc3VtbWFyeSwgKGRhdGEpIC0+IGRhdGEuY29tcGFueVxuICAgICAgIyBpbnB1dERhdGEudmFsdWVzID0gXy5tYXAgdy5jb250ZW50LnN1bW1hcnksIChkYXRhKSAtPiBkYXRhLnRvdGFsc1skc2NvcGUuY2xhc3NJbmRleF1cbiAgICAgICMgbWF4aW11bSBjYXBhY2l0eSBmb3IgY2hhcnRqcyBiYXItY2hhcnRcbiAgICAgIGlucHV0RGF0YS5sYWJlbHMubGVuZ3RoID0gMTUgaWYgaW5wdXREYXRhLmxhYmVscy5sZW5ndGggPiAxNVxuICAgICAgaW5wdXREYXRhLnZhbHVlcy5sZW5ndGggPSAxNSBpZiBpbnB1dERhdGEudmFsdWVzLmxlbmd0aCA+IDE1XG5cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNob3dUb29sdGlwczogZmFsc2UsXG4gICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgYmFyVmFsdWVTcGFjaW5nOiBNYXRoLm1heCg4LXcuY29udGVudC5jb21wYW5pZXMubGVuZ3RoLDEpXG4gICAgICB9XG4gICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5iYXJDaGFydChpbnB1dERhdGEsb3B0aW9ucylcblxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGluZ3MgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRBY2NvdW50c0NsYXNzQ29tcGFyaXNvbicsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNDbGFzc0NvbXBhcmlzb25DdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-comparison', []);

  module.controller('WidgetAccountsComparisonCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var scanAccountsForMultiOrgData, settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.accountsListDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    $scope.paramsCheckboxesDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.accountsListDeferred.promise, $scope.chartDeferred.promise, $scope.paramsCheckboxesDeferred.promise];
    w.initContext = function() {
      $scope.movedAccount = {};
      $scope.comparisonModeOptions = [
        {
          id: 'compare_accounts',
          label: 'Compare matching accounts across your companies',
          value: false,
          onChangeCallback: $scope.updateSettings
        }
      ];
      if (angular.isDefined(w.metadata.comparison_mode) && (w.metadata.organization_ids != null) && w.metadata.organization_ids.length > 1) {
        angular.merge($scope.comparisonModeOptions, w.metadata.comparison_mode);
      }
      $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.complete_list) || $scope.isComparisonMode();
      $scope.noComparableAccounts = $scope.isComparisonMode() && (w.content != null) && _.isEmpty(w.content.complete_list);
      return $scope.canSelectComparisonMode = scanAccountsForMultiOrgData();
    };
    scanAccountsForMultiOrgData = function() {
      if (w.content == null) {
        return false;
      }
      return _.uniq(_.pluck(w.content.complete_list, 'org_name')).length > 1;
    };
    $scope.isComparisonMode = function() {
      return _.result(_.find($scope.comparisonModeOptions, 'id', 'compare_accounts'), 'value') || false;
    };
    $scope.hasAccountsSelected = function() {
      return w.selectedAccounts && w.selectedAccounts.length > 0;
    };
    $scope.getAccountColor = function(anAccount) {
      if ($scope.isComparisonMode()) {
        return ChartFormatterSvc.getColor(_.indexOf(w.selectedAccounts[0].accounts, anAccount));
      } else {
        return ChartFormatterSvc.getColor(_.indexOf(w.selectedAccounts, anAccount));
      }
    };
    $scope.addAccount = function(anAccount) {
      w.moveAccountToAnotherList(anAccount, w.remainingAccounts, w.selectedAccounts);
      return w.format();
    };
    $scope.removeAccount = function(anAccount) {
      w.moveAccountToAnotherList(anAccount, w.selectedAccounts, w.remainingAccounts);
      return w.format();
    };
    $scope.formatAmount = function(anAccount) {
      return $filter('mnoCurrency')(anAccount.current_balance, anAccount.currency);
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, inputData, options;
      inputData = {
        labels: [],
        values: []
      };
      _.forEach(w.selectedAccounts, function(account) {
        if ($scope.isComparisonMode()) {
          return _.forEach(account.accounts, function(groupedAccount) {
            inputData.labels.push(groupedAccount.name);
            return inputData.values.push(groupedAccount.current_balance);
          });
        } else {
          inputData.labels.push(account.name);
          return inputData.values.push(account.current_balance);
        }
      });
      while (inputData.values.length < 15) {
        inputData.labels.push("");
        inputData.values.push(null);
      }
      options = {
        showTooltips: false,
        showXLabels: false,
        barDatasetSpacing: 9
      };
      chartData = ChartFormatterSvc.barChart(inputData, options);
      return $scope.drawTrigger.notify(chartData);
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsComparison', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsComparisonCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1jb21wYXJpc29uL2FjY291bnRzLWNvbXBhcmlzb24uZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsOENBQWYsRUFBOEQsRUFBOUQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsOEJBQWxCLEVBQWtELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUVoRCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsd0JBQVAsR0FBa0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUVsQyxnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxPQUpmO0lBU25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsWUFBUCxHQUFzQjtNQUV0QixNQUFNLENBQUMscUJBQVAsR0FBK0I7UUFBQztVQUM5QixFQUFBLEVBQUksa0JBRDBCO1VBRTlCLEtBQUEsRUFBTyxpREFGdUI7VUFHOUIsS0FBQSxFQUFPLEtBSHVCO1VBSTlCLGdCQUFBLEVBQWtCLE1BQU0sQ0FBQyxjQUpLO1NBQUQ7O01BTy9CLElBQUcsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUE3QixDQUFBLElBQWlELHFDQUFqRCxJQUFpRixDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE1BQTVCLEdBQXFDLENBQXpIO1FBQ0UsT0FBTyxDQUFDLEtBQVIsQ0FBYyxNQUFNLENBQUMscUJBQXJCLEVBQTRDLENBQUMsQ0FBQyxRQUFRLENBQUMsZUFBdkQsRUFERjs7TUFHQSxNQUFNLENBQUMsV0FBUCxHQUFxQixtQkFBQSxJQUFjLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQXBCLENBQWYsSUFBcUQsTUFBTSxDQUFDLGdCQUFQLENBQUE7TUFFMUUsTUFBTSxDQUFDLG9CQUFQLEdBQThCLE1BQU0sQ0FBQyxnQkFBUCxDQUFBLENBQUEsSUFBNkIsbUJBQTdCLElBQTJDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFwQjthQUV6RSxNQUFNLENBQUMsdUJBQVAsR0FBaUMsMkJBQUEsQ0FBQTtJQWpCbkI7SUFvQmhCLDJCQUFBLEdBQThCLFNBQUE7TUFDNUIsSUFBb0IsaUJBQXBCO0FBQUEsZUFBTyxNQUFQOzthQUNBLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLEtBQUYsQ0FBUSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQWxCLEVBQWlDLFVBQWpDLENBQVAsQ0FBb0QsQ0FBQyxNQUFyRCxHQUE4RDtJQUZsQztJQUk5QixNQUFNLENBQUMsZ0JBQVAsR0FBMEIsU0FBQTthQUN4QixDQUFDLENBQUMsTUFBRixDQUFVLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLHFCQUFkLEVBQXFDLElBQXJDLEVBQTJDLGtCQUEzQyxDQUFWLEVBQTBFLE9BQTFFLENBQUEsSUFBc0Y7SUFEOUQ7SUFHMUIsTUFBTSxDQUFDLG1CQUFQLEdBQTZCLFNBQUE7QUFDM0IsYUFBTyxDQUFDLENBQUMsZ0JBQUYsSUFBc0IsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE1BQW5CLEdBQTRCO0lBRDlCO0lBRzdCLE1BQU0sQ0FBQyxlQUFQLEdBQXlCLFNBQUMsU0FBRDtNQUN2QixJQUFHLE1BQU0sQ0FBQyxnQkFBUCxDQUFBLENBQUg7ZUFDRSxpQkFBaUIsQ0FBQyxRQUFsQixDQUEyQixDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxnQkFBaUIsQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFoQyxFQUEwQyxTQUExQyxDQUEzQixFQURGO09BQUEsTUFBQTtlQUdFLGlCQUFpQixDQUFDLFFBQWxCLENBQTJCLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLGdCQUFaLEVBQThCLFNBQTlCLENBQTNCLEVBSEY7O0lBRHVCO0lBTXpCLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLFNBQUMsU0FBRDtNQUNsQixDQUFDLENBQUMsd0JBQUYsQ0FBMkIsU0FBM0IsRUFBc0MsQ0FBQyxDQUFDLGlCQUF4QyxFQUEyRCxDQUFDLENBQUMsZ0JBQTdEO2FBQ0EsQ0FBQyxDQUFDLE1BQUYsQ0FBQTtJQUZrQjtJQUlwQixNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFDLFNBQUQ7TUFDckIsQ0FBQyxDQUFDLHdCQUFGLENBQTJCLFNBQTNCLEVBQXNDLENBQUMsQ0FBQyxnQkFBeEMsRUFBMEQsQ0FBQyxDQUFDLGlCQUE1RDthQUNBLENBQUMsQ0FBQyxNQUFGLENBQUE7SUFGcUI7SUFJdkIsTUFBTSxDQUFDLFlBQVAsR0FBc0IsU0FBQyxTQUFEO0FBQ3BCLGFBQU8sT0FBQSxDQUFRLGFBQVIsQ0FBQSxDQUF1QixTQUFTLENBQUMsZUFBakMsRUFBa0QsU0FBUyxDQUFDLFFBQTVEO0lBRGE7SUFLdEIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixDQUFDLENBQUMsTUFBRixHQUFXLFNBQUE7QUFDVCxVQUFBO01BQUEsU0FBQSxHQUFZO1FBQUMsTUFBQSxFQUFRLEVBQVQ7UUFBYSxNQUFBLEVBQVEsRUFBckI7O01BQ1osQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsZ0JBQVosRUFBOEIsU0FBQyxPQUFEO1FBQzVCLElBQUcsTUFBTSxDQUFDLGdCQUFQLENBQUEsQ0FBSDtpQkFDRSxDQUFDLENBQUMsT0FBRixDQUFVLE9BQU8sQ0FBQyxRQUFsQixFQUE0QixTQUFDLGNBQUQ7WUFDMUIsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFqQixDQUFzQixjQUFjLENBQUMsSUFBckM7bUJBQ0EsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFqQixDQUFzQixjQUFjLENBQUMsZUFBckM7VUFGMEIsQ0FBNUIsRUFERjtTQUFBLE1BQUE7VUFLRSxTQUFTLENBQUMsTUFBTSxDQUFDLElBQWpCLENBQXNCLE9BQU8sQ0FBQyxJQUE5QjtpQkFDQSxTQUFTLENBQUMsTUFBTSxDQUFDLElBQWpCLENBQXNCLE9BQU8sQ0FBQyxlQUE5QixFQU5GOztNQUQ0QixDQUE5QjtBQVNBLGFBQU0sU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFqQixHQUEwQixFQUFoQztRQUNFLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBakIsQ0FBc0IsRUFBdEI7UUFDQSxTQUFTLENBQUMsTUFBTSxDQUFDLElBQWpCLENBQXNCLElBQXRCO01BRkY7TUFJQSxPQUFBLEdBQVU7UUFDUixZQUFBLEVBQWMsS0FETjtRQUVSLFdBQUEsRUFBYSxLQUZMO1FBR1IsaUJBQUEsRUFBbUIsQ0FIWDs7TUFLVixTQUFBLEdBQVksaUJBQWlCLENBQUMsUUFBbEIsQ0FBMkIsU0FBM0IsRUFBcUMsT0FBckM7YUFHWixNQUFNLENBQUMsV0FBVyxDQUFDLE1BQW5CLENBQTBCLFNBQTFCO0lBdkJTO1dBMkJYLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBakdnRCxDQUFsRDs7RUFvR0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsMEJBQWpCLEVBQTZDLFNBQUE7QUFDM0MsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLDhCQUZQOztFQURvQyxDQUE3QztBQXRHQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvYWNjb3VudHMtY29tcGFyaXNvbi9hY2NvdW50cy1jb21wYXJpc29uLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtY29tcGFyaXNvbicsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0NvbXBhcmlzb25DdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5hY2NvdW50c0xpc3REZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbXNDaGVja2JveGVzRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5hY2NvdW50c0xpc3REZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbXNDaGVja2JveGVzRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5tb3ZlZEFjY291bnQgPSB7fVxuICAgICMgZGVmaW5lcyB0aGUgYXZhaWxhYmxlIG9wdGlvbnMgZm9yIHBhcmFtcy1jaGVja2JveGVzLmRpcmVjdGl2ZVxuICAgICRzY29wZS5jb21wYXJpc29uTW9kZU9wdGlvbnMgPSBbe1xuICAgICAgaWQ6ICdjb21wYXJlX2FjY291bnRzJyxcbiAgICAgIGxhYmVsOiAnQ29tcGFyZSBtYXRjaGluZyBhY2NvdW50cyBhY3Jvc3MgeW91ciBjb21wYW5pZXMnLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgb25DaGFuZ2VDYWxsYmFjazogJHNjb3BlLnVwZGF0ZVNldHRpbmdzXG4gICAgfV1cbiAgICAjIHVwZGF0ZXMgbW9kZWwgd2l0aCBzYXZlZCBzZXR0aW5nc1xuICAgIGlmIGFuZ3VsYXIuaXNEZWZpbmVkKHcubWV0YWRhdGEuY29tcGFyaXNvbl9tb2RlKSAmJiB3Lm1ldGFkYXRhLm9yZ2FuaXphdGlvbl9pZHM/ICYmIHcubWV0YWRhdGEub3JnYW5pemF0aW9uX2lkcy5sZW5ndGggPiAxXG4gICAgICBhbmd1bGFyLm1lcmdlICRzY29wZS5jb21wYXJpc29uTW9kZU9wdGlvbnMsIHcubWV0YWRhdGEuY29tcGFyaXNvbl9tb2RlXG5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSB3LmNvbnRlbnQ/ICYmICFfLmlzRW1wdHkody5jb250ZW50LmNvbXBsZXRlX2xpc3QpIHx8ICRzY29wZS5pc0NvbXBhcmlzb25Nb2RlKClcblxuICAgICRzY29wZS5ub0NvbXBhcmFibGVBY2NvdW50cyA9ICRzY29wZS5pc0NvbXBhcmlzb25Nb2RlKCkgJiYgdy5jb250ZW50PyAmJiBfLmlzRW1wdHkody5jb250ZW50LmNvbXBsZXRlX2xpc3QpXG5cbiAgICAkc2NvcGUuY2FuU2VsZWN0Q29tcGFyaXNvbk1vZGUgPSBzY2FuQWNjb3VudHNGb3JNdWx0aU9yZ0RhdGEoKVxuXG4gICMgc2NhbnMgcmVzdWx0cyBmcm9tIGFwaSB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVyZSBpcyBkYXRhIGZvciBtdWx0aXBsZSBvcmdhbml6YXRpb25zXG4gIHNjYW5BY2NvdW50c0Zvck11bHRpT3JnRGF0YSA9IC0+XG4gICAgcmV0dXJuIGZhbHNlIHVubGVzcyB3LmNvbnRlbnQ/XG4gICAgXy51bmlxKF8ucGx1Y2sody5jb250ZW50LmNvbXBsZXRlX2xpc3QsICdvcmdfbmFtZScpKS5sZW5ndGggPiAxXG5cbiAgJHNjb3BlLmlzQ29tcGFyaXNvbk1vZGUgPSAtPlxuICAgIF8ucmVzdWx0KCBfLmZpbmQoJHNjb3BlLmNvbXBhcmlzb25Nb2RlT3B0aW9ucywgJ2lkJywgJ2NvbXBhcmVfYWNjb3VudHMnKSwgJ3ZhbHVlJykgfHwgZmFsc2VcblxuICAkc2NvcGUuaGFzQWNjb3VudHNTZWxlY3RlZCA9IC0+XG4gICAgcmV0dXJuIHcuc2VsZWN0ZWRBY2NvdW50cyAmJiB3LnNlbGVjdGVkQWNjb3VudHMubGVuZ3RoID4gMFxuXG4gICRzY29wZS5nZXRBY2NvdW50Q29sb3IgPSAoYW5BY2NvdW50KSAtPlxuICAgIGlmICRzY29wZS5pc0NvbXBhcmlzb25Nb2RlKClcbiAgICAgIENoYXJ0Rm9ybWF0dGVyU3ZjLmdldENvbG9yKF8uaW5kZXhPZih3LnNlbGVjdGVkQWNjb3VudHNbMF0uYWNjb3VudHMsIGFuQWNjb3VudCkpXG4gICAgZWxzZVxuICAgICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoXy5pbmRleE9mKHcuc2VsZWN0ZWRBY2NvdW50cywgYW5BY2NvdW50KSlcblxuICAkc2NvcGUuYWRkQWNjb3VudCA9IChhbkFjY291bnQpIC0+XG4gICAgdy5tb3ZlQWNjb3VudFRvQW5vdGhlckxpc3QoYW5BY2NvdW50LCB3LnJlbWFpbmluZ0FjY291bnRzLCB3LnNlbGVjdGVkQWNjb3VudHMpXG4gICAgdy5mb3JtYXQoKVxuXG4gICRzY29wZS5yZW1vdmVBY2NvdW50ID0gKGFuQWNjb3VudCkgLT5cbiAgICB3Lm1vdmVBY2NvdW50VG9Bbm90aGVyTGlzdChhbkFjY291bnQsIHcuc2VsZWN0ZWRBY2NvdW50cywgdy5yZW1haW5pbmdBY2NvdW50cylcbiAgICB3LmZvcm1hdCgpXG5cbiAgJHNjb3BlLmZvcm1hdEFtb3VudCA9IChhbkFjY291bnQpIC0+XG4gICAgcmV0dXJuICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYW5BY2NvdW50LmN1cnJlbnRfYmFsYW5jZSwgYW5BY2NvdW50LmN1cnJlbmN5KVxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaW5wdXREYXRhID0ge2xhYmVsczogW10sIHZhbHVlczogW119XG4gICAgXy5mb3JFYWNoIHcuc2VsZWN0ZWRBY2NvdW50cywgKGFjY291bnQpIC0+XG4gICAgICBpZiAkc2NvcGUuaXNDb21wYXJpc29uTW9kZSgpXG4gICAgICAgIF8uZm9yRWFjaCBhY2NvdW50LmFjY291bnRzLCAoZ3JvdXBlZEFjY291bnQpIC0+XG4gICAgICAgICAgaW5wdXREYXRhLmxhYmVscy5wdXNoIGdyb3VwZWRBY2NvdW50Lm5hbWVcbiAgICAgICAgICBpbnB1dERhdGEudmFsdWVzLnB1c2ggZ3JvdXBlZEFjY291bnQuY3VycmVudF9iYWxhbmNlXG4gICAgICBlbHNlXG4gICAgICAgIGlucHV0RGF0YS5sYWJlbHMucHVzaCBhY2NvdW50Lm5hbWVcbiAgICAgICAgaW5wdXREYXRhLnZhbHVlcy5wdXNoIGFjY291bnQuY3VycmVudF9iYWxhbmNlXG5cbiAgICB3aGlsZSBpbnB1dERhdGEudmFsdWVzLmxlbmd0aCA8IDE1XG4gICAgICBpbnB1dERhdGEubGFiZWxzLnB1c2ggXCJcIlxuICAgICAgaW5wdXREYXRhLnZhbHVlcy5wdXNoIG51bGxcblxuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzaG93VG9vbHRpcHM6IGZhbHNlLFxuICAgICAgc2hvd1hMYWJlbHM6IGZhbHNlLFxuICAgICAgYmFyRGF0YXNldFNwYWNpbmc6IDksXG4gICAgfVxuICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmJhckNoYXJ0KGlucHV0RGF0YSxvcHRpb25zKVxuXG4gICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzQ29tcGFyaXNvbicsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNDb21wYXJpc29uQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-custom-calculation', []);

  module.controller('WidgetAccountsCustomCalculationCtrl', ["$scope", "$timeout", "$modal", "$q", "$templateCache", "ImpacWidgetsSvc", function($scope, $timeout, $modal, $q, $templateCache, ImpacWidgetsSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.accountsListDeferred = $q.defer();
    $scope.formulaDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.accountsListDeferred.promise, $scope.formulaDeferred.promise];
    w.initContext = function() {
      $scope.movedAccount = {};
      return $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.complete_list);
    };
    $scope.addAccountToFormula = function(account) {
      if (account == null) {
        return;
      }
      if (w.selectedAccounts.length > 0) {
        w.formula += " + {" + (w.selectedAccounts.length + 1) + "}";
      } else {
        w.formula = "{1}";
      }
      return w.moveAccountToAnotherList(account, w.remainingAccounts, w.selectedAccounts, false);
    };
    $scope.removeAccountFromFormula = function(account) {
      var diffAccountIndex, diffAccountUid, i, indexPattern, newFormula, nextUids, prevUids, removePattern;
      prevUids = _.map(w.selectedAccounts, function(e) {
        return e.uid;
      });
      nextUids = _.reject(prevUids, function(e) {
        return e === account.uid;
      });
      diffAccountUid = _.first(_.difference(prevUids, nextUids));
      diffAccountIndex = _.indexOf(prevUids, diffAccountUid) + 1;
      if (diffAccountIndex === 1) {
        removePattern = "{" + diffAccountIndex + "\\}\\s*(-|\\*|\\/|\\+)*\\s*";
      } else {
        removePattern = "\\s*(-|\\*|\\/|\\+)*\\s*\\{" + diffAccountIndex + "\\}";
      }
      newFormula = angular.copy(w.formula).replace(new RegExp(removePattern, 'g'), '');
      i = diffAccountIndex + 1;
      while (i <= prevUids.length) {
        indexPattern = "\\{" + i + "\\}";
        newFormula = newFormula.replace(new RegExp(indexPattern, 'g'), "{" + (i - 1) + "}");
        i++;
      }
      w.formula = angular.copy(newFormula);
      return w.moveAccountToAnotherList(account, w.selectedAccounts, w.remainingAccounts, false);
    };
    $scope.formulaModal = $scope.$new();
    $scope.formulaModal.config = {
      backdrop: 'static',
      template: $templateCache.get('widgets/accounts-custom-calculation/formula.modal.html'),
      size: 'lg',
      scope: $scope.formulaModal,
      keyboard: false
    };
    $scope.formulaModal.open = function() {
      var self;
      self = $scope.formulaModal;
      self.modalOrgDeferred = $q.defer();
      _.remove(w.settings, (function(set) {
        return set.key === "organizations";
      }));
      self.instance = $modal.open(self.config);
      return self.modalOrgDeferred.promise.then(function(success) {
        return $scope.initSettings();
      });
    };
    $scope.$watch((function() {
      return w.selectedOrganizations;
    }), function(result) {
      if (!_.isEmpty(result)) {
        return ImpacWidgetsSvc.updateWidgetSettings(w);
      }
    }, true);
    $scope.formulaModal.cancel = function() {
      $scope.initSettings();
      return $scope.formulaModal.close();
    };
    $scope.formulaModal.proceed = function() {
      ImpacWidgetsSvc.updateWidgetSettings(w, false);
      return $scope.formulaModal.close();
    };
    $scope.formulaModal.close = function() {
      return $scope.formulaModal.instance.close();
    };
    $scope.$watch((function() {
      return w.isEditMode;
    }), function(result, prev) {
      if (result && !prev) {
        return $scope.formulaModal.open();
      }
    });
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsCustomCalculation', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsCustomCalculationCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1jdXN0b20tY2FsY3VsYXRpb24vYWNjb3VudHMtY3VzdG9tLWNhbGN1bGF0aW9uLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLHNEQUFmLEVBQXNFLEVBQXRFOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLHFDQUFsQixFQUF5RCxTQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLE1BQW5CLEVBQTJCLEVBQTNCLEVBQStCLGNBQS9CLEVBQStDLGVBQS9DO0FBRXZELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsb0JBQVAsR0FBOEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM5QixNQUFNLENBQUMsZUFBUCxHQUF5QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXpCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsb0JBQW9CLENBQUMsT0FGWCxFQUdqQixNQUFNLENBQUMsZUFBZSxDQUFDLE9BSE47SUFTbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLE1BQU0sQ0FBQyxZQUFQLEdBQXNCO2FBQ3RCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLG1CQUFBLElBQWMsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBcEI7SUFGdEI7SUFJaEIsTUFBTSxDQUFDLG1CQUFQLEdBQTZCLFNBQUMsT0FBRDtNQUMzQixJQUFjLGVBQWQ7QUFBQSxlQUFBOztNQUdBLElBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE1BQW5CLEdBQTRCLENBQS9CO1FBQ0UsQ0FBQyxDQUFDLE9BQUYsSUFBYSxNQUFBLEdBQU0sQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBbkIsR0FBNEIsQ0FBN0IsQ0FBTixHQUFxQyxJQURwRDtPQUFBLE1BQUE7UUFJRSxDQUFDLENBQUMsT0FBRixHQUFZLE1BSmQ7O2FBTUEsQ0FBQyxDQUFDLHdCQUFGLENBQTJCLE9BQTNCLEVBQW1DLENBQUMsQ0FBQyxpQkFBckMsRUFBdUQsQ0FBQyxDQUFDLGdCQUF6RCxFQUEwRSxLQUExRTtJQVYyQjtJQVk3QixNQUFNLENBQUMsd0JBQVAsR0FBa0MsU0FBQyxPQUFEO0FBQ2hDLFVBQUE7TUFBQSxRQUFBLEdBQVcsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsZ0JBQVIsRUFBMEIsU0FBQyxDQUFEO2VBQ25DLENBQUMsQ0FBQztNQURpQyxDQUExQjtNQUdYLFFBQUEsR0FBVyxDQUFDLENBQUMsTUFBRixDQUFTLFFBQVQsRUFBbUIsU0FBQyxDQUFEO2VBQzVCLENBQUEsS0FBSyxPQUFPLENBQUM7TUFEZSxDQUFuQjtNQUlYLGNBQUEsR0FBaUIsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxDQUFDLENBQUMsVUFBRixDQUFhLFFBQWIsRUFBc0IsUUFBdEIsQ0FBUjtNQUNqQixnQkFBQSxHQUFtQixDQUFDLENBQUMsT0FBRixDQUFVLFFBQVYsRUFBb0IsY0FBcEIsQ0FBQSxHQUFzQztNQUV6RCxJQUFHLGdCQUFBLEtBQW9CLENBQXZCO1FBRUUsYUFBQSxHQUFnQixHQUFBLEdBQUksZ0JBQUosR0FBcUIsOEJBRnZDO09BQUEsTUFBQTtRQUtFLGFBQUEsR0FBZ0IsNkJBQUEsR0FBOEIsZ0JBQTlCLEdBQStDLE1BTGpFOztNQU1BLFVBQUEsR0FBYSxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxPQUFmLENBQXVCLENBQUMsT0FBeEIsQ0FBb0MsSUFBQSxNQUFBLENBQU8sYUFBUCxFQUFzQixHQUF0QixDQUFwQyxFQUErRCxFQUEvRDtNQUdiLENBQUEsR0FBSSxnQkFBQSxHQUFtQjtBQUN2QixhQUFNLENBQUEsSUFBSyxRQUFRLENBQUMsTUFBcEI7UUFDRSxZQUFBLEdBQWUsS0FBQSxHQUFNLENBQU4sR0FBUTtRQUN2QixVQUFBLEdBQWEsVUFBVSxDQUFDLE9BQVgsQ0FBdUIsSUFBQSxNQUFBLENBQU8sWUFBUCxFQUFxQixHQUFyQixDQUF2QixFQUFrRCxHQUFBLEdBQUcsQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFILEdBQVEsR0FBMUQ7UUFDYixDQUFBO01BSEY7TUFLQSxDQUFDLENBQUMsT0FBRixHQUFZLE9BQU8sQ0FBQyxJQUFSLENBQWEsVUFBYjthQUNaLENBQUMsQ0FBQyx3QkFBRixDQUEyQixPQUEzQixFQUFtQyxDQUFDLENBQUMsZ0JBQXJDLEVBQXNELENBQUMsQ0FBQyxpQkFBeEQsRUFBMEUsS0FBMUU7SUEzQmdDO0lBZ0NsQyxNQUFNLENBQUMsWUFBUCxHQUFzQixNQUFNLENBQUMsSUFBUCxDQUFBO0lBQ3RCLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBcEIsR0FBNkI7TUFDM0IsUUFBQSxFQUFVLFFBRGlCO01BRTNCLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQix3REFBbkIsQ0FGaUI7TUFHM0IsSUFBQSxFQUFNLElBSHFCO01BSTNCLEtBQUEsRUFBTyxNQUFNLENBQUMsWUFKYTtNQUszQixRQUFBLEVBQVUsS0FMaUI7O0lBUTdCLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBcEIsR0FBMkIsU0FBQTtBQUN6QixVQUFBO01BQUEsSUFBQSxHQUFPLE1BQU0sQ0FBQztNQUNkLElBQUksQ0FBQyxnQkFBTCxHQUF3QixFQUFFLENBQUMsS0FBSCxDQUFBO01BR3hCLENBQUMsQ0FBQyxNQUFGLENBQVMsQ0FBQyxDQUFDLFFBQVgsRUFBcUIsQ0FBQyxTQUFDLEdBQUQ7ZUFBUyxHQUFHLENBQUMsR0FBSixLQUFXO01BQXBCLENBQUQsQ0FBckI7TUFDQSxJQUFJLENBQUMsUUFBTCxHQUFnQixNQUFNLENBQUMsSUFBUCxDQUFZLElBQUksQ0FBQyxNQUFqQjthQUdoQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQTlCLENBQ0UsU0FBQyxPQUFEO2VBQ0UsTUFBTSxDQUFDLFlBQVAsQ0FBQTtNQURGLENBREY7SUFUeUI7SUFlM0IsTUFBTSxDQUFDLE1BQVAsQ0FBYyxDQUFDLFNBQUE7YUFBRyxDQUFDLENBQUM7SUFBTCxDQUFELENBQWQsRUFBNEMsU0FBQyxNQUFEO01BQzFDLElBQUcsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLE1BQVYsQ0FBSjtlQUNFLGVBQWUsQ0FBQyxvQkFBaEIsQ0FBcUMsQ0FBckMsRUFERjs7SUFEMEMsQ0FBNUMsRUFHQyxJQUhEO0lBS0EsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFwQixHQUE2QixTQUFBO01BQzNCLE1BQU0sQ0FBQyxZQUFQLENBQUE7YUFDQSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQXBCLENBQUE7SUFGMkI7SUFJN0IsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFwQixHQUE4QixTQUFBO01BQzVCLGVBQWUsQ0FBQyxvQkFBaEIsQ0FBcUMsQ0FBckMsRUFBdUMsS0FBdkM7YUFDQSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQXBCLENBQUE7SUFGNEI7SUFJOUIsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFwQixHQUE0QixTQUFBO2FBQzFCLE1BQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQTdCLENBQUE7SUFEMEI7SUFJNUIsTUFBTSxDQUFDLE1BQVAsQ0FBYyxDQUFDLFNBQUE7YUFBRyxDQUFDLENBQUM7SUFBTCxDQUFELENBQWQsRUFBaUMsU0FBQyxNQUFELEVBQVMsSUFBVDtNQUMvQixJQUE4QixNQUFBLElBQVUsQ0FBQyxJQUF6QztlQUFBLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBcEIsQ0FBQSxFQUFBOztJQUQrQixDQUFqQztXQU1BLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBbEh1RCxDQUF6RDs7RUFxSEEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsaUNBQWpCLEVBQW9ELFNBQUE7QUFDbEQsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLHFDQUZQOztFQUQyQyxDQUFwRDtBQXZIQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvYWNjb3VudHMtY3VzdG9tLWNhbGN1bGF0aW9uL2FjY291bnRzLWN1c3RvbS1jYWxjdWxhdGlvbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmFjY291bnRzLWN1c3RvbS1jYWxjdWxhdGlvbicsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0N1c3RvbUNhbGN1bGF0aW9uQ3RybCcsICgkc2NvcGUsICR0aW1lb3V0LCAkbW9kYWwsICRxLCAkdGVtcGxhdGVDYWNoZSwgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5hY2NvdW50c0xpc3REZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmZvcm11bGFEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmFjY291bnRzTGlzdERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuZm9ybXVsYURlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5tb3ZlZEFjY291bnQgPSB7fVxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuY29tcGxldGVfbGlzdClcblxuICAkc2NvcGUuYWRkQWNjb3VudFRvRm9ybXVsYSA9IChhY2NvdW50KSAtPlxuICAgIHJldHVybiB1bmxlc3MgYWNjb3VudD9cblxuICAgICMgV2hlbiBzb21lIGFjY291bnRzIGFyZSBhbHJlYWR5IGluIHNhdmVkTGlzdFxuICAgIGlmIHcuc2VsZWN0ZWRBY2NvdW50cy5sZW5ndGggPiAwXG4gICAgICB3LmZvcm11bGEgKz0gXCIgKyB7I3t3LnNlbGVjdGVkQWNjb3VudHMubGVuZ3RoICsgMX19XCJcbiAgICAjIE90aGVyd2lzZVxuICAgIGVsc2VcbiAgICAgIHcuZm9ybXVsYSA9IFwiezF9XCJcblxuICAgIHcubW92ZUFjY291bnRUb0Fub3RoZXJMaXN0KGFjY291bnQsdy5yZW1haW5pbmdBY2NvdW50cyx3LnNlbGVjdGVkQWNjb3VudHMsZmFsc2UpXG5cbiAgJHNjb3BlLnJlbW92ZUFjY291bnRGcm9tRm9ybXVsYSA9IChhY2NvdW50KSAtPlxuICAgIHByZXZVaWRzID0gXy5tYXAody5zZWxlY3RlZEFjY291bnRzLCAoZSkgLT5cbiAgICAgIGUudWlkXG4gICAgKVxuICAgIG5leHRVaWRzID0gXy5yZWplY3QocHJldlVpZHMsIChlKSAtPlxuICAgICAgZSA9PSBhY2NvdW50LnVpZFxuICAgIClcblxuICAgIGRpZmZBY2NvdW50VWlkID0gXy5maXJzdChfLmRpZmZlcmVuY2UocHJldlVpZHMsbmV4dFVpZHMpKVxuICAgIGRpZmZBY2NvdW50SW5kZXggPSBfLmluZGV4T2YocHJldlVpZHMsIGRpZmZBY2NvdW50VWlkKSArIDFcblxuICAgIGlmIGRpZmZBY2NvdW50SW5kZXggPT0gMVxuICAgICAgIyBXZSByZW1vdmUgdGhlIG5leHQgb3BlcmF0b3JcbiAgICAgIHJlbW92ZVBhdHRlcm4gPSBcInsje2RpZmZBY2NvdW50SW5kZXh9XFxcXH1cXFxccyooLXxcXFxcKnxcXFxcL3xcXFxcKykqXFxcXHMqXCJcbiAgICBlbHNlXG4gICAgICAjIFdlIHJlbW92ZSB0aGUgcHJldmlvdXMgb3BlcmF0b3JcbiAgICAgIHJlbW92ZVBhdHRlcm4gPSBcIlxcXFxzKigtfFxcXFwqfFxcXFwvfFxcXFwrKSpcXFxccypcXFxceyN7ZGlmZkFjY291bnRJbmRleH1cXFxcfVwiXG4gICAgbmV3Rm9ybXVsYSA9IGFuZ3VsYXIuY29weSh3LmZvcm11bGEpLnJlcGxhY2UobmV3IFJlZ0V4cChyZW1vdmVQYXR0ZXJuLCAnZycpLCcnKVxuXG4gICAgIyBXZSBkb3duZ3JhZGUgYWxsIHRoZSBuZXh0IGluZGV4ZXNcbiAgICBpID0gZGlmZkFjY291bnRJbmRleCArIDFcbiAgICB3aGlsZSBpIDw9IHByZXZVaWRzLmxlbmd0aFxuICAgICAgaW5kZXhQYXR0ZXJuID0gXCJcXFxceyN7aX1cXFxcfVwiXG4gICAgICBuZXdGb3JtdWxhID0gbmV3Rm9ybXVsYS5yZXBsYWNlKG5ldyBSZWdFeHAoaW5kZXhQYXR0ZXJuLCAnZycpLCBcInsje2ktMX19XCIpXG4gICAgICBpKytcblxuICAgIHcuZm9ybXVsYSA9IGFuZ3VsYXIuY29weShuZXdGb3JtdWxhKVxuICAgIHcubW92ZUFjY291bnRUb0Fub3RoZXJMaXN0KGFjY291bnQsdy5zZWxlY3RlZEFjY291bnRzLHcucmVtYWluaW5nQWNjb3VudHMsZmFsc2UpXG5cblxuICAjIE1vZGFsIG1hbmFnZW1lbnRcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZm9ybXVsYU1vZGFsID0gJHNjb3BlLiRuZXcoKVxuICAkc2NvcGUuZm9ybXVsYU1vZGFsLmNvbmZpZyA9IHtcbiAgICBiYWNrZHJvcDogJ3N0YXRpYydcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd3aWRnZXRzL2FjY291bnRzLWN1c3RvbS1jYWxjdWxhdGlvbi9mb3JtdWxhLm1vZGFsLmh0bWwnKVxuICAgIHNpemU6ICdsZydcbiAgICBzY29wZTogJHNjb3BlLmZvcm11bGFNb2RhbFxuICAgIGtleWJvYXJkOiBmYWxzZVxuICB9XG5cbiAgJHNjb3BlLmZvcm11bGFNb2RhbC5vcGVuID0gLT5cbiAgICBzZWxmID0gJHNjb3BlLmZvcm11bGFNb2RhbFxuICAgIHNlbGYubW9kYWxPcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICAgICMgcmVtb3ZlIHRoZSBpbml0aWFsIG9yZ2FuaXphdGlvbnMgc2V0dGluZy4uLlxuICAgIF8ucmVtb3ZlIHcuc2V0dGluZ3MsICgoc2V0KSAtPiBzZXQua2V5ID09IFwib3JnYW5pemF0aW9uc1wiKVxuICAgIHNlbGYuaW5zdGFuY2UgPSAkbW9kYWwub3BlbihzZWxmLmNvbmZpZylcbiAgICBcbiAgICAjIC4uLml0IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBuZXcgb25lIHdoZW4gdGhlIG1vZGFsIERPTSBpcyBsb2FkZWRcbiAgICBzZWxmLm1vZGFsT3JnRGVmZXJyZWQucHJvbWlzZS50aGVuKFxuICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgICRzY29wZS5pbml0U2V0dGluZ3MoKVxuICAgIClcblxuICAjIFJlbG9hZCB0aGUgYWNjb3VudHMgbGlzdHMgb24gb3JnYW5pemF0aW9ucyBsaXN0IGNoYW5nZVxuICAkc2NvcGUuJHdhdGNoICgtPiB3LnNlbGVjdGVkT3JnYW5pemF0aW9ucyksIChyZXN1bHQpIC0+XG4gICAgaWYgIV8uaXNFbXB0eShyZXN1bHQpXG4gICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModylcbiAgLHRydWVcblxuICAkc2NvcGUuZm9ybXVsYU1vZGFsLmNhbmNlbCA9IC0+XG4gICAgJHNjb3BlLmluaXRTZXR0aW5ncygpXG4gICAgJHNjb3BlLmZvcm11bGFNb2RhbC5jbG9zZSgpXG5cbiAgJHNjb3BlLmZvcm11bGFNb2RhbC5wcm9jZWVkID0gLT5cbiAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcbiAgICAkc2NvcGUuZm9ybXVsYU1vZGFsLmNsb3NlKClcblxuICAkc2NvcGUuZm9ybXVsYU1vZGFsLmNsb3NlID0gLT5cbiAgICAkc2NvcGUuZm9ybXVsYU1vZGFsLmluc3RhbmNlLmNsb3NlKClcblxuICAjIE9wZW4gdGhlIG1vZGFsIG9uIHRvZ2dsZUVkaXRNb2RlKClcbiAgJHNjb3BlLiR3YXRjaCAoLT4gdy5pc0VkaXRNb2RlKSwgKHJlc3VsdCwgcHJldikgLT5cbiAgICAkc2NvcGUuZm9ybXVsYU1vZGFsLm9wZW4oKSBpZiByZXN1bHQgJiYgIXByZXZcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0QWNjb3VudHNDdXN0b21DYWxjdWxhdGlvbicsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNDdXN0b21DYWxjdWxhdGlvbkN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-detailed-classifications', []);

  module.controller('WidgetAccountsDetailedClassificationsCtrl', ["$scope", "$q", "ImpacWidgetsSvc", function($scope, $q, ImpacWidgetsSvc) {
    var settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.companies);
      if ($scope.isDataFound) {
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        if (w.content.companies.length === 1) {
          $scope.multiEntity = false;
          return $scope.dataSource = _.map(w.content.companies[0].classifications, function(klass) {
            return {
              label: klass.name,
              value: klass.total,
              currency: klass.currency,
              entries: _.map(klass.accounts, function(acc) {
                return {
                  label: acc.name,
                  value: acc.balance,
                  currency: acc.currency
                };
              })
            };
          });
        } else {
          $scope.multiEntity = true;
          return $scope.dataSource = _.map(w.content.companies, function(company) {
            return {
              label: company.name,
              entries: _.map(company.classifications, function(klass) {
                return {
                  label: klass.name,
                  value: klass.total,
                  currency: klass.currency
                };
              })
            };
          });
        }
      }
    };
    $scope.toggleCollapsed = function(groupName) {
      if (groupName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return groupName === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === groupName;
          });
        } else {
          $scope.unCollapsed.push(groupName);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(groupName) {
      if (groupName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return groupName === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsDetailedClassifications', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsDetailedClassificationsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1kZXRhaWxlZC1jbGFzc2lmaWNhdGlvbnMvYWNjb3VudHMtZGV0YWlsZWQtY2xhc3NpZmljYXRpb25zLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLDREQUFmLEVBQTZFLEVBQTdFOztFQUNULE1BQU0sQ0FBQyxVQUFQLENBQWtCLDJDQUFsQixFQUErRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsZUFBYjtBQUU3RCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFHckIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGO0lBT25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQjtNQUV0RCxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFYLElBQTBCO1FBRS9DLElBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBcEIsS0FBOEIsQ0FBakM7VUFDRSxNQUFNLENBQUMsV0FBUCxHQUFxQjtpQkFDckIsTUFBTSxDQUFDLFVBQVAsR0FBb0IsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVUsQ0FBQSxDQUFBLENBQUUsQ0FBQyxlQUE3QixFQUE4QyxTQUFDLEtBQUQ7bUJBQ2hFO2NBQ0UsS0FBQSxFQUFPLEtBQUssQ0FBQyxJQURmO2NBRUUsS0FBQSxFQUFPLEtBQUssQ0FBQyxLQUZmO2NBR0UsUUFBQSxFQUFVLEtBQUssQ0FBQyxRQUhsQjtjQUlFLE9BQUEsRUFBUyxDQUFDLENBQUMsR0FBRixDQUFNLEtBQUssQ0FBQyxRQUFaLEVBQXNCLFNBQUMsR0FBRDt1QkFDN0I7a0JBQ0UsS0FBQSxFQUFPLEdBQUcsQ0FBQyxJQURiO2tCQUVFLEtBQUEsRUFBTyxHQUFHLENBQUMsT0FGYjtrQkFHRSxRQUFBLEVBQVUsR0FBRyxDQUFDLFFBSGhCOztjQUQ2QixDQUF0QixDQUpYOztVQURnRSxDQUE5QyxFQUZ0QjtTQUFBLE1BQUE7VUFnQkUsTUFBTSxDQUFDLFdBQVAsR0FBcUI7aUJBQ3JCLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFoQixFQUEyQixTQUFDLE9BQUQ7bUJBQzdDO2NBQ0UsS0FBQSxFQUFPLE9BQU8sQ0FBQyxJQURqQjtjQUVFLE9BQUEsRUFBUyxDQUFDLENBQUMsR0FBRixDQUFNLE9BQU8sQ0FBQyxlQUFkLEVBQStCLFNBQUMsS0FBRDt1QkFDdEM7a0JBQ0UsS0FBQSxFQUFPLEtBQUssQ0FBQyxJQURmO2tCQUVFLEtBQUEsRUFBTyxLQUFLLENBQUMsS0FGZjtrQkFHRSxRQUFBLEVBQVUsS0FBSyxDQUFDLFFBSGxCOztjQURzQyxDQUEvQixDQUZYOztVQUQ2QyxDQUEzQixFQWpCdEI7U0FIRjs7SUFIYztJQWtDaEIsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQyxTQUFEO01BQ3ZCLElBQUcsaUJBQUg7UUFDRSxJQUFHLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLFdBQWQsRUFBMkIsQ0FBQyxTQUFDLElBQUQ7aUJBQVUsU0FBQSxLQUFhO1FBQXZCLENBQUQsQ0FBM0IsQ0FBSDtVQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxNQUFGLENBQVMsTUFBTSxDQUFDLFdBQWhCLEVBQTZCLFNBQUMsSUFBRDttQkFDaEQsSUFBQSxLQUFRO1VBRHdDLENBQTdCLEVBRHZCO1NBQUEsTUFBQTtVQUtFLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBbkIsQ0FBd0IsU0FBeEIsRUFMRjs7ZUFNQSxlQUFlLENBQUMsb0JBQWhCLENBQXFDLENBQXJDLEVBQXVDLEtBQXZDLEVBUEY7O0lBRHVCO0lBVXpCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUMsU0FBRDtNQUNuQixJQUFHLGlCQUFIO1FBQ0UsSUFBRyxDQUFDLENBQUMsSUFBRixDQUFPLE1BQU0sQ0FBQyxXQUFkLEVBQTJCLENBQUMsU0FBQyxJQUFEO2lCQUFVLFNBQUEsS0FBYTtRQUF2QixDQUFELENBQTNCLENBQUg7QUFDRSxpQkFBTyxNQURUO1NBQUEsTUFBQTtBQUdFLGlCQUFPLEtBSFQ7U0FERjs7SUFEbUI7SUFVckIsa0JBQUEsR0FBcUI7SUFDckIsa0JBQWtCLENBQUMsV0FBbkIsR0FBaUM7SUFFakMsa0JBQWtCLENBQUMsVUFBbkIsR0FBZ0MsU0FBQTthQUM5QixrQkFBa0IsQ0FBQyxXQUFuQixHQUFpQztJQURIO0lBR2hDLGtCQUFrQixDQUFDLFVBQW5CLEdBQWdDLFNBQUE7YUFDOUI7UUFBQyxXQUFBLEVBQWEsTUFBTSxDQUFDLFdBQXJCOztJQUQ4QjtJQUdoQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQVgsQ0FBZ0Isa0JBQWhCO1dBS0EsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFwRjZELENBQS9EOztFQXNGQSxNQUFNLENBQUMsU0FBUCxDQUFpQix1Q0FBakIsRUFBMEQsU0FBQTtBQUN4RCxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksMkNBRlA7O0VBRGlELENBQTFEO0FBdkZBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1kZXRhaWxlZC1jbGFzc2lmaWNhdGlvbnMvYWNjb3VudHMtZGV0YWlsZWQtY2xhc3NpZmljYXRpb25zLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtZGV0YWlsZWQtY2xhc3NpZmljYXRpb25zJywgW10pXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0QWNjb3VudHNEZXRhaWxlZENsYXNzaWZpY2F0aW9uc0N0cmwnLCAoJHNjb3BlLCAkcSwgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICMgJHNjb3BlLnBhcmFtU2VsZWN0ZXJEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgIyAkc2NvcGUucGFyYW1TZWxlY3RlckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LmNvbXBhbmllcylcblxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gdy5tZXRhZGF0YS51bkNvbGxhcHNlZCB8fCBbXVxuXG4gICAgICBpZiB3LmNvbnRlbnQuY29tcGFuaWVzLmxlbmd0aCA9PSAxXG4gICAgICAgICRzY29wZS5tdWx0aUVudGl0eSA9IGZhbHNlXG4gICAgICAgICRzY29wZS5kYXRhU291cmNlID0gXy5tYXAgdy5jb250ZW50LmNvbXBhbmllc1swXS5jbGFzc2lmaWNhdGlvbnMsIChrbGFzcykgLT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDoga2xhc3MubmFtZVxuICAgICAgICAgICAgdmFsdWU6IGtsYXNzLnRvdGFsXG4gICAgICAgICAgICBjdXJyZW5jeToga2xhc3MuY3VycmVuY3lcbiAgICAgICAgICAgIGVudHJpZXM6IF8ubWFwIGtsYXNzLmFjY291bnRzLCAoYWNjKSAtPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGFjYy5uYW1lXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFjYy5iYWxhbmNlXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGFjYy5jdXJyZW5jeVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS5tdWx0aUVudGl0eSA9IHRydWVcbiAgICAgICAgJHNjb3BlLmRhdGFTb3VyY2UgPSBfLm1hcCB3LmNvbnRlbnQuY29tcGFuaWVzLCAoY29tcGFueSkgLT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogY29tcGFueS5uYW1lXG4gICAgICAgICAgICBlbnRyaWVzOiBfLm1hcCBjb21wYW55LmNsYXNzaWZpY2F0aW9ucywgKGtsYXNzKSAtPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGtsYXNzLm5hbWVcbiAgICAgICAgICAgICAgICB2YWx1ZToga2xhc3MudG90YWxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeToga2xhc3MuY3VycmVuY3lcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAkc2NvcGUudG9nZ2xlQ29sbGFwc2VkID0gKGdyb3VwTmFtZSkgLT5cbiAgICBpZiBncm91cE5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGdyb3VwTmFtZSA9PSBuYW1lKSlcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gXy5yZWplY3QoJHNjb3BlLnVuQ29sbGFwc2VkLCAobmFtZSkgLT5cbiAgICAgICAgICBuYW1lID09IGdyb3VwTmFtZVxuICAgICAgICApXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZC5wdXNoKGdyb3VwTmFtZSlcbiAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc0NvbGxhcHNlZCA9IChncm91cE5hbWUpIC0+XG4gICAgaWYgZ3JvdXBOYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBncm91cE5hbWUgPT0gbmFtZSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICMgTWluaS1zZXR0aW5ncyBvYmplY3RzXG4gICMgaGFuZGxlcyB0aGUgc2F2aW5nIG9mIGNvbGxhcHNlZCAvIHVuY29sbGFwc2VkIGxpc3QgZ3JvdXBzLlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHVuQ29sbGFwc2VkU2V0dGluZyA9IHt9XG4gIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICB1bkNvbGxhcHNlZFNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3VuQ29sbGFwc2VkOiAkc2NvcGUudW5Db2xsYXBzZWR9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHVuQ29sbGFwc2VkU2V0dGluZylcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aW5ncyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzRGV0YWlsZWRDbGFzc2lmaWNhdGlvbnMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEFjY291bnRzRGV0YWlsZWRDbGFzc2lmaWNhdGlvbnNDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-expense-weight', []);

  module.controller('WidgetAccountsExpenseWeightCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.accountBackDeferred = $q.defer();
    $scope.accountFrontDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.accountBackDeferred, $scope.accountFrontDeferred, $scope.chartDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.account_list);
    };
    $scope.getName = function() {
      if (w.selectedAccount != null) {
        return w.selectedAccount.name;
      }
    };
    $scope.getComparator = function() {
      switch (w.metadata.comparator) {
        case 'turnover':
          return "turnover";
        default:
          return "total expenses";
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, companies, inputData, options, ratios;
      if ($scope.isDataFound && (w.content.summary != null)) {
        companies = _.map(w.content.summary, function(s) {
          return s.company;
        });
        ratios = _.map(w.content.summary, function(s) {
          return s.ratio;
        });
        if (companies.length === 1) {
          companies.push(companies[0]);
          ratios.push(ratios[0]);
        }
        inputData = {
          labels: companies,
          values: ratios
        };
        options = {
          scales: {
            yAxes: [
              {
                ticks: {
                  suggestedMin: 0,
                  suggestedMax: 100,
                  maxTicksLimit: 5
                }
              }
            ]
          },
          showXLabels: false,
          pointDot: false,
          currency: '%'
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsExpenseWeight', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsExpenseWeightCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1leHBlbnNlLXdlaWdodC9hY2NvdW50cy1leHBlbnNlLXdlaWdodC5kaXJlY3RpdmUuanMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxrREFBZixFQUFrRSxFQUFsRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixpQ0FBbEIsRUFBcUQsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiO0FBRW5ELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsbUJBQVAsR0FBNkIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM3QixNQUFNLENBQUMsb0JBQVAsR0FBOEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM5QixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsbUJBRlUsRUFHakIsTUFBTSxDQUFDLG9CQUhVLEVBSWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FKSjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO2FBQ2QsTUFBTSxDQUFDLFdBQVAsR0FBcUIsbUJBQUEsSUFBYyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFwQjtJQUR0QjtJQUdoQixNQUFNLENBQUMsT0FBUCxHQUFpQixTQUFBO01BQ2YsSUFBMEIseUJBQTFCO2VBQUEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxLQUFsQjs7SUFEZTtJQUdqQixNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFBO0FBQ3JCLGNBQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFsQjtBQUFBLGFBQ08sVUFEUDtBQUVJLGlCQUFPO0FBRlg7QUFJSSxpQkFBTztBQUpYO0lBRHFCO0lBVXZCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVAsSUFBc0IsMkJBQXpCO1FBQ0UsU0FBQSxHQUFZLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFoQixFQUF5QixTQUFDLENBQUQ7aUJBQU8sQ0FBQyxDQUFDO1FBQVQsQ0FBekI7UUFDWixNQUFBLEdBQVMsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQWhCLEVBQXlCLFNBQUMsQ0FBRDtpQkFBTyxDQUFDLENBQUM7UUFBVCxDQUF6QjtRQUVULElBQUcsU0FBUyxDQUFDLE1BQVYsS0FBb0IsQ0FBdkI7VUFDRSxTQUFTLENBQUMsSUFBVixDQUFlLFNBQVUsQ0FBQSxDQUFBLENBQXpCO1VBQ0EsTUFBTSxDQUFDLElBQVAsQ0FBWSxNQUFPLENBQUEsQ0FBQSxDQUFuQixFQUZGOztRQUlBLFNBQUEsR0FBWTtVQUFDLE1BQUEsRUFBUSxTQUFUO1VBQW9CLE1BQUEsRUFBUSxNQUE1Qjs7UUFHWixPQUFBLEdBQVU7VUFLUixNQUFBLEVBQVE7WUFBRSxLQUFBLEVBQU87Y0FDZjtnQkFBRSxLQUFBLEVBQU87a0JBQ1AsWUFBQSxFQUFjLENBRFA7a0JBRVAsWUFBQSxFQUFjLEdBRlA7a0JBR1AsYUFBQSxFQUFlLENBSFI7aUJBQVQ7ZUFEZTthQUFUO1dBTEE7VUFhUixXQUFBLEVBQWEsS0FiTDtVQWNSLFFBQUEsRUFBVSxLQWRGO1VBZVIsUUFBQSxFQUFVLEdBZkY7O1FBaUJWLFNBQUEsR0FBWSxpQkFBaUIsQ0FBQyxTQUFsQixDQUE0QixDQUFDLFNBQUQsQ0FBNUIsRUFBd0MsT0FBeEM7ZUFHWixNQUFNLENBQUMsV0FBVyxDQUFDLE1BQW5CLENBQTBCLFNBQTFCLEVBL0JGOztJQURTO1dBcUNYLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBM0VtRCxDQUFyRDs7RUE4RUEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsNkJBQWpCLEVBQWdELFNBQUE7QUFDOUMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLGlDQUZQOztFQUR1QyxDQUFoRDtBQWhGQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvYWNjb3VudHMtZXhwZW5zZS13ZWlnaHQvYWNjb3VudHMtZXhwZW5zZS13ZWlnaHQuZGlyZWN0aXZlLmpzLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5hY2NvdW50cy1leHBlbnNlLXdlaWdodCcsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0V4cGVuc2VXZWlnaHRDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5hY2NvdW50QmFja0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuYWNjb3VudEZyb250RGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuYWNjb3VudEJhY2tEZWZlcnJlZFxuICAgICRzY29wZS5hY2NvdW50RnJvbnREZWZlcnJlZFxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuYWNjb3VudF9saXN0KVxuXG4gICRzY29wZS5nZXROYW1lID0gLT5cbiAgICB3LnNlbGVjdGVkQWNjb3VudC5uYW1lIGlmIHcuc2VsZWN0ZWRBY2NvdW50P1xuXG4gICRzY29wZS5nZXRDb21wYXJhdG9yID0gLT5cbiAgICBzd2l0Y2ggdy5tZXRhZGF0YS5jb21wYXJhdG9yXG4gICAgICB3aGVuICd0dXJub3ZlcidcbiAgICAgICAgcmV0dXJuIFwidHVybm92ZXJcIlxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gXCJ0b3RhbCBleHBlbnNlc1wiXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiB3LmNvbnRlbnQuc3VtbWFyeT9cbiAgICAgIGNvbXBhbmllcyA9IF8ubWFwIHcuY29udGVudC5zdW1tYXJ5LCAocykgLT4gcy5jb21wYW55XG4gICAgICByYXRpb3MgPSBfLm1hcCB3LmNvbnRlbnQuc3VtbWFyeSwgKHMpIC0+IHMucmF0aW9cbiAgICAgICMgRGlzcGxheSBhIGxpbmUgaW5zdGVhZCBvZiBhIHBvaW50IHdoZW4gb25seSAxIGNvbXBhbnlcbiAgICAgIGlmIGNvbXBhbmllcy5sZW5ndGggPT0gMVxuICAgICAgICBjb21wYW5pZXMucHVzaChjb21wYW5pZXNbMF0pXG4gICAgICAgIHJhdGlvcy5wdXNoKHJhdGlvc1swXSlcblxuICAgICAgaW5wdXREYXRhID0ge2xhYmVsczogY29tcGFuaWVzLCB2YWx1ZXM6IHJhdGlvc31cbiAgICAgIFxuXG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICAjIHNjYWxlT3ZlcnJpZGU6IHRydWUsXG4gICAgICAgICMgc2NhbGVTdGVwczogNCxcbiAgICAgICAgIyBzY2FsZVN0ZXBXaWR0aDogMjUsXG4gICAgICAgICMgc2NhbGVTdGFydFZhbHVlOiAwLFxuICAgICAgICBzY2FsZXM6IHsgeUF4ZXM6IFtcbiAgICAgICAgICB7IHRpY2tzOiB7XG4gICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDBcbiAgICAgICAgICAgIHN1Z2dlc3RlZE1heDogMTAwXG4gICAgICAgICAgICBtYXhUaWNrc0xpbWl0OiA1XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdfVxuICAgICAgICBzaG93WExhYmVsczogZmFsc2VcbiAgICAgICAgcG9pbnREb3Q6IGZhbHNlXG4gICAgICAgIGN1cnJlbmN5OiAnJSdcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChbaW5wdXREYXRhXSxvcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGluZ3MgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzRXhwZW5zZVdlaWdodCcsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNFeHBlbnNlV2VpZ2h0Q3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-expenses-revenue', []);

  module.controller('WidgetAccountsExpensesRevenueCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    $scope.paramsCheckboxesDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise, $scope.paramsCheckboxesDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = (w.content != null) && (w.content.values != null);
      $scope.displayOptions = [
        {
          id: 'show_net_profit',
          label: 'Show net profit',
          value: false,
          onChangeCallback: $scope.toggleDisplayNetProfit
        }
      ];
      if (angular.isDefined((w.metadata != null) && (w.metadata.display != null))) {
        angular.merge($scope.displayOptions, w.metadata.display);
      }
      return $scope.isNetProfitDisplayed = !!$scope.displayOptions[0].value;
    };
    $scope.getCurrentRevenue = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.values.revenue);
      }
    };
    $scope.getCurrentExpenses = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.values.expenses);
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency;
      }
    };
    $scope.toggleDisplayNetProfit = function() {
      $scope.isNetProfitDisplayed = !!$scope.displayOptions[0].value;
      $scope.updateSettings(false);
      return w.format();
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, dates, lineData, lineOptions, period, pieData, pieOptions;
      if ($scope.isDataFound) {
        if (w.isHistoryMode) {
          period = null;
          if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
            period = w.metadata.hist_parameters.period;
          }
          dates = _.map(w.content.dates, function(date) {
            return $filter('mnoDate')(date, period);
          });
          if ($scope.isNetProfitDisplayed) {
            lineData = [
              {
                title: "Net Profit (" + ($scope.getCurrency()) + ")",
                labels: dates,
                values: w.content.values.net_profit
              }
            ];
            all_values_are_positive = true;
            angular.forEach(w.content.values.net_profit, function(value) {
              return all_values_are_positive && (all_values_are_positive = value >= 0);
            });
          } else {
            lineData = [
              {
                title: "Expenses (" + ($scope.getCurrency()) + ")",
                labels: dates,
                values: w.content.values.expenses
              }, {
                title: "Revenue (" + ($scope.getCurrency()) + ")",
                labels: dates,
                values: w.content.values.revenue
              }
            ];
            all_values_are_positive = true;
            angular.forEach(w.content.values.expenses, function(value) {
              return all_values_are_positive && (all_values_are_positive = value >= 0);
            });
            angular.forEach(w.content.values.revenue, function(value) {
              return all_values_are_positive && (all_values_are_positive = value >= 0);
            });
          }
          lineOptions = {
            scaleBeginAtZero: all_values_are_positive,
            showXLabels: false
          };
          chartData = ChartFormatterSvc.lineChart(lineData, lineOptions, true);
        } else {
          pieData = [
            {
              label: "Expenses (" + ($scope.getCurrency()) + ")",
              value: $scope.getCurrentExpenses()
            }, {
              label: "Revenue (" + ($scope.getCurrency()) + ")",
              value: $scope.getCurrentRevenue()
            }
          ];
          pieOptions = {
            tooltipFontSize: 12,
            percentageInnerCutout: 0
          };
          chartData = ChartFormatterSvc.pieChart(pieData, pieOptions, true);
        }
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsExpensesRevenue', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsExpensesRevenueCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1leHBlbnNlcy1yZXZlbnVlL2FjY291bnRzLWV4cGVuc2VzLXJldmVudWUuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsb0RBQWYsRUFBb0UsRUFBcEU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsbUNBQWxCLEVBQXVELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUVyRCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDMUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsd0JBQVAsR0FBa0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUVsQyxnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BSFAsRUFJakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUpKLEVBS2pCLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxPQUxmO0lBV25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixtQkFBQSxJQUFjO01BRW5DLE1BQU0sQ0FBQyxjQUFQLEdBQXdCO1FBQUM7VUFDdkIsRUFBQSxFQUFJLGlCQURtQjtVQUV2QixLQUFBLEVBQU8saUJBRmdCO1VBR3ZCLEtBQUEs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LENBQTBCLFNBQTFCLEVBL0NGOztJQURTO1dBcURYLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBM0dxRCxDQUF2RDs7RUE4R0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsK0JBQWpCLEVBQWtELFNBQUE7QUFDaEQsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLG1DQUZQOztFQUR5QyxDQUFsRDtBQWhIQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvYWNjb3VudHMtZXhwZW5zZXMtcmV2ZW51ZS9hY2NvdW50cy1leHBlbnNlcy1yZXZlbnVlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtZXhwZW5zZXMtcmV2ZW51ZScsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRBY2NvdW50c0V4cGVuc2VzUmV2ZW51ZUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbXNDaGVja2JveGVzRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmhpc3RNb2RlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1zQ2hlY2tib3hlc0RlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgdy5jb250ZW50LnZhbHVlcz9cblxuICAgICRzY29wZS5kaXNwbGF5T3B0aW9ucyA9IFt7XG4gICAgICBpZDogJ3Nob3dfbmV0X3Byb2ZpdCcsXG4gICAgICBsYWJlbDogJ1Nob3cgbmV0IHByb2ZpdCcsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBvbkNoYW5nZUNhbGxiYWNrOiAkc2NvcGUudG9nZ2xlRGlzcGxheU5ldFByb2ZpdFxuICAgIH1dXG4gICAgaWYgYW5ndWxhci5pc0RlZmluZWQgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5kaXNwbGF5P1xuICAgICAgYW5ndWxhci5tZXJnZSAkc2NvcGUuZGlzcGxheU9wdGlvbnMsIHcubWV0YWRhdGEuZGlzcGxheVxuICAgICRzY29wZS5pc05ldFByb2ZpdERpc3BsYXllZCA9ICEhJHNjb3BlLmRpc3BsYXlPcHRpb25zWzBdLnZhbHVlXG5cbiAgJHNjb3BlLmdldEN1cnJlbnRSZXZlbnVlID0gLT5cbiAgICBfLmxhc3Qody5jb250ZW50LnZhbHVlcy5yZXZlbnVlKSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0Q3VycmVudEV4cGVuc2VzID0gLT5cbiAgICBfLmxhc3Qody5jb250ZW50LnZhbHVlcy5leHBlbnNlcykgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldEN1cnJlbmN5ID0gLT5cbiAgICB3LmNvbnRlbnQuY3VycmVuY3kgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLnRvZ2dsZURpc3BsYXlOZXRQcm9maXQgPSAtPlxuICAgICRzY29wZS5pc05ldFByb2ZpdERpc3BsYXllZCA9ICEhJHNjb3BlLmRpc3BsYXlPcHRpb25zWzBdLnZhbHVlXG4gICAgJHNjb3BlLnVwZGF0ZVNldHRpbmdzKGZhbHNlKVxuICAgIHcuZm9ybWF0KClcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBpZiB3LmlzSGlzdG9yeU1vZGVcbiAgICAgICAgcGVyaW9kID0gbnVsbFxuICAgICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICAgIGRhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgICAkZmlsdGVyKCdtbm9EYXRlJykoZGF0ZSwgcGVyaW9kKVxuXG4gICAgICAgIGlmICRzY29wZS5pc05ldFByb2ZpdERpc3BsYXllZFxuICAgICAgICAgIGxpbmVEYXRhID0gW1xuICAgICAgICAgICAge3RpdGxlOiBcIk5ldCBQcm9maXQgKCN7JHNjb3BlLmdldEN1cnJlbmN5KCl9KVwiLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IHcuY29udGVudC52YWx1ZXMubmV0X3Byb2ZpdCB9LFxuICAgICAgICAgIF1cbiAgICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSA9IHRydWVcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2gody5jb250ZW50LnZhbHVlcy5uZXRfcHJvZml0LCAodmFsdWUpIC0+XG4gICAgICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSAmJj0gdmFsdWUgPj0gMFxuICAgICAgICAgIClcblxuICAgICAgICBlbHNlXG4gICAgICAgICAgbGluZURhdGEgPSBbXG4gICAgICAgICAgICB7dGl0bGU6IFwiRXhwZW5zZXMgKCN7JHNjb3BlLmdldEN1cnJlbmN5KCl9KVwiLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IHcuY29udGVudC52YWx1ZXMuZXhwZW5zZXMgfSxcbiAgICAgICAgICAgIHt0aXRsZTogXCJSZXZlbnVlICgjeyRzY29wZS5nZXRDdXJyZW5jeSgpfSlcIiwgbGFiZWxzOiBkYXRlcywgdmFsdWVzOiB3LmNvbnRlbnQudmFsdWVzLnJldmVudWUgfSxcbiAgICAgICAgICBdXG4gICAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHcuY29udGVudC52YWx1ZXMuZXhwZW5zZXMsICh2YWx1ZSkgLT5cbiAgICAgICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG4gICAgICAgICAgKVxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh3LmNvbnRlbnQudmFsdWVzLnJldmVudWUsICh2YWx1ZSkgLT5cbiAgICAgICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG4gICAgICAgICAgKVxuXG4gICAgICAgIGxpbmVPcHRpb25zID0ge1xuICAgICAgICAgIHNjYWxlQmVnaW5BdFplcm86IGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlLFxuICAgICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5saW5lQ2hhcnQobGluZURhdGEsbGluZU9wdGlvbnMsIHRydWUpXG5cbiAgICAgIGVsc2VcbiAgICAgICAgcGllRGF0YSA9IFtcbiAgICAgICAgICB7IGxhYmVsOiBcIkV4cGVuc2VzICgjeyRzY29wZS5nZXRDdXJyZW5jeSgpfSlcIiwgdmFsdWU6ICRzY29wZS5nZXRDdXJyZW50RXhwZW5zZXMoKSB9LFxuICAgICAgICAgIHsgbGFiZWw6IFwiUmV2ZW51ZSAoI3skc2NvcGUuZ2V0Q3VycmVuY3koKX0pXCIsIHZhbHVlOiAkc2NvcGUuZ2V0Q3VycmVudFJldmVudWUoKSB9LFxuICAgICAgICBdXG4gICAgICAgIHBpZU9wdGlvbnMgPSB7XG4gICAgICAgICAgdG9vbHRpcEZvbnRTaXplOiAxMixcbiAgICAgICAgICBwZXJjZW50YWdlSW5uZXJDdXRvdXQ6IDAsXG4gICAgICAgIH1cbiAgICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMucGllQ2hhcnQocGllRGF0YSwgcGllT3B0aW9ucywgdHJ1ZSlcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRBY2NvdW50c0V4cGVuc2VzUmV2ZW51ZScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNFeHBlbnNlc1JldmVudWVDdHJsJ1xuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-payable-receivable', []);

  module.controller('WidgetAccountsPayableReceivableCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = (w.content != null) && (w.content.values != null);
    };
    $scope.getCurrentPayable = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.values.payables);
      }
    };
    $scope.getCurrentReceivable = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.values.receivables);
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency;
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, dates, i, j, len, len1, lineData, lineOptions, period, ref, ref1, value;
      if ($scope.isDataFound) {
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        lineData = [
          {
            title: "Payable",
            labels: dates,
            values: w.content.values.payables
          }, {
            title: "Receivable",
            labels: dates,
            values: w.content.values.receivables
          }
        ];
        all_values_are_positive = true;
        ref = w.content.values.payables;
        for (i = 0, len = ref.length; i < len; i++) {
          value = ref[i];
          all_values_are_positive && (all_values_are_positive = value >= 0);
        }
        ref1 = w.content.values.receivables;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          value = ref1[j];
          all_values_are_positive && (all_values_are_positive = value >= 0);
        }
        lineOptions = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false
        };
        chartData = ChartFormatterSvc.lineChart(lineData, lineOptions, true);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsPayableReceivable', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsPayableReceivableCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1wYXlhYmxlLXJlY2VpdmFibGUvYWNjb3VudHMtcGF5YWJsZS1yZWNlaXZhYmxlLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLHNEQUFmLEVBQXNFLEVBQXRFOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLHFDQUFsQixFQUF5RCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEM7QUFFdkQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxnQkFBUCxHQUEwQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzFCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSLEVBR2pCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUhQLEVBSWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FKSjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO2FBQ2QsTUFBTSxDQUFDLFdBQVAsR0FBcUIsbUJBQUEsSUFBYztJQURyQjtJQUdoQixNQUFNLENBQUMsaUJBQVAsR0FBMkIsU0FBQTtNQUN6QixJQUFxQyxNQUFNLENBQUMsV0FBNUM7ZUFBQSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQXhCLEVBQUE7O0lBRHlCO0lBRzNCLE1BQU0sQ0FBQyxvQkFBUCxHQUE4QixTQUFBO01BQzVCLElBQXdDLE1BQU0sQ0FBQyxXQUEvQztlQUFBLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBeEIsRUFBQTs7SUFENEI7SUFHOUIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsU0FBQTtNQUNuQixJQUFzQixNQUFNLENBQUMsV0FBN0I7ZUFBQSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVY7O0lBRG1CO0lBTXJCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSxNQUFBLEdBQVM7UUFDVCxJQUE4QyxvQkFBQSxJQUFlLG9DQUE3RDtVQUFBLE1BQUEsR0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFwQzs7UUFDQSxLQUFBLEdBQVEsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQWhCLEVBQXVCLFNBQUMsSUFBRDtpQkFDN0IsT0FBQSxDQUFRLFNBQVIsQ0FBQSxDQUFtQixJQUFuQixFQUF5QixNQUF6QjtRQUQ2QixDQUF2QjtRQUdSLFFBQUEsR0FBVztVQUNUO1lBQUMsS0FBQSxFQUFPLFNBQVI7WUFBbUIsTUFBQSxFQUFRLEtBQTNCO1lBQWtDLE1BQUEsRUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUEzRDtXQURTLEVBRVQ7WUFBQyxLQUFBLEVBQU8sWUFBUjtZQUFzQixNQUFBLEVBQVEsS0FBOUI7WUFBcUMsTUFBQSxFQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQTlEO1dBRlM7O1FBS1gsdUJBQUEsR0FBMEI7QUFDMUI7QUFBQSxhQUFBLHFDQUFBOztVQUNFLDRCQUFBLDBCQUE0QixLQUFBLElBQVM7QUFEdkM7QUFFQTtBQUFBLGFBQUEsd0NBQUE7O1VBQ0UsNEJBQUEsMEJBQTRCLEtBQUEsSUFBUztBQUR2QztRQUdBLFdBQUEsR0FBYztVQUNaLGdCQUFBLEVBQWtCLHVCQUROO1VBRVosV0FBQSxFQUFhLEtBRkQ7O1FBSWQsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLFFBQTVCLEVBQXFDLFdBQXJDLEVBQWtELElBQWxEO2VBR1osTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQXhCRjs7SUFEUztXQThCWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQW5FdUQsQ0FBekQ7O0VBc0VBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLGlDQUFqQixFQUFvRCxTQUFBO0FBQ2xELFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSxxQ0FGUDs7RUFEMkMsQ0FBcEQ7QUF4RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2FjY291bnRzLXBheWFibGUtcmVjZWl2YWJsZS9hY2NvdW50cy1wYXlhYmxlLXJlY2VpdmFibGUuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5hY2NvdW50cy1wYXlhYmxlLXJlY2VpdmFibGUnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0QWNjb3VudHNQYXlhYmxlUmVjZWl2YWJsZUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmhpc3RNb2RlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgdy5jb250ZW50LnZhbHVlcz9cblxuICAkc2NvcGUuZ2V0Q3VycmVudFBheWFibGUgPSAtPlxuICAgIF8ubGFzdCh3LmNvbnRlbnQudmFsdWVzLnBheWFibGVzKSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0Q3VycmVudFJlY2VpdmFibGUgPSAtPlxuICAgIF8ubGFzdCh3LmNvbnRlbnQudmFsdWVzLnJlY2VpdmFibGVzKSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0Q3VycmVuY3kgPSAtPlxuICAgIHcuY29udGVudC5jdXJyZW5jeSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIHcuY29udGVudC5kYXRlcywgKGRhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgIGxpbmVEYXRhID0gW1xuICAgICAgICB7dGl0bGU6IFwiUGF5YWJsZVwiLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IHcuY29udGVudC52YWx1ZXMucGF5YWJsZXMgfSxcbiAgICAgICAge3RpdGxlOiBcIlJlY2VpdmFibGVcIiwgbGFiZWxzOiBkYXRlcywgdmFsdWVzOiB3LmNvbnRlbnQudmFsdWVzLnJlY2VpdmFibGVzIH0sXG4gICAgICBdXG5cbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuICAgICAgZm9yIHZhbHVlIGluIHcuY29udGVudC52YWx1ZXMucGF5YWJsZXNcbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIGZvciB2YWx1ZSBpbiB3LmNvbnRlbnQudmFsdWVzLnJlY2VpdmFibGVzXG4gICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG5cbiAgICAgIGxpbmVPcHRpb25zID0ge1xuICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSxcbiAgICAgICAgc2hvd1hMYWJlbHM6IGZhbHNlLFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMubGluZUNoYXJ0KGxpbmVEYXRhLGxpbmVPcHRpb25zLCB0cnVlKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzUGF5YWJsZVJlY2VpdmFibGUnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEFjY291bnRzUGF5YWJsZVJlY2VpdmFibGVDdHJsJ1xuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.accounts-profit-and-loss', []);

  module.controller('WidgetAccountsProfitAndLossCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, $filter, ImpacWidgetsSvc) {
    var selectedElementsSetting, settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.dates)) {
        $scope.dates = w.content.dates;
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        if (w.metadata.selectedElements) {
          $scope.selectedElements = [];
          angular.forEach(w.metadata.selectedElements, function(sElem) {
            var foundElem;
            foundElem = _.find(w.content.summary, function(statement) {
              return statement.name === sElem.name;
            });
            if (!foundElem) {
              angular.forEach(w.content.summary, function(statement) {
                if (statement.accounts != null) {
                  return foundElem || (foundElem = _.find(statement.accounts, function(account) {
                    return sElem.id === account.id;
                  }));
                }
              });
            }
            if (foundElem) {
              return $scope.selectedElements.push(foundElem);
            }
          });
        }
        if (!(($scope.selectedElements != null) && $scope.selectedElements.length > 0)) {
          return w.width = 6;
        }
      }
    };
    $scope.getElementChartColor = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.getLastDate = function() {
      if ($scope.dates != null) {
        return $scope.dates[$scope.dates.length - 1];
      }
    };
    $scope.getPrevDate = function() {
      if ($scope.dates != null) {
        return $scope.dates[$scope.dates.length - 2];
      }
    };
    $scope.getLastValue = function(element) {
      if (element.totals != null) {
        return _.last(element.totals);
      }
    };
    $scope.getPeriod = function() {
      var period;
      period = 'MONTHLY';
      if ((w.metadata != null) && (w.metadata.hist_parameters != null) && (w.metadata.hist_parameters.period != null)) {
        period = w.metadata.hist_parameters.period;
      }
      switch (period.toUpperCase()) {
        case "DAILY":
          return "day";
        default:
          return period.toLowerCase().replace('ly', '');
      }
    };
    $scope.getClassColor = function(aTotal) {
      if (parseInt(aTotal) > 0) {
        return 'positive';
      } else if (parseInt(aTotal) < 0) {
        return 'negative';
      } else {
        return null;
      }
    };
    $scope.getName = function(element) {
      if ((element != null) && (element.name != null)) {
        return element.name.replace(/_/g, " ");
      }
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElements = _.reject($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        });
        w.format();
        if (w.isExpanded() && $scope.selectedElements.length === 0) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElements || ($scope.selectedElements = []);
        $scope.selectedElements.push(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      if ((element != null) && ($scope.selectedElements != null)) {
        if (_.find($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        })) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    };
    $scope.toggleCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === element.name;
          });
        } else {
          $scope.unCollapsed.push(element.name);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    $scope.hasElements = function() {
      return ($scope.selectedElements != null) && $scope.selectedElements.length > 0;
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, inputData, options;
      if ($scope.isDataFound && ($scope.selectedElements != null) && $scope.selectedElements.length > 0) {
        all_values_are_positive = true;
        inputData = [];
        angular.forEach($scope.selectedElements, function(sElem) {
          var data, dates, period;
          data = angular.copy(sElem);
          period = null;
          if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
            period = w.metadata.hist_parameters.period;
          }
          dates = _.map(w.content.dates, function(date) {
            return $filter('mnoDate')(date, period);
          });
          inputData.push({
            title: data.name,
            labels: dates,
            values: data.totals
          });
          return angular.forEach(data.totals, function(value) {
            return all_values_are_positive && (all_values_are_positive = value >= 0);
          });
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true,
          datasetFill: $scope.selectedElements.length === 1,
          pointDot: $scope.selectedElements.length === 1
        };
        chartData = ChartFormatterSvc.lineChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    selectedElementsSetting = {};
    selectedElementsSetting.initialized = false;
    selectedElementsSetting.initialize = function() {
      return selectedElementsSetting.initialized = true;
    };
    selectedElementsSetting.toMetadata = function() {
      return {
        selectedElements: $scope.selectedElements
      };
    };
    w.settings.push(selectedElementsSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetAccountsProfitAndLoss', function() {
    return {
      restrict: 'A',
      controller: 'WidgetAccountsProfitAndLossCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1wcm9maXQtYW5kLWxvc3MvYWNjb3VudHMtcHJvZml0LWFuZC1sb3NzLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLG1EQUFmLEVBQW1FLEVBQW5FOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLGlDQUFsQixFQUFxRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEMsRUFBeUMsZUFBekM7QUFFbkQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FKSjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFwQixDQUFqQyxJQUFpRSxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFwQixDQUExRjtR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QUM5QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksaUNBRlA7O0VBRHVDLENBQWhEO0FBOU1BIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9hY2NvdW50cy1wcm9maXQtYW5kLWxvc3MvYWNjb3VudHMtcHJvZml0LWFuZC1sb3NzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuYWNjb3VudHMtcHJvZml0LWFuZC1sb3NzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEFjY291bnRzUHJvZml0QW5kTG9zc0N0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIsIEltcGFjV2lkZ2V0c1N2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS53aWR0aERlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUud2lkdGhEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdW1tYXJ5KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcylcblxuICAgICAgJHNjb3BlLmRhdGVzID0gdy5jb250ZW50LmRhdGVzXG4gICAgICAkc2NvcGUudW5Db2xsYXBzZWQgPSB3Lm1ldGFkYXRhLnVuQ29sbGFwc2VkIHx8IFtdXG5cbiAgICAgIGlmIHcubWV0YWRhdGEuc2VsZWN0ZWRFbGVtZW50c1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cyA9IFtdXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgICBmb3VuZEVsZW0gPSBfLmZpbmQody5jb250ZW50LnN1bW1hcnksIChzdGF0ZW1lbnQpLT5cbiAgICAgICAgICAgIHN0YXRlbWVudC5uYW1lID09IHNFbGVtLm5hbWVcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAhZm91bmRFbGVtXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gody5jb250ZW50LnN1bW1hcnksIChzdGF0ZW1lbnQpIC0+XG4gICAgICAgICAgICAgIGZvdW5kRWxlbSB8fD0gXy5maW5kKHN0YXRlbWVudC5hY2NvdW50cywgKGFjY291bnQpLT5cbiAgICAgICAgICAgICAgICBzRWxlbS5pZCA9PSBhY2NvdW50LmlkXG4gICAgICAgICAgICAgICkgaWYgc3RhdGVtZW50LmFjY291bnRzP1xuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMucHVzaChmb3VuZEVsZW0pIGlmIGZvdW5kRWxlbVxuICAgICAgICApXG5cbiAgICAgIHcud2lkdGggPSA2IHVubGVzcyAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cz8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMFxuXG4gICRzY29wZS5nZXRFbGVtZW50Q2hhcnRDb2xvciA9IChpbmRleCkgLT5cbiAgICBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcihpbmRleClcblxuICAkc2NvcGUuZ2V0TGFzdERhdGUgPSAtPlxuICAgICRzY29wZS5kYXRlc1skc2NvcGUuZGF0ZXMubGVuZ3RoLTFdIGlmICRzY29wZS5kYXRlcz9cblxuICAkc2NvcGUuZ2V0UHJldkRhdGUgPSAtPlxuICAgICRzY29wZS5kYXRlc1skc2NvcGUuZGF0ZXMubGVuZ3RoLTJdIGlmICRzY29wZS5kYXRlcz9cblxuICAkc2NvcGUuZ2V0TGFzdFZhbHVlID0gKGVsZW1lbnQpIC0+XG4gICAgXy5sYXN0KGVsZW1lbnQudG90YWxzKSBpZiBlbGVtZW50LnRvdGFscz9cblxuICAkc2NvcGUuZ2V0UGVyaW9kID0gLT5cbiAgICBwZXJpb2QgPSAnTU9OVEhMWSdcbiAgICBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnMucGVyaW9kP1xuICAgICAgcGVyaW9kID0gdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnMucGVyaW9kXG5cbiAgICBzd2l0Y2ggcGVyaW9kLnRvVXBwZXJDYXNlKClcbiAgICAgIHdoZW4gXCJEQUlMWVwiIHRoZW4gcmV0dXJuIFwiZGF5XCJcbiAgICAgIGVsc2UgcmV0dXJuIHBlcmlvZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ2x5JywnJylcblxuICAkc2NvcGUuZ2V0Q2xhc3NDb2xvciA9IChhVG90YWwpIC0+XG4gICAgaWYgcGFyc2VJbnQoYVRvdGFsKSA+IDBcbiAgICAgIHJldHVybiAncG9zaXRpdmUnXG4gICAgZWxzZSBpZiBwYXJzZUludChhVG90YWwpIDwgMFxuICAgICAgcmV0dXJuICduZWdhdGl2ZSdcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbnVsbFxuXG4gICRzY29wZS5nZXROYW1lID0gKGVsZW1lbnQpIC0+XG4gICAgZWxlbWVudC5uYW1lLnJlcGxhY2UoL18vZywgXCIgXCIpIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQubmFtZT9cblxuICAjIC0tLT5cbiAgIyBUT0RPIHNlbGVjdGVkRWxlbWVudCBhbmQgY29sbGFwc2VkIHNob3VsZCBiZSBmYWN0b3JpemVkIGFzIHNldHRpbmdzIG9yICdjb21tb25zJ1xuICAkc2NvcGUudG9nZ2xlU2VsZWN0ZWRFbGVtZW50ID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgJHNjb3BlLmlzU2VsZWN0ZWQoZWxlbWVudClcbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzID0gXy5yZWplY3QoJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgaWYgZWxlbWVudC5pZFxuICAgICAgICAgIHNFbGVtLmlkID09IGVsZW1lbnQuaWRcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNFbGVtLm5hbWUgPT0gZWxlbWVudC5uYW1lXG4gICAgICApXG4gICAgICB3LmZvcm1hdCgpXG4gICAgICBpZiB3LmlzRXhwYW5kZWQoKSAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT0gMFxuICAgICAgICB3LnRvZ2dsZUV4cGFuZGVkKClcbiAgICAgIGVsc2VcbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG4gICAgZWxzZVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMgfHw9IFtdXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnQpXG4gICAgICB3LmZvcm1hdCgpXG4gICAgICBpZiAhdy5pc0V4cGFuZGVkKClcbiAgICAgICAgdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgICBlbHNlXG4gICAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc1NlbGVjdGVkID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHM/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgaWYgZWxlbWVudC5pZFxuICAgICAgICAgIHNFbGVtLmlkID09IGVsZW1lbnQuaWRcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNFbGVtLm5hbWUgPT0gZWxlbWVudC5uYW1lXG4gICAgICApXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICRzY29wZS50b2dnbGVDb2xsYXBzZWQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGVsZW1lbnQubmFtZSA9PSBuYW1lKSlcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gXy5yZWplY3QoJHNjb3BlLnVuQ29sbGFwc2VkLCAobmFtZSkgLT5cbiAgICAgICAgICBuYW1lID09IGVsZW1lbnQubmFtZVxuICAgICAgICApXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZC5wdXNoKGVsZW1lbnQubmFtZSlcbiAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc0NvbGxhcHNlZCA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQubmFtZT9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUudW5Db2xsYXBzZWQsICgobmFtZSkgLT4gZWxlbWVudC5uYW1lID09IG5hbWUpKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAkc2NvcGUuaGFzRWxlbWVudHMgPSAtPlxuICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzPyAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPiAwXG4gICMgPC0tLVxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHM/ICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA+IDBcbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuXG4gICAgICBpbnB1dERhdGEgPSBbXVxuICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLCAoc0VsZW0pIC0+XG4gICAgICAgIGRhdGEgPSBhbmd1bGFyLmNvcHkoc0VsZW0pXG5cbiAgICAgICAgcGVyaW9kID0gbnVsbFxuICAgICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICAgIGRhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgICAkZmlsdGVyKCdtbm9EYXRlJykoZGF0ZSwgcGVyaW9kKVxuXG4gICAgICAgIGlucHV0RGF0YS5wdXNoKHt0aXRsZTogZGF0YS5uYW1lLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IGRhdGEudG90YWxzfSlcblxuICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS50b3RhbHMsICh2YWx1ZSkgLT5cbiAgICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSAmJj0gdmFsdWUgPj0gMFxuICAgICAgICApXG4gICAgICApXG5cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNjYWxlQmVnaW5BdFplcm86IGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlLFxuICAgICAgICBzaG93WExhYmVsczogdHJ1ZSxcbiAgICAgICAgZGF0YXNldEZpbGw6ICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PSAxLFxuICAgICAgICBwb2ludERvdDogJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09IDEsXG4gICAgICB9XG5cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChpbnB1dERhdGEsb3B0aW9ucylcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBNaW5pLXNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdW5Db2xsYXBzZWRTZXR0aW5nID0ge31cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7dW5Db2xsYXBzZWQ6ICRzY29wZS51bkNvbGxhcHNlZH1cblxuICB3LnNldHRpbmdzLnB1c2godW5Db2xsYXBzZWRTZXR0aW5nKVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nID0ge31cbiAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcuaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHtzZWxlY3RlZEVsZW1lbnRzOiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50c31cblxuICB3LnNldHRpbmdzLnB1c2goc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEFjY291bnRzUHJvZml0QW5kTG9zcycsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0QWNjb3VudHNQcm9maXRBbmRMb3NzQ3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-employee-details', []);

  module.controller('WidgetHrEmployeeDetailsCtrl', ["$scope", "$q", "$filter", function($scope, $q, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred1 = $q.defer();
    $scope.paramSelectorDeferred2 = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred1.promise, $scope.paramSelectorDeferred2.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.employees)) {
        $scope.periodOptions = [
          {
            label: 'Yearly',
            value: 'yearly'
          }, {
            label: 'Monthly',
            value: 'monthly'
          }, {
            label: 'Weekly',
            value: 'weekly'
          }, {
            label: 'Hourly',
            value: 'hourly'
          }
        ];
        if (w.metadata && w.metadata.period) {
          $scope.period = angular.copy(_.find($scope.periodOptions, function(o) {
            return o.value === w.metadata.period.toLowerCase();
          }) || $scope.periodOptions[0]);
        } else {
          $scope.period = angular.copy($scope.periodOptions[0]);
        }
        $scope.employeesOptions = _.map(w.content.employees, function(e) {
          return {
            value: e.uid,
            label: e.lastname + " " + e.firstname
          };
        });
        return $scope.selectedEmployee = {
          value: $scope.getEmployee().uid,
          label: ($scope.getEmployee().lastname) + " " + ($scope.getEmployee().firstname)
        };
      }
    };
    $scope.getSingleCompanyName = function() {
      var org, orgUid;
      if (w.content && w.content.organizations) {
        orgUid = w.content.organizations[0];
        org = _.find($scope.parentDashboard.data_sources, function(o) {
          return o.uid === orgUid;
        });
        if (org != null) {
          return org.label;
        }
      }
    };
    $scope.getEmployee = function() {
      var employee;
      if (!$scope.isDataFound) {
        return false;
      }
      if (w.metadata && w.metadata.employee_uid) {
        employee = angular.copy(_.find(w.content.employees, function(e) {
          return e.uid === w.metadata.employee_uid;
        }) || w.content.employees[0]);
      } else {
        employee = angular.copy(w.content.employees[0]);
      }
      employee.salary && (employee.salary = $filter('mnoCurrency')(employee.salary.amount, employee.salary.currency));
      return employee;
    };
    $scope.formatAddress = function(anAddress) {
      if (angular.isDefined(anAddress)) {
        return anAddress.replace(/, /g, ',\n');
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrEmployeeDetails', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrEmployeeDetailsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1lbXBsb3llZS1kZXRhaWxzL2hyLWVtcGxveWVlLWRldGFpbHMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsOENBQWYsRUFBOEQsRUFBOUQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsNkJBQWxCLEVBQWlELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxPQUFiO0FBRS9DLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3ZCLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ2hDLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBRWhDLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BRkosRUFHakIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE9BSGIsRUFJakIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE9BSmI7SUFVbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLElBQUcsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFaLENBQUQsSUFBeUIsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBcEIsQ0FBbEQ7UUFFRSxNQUFNLENBQUMsYUFBUCxHQUF1QjtVQUNyQjtZQUFDLEtBQUEsRUFBTyxRQUFSO1lBQWtCLEtBQUEsRUFBTyxRQUF6QjtXQURxQixFQUVyQjtZQUFDLEtB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QyxNQUF2QyxFQUE4QyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQTlEO0FBQ3BCLGFBQU87SUFYWTtJQWFyQixNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFDLFNBQUQ7TUFDckIsSUFBeUMsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsU0FBbEIsQ0FBekM7QUFBQSxlQUFPLFNBQVMsQ0FBQyxPQUFWLENBQWtCLEtBQWxCLEVBQXdCLEtBQXhCLEVBQVA7O0lBRHFCO1dBTXZCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBM0UrQyxDQUFqRDs7RUE4RUEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIseUJBQWpCLEVBQTRDLFNBQUE7QUFDMUMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLDZCQUZQOztFQURtQyxDQUE1QztBQWhGQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvaHItZW1wbG95ZWUtZGV0YWlscy9oci1lbXBsb3llZS1kZXRhaWxzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuaHItZW1wbG95ZWUtZGV0YWlscycsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRIckVtcGxveWVlRGV0YWlsc0N0cmwnLCAoJHNjb3BlLCAkcSwgJGZpbHRlcikgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUud2lkdGhEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDEgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQyID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUud2lkdGhEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDEucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQyLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9ICFfLmlzRW1wdHkody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5lbXBsb3llZXMpXG5cbiAgICAgICRzY29wZS5wZXJpb2RPcHRpb25zID0gW1xuICAgICAgICB7bGFiZWw6ICdZZWFybHknLCB2YWx1ZTogJ3llYXJseSd9LFxuICAgICAgICB7bGFiZWw6ICdNb250aGx5JywgdmFsdWU6ICdtb250aGx5J30sXG4gICAgICAgIHtsYWJlbDogJ1dlZWtseScsIHZhbHVlOiAnd2Vla2x5J30sXG4gICAgICAgIHtsYWJlbDogJ0hvdXJseScsIHZhbHVlOiAnaG91cmx5J31cbiAgICAgIF1cbiAgICAgIGlmIHcubWV0YWRhdGEgJiYgdy5tZXRhZGF0YS5wZXJpb2RcbiAgICAgICAgJHNjb3BlLnBlcmlvZCA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLnBlcmlvZE9wdGlvbnMsIChvKSAtPlxuICAgICAgICAgIG8udmFsdWUgPT0gdy5tZXRhZGF0YS5wZXJpb2QudG9Mb3dlckNhc2UoKVxuICAgICAgICApIHx8ICRzY29wZS5wZXJpb2RPcHRpb25zWzBdKVxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUucGVyaW9kID0gYW5ndWxhci5jb3B5KCRzY29wZS5wZXJpb2RPcHRpb25zWzBdKVxuXG4gICAgICAkc2NvcGUuZW1wbG95ZWVzT3B0aW9ucyA9IF8ubWFwKHcuY29udGVudC5lbXBsb3llZXMsIChlKSAtPlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IGUudWlkLFxuICAgICAgICAgIGxhYmVsOiBcIiN7ZS5sYXN0bmFtZX0gI3tlLmZpcnN0bmFtZX1cIixcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRW1wbG95ZWUgPSB7XG4gICAgICAgIHZhbHVlOiAkc2NvcGUuZ2V0RW1wbG95ZWUoKS51aWQsXG4gICAgICAgIGxhYmVsOiBcIiN7JHNjb3BlLmdldEVtcGxveWVlKCkubGFzdG5hbWV9ICN7JHNjb3BlLmdldEVtcGxveWVlKCkuZmlyc3RuYW1lfVwiLFxuICAgICAgfVxuXG4gICRzY29wZS5nZXRTaW5nbGVDb21wYW55TmFtZSA9IC0+XG4gICAgaWYgdy5jb250ZW50ICYmIHcuY29udGVudC5vcmdhbml6YXRpb25zXG4gICAgICBvcmdVaWQgPSB3LmNvbnRlbnQub3JnYW5pemF0aW9uc1swXVxuICAgICAgb3JnID0gXy5maW5kKCRzY29wZS5wYXJlbnREYXNoYm9hcmQuZGF0YV9zb3VyY2VzLCAobykgLT5cbiAgICAgICAgby51aWQgPT0gb3JnVWlkXG4gICAgICApXG4gICAgICByZXR1cm4gb3JnLmxhYmVsIGlmIG9yZz9cblxuICAkc2NvcGUuZ2V0RW1wbG95ZWUgPSAtPlxuICAgIHJldHVybiBmYWxzZSB1bmxlc3MgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgICBpZiB3Lm1ldGFkYXRhICYmIHcubWV0YWRhdGEuZW1wbG95ZWVfdWlkXG4gICAgICBlbXBsb3llZSA9IGFuZ3VsYXIuY29weShfLmZpbmQody5jb250ZW50LmVtcGxveWVlcywgKGUpIC0+XG4gICAgICAgIGUudWlkID09IHcubWV0YWRhdGEuZW1wbG95ZWVfdWlkXG4gICAgICApIHx8IHcuY29udGVudC5lbXBsb3llZXNbMF0pXG4gICAgZWxzZVxuICAgICAgZW1wbG95ZWUgPSBhbmd1bGFyLmNvcHkody5jb250ZW50LmVtcGxveWVlc1swXSlcblxuICAgIGVtcGxveWVlLnNhbGFyeSAmJj0gJGZpbHRlcignbW5vQ3VycmVuY3knKShlbXBsb3llZS5zYWxhcnkuYW1vdW50LGVtcGxveWVlLnNhbGFyeS5jdXJyZW5jeSlcbiAgICByZXR1cm4gZW1wbG95ZWVcblxuICAkc2NvcGUuZm9ybWF0QWRkcmVzcyA9IChhbkFkZHJlc3MpIC0+XG4gICAgcmV0dXJuIGFuQWRkcmVzcy5yZXBsYWNlKC8sIC9nLCcsXFxuJykgaWYgYW5ndWxhci5pc0RlZmluZWQoYW5BZGRyZXNzKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRIckVtcGxveWVlRGV0YWlscycsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJFbXBsb3llZURldGFpbHNDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-employees-list', []);

  module.controller('WidgetHrEmployeesListCtrl', ["$scope", "$q", "$filter", function($scope, $q, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.total) && !_.isEmpty(w.content.employees)) {
        $scope.periodOptions = [
          {
            label: 'Yearly',
            value: 'yearly'
          }, {
            label: 'Monthly',
            value: 'monthly'
          }, {
            label: 'Weekly',
            value: 'weekly'
          }, {
            label: 'Hourly',
            value: 'hourly'
          }
        ];
        return $scope.period = angular.copy(_.find($scope.periodOptions, function(o) {
          return o.value === w.content.total.period.toLowerCase();
        }) || $scope.periodOptions[0]);
      }
    };
    $scope.getSingleCompanyName = function() {
      var org, orgUid;
      if (w.content && w.content.organizations) {
        orgUid = w.content.organizations[0];
        org = _.find($scope.parentDashboard.data_sources, function(o) {
          return o.uid === orgUid;
        });
        return org.label;
      }
    };
    $scope.getEmployeeSalary = function(anEmployee) {
      if (anEmployee.salary != null) {
        return $filter('mnoCurrency')(anEmployee.salary.amount, w.content.total.currency);
      } else {
        return '-';
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrEmployeesList', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrEmployeesListCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1lbXBsb3llZXMtbGlzdC9oci1lbXBsb3llZXMtbGlzdC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw0Q0FBZixFQUE0RCxFQUE1RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiwyQkFBbEIsRUFBK0MsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLE9BQWI7QUFFN0MsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxxQkFBUCxHQUErQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRS9CLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMscUJBQXFCLENBQUMsT0FGWjtJQVFuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQVosQ0FBRCxJQUF5QixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFwQixDQUExQixJQUF3RCxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQixDQUFqRjtRQUNFLE1BQU0sQ0FBQyxhQUFQLEdBQXVCO1VBQ3JCO1lBQUMsS0FBQSxFQUFPLFFBQVI7WUFBa0IsS0FBQSxFQUFPLFFBQXpCO1dBRHFCLEVBRXJCO1lBQUMsS0FBQSxFQUFPLFNBQVI7WUFBbUIsS0FBQSxFQUFPLFNBQTFCO1dBRnFCLEVBR3JCO1lBQUMsS0FBQSxFQUFPLFFBQVI7WUFBa0IsS0FBQSxFQUFPLFFBQXpCO1dBSHFCLEVBSXJCO1lBQUMsS0FBQSxFQUFPLFFBQVI7WUFBa0IsS0FBQSxFQUFPLFFBQXpCO1dBSnFCOztlQU12QixNQUFNLENBQUMsTUFBUCxHQUFnQixPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLGFBQWQsRUFBNkIsU0FBQyxDQUFEO2lCQUN4RCxDQUFDLENBQUMsS0FBRixLQUFXLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUF2QixDQUFBO1FBRDZDLENBQTdCLENBQUEsSUFFeEIsTUFBTSxDQUFDLGFBQWMsQ0FBQSxDQUFBLENBRlYsRUFQbEI7O0lBRGM7SUFZaEIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLFNBQUE7QUFDNUIsVUFBQTtNQUFBLElBQUcsQ0FBQyxDQUFDLE9BQUYsSUFBYSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQTFCO1FBQ0UsTUFBQSxHQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYyxDQUFBLENBQUE7UUFDakMsR0FBQSxHQUFNLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUE5QixFQUE0QyxTQUFDLENBQUQ7aUJBQ2hELENBQUMsQ0FBQyxHQUFGLEtBQVM7UUFEdUMsQ0FBNUM7QUFHTixlQUFPLEdBQUcsQ0FBQyxNQUxiOztJQUQ0QjtJQVE5QixNQUFNLENBQUMsaUJBQVAsR0FBMkIsU0FBQyxVQUFEO01BQ3pCLElBQUcseUJBQUg7QUFDRSxlQUFPLE9BQUEsQ0FBUSxhQUFSLENBQUEsQ0FBdUIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUF6QyxFQUFnRCxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFoRSxFQURUO09BQUEsTUFBQTtBQUdFLGVBQU8sSUFIVDs7SUFEeUI7V0FTM0IsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUE5QzZDLENBQS9DOztFQWlEQSxNQUFNLENBQUMsU0FBUCxDQUFpQix1QkFBakIsRUFBMEMsU0FBQTtBQUN4QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksMkJBRlA7O0VBRGlDLENBQTFDO0FBbkRBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci1lbXBsb3llZXMtbGlzdC9oci1lbXBsb3llZXMtbGlzdC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmhyLWVtcGxveWVlcy1saXN0JyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyRW1wbG95ZWVzTGlzdEN0cmwnLCAoJHNjb3BlLCAkcSwgJGZpbHRlcikgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9ICFfLmlzRW1wdHkody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC50b3RhbCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZW1wbG95ZWVzKVxuICAgICAgJHNjb3BlLnBlcmlvZE9wdGlvbnMgPSBbXG4gICAgICAgIHtsYWJlbDogJ1llYXJseScsIHZhbHVlOiAneWVhcmx5J30sXG4gICAgICAgIHtsYWJlbDogJ01vbnRobHknLCB2YWx1ZTogJ21vbnRobHknfSxcbiAgICAgICAge2xhYmVsOiAnV2Vla2x5JywgdmFsdWU6ICd3ZWVrbHknfSxcbiAgICAgICAge2xhYmVsOiAnSG91cmx5JywgdmFsdWU6ICdob3VybHknfVxuICAgICAgXVxuICAgICAgJHNjb3BlLnBlcmlvZCA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLnBlcmlvZE9wdGlvbnMsIChvKSAtPlxuICAgICAgICBvLnZhbHVlID09IHcuY29udGVudC50b3RhbC5wZXJpb2QudG9Mb3dlckNhc2UoKVxuICAgICAgKSB8fCAkc2NvcGUucGVyaW9kT3B0aW9uc1swXSlcblxuICAkc2NvcGUuZ2V0U2luZ2xlQ29tcGFueU5hbWUgPSAtPlxuICAgIGlmIHcuY29udGVudCAmJiB3LmNvbnRlbnQub3JnYW5pemF0aW9uc1xuICAgICAgb3JnVWlkID0gdy5jb250ZW50Lm9yZ2FuaXphdGlvbnNbMF1cbiAgICAgIG9yZyA9IF8uZmluZCgkc2NvcGUucGFyZW50RGFzaGJvYXJkLmRhdGFfc291cmNlcywgKG8pIC0+XG4gICAgICAgIG8udWlkID09IG9yZ1VpZFxuICAgICAgKVxuICAgICAgcmV0dXJuIG9yZy5sYWJlbFxuXG4gICRzY29wZS5nZXRFbXBsb3llZVNhbGFyeSA9IChhbkVtcGxveWVlKSAtPlxuICAgIGlmIGFuRW1wbG95ZWUuc2FsYXJ5P1xuICAgICAgcmV0dXJuICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYW5FbXBsb3llZS5zYWxhcnkuYW1vdW50LHcuY29udGVudC50b3RhbC5jdXJyZW5jeSlcbiAgICBlbHNlXG4gICAgICByZXR1cm4gJy0nXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEhyRW1wbG95ZWVzTGlzdCcsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJFbXBsb3llZXNMaXN0Q3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-leaves-balance', []);

  module.controller('WidgetHrLeavesBalanceCtrl', ["$scope", "$q", function($scope, $q) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.employees)) {
        $scope.employeesOptions = _.map(w.content.employees, function(e) {
          return {
            value: e.uid,
            label: e.lastname + " " + e.firstname
          };
        });
        return $scope.selectedEmployee = {
          value: $scope.getEmployee().uid,
          label: ($scope.getEmployee().lastname) + " " + ($scope.getEmployee().firstname)
        };
      }
    };
    $scope.getEmployee = function() {
      var e;
      if (!$scope.isDataFound) {
        return false;
      }
      e = w.content.employees[0];
      if (w.metadata && w.metadata.employee_id) {
        e = _.find(w.content.employees, function(e) {
          return e.uid === w.metadata.employee_id;
        }) || w.content.employees[0];
      }
      return angular.copy(e);
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrLeavesBalance', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrLeavesBalanceCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1sZWF2ZXMtYmFsYW5jZS9oci1sZWF2ZXMtYmFsYW5jZS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw0Q0FBZixFQUE0RCxFQUE1RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiwyQkFBbEIsRUFBK0MsU0FBQyxNQUFELEVBQVMsRUFBVDtBQUU3QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFL0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUZaO0lBUW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBWixDQUFELElBQXlCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCLENBQWxEO1FBQ0UsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFoQixFQUEyQixTQUFDLENBQUQ7aUJBQ25EO1lBQ0UsS0FBQSxFQUFPLENBQUMsQ0FBQyxHQURYO1lBRUUsS0FBQSxFQUFVLENBQUMsQ0FBQyxRQUFILEdBQVksR0FBWixHQUFlLENBQUMsQ0FBQyxTQUY1Qjs7UUFEbUQsQ0FBM0I7ZUFNMUIsTUFBTSxDQUFDLGdCQUFQLEdBQTBCO1VBQ3hCLEtBQUEsRUFBTyxNQUFNLENBQUMsV0FBUCxDQUFBLENBQW9CLENBQUMsR0FESjtVQUV4QixLQUFBLEVBQVMsQ0FBQyxNQUFNLENBQUMsV0FBUCxDQUFBLENBQW9CLENBQUMsUUFBdEIsQ0FBQSxHQUErQixHQUEvQixHQUFpQyxDQUFDLE1BQU0sQ0FBQyxXQUFQLENBQUEsQ0FBb0IsQ0FBQyxTQUF0QixDQUZsQjtVQVA1Qjs7SUFEYztJQWFoQixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxJQUFBLENBQW9CLE1BQU0sQ0FBQyxXQUEzQjtBQUFBLGVBQU8sTUFBUDs7TUFFQSxDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUEsQ0FBQTtNQUN4QixJQUFHLENBQUMsQ0FBQyxRQUFGLElBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUE1QjtRQUNFLENBQUEsR0FBSSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBakIsRUFBNEIsU0FBQyxDQUFEO2lCQUM5QixDQUFDLENBQUMsR0FBRixLQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFEVSxDQUE1QixDQUFBLElBRUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUEsQ0FBQSxFQUgzQjs7QUFLQSxhQUFPLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBYjtJQVRZO1dBY3JCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBNUM2QyxDQUEvQzs7RUErQ0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsdUJBQWpCLEVBQTBDLFNBQUE7QUFDeEMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLDJCQUZQOztFQURpQyxDQUExQztBQWpEQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvaHItbGVhdmVzLWJhbGFuY2UvaHItbGVhdmVzLWJhbGFuY2UuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIyBUT0RPOiBmYWN0b3Igd2l0aCBzdXBlcmFubnVhdGlvbiBhY2NydWFscyAoZXhhY3Qgc2FtZSBjb250cm9sbGVyKVxuXG5tb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmhyLWxlYXZlcy1iYWxhbmNlJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyTGVhdmVzQmFsYW5jZUN0cmwnLCAoJHNjb3BlLCAkcSkgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9ICFfLmlzRW1wdHkody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5lbXBsb3llZXMpXG4gICAgICAkc2NvcGUuZW1wbG95ZWVzT3B0aW9ucyA9IF8ubWFwKHcuY29udGVudC5lbXBsb3llZXMsIChlKSAtPlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IGUudWlkLFxuICAgICAgICAgIGxhYmVsOiBcIiN7ZS5sYXN0bmFtZX0gI3tlLmZpcnN0bmFtZX1cIixcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRW1wbG95ZWUgPSB7XG4gICAgICAgIHZhbHVlOiAkc2NvcGUuZ2V0RW1wbG95ZWUoKS51aWQsXG4gICAgICAgIGxhYmVsOiBcIiN7JHNjb3BlLmdldEVtcGxveWVlKCkubGFzdG5hbWV9ICN7JHNjb3BlLmdldEVtcGxveWVlKCkuZmlyc3RuYW1lfVwiLFxuICAgICAgfVxuXG4gICRzY29wZS5nZXRFbXBsb3llZSA9IC0+XG4gICAgcmV0dXJuIGZhbHNlIHVubGVzcyAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAgIGUgPSB3LmNvbnRlbnQuZW1wbG95ZWVzWzBdXG4gICAgaWYgdy5tZXRhZGF0YSAmJiB3Lm1ldGFkYXRhLmVtcGxveWVlX2lkXG4gICAgICBlID0gXy5maW5kKHcuY29udGVudC5lbXBsb3llZXMsIChlKSAtPlxuICAgICAgICBlLnVpZCA9PSB3Lm1ldGFkYXRhLmVtcGxveWVlX2lkXG4gICAgICApIHx8IHcuY29udGVudC5lbXBsb3llZXNbMF1cblxuICAgIHJldHVybiBhbmd1bGFyLmNvcHkoZSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0SHJMZWF2ZXNCYWxhbmNlJywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRIckxlYXZlc0JhbGFuY2VDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-leaves-schedule', []);

  module.controller('WidgetHrLeavesScheduleCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise];
    w.initContext = function() {
      var eventsArray;
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary)) {
        eventsArray = [];
        angular.forEach(w.content.summary, function(leave) {
          return eventsArray.push({
            title: leave.employee_name + " - " + leave.title,
            start: leave.start_date,
            end: leave.end_date
          });
        });
        return $scope.eventSources = angular.copy(eventsArray);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrLeavesSchedule', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrLeavesScheduleCtrl'
    };
  });

  module.directive('widgetComponentCalendar', function() {
    return {
      scope: {
        events: '=ngModel'
      },
      restrict: 'A',
      link: function(scope, element) {
        var calendarOptions, getEvents;
        scope.eventSources = [];
        calendarOptions = {
          header: {
            left: "prev",
            center: "title",
            right: "next"
          },
          contentHeight: 204
        };
        getEvents = function() {
          return scope.events;
        };
        return scope.$watch(getEvents, function(events) {
          if (events.length > 0) {
            element.fullCalendar('destroy');
            angular.extend(calendarOptions, {
              events: scope.events
            });
            return element.fullCalendar(calendarOptions);
          }
        }, true);
      }
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1sZWF2ZXMtc2NoZWR1bGUvaHItbGVhdmVzLXNjaGVkdWxlLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLDZDQUFmLEVBQTZELEVBQTdEOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLDRCQUFsQixFQUFnRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWI7QUFFOUMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXJCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERjtJQU9uQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO0FBQ2QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVAsR0FBcUIsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsQ0FBQyxDQUFDLE9BQXBCLENBQUEsSUFBZ0MsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBcEIsQ0FBekQ7UUFFRSxXQUFBLEdBQWM7UUFDZCxPQUFPLENBQUMsT0FBUixDQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLE9BQTFCLEVBQW1DLFNBQUMsS0FBRDtpQkFDakMsV0FBVyxDQUFDLElBQVosQ0FDRTtZQUNFLEtBQUEsRUFBVSxLQUFLLENBQUMsYUFBUCxHQUFxQixLQUFyQixHQUEwQixLQUFLLENBQUMsS0FEM0M7WUFFRSxLQUFBLEVBQU8sS0FBSyxDQUFDLFVBRmY7WUFHRSxHQUFBLEVBQUssS0FBSyxDQUFDLFFBSGI7V0FERjtRQURpQyxDQUFuQztlQVNBLE1BQU0sQ0FBQyxZQUFQLEdBQXNCLE9BQU8sQ0FBQyxJQUFSLENBQWEsV0FBYixFQVp4Qjs7SUFEYztXQWtCaEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFqQzhDLENBQWhEOztFQW9DQSxNQUFNLENBQUMsU0FBUCxDQUFpQix3QkFBakIsRUFBMkMsU0FBQTtBQUN6QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksNEJBRlA7O0VBRGtDLENBQTNDOztFQU9BLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHlCQUFqQixFQUE0QyxTQUFBO0FBQzFDLFdBQU87TUFDTCxLQUFBLEVBQU87UUFDTCxNQUFBLEVBQVEsVUFESDtPQURGO01BSUwsUUFBQSxFQUFVLEdBSkw7TUFLTCxJQUFBLEVBQU0sU0FBQyxLQUFELEVBQVEsT0FBUjtBQUNKLFlBQUE7UUFBQSxLQUFLLENBQUMsWUFBTixHQUFxQjtRQUVyQixlQUFBLEdBQWtCO1VBQ2hCLE1BQUEsRUFBUTtZQUNOLElBQUEsRUFBTSxNQURBO1lBRU4sTUFBQSxFQUFRLE9BRkY7WUFHTixLQUFBLEVBQU8sTUFIRDtXQURRO1VBTWhCLGFBQUEsRUFBZSxHQU5DOztRQVVsQixTQUFBLEdBQVksU0FBQTtBQUNWLGlCQUFPLEtBQUssQ0FBQztRQURIO2VBR1osS0FBSyxDQUFDLE1BQU4sQ0FBYSxTQUFiLEVBQXdCLFNBQUMsTUFBRDtVQUN0QixJQUFHLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLENBQW5CO1lBQ0UsT0FBTyxDQUFDLFlBQVIsQ0FBcUIsU0FBckI7WUFDQSxPQUFPLENBQUMsTUFBUixDQUFlLGVBQWYsRUFBZ0M7Y0FBQyxNQUFBLEVBQVEsS0FBSyxDQUFDLE1BQWY7YUFBaEM7bUJBQ0EsT0FBTyxDQUFDLFlBQVIsQ0FBcUIsZUFBckIsRUFIRjs7UUFEc0IsQ0FBeEIsRUFLQyxJQUxEO01BaEJJLENBTEQ7O0VBRG1DLENBQTVDO0FBN0NBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci1sZWF2ZXMtc2NoZWR1bGUvaHItbGVhdmVzLXNjaGVkdWxlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuaHItbGVhdmVzLXNjaGVkdWxlJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyTGVhdmVzU2NoZWR1bGVDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdW1tYXJ5KVxuXG4gICAgICBldmVudHNBcnJheSA9IFtdXG4gICAgICBhbmd1bGFyLmZvckVhY2gody5jb250ZW50LnN1bW1hcnksIChsZWF2ZSkgLT5cbiAgICAgICAgZXZlbnRzQXJyYXkucHVzaChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogXCIje2xlYXZlLmVtcGxveWVlX25hbWV9IC0gI3tsZWF2ZS50aXRsZX1cIixcbiAgICAgICAgICAgIHN0YXJ0OiBsZWF2ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgZW5kOiBsZWF2ZS5lbmRfZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgJHNjb3BlLmV2ZW50U291cmNlcyA9IGFuZ3VsYXIuY29weShldmVudHNBcnJheSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0SHJMZWF2ZXNTY2hlZHVsZScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJMZWF2ZXNTY2hlZHVsZUN0cmwnXG4gIH1cbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0Q29tcG9uZW50Q2FsZW5kYXInLCAtPlxuICByZXR1cm4ge1xuICAgIHNjb3BlOiB7XG4gICAgICBldmVudHM6ICc9bmdNb2RlbCdcbiAgICB9XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnQpIC0+XG4gICAgICBzY29wZS5ldmVudFNvdXJjZXMgPSBbXVxuXG4gICAgICBjYWxlbmRhck9wdGlvbnMgPSB7XG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgIGxlZnQ6IFwicHJldlwiLFxuICAgICAgICAgIGNlbnRlcjogXCJ0aXRsZVwiLFxuICAgICAgICAgIHJpZ2h0OiBcIm5leHRcIixcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudEhlaWdodDogMjA0LFxuICAgICAgICAjIGFzcGVjdFJhdGlvOiAzLFxuICAgICAgfVxuXG4gICAgICBnZXRFdmVudHMgPSAtPlxuICAgICAgICByZXR1cm4gc2NvcGUuZXZlbnRzXG5cbiAgICAgIHNjb3BlLiR3YXRjaCBnZXRFdmVudHMsIChldmVudHMpIC0+XG4gICAgICAgIGlmIGV2ZW50cy5sZW5ndGggPiAwXG4gICAgICAgICAgZWxlbWVudC5mdWxsQ2FsZW5kYXIoJ2Rlc3Ryb3knKVxuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGNhbGVuZGFyT3B0aW9ucywge2V2ZW50czogc2NvcGUuZXZlbnRzfSlcbiAgICAgICAgICBlbGVtZW50LmZ1bGxDYWxlbmRhcihjYWxlbmRhck9wdGlvbnMpXG4gICAgICAsdHJ1ZVxuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-payroll-summary', []);

  module.controller('WidgetHrPayrollSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, $filter, ImpacWidgetsSvc) {
    var selectedElementsSetting, settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.dates)) {
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        if (w.metadata.selectedElements) {
          $scope.selectedElements = [];
          angular.forEach(w.metadata.selectedElements, function(sElem) {
            var foundElem;
            foundElem = _.find(w.content.summary, function(statement) {
              return statement.name === sElem.name;
            });
            if (!foundElem) {
              angular.forEach(w.content.summary, function(statement) {
                if (statement.employees != null) {
                  return foundElem || (foundElem = _.find(statement.employees, function(employee) {
                    return sElem.id === employee.id;
                  }));
                }
              });
            }
            if (foundElem) {
              return $scope.selectedElements.push(foundElem);
            }
          });
        }
        if (!(($scope.selectedElements != null) && $scope.selectedElements.length > 0)) {
          return w.width = 6;
        }
      }
    };
    $scope.getElementChartColor = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.getLastValue = function(element) {
      if (element.totals != null) {
        return element.totals[element.totals.length - 2];
      }
    };
    $scope.getTotalSum = function(element) {
      if (element.totals != null) {
        return _.reduce(element.totals, function(memo, num) {
          return memo + num;
        }, 0);
      }
    };
    $scope.getName = function(element) {
      if ((element != null) && (element.name != null)) {
        if (element.name === "total_leaves") {
          return "Total Leaves Accruals";
        }
        if (element.name === "total_super") {
          return "Total Superannuation Accruals";
        }
        if (element.name === "total_reimbursement") {
          return "Total Reimbursements";
        }
        if (element.name === "total_tax") {
          return "Total Taxes";
        }
        if (element.name === "total_timeoff") {
          return "Total Time Off";
        }
        return element.name.replace(/_/g, " ");
      }
    };
    $scope.getTrackedField = function() {
      var allFieldsEquals, field;
      if (!_.isEmpty($scope.selectedElements) && ($scope.selectedElements[0].id != null)) {
        field = $scope.selectedElements[0].id.split('-')[0];
        allFieldsEquals = true;
        angular.forEach($scope.selectedElements, function(element) {
          return allFieldsEquals && (allFieldsEquals = element.id && field === element.id.split('-')[0]);
        });
        if (allFieldsEquals) {
          return $scope.getName({
            name: field
          });
        } else {
          return null;
        }
      }
    };
    $scope.formatDate = function(date) {
      if (w.content.hist_parameters != null) {
        switch (w.content.hist_parameters.period) {
          case 'DAILY':
            return $filter('date')(date, 'dd-MMM');
          case 'WEEKLY':
            return $filter('date')(date, 'dd-MMM');
          case 'MONTHLY':
            return $filter('date')(date, 'MMM');
          case 'QUARTERLY':
            return $filter('date')(date, 'MMM-yy');
          case 'YEARLY':
            return $filter('date')(date, 'yyyy');
          default:
            return $filter('date')(date, 'MMM');
        }
      } else {
        return $filter('date')(date, 'MMM');
      }
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElements = _.reject($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        });
        w.format();
        if (w.isExpanded() && $scope.selectedElements.length === 0) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElements || ($scope.selectedElements = []);
        $scope.selectedElements.push(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      if ((element != null) && ($scope.selectedElements != null)) {
        if (_.find($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        })) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    };
    $scope.toggleCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === element.name;
          });
        } else {
          $scope.unCollapsed.push(element.name);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    $scope.hasElements = function() {
      return ($scope.selectedElements != null) && $scope.selectedElements.length > 0;
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, inputData, labels, options, pieData, pieOptions;
      if ($scope.isDataFound && $scope.hasElements()) {
        if (w.isHistoryMode) {
          all_values_are_positive = true;
          inputData = [];
          labels = _.map(w.content.dates, function(date) {
            if (w.metadata.hist_parameters && w.metadata.hist_parameters.period === "YEARLY") {
              return $filter('date')(date, 'yyyy');
            } else if (w.metadata.hist_parameters && w.metadata.hist_parameters.period === "QUARTERLY") {
              return $filter('date')(date, 'MMM-yy');
            } else if (w.metadata.hist_parameters && (w.metadata.hist_parameters.period === "WEEKLY" || w.metadata.hist_parameters.period === "DAILY")) {
              return $filter('date')(date, 'dd-MMM');
            } else {
              return $filter('date')(date, 'MMM');
            }
          });
          angular.forEach($scope.selectedElements, function(sElem) {
            var data;
            data = angular.copy(sElem);
            inputData.push({
              title: data.name,
              labels: labels,
              values: data.totals
            });
            return angular.forEach(data.totals, function(value) {
              return all_values_are_positive && (all_values_are_positive = value >= 0);
            });
          });
          options = {
            scaleBeginAtZero: all_values_are_positive,
            showXLabels: true,
            datasetFill: $scope.selectedElements.length === 1,
            pointDot: $scope.selectedElements.length === 1,
            currency: 'hide'
          };
          chartData = ChartFormatterSvc.lineChart(inputData, options);
        } else {
          pieData = _.map($scope.selectedElements, function(elem) {
            return {
              label: $filter('titleize')($scope.getName({
                name: elem.name
              })),
              value: $scope.getLastValue(elem)
            };
          });
          pieOptions = {
            showTooltips: true,
            percentageInnerCutout: 50,
            tooltipFontSize: 12,
            currency: 'hide'
          };
          chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        }
        return $scope.drawTrigger.notify(chartData);
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    selectedElementsSetting = {};
    selectedElementsSetting.initialized = false;
    selectedElementsSetting.initialize = function() {
      return selectedElementsSetting.initialized = true;
    };
    selectedElementsSetting.toMetadata = function() {
      return {
        selectedElements: $scope.selectedElements
      };
    };
    w.settings.push(selectedElementsSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrPayrollSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrPayrollSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1wYXlyb2xsLXN1bW1hcnkvaHItcGF5cm9sbC1zdW1tYXJ5LmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLDZDQUFmLEVBQTZELEVBQTdEOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLDRCQUFsQixFQUFnRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEMsRUFBeUMsZUFBekM7QUFFOUMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDMUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUpQLEVBS2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FMSjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFwQixD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Q0FBM0M7QUFwUEEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2hyLXBheXJvbGwtc3VtbWFyeS9oci1wYXlyb2xsLXN1bW1hcnkuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5oci1wYXlyb2xsLXN1bW1hcnknLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0SHJQYXlyb2xsU3VtbWFyeUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIsIEltcGFjV2lkZ2V0c1N2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS53aWR0aERlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5oaXN0TW9kZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdW1tYXJ5KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcylcblxuICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gdy5tZXRhZGF0YS51bkNvbGxhcHNlZCB8fCBbXVxuXG4gICAgICBpZiB3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudHNcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMgPSBbXVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gody5tZXRhZGF0YS5zZWxlY3RlZEVsZW1lbnRzLCAoc0VsZW0pIC0+XG4gICAgICAgICAgZm91bmRFbGVtID0gXy5maW5kKHcuY29udGVudC5zdW1tYXJ5LCAoc3RhdGVtZW50KS0+XG4gICAgICAgICAgICBzdGF0ZW1lbnQubmFtZSA9PSBzRWxlbS5uYW1lXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgaWYgIWZvdW5kRWxlbVxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHcuY29udGVudC5zdW1tYXJ5LCAoc3RhdGVtZW50KSAtPlxuICAgICAgICAgICAgICBmb3VuZEVsZW0gfHw9IF8uZmluZChzdGF0ZW1lbnQuZW1wbG95ZWVzLCAoZW1wbG95ZWUpLT5cbiAgICAgICAgICAgICAgICBzRWxlbS5pZCA9PSBlbXBsb3llZS5pZFxuICAgICAgICAgICAgICApIGlmIHN0YXRlbWVudC5lbXBsb3llZXM/XG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGZvdW5kRWxlbSkgaWYgZm91bmRFbGVtXG4gICAgICAgIClcblxuICAgICAgdy53aWR0aCA9IDYgdW5sZXNzICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzPyAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPiAwXG5cbiAgJHNjb3BlLmdldEVsZW1lbnRDaGFydENvbG9yID0gKGluZGV4KSAtPlxuICAgIENoYXJ0Rm9ybWF0dGVyU3ZjLmdldENvbG9yKGluZGV4KVxuXG4gICRzY29wZS5nZXRMYXN0VmFsdWUgPSAoZWxlbWVudCkgLT5cbiAgICBlbGVtZW50LnRvdGFsc1tlbGVtZW50LnRvdGFscy5sZW5ndGggLSAyXSBpZiBlbGVtZW50LnRvdGFscz9cblxuICAkc2NvcGUuZ2V0VG90YWxTdW0gPSAoZWxlbWVudCkgLT5cbiAgICBfLnJlZHVjZShlbGVtZW50LnRvdGFscywgKG1lbW8sIG51bSkgLT5cbiAgICAgIG1lbW8gKyBudW1cbiAgICAsIDApIGlmIGVsZW1lbnQudG90YWxzP1xuXG4gICRzY29wZS5nZXROYW1lID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgZWxlbWVudC5uYW1lP1xuICAgICAgcmV0dXJuIFwiVG90YWwgTGVhdmVzIEFjY3J1YWxzXCIgaWYgZWxlbWVudC5uYW1lID09IFwidG90YWxfbGVhdmVzXCJcbiAgICAgIHJldHVybiBcIlRvdGFsIFN1cGVyYW5udWF0aW9uIEFjY3J1YWxzXCIgaWYgZWxlbWVudC5uYW1lID09IFwidG90YWxfc3VwZXJcIlxuICAgICAgcmV0dXJuIFwiVG90YWwgUmVpbWJ1cnNlbWVudHNcIiBpZiBlbGVtZW50Lm5hbWUgPT0gXCJ0b3RhbF9yZWltYnVyc2VtZW50XCJcbiAgICAgIHJldHVybiBcIlRvdGFsIFRheGVzXCIgaWYgZWxlbWVudC5uYW1lID09IFwidG90YWxfdGF4XCJcbiAgICAgIHJldHVybiBcIlRvdGFsIFRpbWUgT2ZmXCIgaWYgZWxlbWVudC5uYW1lID09IFwidG90YWxfdGltZW9mZlwiXG4gICAgICByZXR1cm4gZWxlbWVudC5uYW1lLnJlcGxhY2UoL18vZywgXCIgXCIpXG5cbiAgJHNjb3BlLmdldFRyYWNrZWRGaWVsZCA9IC0+XG4gICAgaWYgIV8uaXNFbXB0eSgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cykgJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHNbMF0uaWQ/XG4gICAgICBmaWVsZCA9ICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzWzBdLmlkLnNwbGl0KCctJylbMF1cbiAgICAgIGFsbEZpZWxkc0VxdWFscyA9IHRydWVcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKGVsZW1lbnQpLT5cbiAgICAgICAgYWxsRmllbGRzRXF1YWxzICYmPSAoZWxlbWVudC5pZCAmJiBmaWVsZCA9PSBlbGVtZW50LmlkLnNwbGl0KCctJylbMF0pXG4gICAgICApXG5cbiAgICAgIGlmIGFsbEZpZWxkc0VxdWFsc1xuICAgICAgICByZXR1cm4gJHNjb3BlLmdldE5hbWUoe25hbWU6IGZpZWxkfSlcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIG51bGxcblxuICAkc2NvcGUuZm9ybWF0RGF0ZSA9IChkYXRlKSAtPlxuICAgIGlmIHcuY29udGVudC5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBzd2l0Y2ggdy5jb250ZW50Lmhpc3RfcGFyYW1ldGVycy5wZXJpb2RcbiAgICAgICAgd2hlbiAnREFJTFknXG4gICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkYXRlLCAnZGQtTU1NJylcbiAgICAgICAgd2hlbiAnV0VFS0xZJ1xuICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ2RkLU1NTScpXG4gICAgICAgIHdoZW4gJ01PTlRITFknXG4gICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkYXRlLCAnTU1NJylcbiAgICAgICAgd2hlbiAnUVVBUlRFUkxZJ1xuICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ01NTS15eScpXG4gICAgICAgIHdoZW4gJ1lFQVJMWSdcbiAgICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKGRhdGUsICd5eXl5JylcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ01NTScpXG4gICAgZWxzZVxuICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKShkYXRlLCAnTU1NJylcblxuICAjIC0tLT5cbiAgIyBUT0RPIHNlbGVjdGVkRWxlbWVudCBhbmQgY29sbGFwc2VkIHNob3VsZCBiZSBmYWN0b3JpemVkIGFzIHNldHRpbmdzIG9yICdjb21tb25zJ1xuICAkc2NvcGUudG9nZ2xlU2VsZWN0ZWRFbGVtZW50ID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgJHNjb3BlLmlzU2VsZWN0ZWQoZWxlbWVudClcbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzID0gXy5yZWplY3QoJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgaWYgZWxlbWVudC5pZFxuICAgICAgICAgIHNFbGVtLmlkID09IGVsZW1lbnQuaWRcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNFbGVtLm5hbWUgPT0gZWxlbWVudC5uYW1lXG4gICAgICApXG4gICAgICB3LmZvcm1hdCgpXG4gICAgICBpZiB3LmlzRXhwYW5kZWQoKSAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT0gMFxuICAgICAgICB3LnRvZ2dsZUV4cGFuZGVkKClcbiAgICAgIGVsc2VcbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG4gICAgZWxzZVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMgfHw9IFtdXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnQpXG4gICAgICB3LmZvcm1hdCgpXG4gICAgICBpZiAhdy5pc0V4cGFuZGVkKClcbiAgICAgICAgdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgICBlbHNlXG4gICAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc1NlbGVjdGVkID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHM/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgaWYgZWxlbWVudC5pZFxuICAgICAgICAgIHNFbGVtLmlkID09IGVsZW1lbnQuaWRcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNFbGVtLm5hbWUgPT0gZWxlbWVudC5uYW1lXG4gICAgICApXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICRzY29wZS50b2dnbGVDb2xsYXBzZWQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGVsZW1lbnQubmFtZSA9PSBuYW1lKSlcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gXy5yZWplY3QoJHNjb3BlLnVuQ29sbGFwc2VkLCAobmFtZSkgLT5cbiAgICAgICAgICBuYW1lID09IGVsZW1lbnQubmFtZVxuICAgICAgICApXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZC5wdXNoKGVsZW1lbnQubmFtZSlcbiAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc0NvbGxhcHNlZCA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQubmFtZT9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUudW5Db2xsYXBzZWQsICgobmFtZSkgLT4gZWxlbWVudC5uYW1lID09IG5hbWUpKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAkc2NvcGUuaGFzRWxlbWVudHMgPSAtPlxuICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzPyAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPiAwXG4gICMgPC0tLVxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgJHNjb3BlLmhhc0VsZW1lbnRzKClcblxuICAgICAgaWYgdy5pc0hpc3RvcnlNb2RlXG4gICAgICAgICMgSGlzdCBjaGFydFxuICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSA9IHRydWVcbiAgICAgICAgaW5wdXREYXRhID0gW11cbiAgICAgICAgbGFiZWxzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgICBpZiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgPT0gXCJZRUFSTFlcIlxuICAgICAgICAgICAgJGZpbHRlcignZGF0ZScpKGRhdGUsICd5eXl5JylcbiAgICAgICAgICBlbHNlIGlmIHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzICYmIHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCA9PSBcIlFVQVJURVJMWVwiXG4gICAgICAgICAgICAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ01NTS15eScpXG4gICAgICAgICAgZWxzZSBpZiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycyAmJiAody5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnMucGVyaW9kID09IFwiV0VFS0xZXCIgfHwgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnMucGVyaW9kID09IFwiREFJTFlcIilcbiAgICAgICAgICAgICRmaWx0ZXIoJ2RhdGUnKShkYXRlLCAnZGQtTU1NJylcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ01NTScpXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKHNFbGVtKSAtPlxuICAgICAgICAgIGRhdGEgPSBhbmd1bGFyLmNvcHkoc0VsZW0pXG4gICAgICAgICAgaW5wdXREYXRhLnB1c2goe3RpdGxlOiBkYXRhLm5hbWUsIGxhYmVsczogbGFiZWxzLCB2YWx1ZXM6IGRhdGEudG90YWxzfSlcblxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLnRvdGFscywgKHZhbHVlKSAtPlxuICAgICAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSxcbiAgICAgICAgICBzaG93WExhYmVsczogdHJ1ZSxcbiAgICAgICAgICBkYXRhc2V0RmlsbDogJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09IDEsXG4gICAgICAgICAgcG9pbnREb3Q6ICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PSAxLFxuICAgICAgICAgIGN1cnJlbmN5OiAnaGlkZSdcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5saW5lQ2hhcnQoaW5wdXREYXRhLG9wdGlvbnMpXG5cbiAgICAgIGVsc2VcbiAgICAgICAgIyBDdXJyZW50IGNoYXJ0XG4gICAgICAgIHBpZURhdGEgPSBfLm1hcCAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKGVsZW0pIC0+XG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6ICRmaWx0ZXIoJ3RpdGxlaXplJykoJHNjb3BlLmdldE5hbWUoe25hbWU6IGVsZW0ubmFtZX0pKSxcbiAgICAgICAgICAgIHZhbHVlOiAkc2NvcGUuZ2V0TGFzdFZhbHVlKGVsZW0pLFxuICAgICAgICAgIH1cbiAgICAgICAgcGllT3B0aW9ucyA9IHtcbiAgICAgICAgICBzaG93VG9vbHRpcHM6IHRydWUsXG4gICAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0OiA1MCxcbiAgICAgICAgICB0b29sdGlwRm9udFNpemU6IDEyLFxuICAgICAgICAgIGN1cnJlbmN5OiAnaGlkZSdcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5waWVDaGFydChwaWVEYXRhLCBwaWVPcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIE1pbmktc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB1bkNvbGxhcHNlZFNldHRpbmcgPSB7fVxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHt1bkNvbGxhcHNlZDogJHNjb3BlLnVuQ29sbGFwc2VkfVxuXG4gIHcuc2V0dGluZ3MucHVzaCh1bkNvbGxhcHNlZFNldHRpbmcpXG5cbiAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcgPSB7fVxuICBzZWxlY3RlZEVsZW1lbnRzU2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcuaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3NlbGVjdGVkRWxlbWVudHM6ICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzfVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZWxlY3RlZEVsZW1lbnRzU2V0dGluZylcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0SHJQYXlyb2xsU3VtbWFyeScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJQYXlyb2xsU3VtbWFyeUN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-payroll-taxes', []);

  module.controller('WidgetHrPayrollTaxesCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.total_tax) && !_.isEmpty(w.content.dates);
    };
    $scope.getCurrentPrice = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.total_tax);
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency || "USD";
      }
    };
    $scope.getPeriod = function() {
      var period, period_param;
      if ($scope.isDataFound && w.content.hist_parameters) {
        period_param = w.content.hist_parameters.period || "MONTHLY";
        period = "day";
        if (period_param !== "DAILY") {
          period = period_param.substr(0, period_param.length - 2).toLowerCase();
        }
        return "(current " + period + ")";
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, dates, inputData, options, period;
      if ($scope.isDataFound) {
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: "Payroll Taxes",
          labels: dates,
          values: w.content.total_tax
        };
        all_values_are_positive = true;
        angular.forEach(w.content.total_tax, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrPayrollTaxes', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrPayrollTaxesCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1wYXlyb2xsLXRheGVzL2hyLXBheXJvbGwtdGF4ZXMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMEJBQWxCLEVBQThDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUU1QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDMUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BSFAsRUFJakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUpKO0lBVW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7YUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixtQkFBQSxJQUFjLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCLENBQWYsSUFBaUQsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBcEI7SUFEekQ7SUFHaEIsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQTtNQUN2QixJQUFxQyxNQUFNLENBQUMsV0FBNUM7QUFBQSxlQUFPLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFqQixFQUFQOztJQUR1QjtJQUd6QixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO01BQ25CLElBQXNDLE1BQU0sQ0FBQyxXQUE3QztBQUFBLGVBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFWLElBQXNCLE1BQTdCOztJQURtQjtJQUdyQixNQUFNLENBQUMsU0FBUCxHQUFtQixTQUFBO0FBQ2pCLFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFQLElBQXNCLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBbkM7UUFDRSxZQUFBLEdBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBMUIsSUFBb0M7UUFDbkQsTUFBQSxHQUFTO1FBQ1QsSUFBdUUsWUFBQSxLQUFnQixPQUF2RjtVQUFBLE1BQUEsR0FBUyxZQUFZLENBQUMsTUFBYixDQUFvQixDQUFwQixFQUFzQixZQUFZLENBQUMsTUFBYixHQUFvQixDQUExQyxDQUE0QyxDQUFDLFdBQTdDLENBQUEsRUFBVDs7QUFDQSxlQUFPLFdBQUEsR0FBWSxNQUFaLEdBQW1CLElBSjVCOztJQURpQjtJQVVuQixNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLENBQUMsQ0FBQyxNQUFGLEdBQVcsU0FBQTtBQUNULFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBRUUsTUFBQSxHQUFTO1FBQ1QsSUFBOEMsb0JBQUEsSUFBZSxvQ0FBN0Q7VUFBQSxNQUFBLEdBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsT0FBcEM7O1FBQ0EsS0FBQSxHQUFRLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFoQixFQUF1QixTQUFDLElBQUQ7aUJBQzdCLE9BQUEsQ0FBUSxTQUFSLENBQUEsQ0FBbUIsSUFBbkIsRUFBeUIsTUFBekI7UUFENkIsQ0FBdkI7UUFHUixTQUFBLEdBQVk7VUFBQyxLQUFBLEVBQU8sZUFBUjtVQUF5QixNQUFBLEVBQVEsS0FBakM7VUFBd0MsTUFBQSxFQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBMUQ7O1FBQ1osdUJBQUEsR0FBMEI7UUFDMUIsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUExQixFQUFxQyxTQUFDLEtBQUQ7aUJBQ25DLDRCQUFBLDBCQUE0QixLQUFBLElBQVM7UUFERixDQUFyQztRQUlBLE9BQUEsR0FBVTtVQUNSLGdCQUFBLEVBQWtCLHVCQURWO1VBRVIsV0FBQSxFQUFhLEtBRkw7O1FBSVYsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLENBQUMsU0FBRCxDQUE1QixFQUF3QyxPQUF4QztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFwQkY7O0lBRFM7V0EwQlgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFuRTRDLENBQTlDOztFQXNFQSxNQUFNLENBQUMsU0FBUCxDQUFpQixzQkFBakIsRUFBeUMsU0FBQTtBQUN2QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksMEJBRlA7O0VBRGdDLENBQXpDO0FBeEVBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci1wYXlyb2xsLXRheGVzL2hyLXBheXJvbGwtdGF4ZXMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5oci1wYXlyb2xsLXRheGVzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyUGF5cm9sbFRheGVzQ3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YywgJGZpbHRlcikgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5oaXN0TW9kZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuaGlzdE1vZGVEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gdy5jb250ZW50PyAmJiAhXy5pc0VtcHR5KHcuY29udGVudC50b3RhbF90YXgpICYmICFfLmlzRW1wdHkody5jb250ZW50LmRhdGVzKVxuXG4gICRzY29wZS5nZXRDdXJyZW50UHJpY2UgPSAtPlxuICAgIHJldHVybiBfLmxhc3Qgdy5jb250ZW50LnRvdGFsX3RheCBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0Q3VycmVuY3kgPSAtPlxuICAgIHJldHVybiB3LmNvbnRlbnQuY3VycmVuY3kgfHwgXCJVU0RcIiBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0UGVyaW9kID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgdy5jb250ZW50Lmhpc3RfcGFyYW1ldGVyc1xuICAgICAgcGVyaW9kX3BhcmFtID0gdy5jb250ZW50Lmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgfHwgXCJNT05USExZXCJcbiAgICAgIHBlcmlvZCA9IFwiZGF5XCJcbiAgICAgIHBlcmlvZCA9IHBlcmlvZF9wYXJhbS5zdWJzdHIoMCxwZXJpb2RfcGFyYW0ubGVuZ3RoLTIpLnRvTG93ZXJDYXNlKCkgaWYgcGVyaW9kX3BhcmFtICE9IFwiREFJTFlcIlxuICAgICAgcmV0dXJuIFwiKGN1cnJlbnQgI3twZXJpb2R9KVwiXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIHcuY29udGVudC5kYXRlcywgKGRhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgIGlucHV0RGF0YSA9IHt0aXRsZTogXCJQYXlyb2xsIFRheGVzXCIsIGxhYmVsczogZGF0ZXMsIHZhbHVlczogdy5jb250ZW50LnRvdGFsX3RheH1cbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKHcuY29udGVudC50b3RhbF90YXgsICh2YWx1ZSkgLT5cbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChbaW5wdXREYXRhXSxvcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEhyUGF5cm9sbFRheGVzJywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRIclBheXJvbGxUYXhlc0N0cmwnLFxuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-salaries-summary', []);

  module.controller('WidgetHrSalariesSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred1 = $q.defer();
    $scope.paramSelectorDeferred2 = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred1.promise, $scope.paramSelectorDeferred2.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && (w.content.summary != null) && !_.isEmpty(w.content.summary.data)) {
        $scope.periodOptions = [
          {
            label: 'Yearly',
            value: 'yearly'
          }, {
            label: 'Monthly',
            value: 'monthly'
          }, {
            label: 'Weekly',
            value: 'weekly'
          }, {
            label: 'Hourly',
            value: 'hourly'
          }
        ];
        $scope.period = angular.copy(_.find($scope.periodOptions, function(o) {
          return o.value === w.content.total.period.toLowerCase();
        }) || $scope.periodOptions[0]);
        $scope.filterOptions = [
          {
            label: 'Gender',
            value: 'gender'
          }, {
            label: 'Age Range',
            value: 'age_range'
          }, {
            label: 'Job Title',
            value: 'job_title'
          }
        ];
        return $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return o.value === w.content.summary.filter;
        }) || $scope.filterOptions[0]);
      }
    };
    $scope.getColorByIndex = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var barData, barOptions, chartData, lineData, lineOptions;
      if ($scope.isDataFound) {
        barData = {
          labels: _.map(w.content.summary.data, function(elem) {
            return elem.label;
          }),
          values: _.map(w.content.summary.data, function(elem) {
            return elem.value;
          })
        };
        if ($scope.filter.value === 'gender') {
          barOptions = {
            showTooltips: false
          };
          chartData = ChartFormatterSvc.barChart(barData, barOptions);
        } else if ($scope.filter.value === 'job_title') {
          barOptions = {
            showTooltips: false,
            showXLabels: false,
            barDatasetSpacing: 15
          };
          chartData = ChartFormatterSvc.barChart(barData, barOptions);
        } else if ($scope.filter.value === 'age_range') {
          if (_.last(barData.labels) === "unknown") {
            barData.labels.pop();
            barData.values.pop();
          }
          lineData = [
            {
              title: "Average salary",
              labels: barData.labels,
              values: barData.values
            }
          ];
          lineOptions = {
            scaleBeginAtZero: true,
            showXLabels: false
          };
          chartData = ChartFormatterSvc.lineChart(lineData, lineOptions);
        } else {
          return {
            error: {
              message: "wrong filter",
              code: 400
            }
          };
        }
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrSalariesSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrSalariesSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1zYWxhcmllcy1zdW1tYXJ5L2hyLXNhbGFyaWVzLXN1bW1hcnkuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsOENBQWYsRUFBOEQsRUFBOUQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsNkJBQWxCLEVBQWlELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYjtBQUUvQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsc0JBQVAsR0FBZ0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNoQyxNQUFNLENBQUMsc0JBQVAsR0FBZ0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNoQyxNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BRkosRUFHakIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE9BSGIsRUFJakIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE9BSmIsRUFLakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUxKO0lBV25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBWixDQUFELElBQXlCLDJCQUF6QixJQUErQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFB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QUFPLENBQUMsTUFBTSxDQUFDLEdBQWYsQ0FBQTtZQUNBLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBZixDQUFBLEVBRkY7O1VBR0EsUUFBQSxHQUFXO1lBQUM7Y0FDVixLQUFBLEVBQU8sZ0JBREc7Y0FFVixNQUFBLEVBQVEsT0FBTyxDQUFDLE1BRk47Y0FHVixNQUFBLEVBQVEsT0FBTyxDQUFDLE1BSE47YUFBRDs7VUFLWCxXQUFBLEdBQWM7WUFDWixnQkFBQSxFQUFrQixJQUROO1lBRVosV0FBQSxFQUFhLEtBRkQ7O1VBSWQsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLFFBQTVCLEVBQXNDLFdBQXRDLEVBYlQ7U0FBQSxNQUFBO0FBZ0JILGlCQUFPO1lBQUMsS0FBQSxFQUFPO2NBQUMsT0FBQSxFQUFTLGNBQVY7Y0FBMEIsSUFBQSxFQUFNLEdBQWhDO2FBQVI7WUFoQko7O2VBbUJMLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUEzQ0Y7O0lBRFM7V0FpRFgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFyRytDLENBQWpEOztFQXdHQSxNQUFNLENBQUMsU0FBUCxDQUFpQix5QkFBakIsRUFBNEMsU0FBQTtBQUMxQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksNkJBRlA7O0VBRG1DLENBQTVDO0FBMUdBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci1zYWxhcmllcy1zdW1tYXJ5L2hyLXNhbGFyaWVzLXN1bW1hcnkuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5oci1zYWxhcmllcy1zdW1tYXJ5JyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyU2FsYXJpZXNTdW1tYXJ5Q3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUud2lkdGhEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDEgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQyID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQxLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkMi5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gIV8uaXNFbXB0eSh3LmNvbnRlbnQpICYmIHcuY29udGVudC5zdW1tYXJ5PyAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdW1tYXJ5LmRhdGEpXG5cbiAgICAgICRzY29wZS5wZXJpb2RPcHRpb25zID0gW1xuICAgICAgICB7bGFiZWw6ICdZZWFybHknLCB2YWx1ZTogJ3llYXJseSd9LFxuICAgICAgICB7bGFiZWw6ICdNb250aGx5JywgdmFsdWU6ICdtb250aGx5J30sXG4gICAgICAgIHtsYWJlbDogJ1dlZWtseScsIHZhbHVlOiAnd2Vla2x5J30sXG4gICAgICAgIHtsYWJlbDogJ0hvdXJseScsIHZhbHVlOiAnaG91cmx5J31cbiAgICAgIF1cbiAgICAgICRzY29wZS5wZXJpb2QgPSBhbmd1bGFyLmNvcHkoXy5maW5kKCRzY29wZS5wZXJpb2RPcHRpb25zLCAobykgLT5cbiAgICAgICAgby52YWx1ZSA9PSB3LmNvbnRlbnQudG90YWwucGVyaW9kLnRvTG93ZXJDYXNlKClcbiAgICAgICkgfHwgJHNjb3BlLnBlcmlvZE9wdGlvbnNbMF0pXG5cbiAgICAgICRzY29wZS5maWx0ZXJPcHRpb25zID0gW1xuICAgICAgICB7bGFiZWw6ICdHZW5kZXInLCB2YWx1ZTogJ2dlbmRlcid9LFxuICAgICAgICB7bGFiZWw6ICdBZ2UgUmFuZ2UnLCB2YWx1ZTogJ2FnZV9yYW5nZSd9LFxuICAgICAgICB7bGFiZWw6ICdKb2IgVGl0bGUnLCB2YWx1ZTogJ2pvYl90aXRsZSd9LFxuICAgICAgXVxuICAgICAgJHNjb3BlLmZpbHRlciA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLmZpbHRlck9wdGlvbnMsIChvKSAtPlxuICAgICAgICBvLnZhbHVlID09IHcuY29udGVudC5zdW1tYXJ5LmZpbHRlclxuICAgICAgKSB8fCAkc2NvcGUuZmlsdGVyT3B0aW9uc1swXSlcblxuICAkc2NvcGUuZ2V0Q29sb3JCeUluZGV4ID0gKGluZGV4KSAtPlxuICAgIENoYXJ0Rm9ybWF0dGVyU3ZjLmdldENvbG9yKGluZGV4KVxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIGJhckRhdGEgPSB7XG4gICAgICAgIGxhYmVsczogXy5tYXAody5jb250ZW50LnN1bW1hcnkuZGF0YSwgKGVsZW0pIC0+XG4gICAgICAgICAgZWxlbS5sYWJlbFxuICAgICAgICApLFxuICAgICAgICB2YWx1ZXM6IF8ubWFwKHcuY29udGVudC5zdW1tYXJ5LmRhdGEsIChlbGVtKSAtPlxuICAgICAgICAgIGVsZW0udmFsdWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAkc2NvcGUuZmlsdGVyLnZhbHVlID09ICdnZW5kZXInXG4gICAgICAgIGJhck9wdGlvbnMgPSB7XG4gICAgICAgICAgc2hvd1Rvb2x0aXBzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5iYXJDaGFydChiYXJEYXRhLCBiYXJPcHRpb25zKVxuXG4gICAgICBlbHNlIGlmICRzY29wZS5maWx0ZXIudmFsdWUgPT0gJ2pvYl90aXRsZSdcbiAgICAgICAgYmFyT3B0aW9ucyA9IHtcbiAgICAgICAgICBzaG93VG9vbHRpcHM6IGZhbHNlLFxuICAgICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMTUsXG4gICAgICAgIH1cbiAgICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMuYmFyQ2hhcnQoYmFyRGF0YSwgYmFyT3B0aW9ucylcblxuICAgICAgZWxzZSBpZiAkc2NvcGUuZmlsdGVyLnZhbHVlID09ICdhZ2VfcmFuZ2UnXG4gICAgICAgIGlmIF8ubGFzdChiYXJEYXRhLmxhYmVscykgPT0gXCJ1bmtub3duXCJcbiAgICAgICAgICBiYXJEYXRhLmxhYmVscy5wb3AoKVxuICAgICAgICAgIGJhckRhdGEudmFsdWVzLnBvcCgpXG4gICAgICAgIGxpbmVEYXRhID0gW3tcbiAgICAgICAgICB0aXRsZTogXCJBdmVyYWdlIHNhbGFyeVwiLFxuICAgICAgICAgIGxhYmVsczogYmFyRGF0YS5sYWJlbHMsXG4gICAgICAgICAgdmFsdWVzOiBiYXJEYXRhLnZhbHVlc1xuICAgICAgICB9XVxuICAgICAgICBsaW5lT3B0aW9ucyA9IHtcbiAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5saW5lQ2hhcnQobGluZURhdGEsIGxpbmVPcHRpb25zKVxuXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB7ZXJyb3I6IHttZXNzYWdlOiBcIndyb25nIGZpbHRlclwiLCBjb2RlOiA0MDB9fVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEhyU2FsYXJpZXNTdW1tYXJ5JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRIclNhbGFyaWVzU3VtbWFyeUN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-superannuation-accruals', []);

  module.controller('WidgetHrSuperannuationAccrualsCtrl', ["$scope", "$q", function($scope, $q) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.employees)) {
        $scope.employeesOptions = _.map(w.content.employees, function(e) {
          return {
            value: e.uid,
            label: e.lastname + " " + e.firstname
          };
        });
        return $scope.selectedEmployee = {
          value: $scope.getEmployee().uid,
          label: ($scope.getEmployee().lastname) + " " + ($scope.getEmployee().firstname)
        };
      }
    };
    $scope.getEmployee = function() {
      var e;
      if (!$scope.isDataFound) {
        return false;
      }
      e = w.content.employees[0];
      if (w.metadata && w.metadata.employee_id) {
        e = _.find(w.content.employees, function(e) {
          return e.uid === w.metadata.employee_id;
        }) || w.content.employees[0];
      }
      return angular.copy(e);
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrSuperannuationAccruals', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrSuperannuationAccrualsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci1zdXBlcmFubnVhdGlvbi1hY2NydWFscy9oci1zdXBlcmFubnVhdGlvbi1hY2NydWFscy5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxxREFBZixFQUFxRSxFQUFyRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixvQ0FBbEIsRUFBd0QsU0FBQyxNQUFELEVBQVMsRUFBVDtBQUV0RCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFL0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUZaO0lBUW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBWixDQUFELElBQXlCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCLENBQWxEO1FBQ0UsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFoQixFQUEyQixTQUFDLENBQUQ7aUJBQ25EO1lBQ0UsS0FBQSxFQUFPLENBQUMsQ0FBQyxHQURYO1lBRUUsS0FBQSxFQUFVLENBQUMsQ0FBQyxRQUFILEdBQVksR0FBWixHQUFlLENBQUMsQ0FBQyxTQUY1Qjs7UUFEbUQsQ0FBM0I7ZUFNMUIsTUFBTSxDQUFDLGdCQUFQLEdBQTBCO1VBQ3hCLEtBQUEsRUFBTyxNQUFNLENBQUMsV0FBUCxDQUFBLENBQW9CLENBQUMsR0FESjtVQUV4QixLQUFBLEVBQVMsQ0FBQyxNQUFNLENBQUMsV0FBUCxDQUFBLENBQW9CLENBQUMsUUFBdEIsQ0FBQSxHQUErQixHQUEvQixHQUFpQyxDQUFDLE1BQU0sQ0FBQyxXQUFQLENBQUEsQ0FBb0IsQ0FBQyxTQUF0QixDQUZsQjtVQVA1Qjs7SUFEYztJQWFoQixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxJQUFBLENBQW9CLE1BQU0sQ0FBQyxXQUEzQjtBQUFBLGVBQU8sTUFBUDs7TUFFQSxDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUEsQ0FBQTtNQUN4QixJQUFHLENBQUMsQ0FBQyxRQUFGLElBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUE1QjtRQUNFLENBQUEsR0FBSSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBakIsRUFBNEIsU0FBQyxDQUFEO2lCQUM5QixDQUFDLENBQUMsR0FBRixLQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFEVSxDQUE1QixDQUFBLElBRUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFVLENBQUEsQ0FBQSxFQUgzQjs7QUFLQSxhQUFPLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBYjtJQVRZO1dBY3JCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBNUNzRCxDQUF4RDs7RUErQ0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsZ0NBQWpCLEVBQW1ELFNBQUE7QUFDakQsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLG9DQUZQOztFQUQwQyxDQUFuRDtBQWpEQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvaHItc3VwZXJhbm51YXRpb24tYWNjcnVhbHMvaHItc3VwZXJhbm51YXRpb24tYWNjcnVhbHMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5oci1zdXBlcmFubnVhdGlvbi1hY2NydWFscycsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRIclN1cGVyYW5udWF0aW9uQWNjcnVhbHNDdHJsJywgKCRzY29wZSwgJHEpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgPSAhXy5pc0VtcHR5KHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZW1wbG95ZWVzKVxuICAgICAgJHNjb3BlLmVtcGxveWVlc09wdGlvbnMgPSBfLm1hcCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiBlLnVpZCxcbiAgICAgICAgICBsYWJlbDogXCIje2UubGFzdG5hbWV9ICN7ZS5maXJzdG5hbWV9XCIsXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgICRzY29wZS5zZWxlY3RlZEVtcGxveWVlID0ge1xuICAgICAgICB2YWx1ZTogJHNjb3BlLmdldEVtcGxveWVlKCkudWlkLFxuICAgICAgICBsYWJlbDogXCIjeyRzY29wZS5nZXRFbXBsb3llZSgpLmxhc3RuYW1lfSAjeyRzY29wZS5nZXRFbXBsb3llZSgpLmZpcnN0bmFtZX1cIixcbiAgICAgIH1cblxuICAkc2NvcGUuZ2V0RW1wbG95ZWUgPSAtPlxuICAgIHJldHVybiBmYWxzZSB1bmxlc3MgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgICBlID0gdy5jb250ZW50LmVtcGxveWVlc1swXVxuICAgIGlmIHcubWV0YWRhdGEgJiYgdy5tZXRhZGF0YS5lbXBsb3llZV9pZFxuICAgICAgZSA9IF8uZmluZCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAgZS51aWQgPT0gdy5tZXRhZGF0YS5lbXBsb3llZV9pZFxuICAgICAgKSB8fCB3LmNvbnRlbnQuZW1wbG95ZWVzWzBdXG5cbiAgICByZXR1cm4gYW5ndWxhci5jb3B5KGUpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEhyU3VwZXJhbm51YXRpb25BY2NydWFscycsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJTdXBlcmFubnVhdGlvbkFjY3J1YWxzQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-timesheets', []);

  module.controller('WidgetHrTimesheetsCtrl', ["$scope", "$q", "ChartFormatterSvc", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, ImpacWidgetsSvc) {
    var settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.employees) && !_.isEmpty(w.content.dates)) {
        $scope.employeesOptions = _.map(w.content.employees, function(e) {
          return {
            value: e.id,
            label: e.lastname + " " + e.firstname
          };
        });
        $scope.selectedEmployee = {
          value: $scope.getEmployee().id,
          label: ($scope.getEmployee().lastname) + " " + ($scope.getEmployee().firstname)
        };
        return $scope.unCollapsed = w.metadata.unCollapsed || [];
      }
    };
    $scope.toggleCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === categoryName;
          });
        } else {
          $scope.unCollapsed.push(categoryName);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    $scope.getEmployee = function() {
      if (!$scope.isDataFound) {
        return false;
      }
      if (w.metadata && w.metadata.employee_id) {
        return _.find(w.content.employees, function(e) {
          return e.id === w.metadata.employee_id;
        }) || w.content.employees[0];
      } else {
        return w.content.employees[0];
      }
    };
    $scope.getEmployeeTimeWorked = function() {
      var employee;
      if (employee = $scope.getEmployee()) {
        return _.find(w.content.employees, function(e) {
          return e.id === employee.id;
        }).total_time_worked;
      }
    };
    $scope.getEmployeeTimeOff = function() {
      var employee;
      if (employee = $scope.getEmployee()) {
        return _.find(w.content.employees, function(e) {
          return e.id === employee.id;
        }).total_time_off;
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrTimesheets', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrTimesheetsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci10aW1lc2hlZXRzL2hyLXRpbWVzaGVldHMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsd0NBQWYsRUFBd0QsRUFBeEQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isd0JBQWxCLEVBQTRDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUErQixlQUEvQjtBQUUxQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFL0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSLEVBR2pCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUhaO0lBU25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCLENBQWpDLElBQW1FLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQXBCLENBQTVGO1FBRUUsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFoQixFQUEyQixTQUFDLENBQUQ7aUJBQ25EO1lBQ0UsS0FBQSxFQUFP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ZUFISjs7SUFEMEI7SUFTNUIsa0JBQUEsR0FBcUI7SUFDckIsa0JBQWtCLENBQUMsV0FBbkIsR0FBaUM7SUFFakMsa0JBQWtCLENBQUMsVUFBbkIsR0FBZ0MsU0FBQTthQUM5QixrQkFBa0IsQ0FBQyxXQUFuQixHQUFpQztJQURIO0lBR2hDLGtCQUFrQixDQUFDLFVBQW5CLEdBQWdDLFNBQUE7YUFDOUI7UUFBQyxXQUFBLEVBQWEsTUFBTSxDQUFDLFdBQXJCOztJQUQ4QjtJQUdoQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQVgsQ0FBZ0Isa0JBQWhCO1dBS0EsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUEzRjBDLENBQTVDOztFQThGQSxNQUFNLENBQUMsU0FBUCxDQUFpQixvQkFBakIsRUFBdUMsU0FBQTtBQUNyQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksd0JBRlA7O0VBRDhCLENBQXZDO0FBaEdBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci10aW1lc2hlZXRzL2hyLXRpbWVzaGVldHMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5oci10aW1lc2hlZXRzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyVGltZXNoZWV0c0N0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZW1wbG95ZWVzKSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcylcblxuICAgICAgJHNjb3BlLmVtcGxveWVlc09wdGlvbnMgPSBfLm1hcCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiBlLmlkLFxuICAgICAgICAgIGxhYmVsOiBcIiN7ZS5sYXN0bmFtZX0gI3tlLmZpcnN0bmFtZX1cIixcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRW1wbG95ZWUgPSB7XG4gICAgICAgIHZhbHVlOiAkc2NvcGUuZ2V0RW1wbG95ZWUoKS5pZCxcbiAgICAgICAgbGFiZWw6IFwiI3skc2NvcGUuZ2V0RW1wbG95ZWUoKS5sYXN0bmFtZX0gI3skc2NvcGUuZ2V0RW1wbG95ZWUoKS5maXJzdG5hbWV9XCIsXG4gICAgICB9XG5cbiAgICAgICRzY29wZS51bkNvbGxhcHNlZCA9IHcubWV0YWRhdGEudW5Db2xsYXBzZWQgfHwgW11cblxuICAkc2NvcGUudG9nZ2xlQ29sbGFwc2VkID0gKGNhdGVnb3J5TmFtZSkgLT5cbiAgICBpZiBjYXRlZ29yeU5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGNhdGVnb3J5TmFtZSA9PSBuYW1lKSlcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gXy5yZWplY3QoJHNjb3BlLnVuQ29sbGFwc2VkLCAobmFtZSkgLT5cbiAgICAgICAgICBuYW1lID09IGNhdGVnb3J5TmFtZVxuICAgICAgICApXG4gICAgICBlbHNlXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZC5wdXNoKGNhdGVnb3J5TmFtZSlcbiAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc0NvbGxhcHNlZCA9IChjYXRlZ29yeU5hbWUpIC0+XG4gICAgaWYgY2F0ZWdvcnlOYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBjYXRlZ29yeU5hbWUgPT0gbmFtZSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICRzY29wZS5nZXRFbXBsb3llZSA9IC0+XG4gICAgcmV0dXJuIGZhbHNlIHVubGVzcyAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAgIGlmIHcubWV0YWRhdGEgJiYgdy5tZXRhZGF0YS5lbXBsb3llZV9pZFxuICAgICAgcmV0dXJuIF8uZmluZCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAgZS5pZCA9PSB3Lm1ldGFkYXRhLmVtcGxveWVlX2lkXG4gICAgICApIHx8IHcuY29udGVudC5lbXBsb3llZXNbMF1cbiAgICBlbHNlXG4gICAgICByZXR1cm4gdy5jb250ZW50LmVtcGxveWVlc1swXVxuXG4gICRzY29wZS5nZXRFbXBsb3llZVRpbWVXb3JrZWQgPSAtPlxuICAgIGlmIGVtcGxveWVlID0gJHNjb3BlLmdldEVtcGxveWVlKClcbiAgICAgIF8uZmluZCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAgZS5pZCA9PSBlbXBsb3llZS5pZFxuICAgICAgKS50b3RhbF90aW1lX3dvcmtlZFxuXG4gICRzY29wZS5nZXRFbXBsb3llZVRpbWVPZmYgPSAtPlxuICAgIGlmIGVtcGxveWVlID0gJHNjb3BlLmdldEVtcGxveWVlKClcbiAgICAgIF8uZmluZCh3LmNvbnRlbnQuZW1wbG95ZWVzLCAoZSkgLT5cbiAgICAgICAgZS5pZCA9PSBlbXBsb3llZS5pZFxuICAgICAgKS50b3RhbF90aW1lX29mZlxuXG5cbiAgIyBNaW5pLXNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdW5Db2xsYXBzZWRTZXR0aW5nID0ge31cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7dW5Db2xsYXBzZWQ6ICRzY29wZS51bkNvbGxhcHNlZH1cblxuICB3LnNldHRpbmdzLnB1c2godW5Db2xsYXBzZWRTZXR0aW5nKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRIclRpbWVzaGVldHMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEhyVGltZXNoZWV0c0N0cmwnXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.hr-workforce-summary', []);

  module.controller('WidgetHrWorkforceSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred1 = $q.defer();
    $scope.paramSelectorDeferred2 = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred1.promise, $scope.paramSelectorDeferred2.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && (w.content.summary != null) && !_.isEmpty(w.content.summary.data)) {
        $scope.periodOptions = [
          {
            label: 'Yearly',
            value: 'yearly'
          }, {
            label: 'Monthly',
            value: 'monthly'
          }, {
            label: 'Weekly',
            value: 'weekly'
          }, {
            label: 'Hourly',
            value: 'hourly'
          }
        ];
        $scope.period = angular.copy(_.find($scope.periodOptions, function(o) {
          return o.value === w.content.total.period.toLowerCase();
        }) || $scope.periodOptions[0]);
        $scope.filterOptions = [
          {
            label: 'Gender',
            value: 'gender'
          }, {
            label: 'Age Range',
            value: 'age_range'
          }, {
            label: 'Salary Range',
            value: 'salary_range'
          }, {
            label: 'Job Title',
            value: 'job_title'
          }
        ];
        return $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return o.value === w.content.summary.filter;
        }) || $scope.filterOptions[0]);
      }
    };
    $scope.getTotalWorkforce = function() {
      if ($scope.isDataFound) {
        return w.content.total.amount;
      }
    };
    $scope.getNumberOfEmployees = function() {
      if ($scope.isDataFound) {
        return w.content.total.employees;
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.total.currency;
      }
    };
    $scope.formatSalaryRange = function(aRange) {
      var range1, range2;
      range1 = $filter('mnoCurrency')(aRange.label.split('-')[0], aRange.currency, false);
      range2 = $filter('mnoCurrency')(aRange.label.split('-')[1], aRange.currency, false);
      return [range1, range2].join(" - ");
    };
    $scope.getColorByIndex = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var barData, barOptions, chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        if ($scope.filter.value === 'salary_range') {
          barData = {
            labels: _.map(w.content.summary.data, function(elem) {
              return $scope.formatSalaryRange(elem);
            }),
            values: _.map(w.content.summary.data, function(elem) {
              return elem.value;
            })
          };
          barOptions = {
            showTooltips: false,
            showXLabels: false,
            barDatasetSpacing: 15
          };
          chartData = ChartFormatterSvc.barChart(barData, barOptions);
        } else {
          pieData = _.map(w.content.summary.data, function(elem) {
            return {
              label: elem.label,
              value: elem.value
            };
          });
          pieOptions = {
            showTooltips: true,
            percentageInnerCutout: 50,
            tooltipFontSize: 12
          };
          chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        }
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetHrWorkforceSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetHrWorkforceSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9oci13b3JrZm9yY2Utc3VtbWFyeS9oci13b3JrZm9yY2Utc3VtbWFyeS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSwrQ0FBZixFQUErRCxFQUEvRDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiw4QkFBbEIsRUFBa0QsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiLEVBQWdDLE9BQWhDO0FBRWhELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3ZCLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ2hDLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ2hDLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FGSixFQUdqQixNQUFNLENBQUMsc0JBQXNCLENBQUMsT0FIYixFQUlqQixNQUFNLENBQUMsc0JBQXNCLENBQUMsT0FKYixFQUtqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BTEo7SUFXbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLElBQUcsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFaLENBQUQsSUFBeUIsMkJBQXpCLElBQStDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFD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V0FzQ1gsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUF6R2dELENBQWxEOztFQTRHQSxNQUFNLENBQUMsU0FBUCxDQUFpQiwwQkFBakIsRUFBNkMsU0FBQTtBQUMzQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksOEJBRlA7O0VBRG9DLENBQTdDO0FBOUdBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9oci13b3JrZm9yY2Utc3VtbWFyeS9oci13b3JrZm9yY2Utc3VtbWFyeS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmhyLXdvcmtmb3JjZS1zdW1tYXJ5JyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldEhyV29ya2ZvcmNlU3VtbWFyeUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLndpZHRoRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQxID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkMiA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS53aWR0aERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkMS5wcm9taXNlXG4gICAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDIucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9ICFfLmlzRW1wdHkody5jb250ZW50KSAmJiB3LmNvbnRlbnQuc3VtbWFyeT8gJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc3VtbWFyeS5kYXRhKVxuXG4gICAgICAkc2NvcGUucGVyaW9kT3B0aW9ucyA9IFtcbiAgICAgICAge2xhYmVsOiAnWWVhcmx5JywgdmFsdWU6ICd5ZWFybHknfSxcbiAgICAgICAge2xhYmVsOiAnTW9udGhseScsIHZhbHVlOiAnbW9udGhseSd9LFxuICAgICAgICB7bGFiZWw6ICdXZWVrbHknLCB2YWx1ZTogJ3dlZWtseSd9LFxuICAgICAgICB7bGFiZWw6ICdIb3VybHknLCB2YWx1ZTogJ2hvdXJseSd9XG4gICAgICBdXG4gICAgICAkc2NvcGUucGVyaW9kID0gYW5ndWxhci5jb3B5KF8uZmluZCgkc2NvcGUucGVyaW9kT3B0aW9ucywgKG8pIC0+XG4gICAgICAgIG8udmFsdWUgPT0gdy5jb250ZW50LnRvdGFsLnBlcmlvZC50b0xvd2VyQ2FzZSgpXG4gICAgICApIHx8ICRzY29wZS5wZXJpb2RPcHRpb25zWzBdKVxuXG4gICAgICAkc2NvcGUuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAge2xhYmVsOiAnR2VuZGVyJywgdmFsdWU6ICdnZW5kZXInfSxcbiAgICAgICAge2xhYmVsOiAnQWdlIFJhbmdlJywgdmFsdWU6ICdhZ2VfcmFuZ2UnfSxcbiAgICAgICAge2xhYmVsOiAnU2FsYXJ5IFJhbmdlJywgdmFsdWU6ICdzYWxhcnlfcmFuZ2UnfSxcbiAgICAgICAge2xhYmVsOiAnSm9iIFRpdGxlJywgdmFsdWU6ICdqb2JfdGl0bGUnfSxcbiAgICAgIF1cbiAgICAgICRzY29wZS5maWx0ZXIgPSBhbmd1bGFyLmNvcHkoXy5maW5kKCRzY29wZS5maWx0ZXJPcHRpb25zLCAobykgLT5cbiAgICAgICAgby52YWx1ZSA9PSB3LmNvbnRlbnQuc3VtbWFyeS5maWx0ZXJcbiAgICAgICkgfHwgJHNjb3BlLmZpbHRlck9wdGlvbnNbMF0pXG5cbiAgJHNjb3BlLmdldFRvdGFsV29ya2ZvcmNlID0gLT5cbiAgICB3LmNvbnRlbnQudG90YWwuYW1vdW50IGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG4gICRzY29wZS5nZXROdW1iZXJPZkVtcGxveWVlcyA9IC0+XG4gICAgdy5jb250ZW50LnRvdGFsLmVtcGxveWVlcyBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0Q3VycmVuY3kgPSAtPlxuICAgIHcuY29udGVudC50b3RhbC5jdXJyZW5jeSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZm9ybWF0U2FsYXJ5UmFuZ2UgPSAoYVJhbmdlKSAtPlxuICAgIHJhbmdlMSA9ICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYVJhbmdlLmxhYmVsLnNwbGl0KCctJylbMF0sYVJhbmdlLmN1cnJlbmN5LGZhbHNlKVxuICAgIHJhbmdlMiA9ICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYVJhbmdlLmxhYmVsLnNwbGl0KCctJylbMV0sYVJhbmdlLmN1cnJlbmN5LGZhbHNlKVxuICAgIHJldHVybiBbcmFuZ2UxLHJhbmdlMl0uam9pbihcIiAtIFwiKVxuXG4gICRzY29wZS5nZXRDb2xvckJ5SW5kZXggPSAoaW5kZXgpIC0+XG4gICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoaW5kZXgpXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG4gICAgICBpZiAkc2NvcGUuZmlsdGVyLnZhbHVlID09ICdzYWxhcnlfcmFuZ2UnXG4gICAgICAgIGJhckRhdGEgPSB7XG4gICAgICAgICAgbGFiZWxzOiBfLm1hcCh3LmNvbnRlbnQuc3VtbWFyeS5kYXRhLCAoZWxlbSkgLT5cbiAgICAgICAgICAgICRzY29wZS5mb3JtYXRTYWxhcnlSYW5nZShlbGVtKVxuICAgICAgICAgICksXG4gICAgICAgICAgdmFsdWVzOiBfLm1hcCh3LmNvbnRlbnQuc3VtbWFyeS5kYXRhLCAoZWxlbSkgLT5cbiAgICAgICAgICAgIGVsZW0udmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgYmFyT3B0aW9ucyA9IHtcbiAgICAgICAgICBzaG93VG9vbHRpcHM6IGZhbHNlLFxuICAgICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMTUsXG4gICAgICAgIH1cbiAgICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMuYmFyQ2hhcnQoYmFyRGF0YSwgYmFyT3B0aW9ucylcblxuICAgICAgZWxzZVxuICAgICAgICBwaWVEYXRhID0gXy5tYXAgdy5jb250ZW50LnN1bW1hcnkuZGF0YSwgKGVsZW0pIC0+XG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IGVsZW0ubGFiZWwsXG4gICAgICAgICAgICB2YWx1ZTogZWxlbS52YWx1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIHBpZU9wdGlvbnMgPSB7XG4gICAgICAgICAgc2hvd1Rvb2x0aXBzOiB0cnVlLFxuICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsXG4gICAgICAgICAgdG9vbHRpcEZvbnRTaXplOiAxMixcbiAgICAgICAgfVxuICAgICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5waWVDaGFydChwaWVEYXRhLCBwaWVPcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEhyV29ya2ZvcmNlU3VtbWFyeScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SHJXb3JrZm9yY2VTdW1tYXJ5Q3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.invoices-aged-payables-receivables', []);

  module.controller('WidgetInvoicesAgedPayablesReceivablesCtrl', ["$scope", "$q", "$log", "$filter", "ChartFormatterSvc", "ImpacWidgetsSvc", function($scope, $q, $log, $filter, ChartFormatterSvc, ImpacWidgetsSvc) {
    var selectedElementsSetting, settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && (!_.isEmpty(w.content.payables) || !_.isEmpty(w.content.receivables)) && !_.isEmpty(w.content.dates)) {
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        if (w.metadata.selectedElements) {
          $scope.selectedElements = [];
          angular.forEach(w.metadata.selectedElements, function(sElem) {
            var foundElem;
            if (sElem.name === "aged_payables") {
              foundElem = w.content.payables;
            }
            if (sElem.name === "aged_receivables" && !foundElem) {
              foundElem = w.content.receivables;
            }
            if (!foundElem) {
              foundElem = _.find(w.content.payables.suppliers, function(supplier) {
                return supplier.id === sElem.id;
              });
            }
            if (!foundElem) {
              foundElem = _.find(w.content.receivables.customers, function(customer) {
                return customer.id === sElem.id;
              });
            }
            if (foundElem) {
              return $scope.selectedElements.push(foundElem);
            }
          });
        }
        if (!(($scope.selectedElements != null) && $scope.selectedElements.length > 0)) {
          return w.width = 6;
        }
      }
    };
    $scope.getElementChartColor = function(index) {
      if (index != null) {
        return ChartFormatterSvc.getColor(index);
      }
    };
    $scope.getLastValue = function(element) {
      if ((element != null) && (element.totals != null)) {
        return _.last(element.totals);
      }
    };
    $scope.getTotalSum = function(element) {
      if ((element != null) && (element.totals != null)) {
        return _.reduce(element.totals, function(memo, num) {
          return memo + num;
        }, 0);
      }
    };
    $scope.getName = function(element) {
      if ((element != null) && (element.name != null)) {
        return element.name.replace(/_/g, " ");
      }
    };
    $scope.getPeriod = function() {
      var period, period_param;
      if ($scope.isDataFound && w.content.hist_parameters) {
        period_param = w.content.hist_parameters.period || "MONTHLY";
        period = "day";
        if (period_param !== "DAILY") {
          period = period_param.substr(0, period_param.length - 2).toLowerCase();
        }
        return "current " + period;
      } else {
        return "current month";
      }
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElements = _.reject($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        });
        w.format();
        if (w.isExpanded() && $scope.selectedElements.length === 0) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElements || ($scope.selectedElements = []);
        $scope.selectedElements.push(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      if ((element != null) && ($scope.selectedElements != null)) {
        if (_.find($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        })) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    };
    $scope.toggleCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === element.name;
          });
        } else {
          $scope.unCollapsed.push(element.name);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    $scope.hasElements = function() {
      return ($scope.selectedElements != null) && $scope.selectedElements.length > 0;
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, dates, inputData, options, period;
      if ($scope.isDataFound && ($scope.selectedElements != null) && $scope.selectedElements.length > 0) {
        all_values_are_positive = true;
        inputData = [];
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        angular.forEach($scope.selectedElements, function(sElem) {
          var data;
          data = angular.copy(sElem);
          inputData.push({
            title: data.name,
            labels: dates,
            values: data.totals
          });
          return angular.forEach(data.totals, function(value) {
            return all_values_are_positive && (all_values_are_positive = value >= 0);
          });
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true,
          datasetFill: $scope.selectedElements.length === 1,
          pointDot: $scope.selectedElements.length === 1
        };
        chartData = ChartFormatterSvc.lineChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    selectedElementsSetting = {};
    selectedElementsSetting.initialized = false;
    selectedElementsSetting.initialize = function() {
      return selectedElementsSetting.initialized = true;
    };
    selectedElementsSetting.toMetadata = function() {
      return {
        selectedElements: $scope.selectedElements
      };
    };
    w.settings.push(selectedElementsSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetInvoicesAgedPayablesReceivables', function() {
    return {
      restrict: 'A',
      controller: 'WidgetInvoicesAgedPayablesReceivablesCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9pbnZvaWNlcy1hZ2VkLXBheWFibGVzLXJlY2VpdmFibGVzL2ludm9pY2VzLWFnZWQtcGF5YWJsZXMtcmVjZWl2YWJsZXMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsNkRBQWYsRUFBNkUsRUFBN0U7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMkNBQWxCLEVBQStELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxJQUFiLEVBQW1CLE9BQW5CLEVBQTRCLGlCQUE1QixFQUErQyxlQUEvQztBQUU3RCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsaUJBQWlCLENBQUMsT0FGUixFQUdqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BSEosRUFJakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUpKO0lBVW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBcEIsQ0FBRCxJQUFrQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENB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QVAsQ0FBaUIsdUNBQWpCLEVBQTBELFNBQUE7QUFDeEQsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLDJDQUZQOztFQURpRCxDQUExRDtBQXBNQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvaW52b2ljZXMtYWdlZC1wYXlhYmxlcy1yZWNlaXZhYmxlcy9pbnZvaWNlcy1hZ2VkLXBheWFibGVzLXJlY2VpdmFibGVzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuaW52b2ljZXMtYWdlZC1wYXlhYmxlcy1yZWNlaXZhYmxlcycsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRJbnZvaWNlc0FnZWRQYXlhYmxlc1JlY2VpdmFibGVzQ3RybCcsICgkc2NvcGUsICRxLCAkbG9nLCAkZmlsdGVyLCBDaGFydEZvcm1hdHRlclN2YywgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLndpZHRoRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS53aWR0aERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICghXy5pc0VtcHR5KHcuY29udGVudC5wYXlhYmxlcykgfHwgIV8uaXNFbXB0eSh3LmNvbnRlbnQucmVjZWl2YWJsZXMpKSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcylcblxuICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkID0gdy5tZXRhZGF0YS51bkNvbGxhcHNlZCB8fCBbXVxuXG4gICAgICBpZiB3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudHNcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMgPSBbXVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gody5tZXRhZGF0YS5zZWxlY3RlZEVsZW1lbnRzLCAoc0VsZW0pIC0+XG4gICAgICAgICAgZm91bmRFbGVtID0gdy5jb250ZW50LnBheWFibGVzIGlmIHNFbGVtLm5hbWUgPT0gXCJhZ2VkX3BheWFibGVzXCJcbiAgICAgICAgICBmb3VuZEVsZW0gPSB3LmNvbnRlbnQucmVjZWl2YWJsZXMgaWYgc0VsZW0ubmFtZSA9PSBcImFnZWRfcmVjZWl2YWJsZXNcIiAmJiAhZm91bmRFbGVtXG5cbiAgICAgICAgICBmb3VuZEVsZW0gPSBfLmZpbmQody5jb250ZW50LnBheWFibGVzLnN1cHBsaWVycywgKHN1cHBsaWVyKS0+XG4gICAgICAgICAgICBzdXBwbGllci5pZCA9PSBzRWxlbS5pZFxuICAgICAgICAgICkgaWYgIWZvdW5kRWxlbVxuXG4gICAgICAgICAgZm91bmRFbGVtID0gXy5maW5kKHcuY29udGVudC5yZWNlaXZhYmxlcy5jdXN0b21lcnMsIChjdXN0b21lciktPlxuICAgICAgICAgICAgY3VzdG9tZXIuaWQgPT0gc0VsZW0uaWRcbiAgICAgICAgICApIGlmICFmb3VuZEVsZW1cblxuICAgICAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLnB1c2goZm91bmRFbGVtKSBpZiBmb3VuZEVsZW1cbiAgICAgICAgKVxuXG4gICAgICB3LndpZHRoID0gNiB1bmxlc3MgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHM/ICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA+IDBcblxuICAkc2NvcGUuZ2V0RWxlbWVudENoYXJ0Q29sb3IgPSAoaW5kZXgpIC0+XG4gICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoaW5kZXgpIGlmIGluZGV4P1xuXG4gICRzY29wZS5nZXRMYXN0VmFsdWUgPSAoZWxlbWVudCkgLT5cbiAgICBfLmxhc3QoZWxlbWVudC50b3RhbHMpIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQudG90YWxzP1xuXG4gICRzY29wZS5nZXRUb3RhbFN1bSA9IChlbGVtZW50KSAtPlxuICAgIF8ucmVkdWNlKGVsZW1lbnQudG90YWxzLCAobWVtbywgbnVtKSAtPlxuICAgICAgbWVtbyArIG51bVxuICAgICwgMCkgaWYgZWxlbWVudD8gJiYgZWxlbWVudC50b3RhbHM/XG5cbiAgJHNjb3BlLmdldE5hbWUgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG4gICAgICByZXR1cm4gZWxlbWVudC5uYW1lLnJlcGxhY2UoL18vZywgXCIgXCIpXG5cbiAgJHNjb3BlLmdldFBlcmlvZCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmIHcuY29udGVudC5oaXN0X3BhcmFtZXRlcnNcbiAgICAgIHBlcmlvZF9wYXJhbSA9IHcuY29udGVudC5oaXN0X3BhcmFtZXRlcnMucGVyaW9kIHx8IFwiTU9OVEhMWVwiXG4gICAgICBwZXJpb2QgPSBcImRheVwiXG4gICAgICBwZXJpb2QgPSBwZXJpb2RfcGFyYW0uc3Vic3RyKDAscGVyaW9kX3BhcmFtLmxlbmd0aC0yKS50b0xvd2VyQ2FzZSgpIGlmIHBlcmlvZF9wYXJhbSAhPSBcIkRBSUxZXCJcbiAgICAgIHJldHVybiBcImN1cnJlbnQgI3twZXJpb2R9XCJcbiAgICBlbHNlIHJldHVybiBcImN1cnJlbnQgbW9udGhcIlxuXG5cbiAgIyAtLS0+XG4gICMgVE9ETyBzZWxlY3RlZEVsZW1lbnQgYW5kIGNvbGxhcHNlZCBzaG91bGQgYmUgZmFjdG9yaXplZCBhcyBzZXR0aW5ncyBvciAnY29tbW9ucydcbiAgJHNjb3BlLnRvZ2dsZVNlbGVjdGVkRWxlbWVudCA9IChlbGVtZW50KSAtPlxuICAgIGlmICRzY29wZS5pc1NlbGVjdGVkKGVsZW1lbnQpXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cyA9IF8ucmVqZWN0KCRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLCAoc0VsZW0pIC0+XG4gICAgICAgIGlmIGVsZW1lbnQuaWRcbiAgICAgICAgICBzRWxlbS5pZCA9PSBlbGVtZW50LmlkXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzRWxlbS5uYW1lID09IGVsZW1lbnQubmFtZVxuICAgICAgKVxuICAgICAgdy5mb3JtYXQoKVxuICAgICAgaWYgdy5pc0V4cGFuZGVkKCkgJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09IDBcbiAgICAgICAgdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgICBlbHNlXG4gICAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuICAgIGVsc2VcbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzIHx8PSBbXVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMucHVzaChlbGVtZW50KVxuICAgICAgdy5mb3JtYXQoKVxuICAgICAgaWYgIXcuaXNFeHBhbmRlZCgpXG4gICAgICAgIHcudG9nZ2xlRXhwYW5kZWQoKVxuICAgICAgZWxzZVxuICAgICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNTZWxlY3RlZCA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLCAoc0VsZW0pIC0+XG4gICAgICAgIGlmIGVsZW1lbnQuaWRcbiAgICAgICAgICBzRWxlbS5pZCA9PSBlbGVtZW50LmlkXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzRWxlbS5uYW1lID09IGVsZW1lbnQubmFtZVxuICAgICAgKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICBlbHNlXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAkc2NvcGUudG9nZ2xlQ29sbGFwc2VkID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgZWxlbWVudC5uYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBlbGVtZW50Lm5hbWUgPT0gbmFtZSkpXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZCA9IF8ucmVqZWN0KCRzY29wZS51bkNvbGxhcHNlZCwgKG5hbWUpIC0+XG4gICAgICAgICAgbmFtZSA9PSBlbGVtZW50Lm5hbWVcbiAgICAgICAgKVxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUudW5Db2xsYXBzZWQucHVzaChlbGVtZW50Lm5hbWUpXG4gICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNDb2xsYXBzZWQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm5hbWU/XG4gICAgICBpZiBfLmZpbmQoJHNjb3BlLnVuQ29sbGFwc2VkLCAoKG5hbWUpIC0+IGVsZW1lbnQubmFtZSA9PSBuYW1lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG5cbiAgJHNjb3BlLmhhc0VsZW1lbnRzID0gLT5cbiAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cz8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMFxuICAjIDwtLS1cblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzPyAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPiAwXG5cbiAgICAgICMgSGlzdCBjaGFydFxuICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG4gICAgICBpbnB1dERhdGEgPSBbXVxuICAgICAgXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIHcuY29udGVudC5kYXRlcywgKGRhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKHNFbGVtKSAtPlxuICAgICAgICBkYXRhID0gYW5ndWxhci5jb3B5KHNFbGVtKVxuICAgICAgICBpbnB1dERhdGEucHVzaCh7dGl0bGU6IGRhdGEubmFtZSwgbGFiZWxzOiBkYXRlcywgdmFsdWVzOiBkYXRhLnRvdGFsc30pXG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEudG90YWxzLCAodmFsdWUpIC0+XG4gICAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiB0cnVlLFxuICAgICAgICBkYXRhc2V0RmlsbDogJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09IDEsXG4gICAgICAgIHBvaW50RG90OiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT0gMSxcbiAgICAgIH1cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChpbnB1dERhdGEsb3B0aW9ucylcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBNaW5pLXNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdW5Db2xsYXBzZWRTZXR0aW5nID0ge31cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICB1bkNvbGxhcHNlZFNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHVuQ29sbGFwc2VkU2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7dW5Db2xsYXBzZWQ6ICRzY29wZS51bkNvbGxhcHNlZH1cblxuICB3LnNldHRpbmdzLnB1c2godW5Db2xsYXBzZWRTZXR0aW5nKVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nID0ge31cbiAgc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcuaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHtzZWxlY3RlZEVsZW1lbnRzOiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50c31cblxuICB3LnNldHRpbmdzLnB1c2goc2VsZWN0ZWRFbGVtZW50c1NldHRpbmcpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEludm9pY2VzQWdlZFBheWFibGVzUmVjZWl2YWJsZXMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldEludm9pY2VzQWdlZFBheWFibGVzUmVjZWl2YWJsZXNDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.invoices-list', []);

  module.controller('WidgetInvoicesListCtrl', ["$scope", "$q", "$filter", function($scope, $q, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.limitEntriesDeferred = $q.defer();
    $scope.datesPickerDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.limitEntriesDeferred.promise, $scope.datesPickerDeferred.promise];
    w.initContext = function() {
      var d, date, dates, j, len, m, maxDate, minDate, newDate, parsedDate, y;
      $scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.entities);
      if ($scope.isDataFound && $scope.orderBy === 'due ') {
        if ($scope.entityType === 'suppliers') {
          $scope.limitEntriesLabel = 'creditors';
        } else {
          $scope.limitEntriesLabel = 'debtors';
        }
      }
      if ((w.metadata != null) && (w.metadata.limit_entries != null)) {
        $scope.limitEntriesSelected = w.metadata.limit_entries;
      }
      if ($scope.isDataFound) {
        maxDate = new Date();
        minDate = false;
        dates = _.flatten(_.map(w.content.entities, (function(e) {
          return _.map(e.invoices, (function(i) {
            return i.invoice_date;
          }));
        })));
        for (j = 0, len = dates.length; j < len; j++) {
          date = dates[j];
          if (!_.isEmpty(date)) {
            parsedDate = date.split('-');
            y = parsedDate[0];
            m = parsedDate[1] - 1;
            d = parsedDate[2];
            newDate = new Date(y, m, d);
            minDate || (minDate = newDate);
            minDate = Math.min(minDate, newDate);
            maxDate = Math.max(maxDate, newDate);
          }
        }
        minDate || (minDate = new Date(new Date().getFullYear() - 10, 0, 1));
        $scope.defaultFrom = $filter('date')(minDate, 'yyyy-MM-dd');
        return $scope.defaultTo = $filter('date')(maxDate, 'yyyy-MM-dd');
      }
    };
    $scope.entityType = w.metadata.entity;
    $scope.entityTypeCap = _.capitalize(w.metadata.entity);
    if (_.isEmpty(w.metadata.order_by) || w.metadata.order_by === 'name' || w.metadata.order_by === 'total_invoiced') {
      $scope.orderBy = '';
    } else {
      $scope.orderBy = _.last(w.metadata.order_by.split('_')).concat(" ");
    }
    $scope.getInvoices = function(entity) {
      var count, tooltip;
      tooltip = ["<strong>" + entity.name + "</strong>"];
      count = 1;
      angular.forEach(entity.invoices, function(i) {
        var paid, txn;
        if (i.transaction_no !== "") {
          txn = " (" + i.transaction_no + ")";
        } else {
          txn = "";
        }
        if (i.tooltip_status === "partially paid") {
          paid = " (" + $filter('mnoCurrency')(i.paid, i.currency, true) + " over " + $filter('mnoCurrency')(i.invoiced, i.currency, true) + ")";
        } else {
          paid = " (" + $filter('mnoCurrency')(i.invoiced, i.currency, true) + ")";
        }
        tooltip.push("#" + count + txn + " - " + i.tooltip_status + paid);
        return count++;
      });
      return tooltip.join("<br />");
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetInvoicesList', function() {
    return {
      restrict: 'A',
      controller: 'WidgetInvoicesListCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9pbnZvaWNlcy1saXN0L2ludm9pY2VzLWxpc3QuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsd0NBQWYsRUFBd0QsRUFBeEQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isd0JBQWxCLEVBQTRDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxPQUFiO0FBRTFDLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsb0JBQVAsR0FBOEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM5QixNQUFNLENBQUMsbUJBQVAsR0FBNkIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUU3QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BSFY7SUFTbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtBQUNkLFVBQUE7TUFBQSxNQUFNLENBQUMsV0FBUCxHQUFxQixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQVosQ0FBRCxJQUF5QixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFwQjtNQUUvQyxJQUFHLE1BQU0sQ0FBQyxXQUFQLElBQXNCLE1BQU0sQ0FBQyxPQUFQLEtBQWdCLE1BQXpDO1FBQ0UsSUFBRyxNQUFNLENBQUMsVUFBUCxLQUFtQixXQUF0QjtVQUNFLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixZQUQ3QjtTQUFBLE1BQUE7VUFHRSxNQUFNLENBQUMsaUJBQVAsR0FBMkIsVUFIN0I7U0FERjs7TUFNQSxJQUFHLG9CQUFBLElBQWUsa0NBQWxCO1FBQ0UsTUFBTSxDQUFDLG9CQUFQLEdBQThCLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FEM0M7O01BR0EsSUFBRyxNQUFNLENBQUMsV0FBVjtRQUNFLE9BQUEsR0FBYyxJQUFBLElBQUEsQ0FBQTtRQUNkLE9BQUEsR0FBVTtRQUNWLEtBQUEsR0FBUSxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFoQixFQUEwQixDQUFDLFNBQUMsQ0FBRDtpQkFBTyxDQUFDLENBQUMsR0FBRixDQUFNLENBQUMsQ0FBQyxRQUFSLEVBQWtCLENBQUMsU0FBQyxDQUFEO21CQUFPLENBQUMsQ0FBQztVQUFULENBQUQsQ0FBbEI7UUFBUCxDQUFELENBQTFCLENBQVY7QUFDUixhQUFBLHVDQUFBOztVQUNFLElBQUEsQ0FBTyxDQUFDLENBQUMsT0FBRixDQUFVLElBQVYsQ0FBUDtZQUNFLFVBQUEsR0FBYSxJQUFJLENBQUMsS0FBTCxDQUFXLEdBQVg7WUFDYixDQUFBLEdBQUksVUFBVyxDQUFBLENBQUE7WUFDZixDQUFBLEdBQUksVUFBVyxDQUFBLENBQUEsQ0FBWCxHQUFjO1lBQ2xCLENBQUEsR0FBSSxVQUFXLENBQUEsQ0FBQTtZQUNmLE9BQUEsR0FBYyxJQUFBLElBQUEsQ0FBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLENBQVQ7WUFDZCxZQUFBLFVBQVk7WUFDWixPQUFBLEdBQVUsSUFBSSxDQUFDLEdBQUwsQ0FBUyxPQUFULEVBQWtCLE9BQWxCO1lBQ1YsT0FBQSxHQUFVLElBQUksQ0FBQyxHQUFMLENBQVMsT0FBVCxFQUFrQixPQUFsQixFQVJaOztBQURGO1FBWUEsWUFBQSxVQUFnQixJQUFBLElBQUEsQ0FBUyxJQUFBLElBQUEsQ0FBQSxDQUFNLENBQUMsV0FBUCxDQUFBLENBQUosR0FBMkIsRUFBaEMsRUFBb0MsQ0FBcEMsRUFBdUMsQ0FBdkM7UUFDaEIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsT0FBQSxDQUFRLE1BQVIsQ0FBQSxDQUFnQixPQUFoQixFQUF5QixZQUF6QjtlQUNyQixNQUFNLENBQUMsU0FBUCxHQUFtQixPQUFBLENBQVEsTUFBUixDQUFBLENBQWdCLE9BQWhCLEVBQXlCLFlBQXpCLEVBbEJyQjs7SUFaYztJQWtDaEIsTUFBTSxDQUFDLFVBQVAsR0FBb0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUMvQixNQUFNLENBQUMsYUFBUCxHQUF1QixDQUFDLENBQUMsVUFBRixDQUFhLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBeEI7SUFDdkIsSUFBRyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBckIsQ0FBQSxJQUFrQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVgsS0FBdUIsTUFBekQsSUFBbUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFYLEtBQXVCLGdCQUE3RjtNQUNFLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLEdBRG5CO0tBQUEsTUFBQTtNQUlFLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBcEIsQ0FBMEIsR0FBMUIsQ0FBUCxDQUFzQyxDQUFDLE1BQXZDLENBQThDLEdBQTlDLEVBSm5COztJQU1BLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUMsTUFBRDtBQUVuQixVQUFBO01BQUEsT0FBQSxHQUFVLENBQUMsVUFBQSxHQUFhLE1BQU0sQ0FBQyxJQUFwQixHQUEyQixXQUE1QjtNQUNWLEtBQUEsR0FBTTtNQUNOLE9BQU8sQ0FBQyxPQUFSLENBQWdCLE1BQU0sQ0FBQyxRQUF2QixFQUFpQyxTQUFDLENBQUQ7QUFFL0IsWUFBQTtRQUFBLElBQUksQ0FBQyxDQUFDLGNBQUYsS0FBb0IsRUFBeEI7VUFDRSxHQUFBLEdBQU0sSUFBQSxHQUFPLENBQUMsQ0FBQyxjQUFULEdBQTBCLElBRGxDO1NBQUEsTUFBQTtVQUdFLEdBQUEsR0FBTSxHQUhSOztRQUtBLElBQUksQ0FBQyxDQUFDLGNBQUYsS0FBb0IsZ0JBQXhCO1VBQ0UsSUFBQSxHQUFPLElBQUEsR0FBTyxPQUFBLENBQVEsYUFBUixDQUFBLENBQXVCLENBQUMsQ0FBQyxJQUF6QixFQUE4QixDQUFDLENBQUMsUUFBaEMsRUFBeUMsSUFBekMsQ0FBUCxHQUF3RCxRQUF4RCxHQUFtRSxPQUFBLENBQVEsYUFBUixDQUFBLENBQXVCLENBQUMsQ0FBQyxRQUF6QixFQUFrQyxDQUFDLENBQUMsUUFBcEMsRUFBNkMsSUFBN0MsQ0FBbkUsR0FBd0gsSUFEakk7U0FBQSxNQUFBO1VBR0UsSUFBQSxHQUFPLElBQUEsR0FBTyxPQUFBLENBQVEsYUFBUixDQUFBLENBQXVCLENBQUMsQ0FBQyxRQUF6QixFQUFrQyxDQUFDLENBQUMsUUFBcEMsRUFBNkMsSUFBN0MsQ0FBUCxHQUE0RCxJQUhyRTs7UUFLQSxPQUFPLENBQUMsSUFBUixDQUFhLEdBQUEsR0FBTSxLQUFOLEdBQWMsR0FBZCxHQUFvQixLQUFwQixHQUE0QixDQUFDLENBQUMsY0FBOUIsR0FBK0MsSUFBNUQ7ZUFDQSxLQUFBO01BYitCLENBQWpDO0FBZUEsYUFBTyxPQUFPLENBQUMsSUFBUixDQUFhLFFBQWI7SUFuQlk7V0F3QnJCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBckYwQyxDQUE1Qzs7RUF3RkEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsb0JBQWpCLEVBQXVDLFNBQUE7QUFDckMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLHdCQUZQOztFQUQ4QixDQUF2QztBQTFGQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvaW52b2ljZXMtbGlzdC9pbnZvaWNlcy1saXN0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuaW52b2ljZXMtbGlzdCcsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRJbnZvaWNlc0xpc3RDdHJsJywgKCRzY29wZSwgJHEsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmxpbWl0RW50cmllc0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuZGF0ZXNQaWNrZXJEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmxpbWl0RW50cmllc0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuZGF0ZXNQaWNrZXJEZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSAhXy5pc0VtcHR5KHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZW50aXRpZXMpXG4gICAgXG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmICRzY29wZS5vcmRlckJ5PT0nZHVlICdcbiAgICAgIGlmICRzY29wZS5lbnRpdHlUeXBlPT0nc3VwcGxpZXJzJ1xuICAgICAgICAkc2NvcGUubGltaXRFbnRyaWVzTGFiZWwgPSAnY3JlZGl0b3JzJ1xuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUubGltaXRFbnRyaWVzTGFiZWwgPSAnZGVidG9ycydcblxuICAgIGlmIHcubWV0YWRhdGE/ICYmIHcubWV0YWRhdGEubGltaXRfZW50cmllcz9cbiAgICAgICRzY29wZS5saW1pdEVudHJpZXNTZWxlY3RlZCA9IHcubWV0YWRhdGEubGltaXRfZW50cmllc1xuXG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBtYXhEYXRlID0gbmV3IERhdGUoKVxuICAgICAgbWluRGF0ZSA9IGZhbHNlXG4gICAgICBkYXRlcyA9IF8uZmxhdHRlbiBfLm1hcCh3LmNvbnRlbnQuZW50aXRpZXMsICgoZSkgLT4gXy5tYXAoZS5pbnZvaWNlcywgKChpKSAtPiBpLmludm9pY2VfZGF0ZSkpICkpXG4gICAgICBmb3IgZGF0ZSBpbiBkYXRlc1xuICAgICAgICB1bmxlc3MgXy5pc0VtcHR5KGRhdGUpXG4gICAgICAgICAgcGFyc2VkRGF0ZSA9IGRhdGUuc3BsaXQoJy0nKVxuICAgICAgICAgIHkgPSBwYXJzZWREYXRlWzBdXG4gICAgICAgICAgbSA9IHBhcnNlZERhdGVbMV0tMVxuICAgICAgICAgIGQgPSBwYXJzZWREYXRlWzJdXG4gICAgICAgICAgbmV3RGF0ZSA9IG5ldyBEYXRlKHksbSxkKVxuICAgICAgICAgIG1pbkRhdGUgfHw9IG5ld0RhdGVcbiAgICAgICAgICBtaW5EYXRlID0gTWF0aC5taW4obWluRGF0ZSwgbmV3RGF0ZSlcbiAgICAgICAgICBtYXhEYXRlID0gTWF0aC5tYXgobWF4RGF0ZSwgbmV3RGF0ZSlcblxuICAgICAgIyBSYXJlIGNhc2Ugd2hlcmUgbm90IGEgc2luZ2xlIGludm9pY2UgaGFzIGFuIGludm9pY2UgZGF0ZS4uLlxuICAgICAgbWluRGF0ZSB8fD0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMTAsIDAsIDEpXG4gICAgICAkc2NvcGUuZGVmYXVsdEZyb20gPSAkZmlsdGVyKCdkYXRlJykobWluRGF0ZSwgJ3l5eXktTU0tZGQnKVxuICAgICAgJHNjb3BlLmRlZmF1bHRUbyA9ICRmaWx0ZXIoJ2RhdGUnKShtYXhEYXRlLCAneXl5eS1NTS1kZCcpXG5cblxuICAjIE5vIG5lZWQgdG8gcHV0IHRoaXMgdW5kZXIgaW5pdENvbnRleHQgYmVjYXVzZSBpdCB3b24ndCBjaGFuZ2UgYWZ0ZXIgYSBzZXR0aW5ncyB1cGRhdGVcbiAgJHNjb3BlLmVudGl0eVR5cGUgPSB3Lm1ldGFkYXRhLmVudGl0eVxuICAkc2NvcGUuZW50aXR5VHlwZUNhcCA9IF8uY2FwaXRhbGl6ZSh3Lm1ldGFkYXRhLmVudGl0eSlcbiAgaWYgXy5pc0VtcHR5KHcubWV0YWRhdGEub3JkZXJfYnkpIHx8IHcubWV0YWRhdGEub3JkZXJfYnkgPT0gJ25hbWUnIHx8IHcubWV0YWRhdGEub3JkZXJfYnkgPT0gJ3RvdGFsX2ludm9pY2VkJ1xuICAgICRzY29wZS5vcmRlckJ5ID0gJydcbiAgZWxzZVxuICAgICMgcmV0dXJuZWQgYnkgSW1wYWMhOiBcInRvdGFsX3NvbWV0aGluZ1wiXG4gICAgJHNjb3BlLm9yZGVyQnkgPSBfLmxhc3Qody5tZXRhZGF0YS5vcmRlcl9ieS5zcGxpdCgnXycpKS5jb25jYXQoXCIgXCIpXG5cbiAgJHNjb3BlLmdldEludm9pY2VzID0gKGVudGl0eSkgLT5cbiAgICAjIFJldHVybnMgdGhlIGludm9pY2VzIGZvciBhIGdpdmVuIGN1c3RvbWVyL3N1cHBsaWVyXG4gICAgdG9vbHRpcCA9IFtcIjxzdHJvbmc+XCIgKyBlbnRpdHkubmFtZSArIFwiPC9zdHJvbmc+XCJdXG4gICAgY291bnQ9MVxuICAgIGFuZ3VsYXIuZm9yRWFjaChlbnRpdHkuaW52b2ljZXMsIChpKSAtPlxuXG4gICAgICBpZiAoaS50cmFuc2FjdGlvbl9ubyAhPSBcIlwiKVxuICAgICAgICB0eG4gPSBcIiAoXCIgKyBpLnRyYW5zYWN0aW9uX25vICsgXCIpXCJcbiAgICAgIGVsc2VcbiAgICAgICAgdHhuID0gXCJcIlxuXG4gICAgICBpZiAoaS50b29sdGlwX3N0YXR1cyA9PSBcInBhcnRpYWxseSBwYWlkXCIpXG4gICAgICAgIHBhaWQgPSBcIiAoXCIgKyAkZmlsdGVyKCdtbm9DdXJyZW5jeScpKGkucGFpZCxpLmN1cnJlbmN5LHRydWUpICsgXCIgb3ZlciBcIiArICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoaS5pbnZvaWNlZCxpLmN1cnJlbmN5LHRydWUpICsgXCIpXCJcbiAgICAgIGVsc2VcbiAgICAgICAgcGFpZCA9IFwiIChcIiArICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoaS5pbnZvaWNlZCxpLmN1cnJlbmN5LHRydWUpICsgXCIpXCJcblxuICAgICAgdG9vbHRpcC5wdXNoKFwiI1wiICsgY291bnQgKyB0eG4gKyBcIiAtIFwiICsgaS50b29sdGlwX3N0YXR1cyArIHBhaWQpXG4gICAgICBjb3VudCsrXG4gICAgKVxuICAgIHJldHVybiB0b29sdGlwLmpvaW4oXCI8YnIgLz5cIilcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0SW52b2ljZXNMaXN0JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRJbnZvaWNlc0xpc3RDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.invoices-summary', []);

  module.controller('WidgetInvoicesSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartFiltersDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    $scope.datesPickerDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartFiltersDeferred.promise, $scope.chartDeferred.promise, $scope.datesPickerDeferred.promise];
    $scope.defaultFrom = (new Date().getFullYear() - 10) + "-01-01";
    w.initContext = function() {
      return $scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.summary);
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        pieData = _.map(w.content.summary, function(entity) {
          return {
            label: entity.name,
            value: entity.total
          };
        });
        pieOptions = {
          percentageInnerCutout: 50,
          tooltipFontSize: 12
        };
        chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetInvoicesSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetInvoicesSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9pbnZvaWNlcy1zdW1tYXJ5L2ludm9pY2VzLXN1bW1hcnkuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMkJBQWxCLEVBQStDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYjtBQUU3QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsbUJBQVAsR0FBNkIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUU3QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxPQUpWO0lBT25CLE1BQU0sQ0FBQyxXQUFQLEdBQXVCLENBQUssSUFBQSxJQUFBLENBQUEsQ0FBTSxDQUFDLFdBQVAsQ0FBQSxDQUFKLEdBQTJCLEVBQTVCLENBQUEsR0FBK0I7SUFLdEQsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTthQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBWixDQUFELElBQXlCLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQXBCO0lBRGpDO0lBTWhCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSxPQUFBLEdBQVUsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQWhCLEVBQXlCLFNBQUMsTUFBRDtpQkFDakM7WUFDRSxLQUFBLEVBQU8sTUFBTSxDQUFDLElBRGhCO1lBRUUsS0FBQSxFQUFPLE1BQU0sQ0FBQyxLQUZoQjs7UUFEaUMsQ0FBekI7UUFLVixVQUFBLEdBQWE7VUFDWCxxQkFBQSxFQUF1QixFQURaO1VBRVgsZUFBQSxFQUFpQixFQUZOOztRQUliLFNBQUEsR0FBWSxpQkFBaUIsQ0FBQyxRQUFsQixDQUEyQixPQUEzQixFQUFvQyxVQUFwQztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFiRjs7SUFEUztXQW1CWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQWpENkMsQ0FBL0M7O0VBb0RBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHVCQUFqQixFQUEwQyxTQUFBO0FBQ3hDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSwyQkFGUDs7RUFEaUMsQ0FBMUM7QUF0REEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL2ludm9pY2VzLXN1bW1hcnkvaW52b2ljZXMtc3VtbWFyeS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLmludm9pY2VzLXN1bW1hcnknLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0SW52b2ljZXNTdW1tYXJ5Q3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnRGaWx0ZXJzRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuZGF0ZXNQaWNrZXJEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RmlsdGVyc0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmRhdGVzUGlja2VyRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cbiAgJHNjb3BlLmRlZmF1bHRGcm9tID0gXCIje25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEwfS0wMS0wMVwiXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gIV8uaXNFbXB0eSh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LnN1bW1hcnkpXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgcGllRGF0YSA9IF8ubWFwIHcuY29udGVudC5zdW1tYXJ5LCAoZW50aXR5KSAtPlxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IGVudGl0eS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBlbnRpdHkudG90YWwsXG4gICAgICAgIH1cbiAgICAgIHBpZU9wdGlvbnMgPSB7XG4gICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsXG4gICAgICAgIHRvb2x0aXBGb250U2l6ZTogMTIsXG4gICAgICB9XG4gICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5waWVDaGFydChwaWVEYXRhLCBwaWVPcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldEludm9pY2VzU3VtbWFyeScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0SW52b2ljZXNTdW1tYXJ5Q3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-aged', []);

  module.controller('WidgetSalesAgedCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.paramSelectorDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.aged_sales) && !_.isEmpty(w.content.dates)) {
        $scope.filterOptions = [
          {
            label: 'value sold (incl. taxes)',
            value: 'gross_value_sold'
          }, {
            label: 'value sold (excl. taxes)',
            value: 'net_value_sold'
          }, {
            label: 'quantity sold',
            value: 'quantity_sold'
          }
        ];
        return $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return w.metadata && w.metadata.filter === o.value;
        }) || $scope.filterOptions[0]);
      }
    };
    $scope.getTotal = function(anIndex) {
      if ($scope.isDataFound && anIndex >= 0 && anIndex < w.content.aged_sales[$scope.filter.value].length) {
        return w.content.aged_sales[$scope.filter.value][anIndex];
      }
    };
    $scope.getLastDate = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.dates);
      }
    };
    $scope.getClassColor = function(prev, value) {
      if (value < prev) {
        return 'negative';
      } else if (value > prev) {
        return 'positive';
      } else {
        return null;
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, inputData, options, period, values;
      if ($scope.isDataFound) {
        all_values_are_positive = true;
        inputData = [];
        values = w.content.aged_sales[$scope.filter.value];
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        $scope.formattedDates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData.push({
          title: $scope.filter.label,
          labels: $scope.formattedDates,
          values: values
        });
        angular.forEach(values, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true,
          datasetFill: true,
          pointDot: true
        };
        if ($scope.filter.value.indexOf('quantity') > -1) {
          angular.merge(options, {
            currency: 'hide'
          });
        }
        chartData = ChartFormatterSvc.lineChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesAged', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesAgedCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1hZ2VkL3NhbGVzLWFnZWQuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUscUNBQWYsRUFBcUQsRUFBckQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IscUJBQWxCLEVBQXlDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUV2QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDL0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE9BSFosRUFJakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUpKO0lBVW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQXBCLENBQWpDLElBQW9FLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQXBCLENBQTdGO1FBRUUsTUFBTSxDQUFDLGFBQVAsR0FBdUI7VUFDckI7WUFBQyxLQUFBLEVBQU8sMEJBQVI7WUFBb0MsS0FBQSxFQUFPLGtCQUEzQztXQURxQixFQUVyQjtZQUFDLEtBQUEsRUFBTywwQkFBUjtZQUFvQyxLQUFBLEVBQU8sZ0JBQTNDO1dBRnFCLEVBR3JCO1lBQUMsS0FBQSxFQUFPLGVBQVI7WUFBeUIsS0FBQSxFQUFPLGVBQWhDO1dBSHFCOztlQUt2QixNQUFNLENBQUMsTUFBUCxHQUFnQixPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxJQUFGLENBQU8sTUFBTSxDQUFDLGFBQWQsRUFBNkIsU0FBQyxDQUFEO2lCQUN4RCxDQUFDLENBQUMsUUFBRixJQUFjLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBWCxLQUFxQixDQUFDLENBQUM7UUFEbUIsQ0FBN0IsQ0FBQSxJQUV4QixNQUFNLENBQUMsYUFBYyxDQUFBLENBQUEsQ0FGVixFQVBsQjs7SUFEYztJQVloQixNQUFNLENBQUMsUUFBUCxHQUFrQixTQUFDLE9BQUQ7TUFDaEIsSUFBRyxNQUFNLENBQUMsV0FBUCxJQUFzQixPQUFBLElBQVUsQ0FBaEMsSUFBcUMsT0FBQSxHQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBZCxDQUFvQixDQUFDLE1BQTVGO0FBQ0UsZUFBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVcsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQWQsQ0FBcUIsQ0FBQSxPQUFBLEVBRG5EOztJQURnQjtJQUlsQixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO01BQ25CLElBQTJCLE1BQU0sQ0FBQyxXQUFsQztlQUFBLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFqQixFQUFBOztJQURtQjtJQUdyQixNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFDLElBQUQsRUFBTSxLQUFOO01BRXJCLElBQUcsS0FBQSxHQUFRLElBQVg7QUFDRSxlQUFPLFdBRFQ7T0FBQSxNQUVLLElBQUcsS0FBQSxHQUFRLElBQVg7QUFDSCxlQUFPLFdBREo7T0FBQSxNQUFBO0FBR0gsZUFBTyxLQUhKOztJQUpnQjtJQVl2QixNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLENBQUMsQ0FBQyxNQUFGLEdBQVcsU0FBQTtBQUNULFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsdUJBQUEsR0FBMEI7UUFFMUIsU0FBQSxHQUFZO1FBQ1osTUFBQSxHQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBZDtRQUU5QixNQUFBLEdBQVM7UUFDVCxJQUE4QyxvQkFBQSxJQUFlLG9DQUE3RDtVQUFBLE1BQUEsR0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFwQzs7UUFDQSxNQUFNLENBQUMsY0FBUCxHQUF3QixDQUFDLENBQUMsR0FBRixDQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBaEIsRUFBdUIsU0FBQyxJQUFEO2lCQUM3QyxPQUFBLENBQVEsU0FBUixDQUFBLENBQW1CLElBQW5CLEVBQXlCLE1BQXpCO1FBRDZDLENBQXZCO1FBR3hCLFNBQVMsQ0FBQyxJQUFWLENBQWU7VUFBQyxLQUFBLEVBQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUF0QjtVQUE2QixNQUFBLEVBQVEsTUFBTSxDQUFDLGNBQTVDO1VBQTRELE1BQUEsRUFBUSxNQUFwRTtTQUFmO1FBRUEsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsTUFBaEIsRUFBd0IsU0FBQyxLQUFEO2lCQUN0Qiw0QkFBQSwwQkFBNEIsS0FBQSxJQUFTO1FBRGYsQ0FBeEI7UUFJQSxPQUFBLEdBQVU7VUFDUixnQkFBQSxFQUFrQix1QkFEVjtVQUVSLFdBQUEsRUFBYSxJQUZMO1VBR1IsV0FBQSxFQUFhLElBSEw7VUFJUixRQUFBLEVBQVUsSUFKRjs7UUFNVixJQUE4QyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFwQixDQUE0QixVQUE1QixDQUFBLEdBQTBDLENBQUMsQ0FBekY7VUFBQSxPQUFPLENBQUMsS0FBUixDQUFjLE9BQWQsRUFBdUI7WUFBQyxRQUFBLEVBQVUsTUFBWDtXQUF2QixFQUFBOztRQUVBLFNBQUEsR0FBWSxpQkFBaUIsQ0FBQyxTQUFsQixDQUE0QixTQUE1QixFQUFzQyxPQUF0QztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUE1QkY7O0lBRFM7V0FpQ1gsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUF0RnVDLENBQXpDOztFQXlGQSxNQUFNLENBQUMsU0FBUCxDQUFpQixpQkFBakIsRUFBb0MsU0FBQTtBQUNsQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVkscUJBRlA7O0VBRDJCLENBQXBDO0FBM0ZBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1hZ2VkL3NhbGVzLWFnZWQuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy1hZ2VkJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldFNhbGVzQWdlZEN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LmFnZWRfc2FsZXMpICYmICFfLmlzRW1wdHkody5jb250ZW50LmRhdGVzKVxuXG4gICAgICAkc2NvcGUuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAge2xhYmVsOiAndmFsdWUgc29sZCAoaW5jbC4gdGF4ZXMpJywgdmFsdWU6ICdncm9zc192YWx1ZV9zb2xkJ30sXG4gICAgICAgIHtsYWJlbDogJ3ZhbHVlIHNvbGQgKGV4Y2wuIHRheGVzKScsIHZhbHVlOiAnbmV0X3ZhbHVlX3NvbGQnfSxcbiAgICAgICAge2xhYmVsOiAncXVhbnRpdHkgc29sZCcsIHZhbHVlOiAncXVhbnRpdHlfc29sZCd9LFxuICAgICAgXVxuICAgICAgJHNjb3BlLmZpbHRlciA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLmZpbHRlck9wdGlvbnMsIChvKSAtPlxuICAgICAgICB3Lm1ldGFkYXRhICYmIHcubWV0YWRhdGEuZmlsdGVyID09IG8udmFsdWVcbiAgICAgICkgfHwgJHNjb3BlLmZpbHRlck9wdGlvbnNbMF0pXG5cbiAgJHNjb3BlLmdldFRvdGFsID0gKGFuSW5kZXgpIC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmIGFuSW5kZXggPj0wICYmIGFuSW5kZXggPCB3LmNvbnRlbnQuYWdlZF9zYWxlc1skc2NvcGUuZmlsdGVyLnZhbHVlXS5sZW5ndGhcbiAgICAgIHJldHVybiB3LmNvbnRlbnQuYWdlZF9zYWxlc1skc2NvcGUuZmlsdGVyLnZhbHVlXVthbkluZGV4XVxuXG4gICRzY29wZS5nZXRMYXN0RGF0ZSA9IC0+XG4gICAgXy5sYXN0KHcuY29udGVudC5kYXRlcykgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldENsYXNzQ29sb3IgPSAocHJldix2YWx1ZSkgLT5cbiAgICAjIGlmIChwYXJzZUZsb2F0KHByZXYpICYmIHBhcnNlRmxvYXQodmFsdWUpKVxuICAgIGlmIHZhbHVlIDwgcHJldlxuICAgICAgcmV0dXJuICduZWdhdGl2ZSdcbiAgICBlbHNlIGlmIHZhbHVlID4gcHJldlxuICAgICAgcmV0dXJuICdwb3NpdGl2ZSdcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbnVsbFxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuXG4gICAgICBpbnB1dERhdGEgPSBbXVxuICAgICAgdmFsdWVzID0gdy5jb250ZW50LmFnZWRfc2FsZXNbJHNjb3BlLmZpbHRlci52YWx1ZV1cblxuICAgICAgcGVyaW9kID0gbnVsbFxuICAgICAgcGVyaW9kID0gdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnMucGVyaW9kIGlmIHcubWV0YWRhdGE/ICYmIHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzP1xuICAgICAgJHNjb3BlLmZvcm1hdHRlZERhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgJGZpbHRlcignbW5vRGF0ZScpKGRhdGUsIHBlcmlvZClcblxuICAgICAgaW5wdXREYXRhLnB1c2goe3RpdGxlOiAkc2NvcGUuZmlsdGVyLmxhYmVsLCBsYWJlbHM6ICRzY29wZS5mb3JtYXR0ZWREYXRlcywgdmFsdWVzOiB2YWx1ZXN9KVxuXG4gICAgICBhbmd1bGFyLmZvckVhY2godmFsdWVzLCAodmFsdWUpIC0+XG4gICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG4gICAgICApXG5cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNjYWxlQmVnaW5BdFplcm86IGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlLFxuICAgICAgICBzaG93WExhYmVsczogdHJ1ZSxcbiAgICAgICAgZGF0YXNldEZpbGw6IHRydWUsXG4gICAgICAgIHBvaW50RG90OiB0cnVlLFxuICAgICAgfVxuICAgICAgYW5ndWxhci5tZXJnZShvcHRpb25zLCB7Y3VycmVuY3k6ICdoaWRlJ30pIGlmICRzY29wZS5maWx0ZXIudmFsdWUuaW5kZXhPZigncXVhbnRpdHknKSA+IC0xXG5cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChpbnB1dERhdGEsb3B0aW9ucylcblxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNBZ2VkJywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc0FnZWRDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-break-even', []);

  module.controller('WidgetSalesBreakEvenCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, thresholdSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.sales);
      return $scope.threshold = w.metadata.threshold;
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getProjectedDate = function() {
      var date;
      if ($scope.isDataFound && w.content.break_even) {
        if (("" + w.content.break_even.projected_date).match('After')) {
          date = angular.copy(w.content.break_even.projected_date).replace('After ', '');
          return "> " + ($filter('date')(date, 'd-MM-yy'));
        } else {
          return w.content.break_even.projected_date;
        }
      }
    };
    $scope.getOpportunitiesToClose = function() {
      var opps;
      if ($scope.isDataFound && w.content.break_even) {
        if (("" + w.content.break_even.opportunities_to_close).match('>')) {
          opps = angular.copy(w.content.break_even.opportunities_to_close).replace('>', '');
          return "> " + opps;
        } else {
          return w.content.break_even.opportunities_to_close;
        }
      }
    };
    $scope.isTargetMet = function() {
      if ($scope.isDataFound && w.content.break_even) {
        return w.content.break_even.variance < 0;
      }
    };
    $scope.getVariance = function() {
      if ($scope.isDataFound && w.content.break_even) {
        return Math.abs(w.content.break_even.variance);
      }
    };
    thresholdSetting = {};
    thresholdSetting.initialized = false;
    thresholdSetting.initialize = function() {
      return thresholdSetting.initialized = true;
    };
    thresholdSetting.toMetadata = function() {
      return {
        threshold: $scope.threshold
      };
    };
    w.settings.push(thresholdSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesBreakEven', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesBreakEvenCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1icmVhay1ldmVuL3NhbGVzLWJyZWFrLWV2ZW4uZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMEJBQWxCLEVBQThDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUU1QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFM0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSO0lBUW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFwQjthQUN0RCxNQUFNLENBQUMsU0FBUCxHQUFtQixDQUFDLENBQUMsUUFBUSxDQUFDO0lBRmhCO0lBS2hCLENBQUMsQ0FBQyxZQUFGLEdBQWlCLFNBQUMsS0FBRDtNQUVmLElBQUcsS0FBSyxDQUFDLElBQU4sS0FBYyxHQUFqQjtlQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE1BRHZCOztJQUZlO0lBS2pCLE1BQU0sQ0FBQyxnQkFBUCxHQUEwQixTQUFBO0FBQ3hCLFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFQLElBQXNCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBbkM7UUFDRSxJQUFHLENBQUEsRUFBQSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGNBQXhCLENBQXdDLENBQUMsS0FBekMsQ0FBK0MsT0FBL0MsQ0FBSDtVQUNFLElBQUEsR0FBTyxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGNBQWxDLENBQWlELENBQUMsT0FBbEQsQ0FBMEQsUUFBMUQsRUFBb0UsRUFBcEU7QUFDUCxpQkFBTyxJQUFBLEdBQUksQ0FBQyxPQUFBLENBQVEsTUFBUixDQUFBLENBQWdCLElBQWhCLEVBQXNCLFNBQXRCLENBQUQsRUFGYjtTQUFBLE1BQUE7QUFJRSxpQkFBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxlQUo5QjtTQURGOztJQUR3QjtJQVExQixNQUFNLENBQUMsdUJBQVAsR0FBaUMsU0FBQTtBQUMvQixVQUFBO01BQUEsSUFBRyxNQUFNLENBQUMsV0FBUCxJQUFzQixDQUFDLENBQUMsT0FBTyxDQUFDLFVBQW5DO1FBQ0UsSUFBRyxDQUFBLEVBQUEsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxzQkFBeEIsQ0FBZ0QsQ0FBQyxLQUFqRCxDQUF1RCxHQUF2RCxDQUFIO1VBQ0UsSUFBQSxHQUFPLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsc0JBQWxDLENBQXlELENBQUMsT0FBMUQsQ0FBa0UsR0FBbEUsRUFBdUUsRUFBdkU7QUFDUCxpQkFBTyxJQUFBLEdBQUssS0FGZDtTQUFBLE1BQUE7QUFJRSxpQkFBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyx1QkFKOUI7U0FERjs7SUFEK0I7SUFRakMsTUFBTSxDQUFDLFdBQVAsR0FBcUIsU0FBQTtNQUNuQixJQUFHLE1BQU0sQ0FBQyxXQUFQLElBQXNCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBbkM7QUFDRSxlQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQXJCLEdBQWdDLEVBRDFDOztJQURtQjtJQUlyQixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO01BQ25CLElBQUcsTUFBTSxDQUFDLFdBQVAsSUFBc0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFuQztBQUNFLGVBQU8sSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUE5QixFQURUOztJQURtQjtJQU1yQixnQkFBQSxHQUFtQjtJQUNuQixnQkFBZ0IsQ0FBQyxXQUFqQixHQUErQjtJQUUvQixnQkFBZ0IsQ0FBQyxVQUFqQixHQUE4QixTQUFBO2FBQzVCLGdCQUFnQixDQUFDLFdBQWpCLEdBQStCO0lBREg7SUFHOUIsZ0JBQWdCLENBQUMsVUFBakIsR0FBOEIsU0FBQTthQUM1QjtRQUFDLFNBQUEsRUFBVyxNQUFNLENBQUMsU0FBbkI7O0lBRDRCO0lBRzlCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixnQkFBaEI7V0FLQSxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQW5FNEMsQ0FBOUM7O0VBc0VBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHNCQUFqQixFQUF5QyxTQUFBO0FBQ3ZDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSwwQkFGUDs7RUFEZ0MsQ0FBekM7QUF4RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLWJyZWFrLWV2ZW4vc2FsZXMtYnJlYWstZXZlbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLnNhbGVzLWJyZWFrLWV2ZW4nLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNCcmVha0V2ZW5DdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc2FsZXMpXG4gICAgJHNjb3BlLnRocmVzaG9sZCA9IHcubWV0YWRhdGEudGhyZXNob2xkXG5cbiAgIyBUT0RPOiBzaG91bGQgaXQgYmUgbWFuYWdlZCBpbiBhIHNlcnZpY2U/IGluIHRoZSB3aWRnZXQgZGlyZWN0aXZlPyBNdXN0IGlzTG9hZGluZyBhbmQgaXNEYXRhRm91bmQgYmUgYm91bmQgdG8gdGhlIHdpZGdldCBvYmplY3Qgb3IgdG8gdGhlIHNjb3BlP1xuICB3LnByb2Nlc3NFcnJvciA9IChlcnJvcikgLT5cbiAgICAjIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgaWYgZXJyb3IuY29kZSA9PSA0MDRcbiAgICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGZhbHNlXG5cbiAgJHNjb3BlLmdldFByb2plY3RlZERhdGUgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiB3LmNvbnRlbnQuYnJlYWtfZXZlblxuICAgICAgaWYgXCIje3cuY29udGVudC5icmVha19ldmVuLnByb2plY3RlZF9kYXRlfVwiLm1hdGNoKCdBZnRlcicpXG4gICAgICAgIGRhdGUgPSBhbmd1bGFyLmNvcHkody5jb250ZW50LmJyZWFrX2V2ZW4ucHJvamVjdGVkX2RhdGUpLnJlcGxhY2UoJ0FmdGVyICcsICcnKVxuICAgICAgICByZXR1cm4gXCI+ICN7JGZpbHRlcignZGF0ZScpKGRhdGUsICdkLU1NLXl5Jyl9XCJcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHcuY29udGVudC5icmVha19ldmVuLnByb2plY3RlZF9kYXRlXG5cbiAgJHNjb3BlLmdldE9wcG9ydHVuaXRpZXNUb0Nsb3NlID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgdy5jb250ZW50LmJyZWFrX2V2ZW5cbiAgICAgIGlmIFwiI3t3LmNvbnRlbnQuYnJlYWtfZXZlbi5vcHBvcnR1bml0aWVzX3RvX2Nsb3NlfVwiLm1hdGNoKCc+JylcbiAgICAgICAgb3BwcyA9IGFuZ3VsYXIuY29weSh3LmNvbnRlbnQuYnJlYWtfZXZlbi5vcHBvcnR1bml0aWVzX3RvX2Nsb3NlKS5yZXBsYWNlKCc+JywgJycpXG4gICAgICAgIHJldHVybiBcIj4gI3tvcHBzfVwiXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB3LmNvbnRlbnQuYnJlYWtfZXZlbi5vcHBvcnR1bml0aWVzX3RvX2Nsb3NlXG5cbiAgJHNjb3BlLmlzVGFyZ2V0TWV0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgdy5jb250ZW50LmJyZWFrX2V2ZW5cbiAgICAgIHJldHVybiAody5jb250ZW50LmJyZWFrX2V2ZW4udmFyaWFuY2UgPCAwKVxuXG4gICRzY29wZS5nZXRWYXJpYW5jZSA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmIHcuY29udGVudC5icmVha19ldmVuXG4gICAgICByZXR1cm4gTWF0aC5hYnMody5jb250ZW50LmJyZWFrX2V2ZW4udmFyaWFuY2UpXG5cbiAgIyBNaW5pLXNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdGhyZXNob2xkU2V0dGluZyA9IHt9XG4gIHRocmVzaG9sZFNldHRpbmcuaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHRocmVzaG9sZFNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdGhyZXNob2xkU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICB0aHJlc2hvbGRTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHt0aHJlc2hvbGQ6ICRzY29wZS50aHJlc2hvbGR9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHRocmVzaG9sZFNldHRpbmcpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldFNhbGVzQnJlYWtFdmVuJywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc0JyZWFrRXZlbkN0cmwnXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-comparison', []);

  module.controller('WidgetSalesComparisonCtrl', ["$scope", "$q", "$filter", "ChartFormatterSvc", "ImpacWidgetsSvc", function($scope, $q, $filter, ChartFormatterSvc, ImpacWidgetsSvc) {
    var selectedElementsSetting, settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred1 = $q.defer();
    $scope.paramSelectorDeferred2 = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred1, $scope.paramSelectorDeferred2, $scope.chartDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.sales_comparison) && !_.isEmpty(w.content.dates);
      if ($scope.isDataFound) {
        $scope.unCollapsed = w.metadata.unCollapsed || [];
        $scope.filterOptions = [
          {
            label: 'value sold (incl. taxes)',
            value: 'gross_value_sold'
          }, {
            label: 'value sold (excl. taxes)',
            value: 'net_value_sold'
          }, {
            label: 'quantity sold',
            value: 'quantity_sold'
          }
        ];
        $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return w.metadata && w.metadata.filter === o.value;
        }) || $scope.filterOptions[0]);
        $scope.criteriaOptions = [
          {
            label: 'products',
            value: 'default'
          }, {
            label: 'locations',
            value: 'location'
          }, {
            label: 'industries',
            value: 'industry'
          }, {
            label: 'customers',
            value: 'customer'
          }
        ];
        $scope.criteria = angular.copy(_.find($scope.criteriaOptions, function(o) {
          return w.metadata && w.metadata.criteria === o.value;
        }) || $scope.criteriaOptions[0]);
        if (w.metadata.selectedElements) {
          $scope.selectedElements = [];
          return angular.forEach(w.metadata.selectedElements, function(sElem) {
            var foundElem;
            foundElem = _.find(w.content.sales_comparison, function(statement) {
              return statement.name === sElem.name;
            });
            if (!foundElem) {
              angular.forEach(w.content.sales_comparison, function(statement) {
                if (statement.sales != null) {
                  return foundElem || (foundElem = _.find(statement.sales, function(sale) {
                    return sElem.id === sale.id;
                  }));
                }
              });
            }
            if (foundElem) {
              return $scope.selectedElements.push(foundElem);
            }
          });
        }
      }
    };
    $scope.getLastDate = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.dates);
      }
    };
    $scope.getTotalForPeriod = function(element) {
      if ((element.totals != null) && $scope.filter) {
        return _.reduce(element.totals[$scope.filter.value], function(memo, total) {
          return memo + total;
        }, 0);
      }
    };
    $scope.getElementChartColor = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElements = _.reject($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        });
        w.format();
        if (w.isExpanded() && $scope.selectedElements.length === 0) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElements || ($scope.selectedElements = []);
        $scope.selectedElements.push(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      if ((element != null) && ($scope.selectedElements != null)) {
        if (_.find($scope.selectedElements, function(sElem) {
          if (element.id) {
            return sElem.id === element.id;
          } else {
            return sElem.name === element.name;
          }
        })) {
          return true;
        } else {
          return false;
        }
      } else {
        return false;
      }
    };
    $scope.toggleCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === element.name;
          });
        } else {
          $scope.unCollapsed.push(element.name);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(element) {
      if ((element != null) && (element.name != null)) {
        if (_.find($scope.unCollapsed, (function(name) {
          return element.name === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    $scope.hasElements = function() {
      return ($scope.selectedElements != null) && $scope.selectedElements.length > 0;
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, inputData, options;
      if ($scope.isDataFound && ($scope.selectedElements != null) && $scope.selectedElements.length > 0) {
        all_values_are_positive = true;
        inputData = [];
        angular.forEach($scope.selectedElements, function(sElem) {
          var data, dates, period;
          data = angular.copy(sElem);
          period = null;
          if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
            period = w.metadata.hist_parameters.period;
          }
          dates = _.map(w.content.dates, function(date) {
            return $filter('mnoDate')(date, period);
          });
          inputData.push({
            title: data.name,
            labels: dates,
            values: data.totals[$scope.filter.value]
          });
          return angular.forEach(data.totals, function(value) {
            return all_values_are_positive && (all_values_are_positive = value >= 0);
          });
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true,
          datasetFill: false,
          pointDot: false
        };
        if ($scope.filter.value.indexOf('quantity') > -1) {
          angular.merge(options, {
            currency: 'hide'
          });
        }
        chartData = ChartFormatterSvc.lineChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    selectedElementsSetting = {};
    selectedElementsSetting.initialized = false;
    selectedElementsSetting.initialize = function() {
      return selectedElementsSetting.initialized = true;
    };
    selectedElementsSetting.toMetadata = function() {
      return {
        selectedElements: $scope.selectedElements
      };
    };
    w.settings.push(selectedElementsSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesComparison', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesComparisonCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1jb21wYXJpc29uL3NhbGVzLWNvbXBhcmlzb24uZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMkJBQWxCLEVBQStDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxPQUFiLEVBQXNCLGlCQUF0QixFQUF5QyxlQUF6QztBQUU3QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUN2QixNQUFNLENBQUMsc0JBQVAsR0FBZ0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNoQyxNQUFNLENBQUMsc0JBQVAsR0FBZ0MsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNoQyxNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsaUJBQWlCLENBQUMsT0FGUixFQUdqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BSEosRUFJakIsTUFBTSxDQUFDLHNCQUpVLEVBS2pCLE1BQU0sQ0FBQyxzQkFMVSxFQU1qQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BTko7SUFZbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXNCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENB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QUFoQjtJQUVBLHVCQUFBLEdBQTBCO0lBQzFCLHVCQUF1QixDQUFDLFdBQXhCLEdBQXNDO0lBRXRDLHVCQUF1QixDQUFDLFVBQXhCLEdBQXFDLFNBQUE7YUFDbkMsdUJBQXVCLENBQUMsV0FBeEIsR0FBc0M7SUFESDtJQUdyQyx1QkFBdUIsQ0FBQyxVQUF4QixHQUFxQyxTQUFBO2FBQ25DO1FBQUMsZ0JBQUEsRUFBa0IsTUFBTSxDQUFDLGdCQUExQjs7SUFEbUM7SUFHckMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLHVCQUFoQjtXQUtBLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBek02QyxDQUEvQzs7RUE0TUEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsdUJBQWpCLEVBQTBDLFNBQUE7QUFDeEMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLDJCQUZQOztFQURpQyxDQUExQztBQTlNQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvc2FsZXMtY29tcGFyaXNvbi9zYWxlcy1jb21wYXJpc29uLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtY29tcGFyaXNvbicsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRTYWxlc0NvbXBhcmlzb25DdHJsJywgKCRzY29wZSwgJHEsICRmaWx0ZXIsIENoYXJ0Rm9ybWF0dGVyU3ZjLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUud2lkdGhEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDEgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQyID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUud2lkdGhEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDFcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkMlxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IChhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LnNhbGVzX2NvbXBhcmlzb24pICYmICFfLmlzRW1wdHkody5jb250ZW50LmRhdGVzKSlcbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgICRzY29wZS51bkNvbGxhcHNlZCA9IHcubWV0YWRhdGEudW5Db2xsYXBzZWQgfHwgW11cblxuICAgICAgJHNjb3BlLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgIHtsYWJlbDogJ3ZhbHVlIHNvbGQgKGluY2wuIHRheGVzKScsIHZhbHVlOiAnZ3Jvc3NfdmFsdWVfc29sZCd9LFxuICAgICAgICB7bGFiZWw6ICd2YWx1ZSBzb2xkIChleGNsLiB0YXhlcyknLCB2YWx1ZTogJ25ldF92YWx1ZV9zb2xkJ30sXG4gICAgICAgIHtsYWJlbDogJ3F1YW50aXR5IHNvbGQnLCB2YWx1ZTogJ3F1YW50aXR5X3NvbGQnfSxcbiAgICAgIF1cbiAgICAgICRzY29wZS5maWx0ZXIgPSBhbmd1bGFyLmNvcHkoXy5maW5kKCRzY29wZS5maWx0ZXJPcHRpb25zLCAobykgLT5cbiAgICAgICAgdy5tZXRhZGF0YSAmJiB3Lm1ldGFkYXRhLmZpbHRlciA9PSBvLnZhbHVlXG4gICAgICApIHx8ICRzY29wZS5maWx0ZXJPcHRpb25zWzBdKVxuXG4gICAgICAkc2NvcGUuY3JpdGVyaWFPcHRpb25zID0gW1xuICAgICAgICB7bGFiZWw6ICdwcm9kdWN0cycsIHZhbHVlOiAnZGVmYXVsdCd9LFxuICAgICAgICB7bGFiZWw6ICdsb2NhdGlvbnMnLCB2YWx1ZTogJ2xvY2F0aW9uJ30sXG4gICAgICAgIHtsYWJlbDogJ2luZHVzdHJpZXMnLCB2YWx1ZTogJ2luZHVzdHJ5J30sXG4gICAgICAgIHtsYWJlbDogJ2N1c3RvbWVycycsIHZhbHVlOiAnY3VzdG9tZXInfSxcbiAgICAgIF1cbiAgICAgICRzY29wZS5jcml0ZXJpYSA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLmNyaXRlcmlhT3B0aW9ucywgKG8pIC0+XG4gICAgICAgIHcubWV0YWRhdGEgJiYgdy5tZXRhZGF0YS5jcml0ZXJpYSA9PSBvLnZhbHVlXG4gICAgICApIHx8ICRzY29wZS5jcml0ZXJpYU9wdGlvbnNbMF0pXG5cbiAgICAgIGlmIHcubWV0YWRhdGEuc2VsZWN0ZWRFbGVtZW50c1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cyA9IFtdXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgICBmb3VuZEVsZW0gPSBfLmZpbmQody5jb250ZW50LnNhbGVzX2NvbXBhcmlzb24sIChzdGF0ZW1lbnQpLT5cbiAgICAgICAgICAgIHN0YXRlbWVudC5uYW1lID09IHNFbGVtLm5hbWVcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAhZm91bmRFbGVtXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gody5jb250ZW50LnNhbGVzX2NvbXBhcmlzb24sIChzdGF0ZW1lbnQpIC0+XG4gICAgICAgICAgICAgIGZvdW5kRWxlbSB8fD0gXy5maW5kKHN0YXRlbWVudC5zYWxlcywgKHNhbGUpLT5cbiAgICAgICAgICAgICAgICBzRWxlbS5pZCA9PSBzYWxlLmlkXG4gICAgICAgICAgICAgICkgaWYgc3RhdGVtZW50LnNhbGVzP1xuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMucHVzaChmb3VuZEVsZW0pIGlmIGZvdW5kRWxlbVxuICAgICAgICApXG5cbiAgJHNjb3BlLmdldExhc3REYXRlID0gLT5cbiAgICBfLmxhc3Qody5jb250ZW50LmRhdGVzKSBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuICAkc2NvcGUuZ2V0VG90YWxGb3JQZXJpb2QgPSAoZWxlbWVudCkgLT5cbiAgICBfLnJlZHVjZShlbGVtZW50LnRvdGFsc1skc2NvcGUuZmlsdGVyLnZhbHVlXSwgKG1lbW8sdG90YWwpIC0+XG4gICAgICBtZW1vICsgdG90YWxcbiAgICAsIDApIGlmIGVsZW1lbnQudG90YWxzPyAmJiAkc2NvcGUuZmlsdGVyXG5cbiAgJHNjb3BlLmdldEVsZW1lbnRDaGFydENvbG9yID0gKGluZGV4KSAtPlxuICAgIENoYXJ0Rm9ybWF0dGVyU3ZjLmdldENvbG9yKGluZGV4KVxuXG4gICMgLS0tPlxuICAjIFRPRE8gc2VsZWN0ZWRFbGVtZW50IGFuZCBjb2xsYXBzZWQgc2hvdWxkIGJlIGZhY3Rvcml6ZWQgYXMgc2V0dGluZ3Mgb3IgJ2NvbW1vbnMnXG4gICRzY29wZS50b2dnbGVTZWxlY3RlZEVsZW1lbnQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiAkc2NvcGUuaXNTZWxlY3RlZChlbGVtZW50KVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMgPSBfLnJlamVjdCgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKHNFbGVtKSAtPlxuICAgICAgICBpZiBlbGVtZW50LmlkXG4gICAgICAgICAgc0VsZW0uaWQgPT0gZWxlbWVudC5pZFxuICAgICAgICBlbHNlXG4gICAgICAgICAgc0VsZW0ubmFtZSA9PSBlbGVtZW50Lm5hbWVcbiAgICAgIClcbiAgICAgIHcuZm9ybWF0KClcbiAgICAgIGlmIHcuaXNFeHBhbmRlZCgpICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PSAwXG4gICAgICAgIHcudG9nZ2xlRXhwYW5kZWQoKVxuICAgICAgZWxzZVxuICAgICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcbiAgICBlbHNlXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cyB8fD0gW11cbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudClcbiAgICAgIHcuZm9ybWF0KClcbiAgICAgIGlmICF3LmlzRXhwYW5kZWQoKVxuICAgICAgICB3LnRvZ2dsZUV4cGFuZGVkKClcbiAgICAgIGVsc2VcbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG5cbiAgJHNjb3BlLmlzU2VsZWN0ZWQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cz9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cywgKHNFbGVtKSAtPlxuICAgICAgICBpZiBlbGVtZW50LmlkXG4gICAgICAgICAgc0VsZW0uaWQgPT0gZWxlbWVudC5pZFxuICAgICAgICBlbHNlXG4gICAgICAgICAgc0VsZW0ubmFtZSA9PSBlbGVtZW50Lm5hbWVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgJHNjb3BlLnRvZ2dsZUNvbGxhcHNlZCA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQubmFtZT9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUudW5Db2xsYXBzZWQsICgobmFtZSkgLT4gZWxlbWVudC5uYW1lID09IG5hbWUpKVxuICAgICAgICAkc2NvcGUudW5Db2xsYXBzZWQgPSBfLnJlamVjdCgkc2NvcGUudW5Db2xsYXBzZWQsIChuYW1lKSAtPlxuICAgICAgICAgIG5hbWUgPT0gZWxlbWVudC5uYW1lXG4gICAgICAgIClcbiAgICAgIGVsc2VcbiAgICAgICAgJHNjb3BlLnVuQ29sbGFwc2VkLnB1c2goZWxlbWVudC5uYW1lKVxuICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG5cbiAgJHNjb3BlLmlzQ29sbGFwc2VkID0gKGVsZW1lbnQpIC0+XG4gICAgaWYgZWxlbWVudD8gJiYgZWxlbWVudC5uYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBlbGVtZW50Lm5hbWUgPT0gbmFtZSkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICRzY29wZS5oYXNFbGVtZW50cyA9IC0+XG4gICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHM/ICYmICRzY29wZS5zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA+IDBcbiAgIyA8LS0tXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50cz8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMFxuICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG5cbiAgICAgIGlucHV0RGF0YSA9IFtdXG4gICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNlbGVjdGVkRWxlbWVudHMsIChzRWxlbSkgLT5cbiAgICAgICAgZGF0YSA9IGFuZ3VsYXIuY29weShzRWxlbSlcblxuICAgICAgICBwZXJpb2QgPSBudWxsXG4gICAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgICAgZGF0ZXMgPSBfLm1hcCB3LmNvbnRlbnQuZGF0ZXMsIChkYXRlKSAtPlxuICAgICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgICAgaW5wdXREYXRhLnB1c2goe3RpdGxlOiBkYXRhLm5hbWUsIGxhYmVsczogZGF0ZXMsIHZhbHVlczogZGF0YS50b3RhbHNbJHNjb3BlLmZpbHRlci52YWx1ZV19KVxuXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLnRvdGFscywgKHZhbHVlKSAtPlxuICAgICAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlICYmPSB2YWx1ZSA+PSAwXG4gICAgICAgIClcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiB0cnVlLFxuICAgICAgICBkYXRhc2V0RmlsbDogZmFsc2UsXG4gICAgICAgIHBvaW50RG90OiBmYWxzZSxcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIubWVyZ2Uob3B0aW9ucywge2N1cnJlbmN5OiAnaGlkZSd9KSBpZiAkc2NvcGUuZmlsdGVyLnZhbHVlLmluZGV4T2YoJ3F1YW50aXR5JykgPiAtMVxuXG4gICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5saW5lQ2hhcnQoaW5wdXREYXRhLG9wdGlvbnMpXG5cbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgTWluaS1zZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHVuQ29sbGFwc2VkU2V0dGluZyA9IHt9XG4gIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICB1bkNvbGxhcHNlZFNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3VuQ29sbGFwc2VkOiAkc2NvcGUudW5Db2xsYXBzZWR9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHVuQ29sbGFwc2VkU2V0dGluZylcblxuICBzZWxlY3RlZEVsZW1lbnRzU2V0dGluZyA9IHt9XG4gIHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICBzZWxlY3RlZEVsZW1lbnRzU2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICBzZWxlY3RlZEVsZW1lbnRzU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICBzZWxlY3RlZEVsZW1lbnRzU2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICB7c2VsZWN0ZWRFbGVtZW50czogJHNjb3BlLnNlbGVjdGVkRWxlbWVudHN9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHNlbGVjdGVkRWxlbWVudHNTZXR0aW5nKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRTYWxlc0NvbXBhcmlzb24nLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzQ29tcGFyaXNvbkN0cmwnXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-customer-details', []);

  module.controller('WidgetSalesCustomerDetailsCtrl', ["$scope", "$q", function($scope, $q) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = (w.content != null) && !_.isEmpty(w.content.customers);
      if ($scope.isDataFound) {
        $scope.customersOptions = _.map(w.content.customers, function(e) {
          return {
            value: e.uid,
            label: e.name
          };
        });
        return $scope.selectedCustomer = {
          value: $scope.getCustomer().uid,
          label: $scope.getCustomer().name
        };
      }
    };
    $scope.getCustomer = function() {
      var customer;
      if (!$scope.isDataFound) {
        return false;
      }
      if (w.metadata && w.metadata.customer_uid) {
        customer = angular.copy(_.find(w.content.customers, function(e) {
          return e.uid === w.metadata.customer_uid;
        }) || w.content.customers[0]);
      } else {
        customer = angular.copy(w.content.customers[0]);
      }
      return customer;
    };
    $scope.formatAddress = function(anAddress) {
      if (angular.isDefined(anAddress)) {
        return anAddress.replace(/, /g, ',\n');
      }
    };
    $scope.getFromDate = function() {
      if ($scope.isDataFound) {
        return w.content.from;
      }
    };
    $scope.getToDate = function() {
      if ($scope.isDataFound) {
        return w.content.to;
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesCustomerDetails', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesCustomerDetailsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1jdXN0b21lci1kZXRhaWxzL3NhbGVzLWN1c3RvbWVyLWRldGFpbHMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsZ0NBQWxCLEVBQW9ELFNBQUMsTUFBRCxFQUFTLEVBQVQ7QUFFbEQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFL0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSLEVBR2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FISixFQUlqQixNQUFNLENBQUMscUJBQXFCLENBQUMsT0FKWjtJQVVuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsTUFBTSxDQUFDLFdBQVAsR0FBcUIsbUJBQUEsSUFBYyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFwQjtNQUVwQyxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFoQixFQUEyQixTQUFDLENBQUQ7aUJBQ25EO1lBQ0UsS0FBQSxFQUFPLENBQUMsQ0FBQyxHQURYO1lBRUUsS0FBQSxFQUFPLENBQUMsQ0FBQyxJQUZYOztRQURtRCxDQUEzQjtlQU0xQixNQUFNLENBQUMsZ0JBQVAsR0FBMEI7VUFDeEIsS0FBQSxFQUFPLE1BQU0sQ0FBQyxXQUFQLENBQUEsQ0FBb0IsQ0FBQyxHQURKO1VBRXhCLEtBQUEsRUFBTyxNQUFNLENBQUMsV0FBUCxDQUFBLENBQW9CLENBQUMsSUFGSjtVQVA1Qjs7SUFIYztJQWVoQixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxJQUFBLENBQW9CLE1BQU0sQ0FBQyxXQUEzQjtBQUFBLGVBQU8sTUFBUDs7TUFFQSxJQUFHLENBQUMsQ0FBQyxRQUFGLElBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUE1QjtRQUNFLFFBQUEsR0FBVyxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFqQixFQUE0QixTQUFDLENBQUQ7aUJBQ2xELENBQUMsQ0FBQyxHQUFGLEtBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUQ4QixDQUE1QixDQUFBLElBRW5CLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBVSxDQUFBLENBQUEsQ0FGZCxFQURiO09BQUEsTUFBQTtRQUtFLFFBQUEsR0FBVyxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBVSxDQUFBLENBQUEsQ0FBakMsRUFMYjs7QUFPQSxhQUFPO0lBVlk7SUFZckIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsU0FBQyxTQUFEO01BQ3JCLElBQXlDLE9BQU8sQ0FBQyxTQUFSLENBQWtCLFNBQWxCLENBQXpDO0FBQUEsZUFBTyxTQUFTLENBQUMsT0FBVixDQUFrQixLQUFsQixFQUF3QixLQUF4QixFQUFQOztJQURxQjtJQUd2QixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFBO01BQ25CLElBQXlCLE1BQU0sQ0FBQyxXQUFoQztBQUFBLGVBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFqQjs7SUFEbUI7SUFHckIsTUFBTSxDQUFDLFNBQVAsR0FBbUIsU0FBQTtNQUNqQixJQUF1QixNQUFNLENBQUMsV0FBOUI7QUFBQSxlQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBakI7O0lBRGlCO1dBTW5CLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBNURrRCxDQUFwRDs7RUErREEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsNEJBQWpCLEVBQStDLFNBQUE7QUFDN0MsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLGdDQUZQOztFQURzQyxDQUEvQztBQWpFQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvc2FsZXMtY3VzdG9tZXItZGV0YWlscy9zYWxlcy1jdXN0b21lci1kZXRhaWxzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtY3VzdG9tZXItZGV0YWlscycsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRTYWxlc0N1c3RvbWVyRGV0YWlsc0N0cmwnLCAoJHNjb3BlLCAkcSkgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS53aWR0aERlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS53aWR0aERlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IHcuY29udGVudD8gJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuY3VzdG9tZXJzKVxuXG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICAkc2NvcGUuY3VzdG9tZXJzT3B0aW9ucyA9IF8ubWFwKHcuY29udGVudC5jdXN0b21lcnMsIChlKSAtPlxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IGUudWlkLFxuICAgICAgICAgIGxhYmVsOiBlLm5hbWUsXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgICRzY29wZS5zZWxlY3RlZEN1c3RvbWVyID0ge1xuICAgICAgICB2YWx1ZTogJHNjb3BlLmdldEN1c3RvbWVyKCkudWlkLFxuICAgICAgICBsYWJlbDogJHNjb3BlLmdldEN1c3RvbWVyKCkubmFtZSxcbiAgICAgIH1cblxuICAkc2NvcGUuZ2V0Q3VzdG9tZXIgPSAtPlxuICAgIHJldHVybiBmYWxzZSB1bmxlc3MgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgICBpZiB3Lm1ldGFkYXRhICYmIHcubWV0YWRhdGEuY3VzdG9tZXJfdWlkXG4gICAgICBjdXN0b21lciA9IGFuZ3VsYXIuY29weShfLmZpbmQody5jb250ZW50LmN1c3RvbWVycywgKGUpIC0+XG4gICAgICAgIGUudWlkID09IHcubWV0YWRhdGEuY3VzdG9tZXJfdWlkXG4gICAgICApIHx8IHcuY29udGVudC5jdXN0b21lcnNbMF0pXG4gICAgZWxzZVxuICAgICAgY3VzdG9tZXIgPSBhbmd1bGFyLmNvcHkody5jb250ZW50LmN1c3RvbWVyc1swXSlcblxuICAgIHJldHVybiBjdXN0b21lclxuXG4gICRzY29wZS5mb3JtYXRBZGRyZXNzID0gKGFuQWRkcmVzcykgLT5cbiAgICByZXR1cm4gYW5BZGRyZXNzLnJlcGxhY2UoLywgL2csJyxcXG4nKSBpZiBhbmd1bGFyLmlzRGVmaW5lZChhbkFkZHJlc3MpXG5cbiAgJHNjb3BlLmdldEZyb21EYXRlID0gLT5cbiAgICByZXR1cm4gdy5jb250ZW50LmZyb20gaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgJHNjb3BlLmdldFRvRGF0ZSA9IC0+XG4gICAgcmV0dXJuIHcuY29udGVudC50byBpZiAkc2NvcGUuaXNEYXRhRm91bmRcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNDdXN0b21lckRldGFpbHMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzQ3VzdG9tZXJEZXRhaWxzQ3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  module = angular.module('impac.components.widgets.sales-cycle', []);

  module.controller('WidgetSalesCycleCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramsPickerDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramsPickerDeferred.promise, $scope.timeRangeDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.status_average_durations)) {
        $scope.unit = (w.metadata.unit || w.content.unit || "days").toLowerCase();
        $scope.statusOptions = _.compact(_.map(w.metadata.status_selection, function(status) {
          if (angular.isDefined(w.content.status_average_durations[status])) {
            return {
              label: status,
              selected: true
            };
          }
        }));
        return angular.forEach(w.content.status_average_durations, function(value, status) {
          if (w.metadata.status_selection && !(indexOf.call(w.metadata.status_selection, status) >= 0)) {
            return $scope.statusOptions.push({
              label: status,
              selected: false
            });
          } else if (_.isEmpty(w.metadata.status_selection)) {
            return $scope.statusOptions.push({
              label: status,
              selected: true
            });
          }
        });
      }
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        pieData = _.compact(_.map($scope.statusOptions, function(statusOption) {
          var value;
          value = w.content.status_average_durations[statusOption.label];
          if (statusOption.selected && angular.isDefined(value)) {
            return {
              label: ($filter('titleize')(statusOption.label)) + ": " + value + " " + $scope.unit,
              value: value
            };
          }
        }));
        pieOptions = {
          percentageInnerCutout: 50,
          tooltipFontSize: 12,
          currency: w.content.unit
        };
        chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesCycle', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesCycleCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1jeWNsZS9zYWxlcy1jeWNsZS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxNQUFBO0lBQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsc0NBQWYsRUFBc0QsRUFBdEQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isc0JBQWxCLEVBQTBDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUV4QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDM0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BSFIsRUFJakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUpKO0lBVW5CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxJQUFHLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLHdCQUFwQixDQUF6RDtRQUNFLE1BQU0sQ0FBQyxJQUFQLEdBQWMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQVgsSUFBbUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUE3QixJ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LWN5Y2xlL3NhbGVzLWN5Y2xlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtY3ljbGUnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNDeWNsZUN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtc1BpY2tlckRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1zUGlja2VyRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdGF0dXNfYXZlcmFnZV9kdXJhdGlvbnMpXG4gICAgICAkc2NvcGUudW5pdCA9ICh3Lm1ldGFkYXRhLnVuaXQgfHwgdy5jb250ZW50LnVuaXQgfHwgXCJkYXlzXCIpLnRvTG93ZXJDYXNlKClcblxuICAgICAgJHNjb3BlLnN0YXR1c09wdGlvbnMgPSBfLmNvbXBhY3QgXy5tYXAgdy5tZXRhZGF0YS5zdGF0dXNfc2VsZWN0aW9uLCAoc3RhdHVzKSAtPlxuICAgICAgICB7bGFiZWw6IHN0YXR1cywgc2VsZWN0ZWQ6IHRydWV9IGlmIGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudC5zdGF0dXNfYXZlcmFnZV9kdXJhdGlvbnNbc3RhdHVzXSlcblxuICAgICAgYW5ndWxhci5mb3JFYWNoIHcuY29udGVudC5zdGF0dXNfYXZlcmFnZV9kdXJhdGlvbnMsICh2YWx1ZSwgc3RhdHVzKSAtPlxuICAgICAgICBpZiB3Lm1ldGFkYXRhLnN0YXR1c19zZWxlY3Rpb24gJiYgIShzdGF0dXMgaW4gdy5tZXRhZGF0YS5zdGF0dXNfc2VsZWN0aW9uKVxuICAgICAgICAgICRzY29wZS5zdGF0dXNPcHRpb25zLnB1c2goe2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiBmYWxzZX0pXG4gICAgICAgIGVsc2UgaWYgXy5pc0VtcHR5KHcubWV0YWRhdGEuc3RhdHVzX3NlbGVjdGlvbilcbiAgICAgICAgICAkc2NvcGUuc3RhdHVzT3B0aW9ucy5wdXNoKHtsYWJlbDogc3RhdHVzLCBzZWxlY3RlZDogdHJ1ZX0pXG5cbiAgIyBUT0RPOiBzaG91bGQgaXQgYmUgbWFuYWdlZCBpbiBhIHNlcnZpY2U/IGluIHRoZSB3aWRnZXQgZGlyZWN0aXZlPyBNdXN0IGlzTG9hZGluZyBhbmQgaXNEYXRhRm91bmQgYmUgYm91bmQgdG8gdGhlIHdpZGdldCBvYmplY3Qgb3IgdG8gdGhlIHNjb3BlP1xuICB3LnByb2Nlc3NFcnJvciA9IChlcnJvcikgLT5cbiAgICAjIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgaWYgZXJyb3IuY29kZSA9PSA0MDRcbiAgICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGZhbHNlXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgcGllRGF0YSA9IF8uY29tcGFjdCBfLm1hcCAkc2NvcGUuc3RhdHVzT3B0aW9ucywgKHN0YXR1c09wdGlvbikgLT5cbiAgICAgICAgdmFsdWUgPSB3LmNvbnRlbnQuc3RhdHVzX2F2ZXJhZ2VfZHVyYXRpb25zW3N0YXR1c09wdGlvbi5sYWJlbF1cblxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IFwiI3skZmlsdGVyKCd0aXRsZWl6ZScpKHN0YXR1c09wdGlvbi5sYWJlbCl9OiAje3ZhbHVlfSAjeyRzY29wZS51bml0fVwiLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9IGlmIHN0YXR1c09wdGlvbi5zZWxlY3RlZCAmJiBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSlcblxuICAgICAgcGllT3B0aW9ucyA9IHtcbiAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0OiA1MCxcbiAgICAgICAgdG9vbHRpcEZvbnRTaXplOiAxMixcbiAgICAgICAgY3VycmVuY3k6IHcuY29udGVudC51bml0XG4gICAgICB9XG4gICAgICBjaGFydERhdGEgPSBDaGFydEZvcm1hdHRlclN2Yy5waWVDaGFydChwaWVEYXRhLCBwaWVPcHRpb25zKVxuICAgICAgXG4gICAgICAjIGNhbGxzIGNoYXJ0LmRyYXcoKVxuICAgICAgJHNjb3BlLmRyYXdUcmlnZ2VyLm5vdGlmeShjaGFydERhdGEpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldFNhbGVzQ3ljbGUnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzQ3ljbGVDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-forecast', []);

  module.controller('WidgetSalesForecastCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.dates) && !_.isEmpty(w.content.totals);
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getOpportunityAmount = function(anOpp) {
      if ($scope.isDataFound && !_.isEmpty(anOpp)) {
        if (anOpp.amount && anOpp.amount.amount) {
          return anOpp.amount.amount;
        } else {
          return '-';
        }
      }
    };
    $scope.getOpportunityCurrency = function(anOpp) {
      if ($scope.isDataFound && !_.isEmpty(anOpp)) {
        if (anOpp.amount && anOpp.amount.currency) {
          return anOpp.amount.currency;
        } else if (w.content.currency) {
          return w.content.currency;
        } else {
          return 'AUD';
        }
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, formattedDates, inputData, options, period;
      if ($scope.isDataFound) {
        all_values_are_positive = true;
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        formattedDates = _.map(w.content.dates, function(aDate) {
          return $filter('mnoDate')(aDate, period);
        });
        inputData = [
          {
            title: 'Sales Performance',
            labels: formattedDates,
            values: w.content.totals
          }
        ];
        angular.forEach(w.content.totals, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true,
          datasetFill: true,
          pointDot: false
        };
        chartData = ChartFormatterSvc.lineChart(inputData, options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesForecast', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesForecastCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1mb3JlY2FzdC9zYWxlcy1mb3JlY2FzdC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSx5Q0FBZixFQUF5RCxFQUF6RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQix5QkFBbEIsRUFBNkMsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiLEVBQWdDLE9BQWhDO0FBRTNDLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BRko7SUFRbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTthQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQXBCLENBQWpDLElBQStELENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQXBCO0lBRHZFO0lBSWhCLENBQUMsQ0FBQyxZQUFGLEdBQWlCLFNBQUMsS0FBRDtNQUVmLElBQUcsS0FBSyxDQUFDLElBQU4sS0FBYyxHQUFqQjtlQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE1BRHZCOztJQUZlO0lBS2pCLE1BQU0sQ0FBQyxvQkFBUCxHQUE4QixTQUFDLEtBQUQ7TUFDNUIsSUFBRyxNQUFNLENBQUMsV0FBUCxJQUFzQixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsS0FBVixDQUExQjtRQUNFLElBQUcsS0FBSyxDQUFDLE1BQU4sSUFBZ0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFoQztBQUNFLGlCQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FEdEI7U0FBQSxNQUFBO0FBR0UsaUJBQU8sSUFIVDtTQURGOztJQUQ0QjtJQU85QixNQUFNLENBQUMsc0JBQVAsR0FBZ0MsU0FBQyxLQUFEO01BQzlCLElBQUcsTUFBTSxDQUFDLFdBQVAsSUFBc0IsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLEtBQVYsQ0FBMUI7UUFDRSxJQUFHLEtBQUssQ0FBQyxNQUFOLElBQWdCLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBaEM7QUFDRSxpQkFBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBRHRCO1NBQUEsTUFFSyxJQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBYjtBQUNILGlCQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FEZDtTQUFBLE1BQUE7QUFHSCxpQkFBTyxNQUhKO1NBSFA7O0lBRDhCO0lBWWhDLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVyxTQUFBO0FBQ1QsVUFBQTtNQUFBLElBQUcsTUFBTSxDQUFDLFdBQVY7UUFDRSx1QkFBQSxHQUEwQjtRQUUxQixNQUFBLEdBQVM7UUFDVCxJQUE4QyxvQkFBQSxJQUFlLG9DQUE3RDtVQUFBLE1BQUEsR0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFwQzs7UUFDQSxjQUFBLEdBQWlCLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFoQixFQUF1QixTQUFDLEtBQUQ7aUJBQ3RDLE9BQUEsQ0FBUSxTQUFSLENBQUEsQ0FBbUIsS0FBbkIsRUFBMEIsTUFBMUI7UUFEc0MsQ0FBdkI7UUFHakIsU0FBQSxHQUFZO1VBQUM7WUFDWCxLQUFBLEVBQU8sbUJBREk7WUFFWCxNQUFBLEVBQVEsY0FGRztZQUdYLE1BQUEsRUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BSFA7V0FBRDs7UUFNWixPQUFPLENBQUMsT0FBUixDQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLE1BQTFCLEVBQWtDLFNBQUMsS0FBRDtpQkFDaEMsNEJBQUEsMEJBQTRCLEtBQUEsSUFBUztRQURMLENBQWxDO1FBSUEsT0FBQSxHQUFVO1VBQ1IsZ0JBQUEsRUFBa0IsdUJBRFY7VUFFUixXQUFBLEVBQWEsSUFGTDtVQUdSLFdBQUEsRUFBYSxJQUhMO1VBSVIsUUFBQSxFQUFVLEtBSkY7O1FBT1YsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFNBQWxCLENBQTRCLFNBQTVCLEVBQXNDLE9BQXRDO2VBR1osTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQTVCRjs7SUFEUztXQWtDWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQWhGMkMsQ0FBN0M7O0VBbUZBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHFCQUFqQixFQUF3QyxTQUFBO0FBQ3RDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSx5QkFGUDs7RUFEK0IsQ0FBeEM7QUFyRkEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLWZvcmVjYXN0L3NhbGVzLWZvcmVjYXN0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtZm9yZWNhc3QnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNGb3JlY2FzdEN0cmwnLCAoJHNjb3BlLCAkcSwgQ2hhcnRGb3JtYXR0ZXJTdmMsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuZGF0ZXMpICYmICFfLmlzRW1wdHkody5jb250ZW50LnRvdGFscylcblxuICAjIFRPRE86IHNob3VsZCBpdCBiZSBtYW5hZ2VkIGluIGEgc2VydmljZT8gaW4gdGhlIHdpZGdldCBkaXJlY3RpdmU/IE11c3QgaXNMb2FkaW5nIGFuZCBpc0RhdGFGb3VuZCBiZSBib3VuZCB0byB0aGUgd2lkZ2V0IG9iamVjdCBvciB0byB0aGUgc2NvcGU/XG4gIHcucHJvY2Vzc0Vycm9yID0gKGVycm9yKSAtPlxuICAgICMgVE9ETzogYmV0dGVyIGVycm9yIG1hbmFnZW1lbnRcbiAgICBpZiBlcnJvci5jb2RlID09IDQwNFxuICAgICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gZmFsc2VcblxuICAkc2NvcGUuZ2V0T3Bwb3J0dW5pdHlBbW91bnQgPSAoYW5PcHApIC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmICFfLmlzRW1wdHkoYW5PcHApXG4gICAgICBpZiBhbk9wcC5hbW91bnQgJiYgYW5PcHAuYW1vdW50LmFtb3VudFxuICAgICAgICByZXR1cm4gYW5PcHAuYW1vdW50LmFtb3VudFxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gJy0nXG5cbiAgJHNjb3BlLmdldE9wcG9ydHVuaXR5Q3VycmVuY3kgPSAoYW5PcHApIC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kICYmICFfLmlzRW1wdHkoYW5PcHApXG4gICAgICBpZiBhbk9wcC5hbW91bnQgJiYgYW5PcHAuYW1vdW50LmN1cnJlbmN5XG4gICAgICAgIHJldHVybiBhbk9wcC5hbW91bnQuY3VycmVuY3lcbiAgICAgIGVsc2UgaWYgdy5jb250ZW50LmN1cnJlbmN5XG4gICAgICAgIHJldHVybiB3LmNvbnRlbnQuY3VycmVuY3lcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICdBVUQnXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG5cbiAgICAgIHBlcmlvZCA9IG51bGxcbiAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgIGZvcm1hdHRlZERhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoYURhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShhRGF0ZSwgcGVyaW9kKVxuXG4gICAgICBpbnB1dERhdGEgPSBbe1xuICAgICAgICB0aXRsZTogJ1NhbGVzIFBlcmZvcm1hbmNlJyxcbiAgICAgICAgbGFiZWxzOiBmb3JtYXR0ZWREYXRlcyxcbiAgICAgICAgdmFsdWVzOiB3LmNvbnRlbnQudG90YWxzXG4gICAgICB9XVxuXG4gICAgICBhbmd1bGFyLmZvckVhY2gody5jb250ZW50LnRvdGFscywgKHZhbHVlKSAtPlxuICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSAmJj0gdmFsdWUgPj0gMFxuICAgICAgKVxuXG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSxcbiAgICAgICAgc2hvd1hMYWJlbHM6IHRydWUsXG4gICAgICAgIGRhdGFzZXRGaWxsOiB0cnVlLFxuICAgICAgICBwb2ludERvdDogZmFsc2UsXG4gICAgICB9XG5cbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLmxpbmVDaGFydChpbnB1dERhdGEsb3B0aW9ucylcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRTYWxlc0ZvcmVjYXN0JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc0ZvcmVjYXN0Q3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-growth', []);

  module.controller('WidgetSalesGrowthCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.paramSelectorDeferred1 = $q.defer();
    $scope.paramSelectorDeferred2 = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.paramSelectorDeferred1.promise, $scope.paramSelectorDeferred2.promise, $scope.chartDeferred.promise];
    $scope.isDataQuantity = true;
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary) && !_.isEmpty(w.content.dates)) {
        $scope.productOptions = _.flatten(_.map(w.content.summary, function(product) {
          return {
            label: product.code,
            value: product.id
          };
        }));
        $scope.product = angular.copy(_.find($scope.productOptions, function(o) {
          return o.value === w.content.product;
        }) || {
          label: "SELECT PRODUCT",
          value: -1
        });
        $scope.filterOptions = [
          {
            label: 'value sold (incl. taxes)',
            value: 'gross_value_sold'
          }, {
            label: 'value sold (excl. taxes)',
            value: 'net_value_sold'
          }, {
            label: 'quantity sold',
            value: 'quantity_sold'
          }, {
            label: 'value purchased (incl. taxes)',
            value: 'gross_value_purchased'
          }, {
            label: 'value purchased (excl. taxes)',
            value: 'net_value_purchased'
          }, {
            label: 'quantity purchased',
            value: 'quantity_purchased'
          }
        ];
        $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return o.value === w.content.filter;
        }) || $scope.filterOptions[0]);
        return $scope.isDataQuantity = $scope.filter.value.match('quantity');
      }
    };
    $scope.getSelectedProduct = function() {
      if ($scope.isDataFound) {
        return _.find(w.content.summary, function(product) {
          return product.id === $scope.product.value;
        });
      }
    };
    $scope.getCurrentValue = function() {
      if ($scope.getSelectedProduct() != null) {
        return _.last($scope.getSelectedProduct().totals);
      }
    };
    $scope.getCurrentDate = function() {
      if ($scope.isDataFound) {
        return _.last(w.content.dates);
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, data, dates, inputData, options, period;
      if ($scope.isDataFound && $scope.product && (data = $scope.getSelectedProduct())) {
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: data.name,
          labels: dates,
          values: data.totals
        };
        all_values_are_positive = true;
        angular.forEach(data.totals, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false
        };
        if ($scope.filter.value.indexOf('quantity') > -1) {
          angular.merge(options, {
            currency: 'hide'
          });
        }
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesGrowth', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesGrowthCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1ncm93dGgvc2FsZXMtZ3Jvd3RoLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLHVDQUFmLEVBQXVELEVBQXZEOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLHVCQUFsQixFQUEyQyxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEM7QUFFekMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ2hDLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQyxFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ2hDLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSLEVBR2pCLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxPQUhiLEVBSWpCLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxPQUpiLEVBS2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FMSjtJQVduQixNQUFNLENBQUMsY0FBUCxHQUF3QjtJQUN4QixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxP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LEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSx1QkFGUDs7RUFENkIsQ0FBdEM7QUEvRkEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLWdyb3d0aC9zYWxlcy1ncm93dGguZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy1ncm93dGgnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNHcm93dGhDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDEgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQyID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkMS5wcm9taXNlXG4gICAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZDIucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5pc0RhdGFRdWFudGl0eSA9IHRydWVcbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5zdW1tYXJ5KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcylcblxuICAgICAgJHNjb3BlLnByb2R1Y3RPcHRpb25zID0gXy5mbGF0dGVuKF8ubWFwKHcuY29udGVudC5zdW1tYXJ5LCAocHJvZHVjdCkgLT5cbiAgICAgICAgcmV0dXJuIHtsYWJlbDogcHJvZHVjdC5jb2RlLCB2YWx1ZTogcHJvZHVjdC5pZH1cbiAgICAgICkpXG4gICAgICAkc2NvcGUucHJvZHVjdCA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLnByb2R1Y3RPcHRpb25zLCAobykgLT5cbiAgICAgICAgby52YWx1ZSA9PSB3LmNvbnRlbnQucHJvZHVjdFxuICAgICAgKSB8fCB7bGFiZWw6IFwiU0VMRUNUIFBST0RVQ1RcIiwgdmFsdWU6IC0xfSlcblxuICAgICAgJHNjb3BlLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgIHtsYWJlbDogJ3ZhbHVlIHNvbGQgKGluY2wuIHRheGVzKScsIHZhbHVlOiAnZ3Jvc3NfdmFsdWVfc29sZCd9LFxuICAgICAgICB7bGFiZWw6ICd2YWx1ZSBzb2xkIChleGNsLiB0YXhlcyknLCB2YWx1ZTogJ25ldF92YWx1ZV9zb2xkJ30sXG4gICAgICAgIHtsYWJlbDogJ3F1YW50aXR5IHNvbGQnLCB2YWx1ZTogJ3F1YW50aXR5X3NvbGQnfSxcbiAgICAgICAge2xhYmVsOiAndmFsdWUgcHVyY2hhc2VkIChpbmNsLiB0YXhlcyknLCB2YWx1ZTogJ2dyb3NzX3ZhbHVlX3B1cmNoYXNlZCd9LFxuICAgICAgICB7bGFiZWw6ICd2YWx1ZSBwdXJjaGFzZWQgKGV4Y2wuIHRheGVzKScsIHZhbHVlOiAnbmV0X3ZhbHVlX3B1cmNoYXNlZCd9LFxuICAgICAgICB7bGFiZWw6ICdxdWFudGl0eSBwdXJjaGFzZWQnLCB2YWx1ZTogJ3F1YW50aXR5X3B1cmNoYXNlZCd9LFxuICAgICAgXVxuICAgICAgJHNjb3BlLmZpbHRlciA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLmZpbHRlck9wdGlvbnMsIChvKSAtPlxuICAgICAgICBvLnZhbHVlID09IHcuY29udGVudC5maWx0ZXJcbiAgICAgICkgfHwgJHNjb3BlLmZpbHRlck9wdGlvbnNbMF0pXG5cbiAgICAgICRzY29wZS5pc0RhdGFRdWFudGl0eSA9ICRzY29wZS5maWx0ZXIudmFsdWUubWF0Y2goJ3F1YW50aXR5JylcblxuICAkc2NvcGUuZ2V0U2VsZWN0ZWRQcm9kdWN0ID0gLT5cbiAgICByZXR1cm4gXy5maW5kKHcuY29udGVudC5zdW1tYXJ5LCAocHJvZHVjdCkgLT5cbiAgICAgIHByb2R1Y3QuaWQgPT0gJHNjb3BlLnByb2R1Y3QudmFsdWVcbiAgICApIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG4gICRzY29wZS5nZXRDdXJyZW50VmFsdWUgPSAtPlxuICAgIHJldHVybiBfLmxhc3QoJHNjb3BlLmdldFNlbGVjdGVkUHJvZHVjdCgpLnRvdGFscykgaWYgJHNjb3BlLmdldFNlbGVjdGVkUHJvZHVjdCgpP1xuXG4gICRzY29wZS5nZXRDdXJyZW50RGF0ZSA9IC0+XG4gICAgcmV0dXJuIF8ubGFzdCh3LmNvbnRlbnQuZGF0ZXMpIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuXG5cbiAgIyBDaGFydCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZHJhd1RyaWdnZXIgPSAkcS5kZWZlcigpXG4gIHcuZm9ybWF0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgJHNjb3BlLnByb2R1Y3QgJiYgZGF0YSA9ICRzY29wZS5nZXRTZWxlY3RlZFByb2R1Y3QoKVxuXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIHcuY29udGVudC5kYXRlcywgKGRhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgIGlucHV0RGF0YSA9IHt0aXRsZTogZGF0YS5uYW1lLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IGRhdGEudG90YWxzfVxuICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG4gICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS50b3RhbHMsICh2YWx1ZSkgLT5cbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIubWVyZ2Uob3B0aW9ucywge2N1cnJlbmN5OiAnaGlkZSd9KSBpZiAkc2NvcGUuZmlsdGVyLnZhbHVlLmluZGV4T2YoJ3F1YW50aXR5JykgPiAtMVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMubGluZUNoYXJ0KFtpbnB1dERhdGFdLG9wdGlvbnMpXG5cbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNHcm93dGgnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzR3Jvd3RoQ3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-leads-list', []);

  module.controller('WidgetSalesLeadsListCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.leads);
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getLeadDescription = function(aLead) {
      var nameLineArray, tooltip;
      tooltip = [];
      nameLineArray = ["<strong>"];
      if (aLead.first_name) {
        nameLineArray.push($filter('titleize')(aLead.first_name));
      }
      if (aLead.last_name) {
        nameLineArray.push($filter('titleize')(aLead.last_name));
      }
      nameLineArray.push("</strong>");
      tooltip.push(nameLineArray.join(' '));
      tooltip.push("Status: " + ($filter('titleize')(aLead.lead_status)));
      if (aLead.organization) {
        tooltip.push("Organization: " + ($filter('titleize')(aLead.organization)));
      }
      if (aLead.opportunities) {
        tooltip.push("<strong>Opportunities:</strong>");
        angular.forEach(aLead.opportunities, function(opp) {
          var oppLineArray;
          oppLineArray = [];
          if (opp.code) {
            oppLineArray.push("#" + opp.code);
          }
          if (opp.name) {
            oppLineArray.push("" + opp.name);
          }
          if (opp.amount) {
            oppLineArray.push($filter('mnoCurrency')(opp.amount.total_amount, "USD", false));
          }
          if (opp.probability) {
            oppLineArray.push(opp.probability + "%");
          }
          if (opp.sales_stage) {
            oppLineArray.push("" + opp.sales_stage);
          }
          return tooltip.push(oppLineArray.join(' - '));
        });
      }
      return tooltip.join("<br />");
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesLeadsList', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesLeadsListCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1sZWFkcy1saXN0L3NhbGVzLWxlYWRzLWxpc3QuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMEJBQWxCLEVBQThDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQztBQUU1QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFckIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGO0lBT25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7YUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFwQjtJQUR4QztJQUloQixDQUFDLENBQUMsWUFBRixHQUFpQixTQUFDLEtBQUQ7TUFFZixJQUFHLEtBQUssQ0FBQyxJQUFOLEtBQWMsR0FBakI7ZUFDRSxNQUFNLENBQUMsV0FBUCxHQUFxQixNQUR2Qjs7SUFGZTtJQUtqQixNQUFNLENBQUMsa0JBQVAsR0FBNEIsU0FBQyxLQUFEO0FBQzFCLFVBQUE7TUFBQSxPQUFBLEdBQVU7TUFFVixhQUFBLEdBQWdCLENBQUMsVUFBRDtNQUNoQixJQUE2RCxLQUFLLENBQUMsVUFBbkU7UUFBQSxhQUFhLENBQUMsSUFBZCxDQUFtQixPQUFBLENBQVEsVUFBUixDQUFBLENBQW9CLEtBQUssQ0FBQyxVQUExQixDQUFuQixFQUFBOztNQUNBLElBQTRELEtBQUssQ0FBQyxTQUFsRTtRQUFBLGFBQWEsQ0FBQyxJQUFkLENBQW1CLE9BQUEsQ0FBUSxVQUFSLENBQUEsQ0FBb0IsS0FBSyxDQUFDLFNBQTFCLENBQW5CLEVBQUE7O01BQ0EsYUFBYSxDQUFDLElBQWQsQ0FBbUIsV0FBbkI7TUFFQSxPQUFPLENBQUMsSUFBUixDQUFhLGFBQWEsQ0FBQyxJQUFkLENBQW1CLEdBQW5CLENBQWI7TUFDQSxPQUFPLENBQUMsSUFBUixDQUFhLFVBQUEsR0FBVSxDQUFDLE9BQUEsQ0FBUSxVQUFSLENBQUEsQ0FBb0IsS0FBSyxDQUFDLFdBQTFCLENBQUQsQ0FBdkI7TUFDQSxJQUE0RSxLQUFLLENBQUMsWUFBbEY7UUFBQSxPQUFPLENBQUMsSUFBUixDQUFhLGdCQUFBLEdBQWdCLENBQUMsT0FBQSxDQUFRLFVBQVIsQ0FBQSxDQUFvQixLQUFLLENBQUMsWUFBMUIsQ0FBRCxDQUE3QixFQUFBOztNQUVBLElBQUcsS0FBSyxDQUFDLGFBQVQ7UUFDRSxPQUFPLENBQUMsSUFBUixDQUFhLGlDQUFiO1FBQ0EsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsS0FBSyxDQUFDLGFBQXRCLEVBQXFDLFNBQUMsR0FBRDtBQUNuQyxjQUFBO1VBQUEsWUFBQSxHQUFlO1VBQ2YsSUFBcUMsR0FBRyxDQUFDLElBQXpDO1lBQUEsWUFBWSxDQUFDLElBQWIsQ0FBa0IsR0FBQSxHQUFJLEdBQUcsQ0FBQyxJQUExQixFQUFBOztVQUNBLElBQW9DLEdBQUcsQ0FBQyxJQUF4QztZQUFBLFlBQVksQ0FBQyxJQUFiLENBQWtCLEVBQUEsR0FBRyxHQUFHLENBQUMsSUFBekIsRUFBQTs7VUFFQSxJQUFvRixHQUFHLENBQUMsTUFBeEY7WUFBQSxZQUFZLENBQUMsSUFBYixDQUFrQixPQUFBLENBQVEsYUFBUixDQUFBLENBQXVCLEdBQUcsQ0FBQyxNQUFNLENBQUMsWUFBbEMsRUFBZ0QsS0FBaEQsRUFBdUQsS0FBdkQsQ0FBbEIsRUFBQTs7VUFDQSxJQUE0QyxHQUFHLENBQUMsV0FBaEQ7WUFBQSxZQUFZLENBQUMsSUFBYixDQUFxQixHQUFHLENBQUMsV0FBTCxHQUFpQixHQUFyQyxFQUFBOztVQUNBLElBQTJDLEdBQUcsQ0FBQyxXQUEvQztZQUFBLFlBQVksQ0FBQyxJQUFiLENBQWtCLEVBQUEsR0FBRyxHQUFHLENBQUMsV0FBekIsRUFBQTs7aUJBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxZQUFZLENBQUMsSUFBYixDQUFrQixLQUFsQixDQUFiO1FBUm1DLENBQXJDLEVBRkY7O0FBWUEsYUFBTyxPQUFPLENBQUMsSUFBUixDQUFhLFFBQWI7SUF4Qm1CO1dBNkI1QixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQXJENEMsQ0FBOUM7O0VBd0RBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHNCQUFqQixFQUF5QyxTQUFBO0FBQ3ZDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSwwQkFGUDs7RUFEZ0MsQ0FBekM7QUExREEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLWxlYWRzLWxpc3Qvc2FsZXMtbGVhZHMtbGlzdC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLnNhbGVzLWxlYWRzLWxpc3QnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNMZWFkc0xpc3RDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5sZWFkcylcblxuICAjIFRPRE86IHNob3VsZCBpdCBiZSBtYW5hZ2VkIGluIGEgc2VydmljZT8gaW4gdGhlIHdpZGdldCBkaXJlY3RpdmU/IE11c3QgaXNMb2FkaW5nIGFuZCBpc0RhdGFGb3VuZCBiZSBib3VuZCB0byB0aGUgd2lkZ2V0IG9iamVjdCBvciB0byB0aGUgc2NvcGU/XG4gIHcucHJvY2Vzc0Vycm9yID0gKGVycm9yKSAtPlxuICAgICMgVE9ETzogYmV0dGVyIGVycm9yIG1hbmFnZW1lbnRcbiAgICBpZiBlcnJvci5jb2RlID09IDQwNFxuICAgICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gZmFsc2VcblxuICAkc2NvcGUuZ2V0TGVhZERlc2NyaXB0aW9uID0gKGFMZWFkKSAtPlxuICAgIHRvb2x0aXAgPSBbXVxuXG4gICAgbmFtZUxpbmVBcnJheSA9IFtcIjxzdHJvbmc+XCJdXG4gICAgbmFtZUxpbmVBcnJheS5wdXNoKCRmaWx0ZXIoJ3RpdGxlaXplJykoYUxlYWQuZmlyc3RfbmFtZSkpIGlmIGFMZWFkLmZpcnN0X25hbWVcbiAgICBuYW1lTGluZUFycmF5LnB1c2goJGZpbHRlcigndGl0bGVpemUnKShhTGVhZC5sYXN0X25hbWUpKSBpZiBhTGVhZC5sYXN0X25hbWVcbiAgICBuYW1lTGluZUFycmF5LnB1c2goXCI8L3N0cm9uZz5cIilcblxuICAgIHRvb2x0aXAucHVzaChuYW1lTGluZUFycmF5LmpvaW4oJyAnKSlcbiAgICB0b29sdGlwLnB1c2goXCJTdGF0dXM6ICN7JGZpbHRlcigndGl0bGVpemUnKShhTGVhZC5sZWFkX3N0YXR1cyl9XCIpXG4gICAgdG9vbHRpcC5wdXNoKFwiT3JnYW5pemF0aW9uOiAjeyRmaWx0ZXIoJ3RpdGxlaXplJykoYUxlYWQub3JnYW5pemF0aW9uKX1cIikgaWYgYUxlYWQub3JnYW5pemF0aW9uXG5cbiAgICBpZiBhTGVhZC5vcHBvcnR1bml0aWVzXG4gICAgICB0b29sdGlwLnB1c2goXCI8c3Ryb25nPk9wcG9ydHVuaXRpZXM6PC9zdHJvbmc+XCIpXG4gICAgICBhbmd1bGFyLmZvckVhY2ggYUxlYWQub3Bwb3J0dW5pdGllcywgKG9wcCkgLT5cbiAgICAgICAgb3BwTGluZUFycmF5ID0gW11cbiAgICAgICAgb3BwTGluZUFycmF5LnB1c2goXCIjI3tvcHAuY29kZX1cIikgaWYgb3BwLmNvZGVcbiAgICAgICAgb3BwTGluZUFycmF5LnB1c2goXCIje29wcC5uYW1lfVwiKSBpZiBvcHAubmFtZVxuICAgICAgICAjIFRPRE8gY3VycmVuY3lcbiAgICAgICAgb3BwTGluZUFycmF5LnB1c2goJGZpbHRlcignbW5vQ3VycmVuY3knKShvcHAuYW1vdW50LnRvdGFsX2Ftb3VudCwgXCJVU0RcIiwgZmFsc2UpKSBpZiBvcHAuYW1vdW50XG4gICAgICAgIG9wcExpbmVBcnJheS5wdXNoKFwiI3tvcHAucHJvYmFiaWxpdHl9JVwiKSBpZiBvcHAucHJvYmFiaWxpdHlcbiAgICAgICAgb3BwTGluZUFycmF5LnB1c2goXCIje29wcC5zYWxlc19zdGFnZX1cIikgaWYgb3BwLnNhbGVzX3N0YWdlXG4gICAgICAgIHRvb2x0aXAucHVzaChvcHBMaW5lQXJyYXkuam9pbignIC0gJykpXG5cbiAgICByZXR1cm4gdG9vbHRpcC5qb2luKFwiPGJyIC8+XCIpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldFNhbGVzTGVhZHNMaXN0JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc0xlYWRzTGlzdEN0cmwnXG4gIH1cbikiXX0=

(function() {
  var module,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  module = angular.module('impac.components.widgets.sales-leads-funnel', []);

  module.controller('WidgetSalesLeadsFunnelCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, $filter, ImpacWidgetsSvc) {
    var hasOneLead, selectedStatusSetting, settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.paramsPickerDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.paramsPickerDeferred.promise, $scope.widthDeferred.promise];
    hasOneLead = function(leadsPerStatus) {
      var reducedHash, total, totalsArray;
      reducedHash = _.mapValues(leadsPerStatus, function(statusHash) {
        return statusHash.total;
      });
      totalsArray = _.compact(_.values(reducedHash));
      total = _.reduce(totalsArray, function(total, n) {
        if (total == null) {
          total = 0;
        }
        return total + n;
      });
      return (total != null) && total > 0;
    };
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.leads_per_status) && hasOneLead(w.content.leads_per_status)) {
        $scope.statusOptions = _.compact(_.map(w.metadata.status_selection, function(status) {
          if (angular.isDefined(w.content.leads_per_status[status])) {
            return {
              label: status,
              selected: true
            };
          }
        }));
        return angular.forEach(w.content.leads_per_status, function(value, status) {
          if (w.metadata.status_selection && !(indexOf.call(w.metadata.status_selection, status) >= 0)) {
            return $scope.statusOptions.push({
              label: status,
              selected: false
            });
          } else if (_.isEmpty(w.metadata.status_selection)) {
            return $scope.statusOptions.push({
              label: status,
              selected: true
            });
          }
        });
      }
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getImpacColor = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.toggleSelectStatus = function(aStatus) {
      if ($scope.selectedStatus && $scope.selectedStatus === aStatus) {
        $scope.selectedStatus = null;
      } else {
        $scope.selectedStatus = aStatus;
      }
      if (!w.isExpanded() && $scope.selectedStatus) {
        return w.toggleExpanded();
      } else {
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isSelected = function(aStatus) {
      return $scope.selectedStatus && aStatus === $scope.selectedStatus;
    };
    $scope.getSelectedLeads = function() {
      if ($scope.isDataFound && $scope.selectedStatus) {
        return w.content.leads_per_status[$scope.selectedStatus].leads;
      }
    };
    $scope.getLeadDescription = function(aLead) {
      var nameLineArray, tooltip;
      tooltip = [];
      nameLineArray = ["<strong>"];
      if (aLead.first_name) {
        nameLineArray.push($filter('titleize')(aLead.first_name));
      }
      if (aLead.last_name) {
        nameLineArray.push($filter('titleize')(aLead.last_name));
      }
      nameLineArray.push("</strong>");
      tooltip.push(nameLineArray.join(' '));
      tooltip.push("Status: " + ($filter('titleize')(aLead.lead_status)));
      if (aLead.organization) {
        tooltip.push("Organization: " + ($filter('titleize')(aLead.organization)));
      }
      if (aLead.opportunities) {
        tooltip.push("<strong>Opportunities:</strong>");
        angular.forEach(aLead.opportunities, function(opp) {
          var oppLineArray;
          oppLineArray = [];
          if (opp.code) {
            oppLineArray.push("#" + opp.code);
          }
          if (opp.name) {
            oppLineArray.push("" + opp.name);
          }
          if (opp.amount) {
            oppLineArray.push($filter('mnoCurrency')(opp.amount.total_amount, "USD", false));
          }
          if (opp.probability) {
            oppLineArray.push(opp.probability + "%");
          }
          if (opp.sales_stage) {
            oppLineArray.push("" + opp.sales_stage);
          }
          return tooltip.push(oppLineArray.join(' - '));
        });
      }
      return tooltip.join("<br />");
    };
    selectedStatusSetting = {};
    selectedStatusSetting.initialized = false;
    selectedStatusSetting.initialize = function() {
      if (!_.isEmpty(w.content) && angular.isDefined(w.content.leads_per_status[w.metadata.selected_status])) {
        $scope.selectedStatus = w.metadata.selected_status;
      }
      return selectedStatusSetting.initialized = true;
    };
    selectedStatusSetting.toMetadata = function() {
      return {
        selected_status: $scope.selectedStatus
      };
    };
    w.settings.push(selectedStatusSetting);
    w.format = function() {
      var max;
      if ($scope.isDataFound) {
        max = 0;
        angular.forEach($scope.statusOptions, function(statusOption) {
          var value;
          value = w.content.leads_per_status[statusOption.label].total;
          if (statusOption.selected && angular.isDefined(value) && value > max) {
            return max = value;
          }
        });
        if (max > 0) {
          return $scope.funnel = _.compact(_.map($scope.statusOptions, function(statusOption, index) {
            var coloredWidth, statusWidth, value;
            value = w.content.leads_per_status[statusOption.label].total;
            coloredWidth = (100 * (value / max) - 10).toFixed();
            if (coloredWidth < 8) {
              statusWidth = 92;
            } else {
              statusWidth = 100 - coloredWidth;
            }
            if (statusOption.selected && angular.isDefined(value)) {
              return {
                status: statusOption.label,
                number: value,
                coloredWidth: {
                  width: coloredWidth + "%"
                },
                statusWidth: {
                  width: statusWidth + "%"
                }
              };
            }
          }));
        }
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesLeadsFunnel', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesLeadsFunnelCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1sZWFkcy1mdW5uZWwvc2FsZXMtbGVhZHMtZnVubmVsLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLE1BQUE7SUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw2Q0FBZixFQUE2RCxFQUE3RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiw0QkFBbEIsRUFBZ0QsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiLEVBQWdDLE9BQWhDLEVBQXlDLGVBQXpDO0FBRTlDLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsaUJBQVAsR0FBMkIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUMzQixNQUFNLENBQUMsb0JBQVAsR0FBOEIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUM5QixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRXZCLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMsaUJBQWlCLENBQUMsT0FGUixFQUdqQixNQUFNLENBQUMsb0JBQW9CLENBQUMsT0FIWCxFQUlqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BSko7SUFVbkIsVUFBQSxHQUFhLFNBQUMsY0FBRDtBQUNYLFVBQUE7TUFBQSxXQUFBLEdBQWMsQ0FBQyxDQUFDLFNBQUYsQ0FBWSxjQUFaLEVBQTRCLFNBQUMsVUFBRDtlQUN4QyxVQUFVLENBQUM7TUFENkIsQ0FBNUI7TUFHZCxXQUFBLEdBQWMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsTUFBRixDQUFTLFdBQVQsQ0FBVjtNQUNkLEtBQUEsR0FBUSxDQUFDLENBQUMsTUFBRixDQUFTLFdBQVQsRUFBc0Is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LEtBQUEsRUFBVSxZQUFELEdBQWMsR0FBeEI7aUJBSGhCO2dCQUlFLFdBQUEsRUFBYTtrQkFBQyxLQUFBLEVBQVUsV0FBRCxHQUFhLEdBQXZCO2lCQUpmO2dCQUFBOztVQVBvRCxDQUE1QixDQUFWLEVBRGxCO1NBTkY7O0lBRFM7V0F5QlgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUExSThDLENBQWhEOztFQTZJQSxNQUFNLENBQUMsU0FBUCxDQUFpQix3QkFBakIsRUFBMkMsU0FBQTtBQUN6QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksNEJBRlA7O0VBRGtDLENBQTNDO0FBL0lBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1sZWFkcy1mdW5uZWwvc2FsZXMtbGVhZHMtZnVubmVsLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtbGVhZHMtZnVubmVsJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldFNhbGVzTGVhZHNGdW5uZWxDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1zUGlja2VyRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS53aWR0aERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbXNQaWNrZXJEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgaGFzT25lTGVhZCA9IChsZWFkc1BlclN0YXR1cykgLT5cbiAgICByZWR1Y2VkSGFzaCA9IF8ubWFwVmFsdWVzKGxlYWRzUGVyU3RhdHVzLCAoc3RhdHVzSGFzaCkgLT5cbiAgICAgIHN0YXR1c0hhc2gudG90YWxcbiAgICApXG4gICAgdG90YWxzQXJyYXkgPSBfLmNvbXBhY3QgXy52YWx1ZXMocmVkdWNlZEhhc2gpXG4gICAgdG90YWwgPSBfLnJlZHVjZSh0b3RhbHNBcnJheSwgKHRvdGFsPTAsIG4pIC0+XG4gICAgICB0b3RhbCArIG5cbiAgICApXG4gICAgcmV0dXJuIHRvdGFsPyAmJiB0b3RhbCA+IDBcblxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgPSBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50LmxlYWRzX3Blcl9zdGF0dXMpICYmIGhhc09uZUxlYWQody5jb250ZW50LmxlYWRzX3Blcl9zdGF0dXMpXG5cbiAgICAgICRzY29wZS5zdGF0dXNPcHRpb25zID0gXy5jb21wYWN0IF8ubWFwIHcubWV0YWRhdGEuc3RhdHVzX3NlbGVjdGlvbiwgKHN0YXR1cykgLT5cbiAgICAgICAge2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiB0cnVlfSBpZiBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQubGVhZHNfcGVyX3N0YXR1c1tzdGF0dXNdKVxuXG4gICAgICBhbmd1bGFyLmZvckVhY2ggdy5jb250ZW50LmxlYWRzX3Blcl9zdGF0dXMsICh2YWx1ZSwgc3RhdHVzKSAtPlxuICAgICAgICBpZiB3Lm1ldGFkYXRhLnN0YXR1c19zZWxlY3Rpb24gJiYgIShzdGF0dXMgaW4gdy5tZXRhZGF0YS5zdGF0dXNfc2VsZWN0aW9uKVxuICAgICAgICAgICRzY29wZS5zdGF0dXNPcHRpb25zLnB1c2goe2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiBmYWxzZX0pXG4gICAgICAgIGVsc2UgaWYgXy5pc0VtcHR5KHcubWV0YWRhdGEuc3RhdHVzX3NlbGVjdGlvbilcbiAgICAgICAgICAkc2NvcGUuc3RhdHVzT3B0aW9ucy5wdXNoKHtsYWJlbDogc3RhdHVzLCBzZWxlY3RlZDogdHJ1ZX0pXG5cbiAgIyBUT0RPOiBzaG91bGQgaXQgYmUgbWFuYWdlZCBpbiBhIHNlcnZpY2U/IGluIHRoZSB3aWRnZXQgZGlyZWN0aXZlPyBNdXN0IGlzTG9hZGluZyBhbmQgaXNEYXRhRm91bmQgYmUgYm91bmQgdG8gdGhlIHdpZGdldCBvYmplY3Qgb3IgdG8gdGhlIHNjb3BlP1xuICB3LnByb2Nlc3NFcnJvciA9IChlcnJvcikgLT5cbiAgICAjIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgaWYgZXJyb3IuY29kZSA9PSA0MDRcbiAgICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGZhbHNlXG5cbiAgJHNjb3BlLmdldEltcGFjQ29sb3IgPSAoaW5kZXgpIC0+XG4gICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoaW5kZXgpXG5cbiAgJHNjb3BlLnRvZ2dsZVNlbGVjdFN0YXR1cyA9IChhU3RhdHVzKSAtPlxuICAgIGlmICRzY29wZS5zZWxlY3RlZFN0YXR1cyAmJiAkc2NvcGUuc2VsZWN0ZWRTdGF0dXMgPT0gYVN0YXR1c1xuICAgICAgJHNjb3BlLnNlbGVjdGVkU3RhdHVzID0gbnVsbFxuICAgIGVsc2VcbiAgICAgICRzY29wZS5zZWxlY3RlZFN0YXR1cyA9IGFTdGF0dXNcblxuICAgIGlmICF3LmlzRXhwYW5kZWQoKSAmJiAkc2NvcGUuc2VsZWN0ZWRTdGF0dXNcbiAgICAgICMgd2lsbCB0cmlnZ2VyIHVwZGF0ZVNldHRpbmdzKGZhbHNlKVxuICAgICAgdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgZWxzZVxuICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG5cbiAgJHNjb3BlLmlzU2VsZWN0ZWQgPSAoYVN0YXR1cykgLT5cbiAgICByZXR1cm4gJHNjb3BlLnNlbGVjdGVkU3RhdHVzICYmIGFTdGF0dXMgPT0gJHNjb3BlLnNlbGVjdGVkU3RhdHVzXG5cbiAgJHNjb3BlLmdldFNlbGVjdGVkTGVhZHMgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiAkc2NvcGUuc2VsZWN0ZWRTdGF0dXNcbiAgICAgIHJldHVybiB3LmNvbnRlbnQubGVhZHNfcGVyX3N0YXR1c1skc2NvcGUuc2VsZWN0ZWRTdGF0dXNdLmxlYWRzXG5cbiAgJHNjb3BlLmdldExlYWREZXNjcmlwdGlvbiA9IChhTGVhZCkgLT5cbiAgICB0b29sdGlwID0gW11cblxuICAgIG5hbWVMaW5lQXJyYXkgPSBbXCI8c3Ryb25nPlwiXVxuICAgIG5hbWVMaW5lQXJyYXkucHVzaCgkZmlsdGVyKCd0aXRsZWl6ZScpKGFMZWFkLmZpcnN0X25hbWUpKSBpZiBhTGVhZC5maXJzdF9uYW1lXG4gICAgbmFtZUxpbmVBcnJheS5wdXNoKCRmaWx0ZXIoJ3RpdGxlaXplJykoYUxlYWQubGFzdF9uYW1lKSkgaWYgYUxlYWQubGFzdF9uYW1lXG4gICAgbmFtZUxpbmVBcnJheS5wdXNoKFwiPC9zdHJvbmc+XCIpXG5cbiAgICB0b29sdGlwLnB1c2gobmFtZUxpbmVBcnJheS5qb2luKCcgJykpXG4gICAgdG9vbHRpcC5wdXNoKFwiU3RhdHVzOiAjeyRmaWx0ZXIoJ3RpdGxlaXplJykoYUxlYWQubGVhZF9zdGF0dXMpfVwiKVxuICAgIHRvb2x0aXAucHVzaChcIk9yZ2FuaXphdGlvbjogI3skZmlsdGVyKCd0aXRsZWl6ZScpKGFMZWFkLm9yZ2FuaXphdGlvbil9XCIpIGlmIGFMZWFkLm9yZ2FuaXphdGlvblxuXG4gICAgaWYgYUxlYWQub3Bwb3J0dW5pdGllc1xuICAgICAgdG9vbHRpcC5wdXNoKFwiPHN0cm9uZz5PcHBvcnR1bml0aWVzOjwvc3Ryb25nPlwiKVxuICAgICAgYW5ndWxhci5mb3JFYWNoIGFMZWFkLm9wcG9ydHVuaXRpZXMsIChvcHApIC0+XG4gICAgICAgIG9wcExpbmVBcnJheSA9IFtdXG4gICAgICAgIG9wcExpbmVBcnJheS5wdXNoKFwiIyN7b3BwLmNvZGV9XCIpIGlmIG9wcC5jb2RlXG4gICAgICAgIG9wcExpbmVBcnJheS5wdXNoKFwiI3tvcHAubmFtZX1cIikgaWYgb3BwLm5hbWVcbiAgICAgICAgIyBUT0RPIGN1cnJlbmN5XG4gICAgICAgIG9wcExpbmVBcnJheS5wdXNoKCRmaWx0ZXIoJ21ub0N1cnJlbmN5Jykob3BwLmFtb3VudC50b3RhbF9hbW91bnQsIFwiVVNEXCIsIGZhbHNlKSkgaWYgb3BwLmFtb3VudFxuICAgICAgICBvcHBMaW5lQXJyYXkucHVzaChcIiN7b3BwLnByb2JhYmlsaXR5fSVcIikgaWYgb3BwLnByb2JhYmlsaXR5XG4gICAgICAgIG9wcExpbmVBcnJheS5wdXNoKFwiI3tvcHAuc2FsZXNfc3RhZ2V9XCIpIGlmIG9wcC5zYWxlc19zdGFnZVxuICAgICAgICB0b29sdGlwLnB1c2gob3BwTGluZUFycmF5LmpvaW4oJyAtICcpKVxuXG4gICAgcmV0dXJuIHRvb2x0aXAuam9pbihcIjxiciAvPlwiKVxuXG5cbiAgc2VsZWN0ZWRTdGF0dXNTZXR0aW5nID0ge31cbiAgc2VsZWN0ZWRTdGF0dXNTZXR0aW5nLmluaXRpYWxpemVkID0gZmFsc2VcblxuICBzZWxlY3RlZFN0YXR1c1NldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgJHNjb3BlLnNlbGVjdGVkU3RhdHVzID0gdy5tZXRhZGF0YS5zZWxlY3RlZF9zdGF0dXMgaWYgIV8uaXNFbXB0eSh3LmNvbnRlbnQpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudC5sZWFkc19wZXJfc3RhdHVzW3cubWV0YWRhdGEuc2VsZWN0ZWRfc3RhdHVzXSlcbiAgICBzZWxlY3RlZFN0YXR1c1NldHRpbmcuaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgc2VsZWN0ZWRTdGF0dXNTZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHtzZWxlY3RlZF9zdGF0dXM6ICRzY29wZS5zZWxlY3RlZFN0YXR1c31cblxuICB3LnNldHRpbmdzLnB1c2goc2VsZWN0ZWRTdGF0dXNTZXR0aW5nKVxuXG5cbiAgIyBGdW5uZWwgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgbWF4PTBcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCAgJHNjb3BlLnN0YXR1c09wdGlvbnMsIChzdGF0dXNPcHRpb24pIC0+XG4gICAgICAgIHZhbHVlID0gdy5jb250ZW50LmxlYWRzX3Blcl9zdGF0dXNbc3RhdHVzT3B0aW9uLmxhYmVsXS50b3RhbFxuICAgICAgICBtYXggPSB2YWx1ZSBpZiBzdGF0dXNPcHRpb24uc2VsZWN0ZWQgJiYgYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlID4gbWF4XG5cbiAgICAgIGlmIG1heCA+IDBcbiAgICAgICAgJHNjb3BlLmZ1bm5lbCA9IF8uY29tcGFjdCBfLm1hcCAkc2NvcGUuc3RhdHVzT3B0aW9ucywgKHN0YXR1c09wdGlvbiwgaW5kZXgpIC0+XG4gICAgICAgICAgdmFsdWUgPSB3LmNvbnRlbnQubGVhZHNfcGVyX3N0YXR1c1tzdGF0dXNPcHRpb24ubGFiZWxdLnRvdGFsXG4gICAgICAgICAgY29sb3JlZFdpZHRoID0gKDEwMCAqICh2YWx1ZSAvIG1heCkgLSAxMCkudG9GaXhlZCgpXG4gICAgICAgICAgaWYgY29sb3JlZFdpZHRoIDwgOFxuICAgICAgICAgICAgc3RhdHVzV2lkdGggPSA5MlxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXR1c1dpZHRoID0gMTAwIC0gY29sb3JlZFdpZHRoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXNPcHRpb24ubGFiZWwsXG4gICAgICAgICAgICBudW1iZXI6IHZhbHVlLFxuICAgICAgICAgICAgY29sb3JlZFdpZHRoOiB7d2lkdGg6IFwiI3tjb2xvcmVkV2lkdGh9JVwifVxuICAgICAgICAgICAgc3RhdHVzV2lkdGg6IHt3aWR0aDogXCIje3N0YXR1c1dpZHRofSVcIn1cbiAgICAgICAgICB9IGlmIHN0YXR1c09wdGlvbi5zZWxlY3RlZCAmJiBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNMZWFkc0Z1bm5lbCcsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0U2FsZXNMZWFkc0Z1bm5lbEN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-list', []);

  module.controller('WidgetSalesListCtrl', ["$scope", "$q", "ChartFormatterSvc", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, ImpacWidgetsSvc) {
    var settingsPromises, unCollapsedSetting, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    $scope.datesPickerDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorDeferred.promise, $scope.datesPickerDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.summary);
      $scope.filterOptions = [
        {
          label: 'value sold (incl. taxes)',
          value: 'gross_value_sold'
        }, {
          label: 'value sold (excl. taxes)',
          value: 'net_value_sold'
        }, {
          label: 'quantity sold',
          value: 'quantity_sold'
        }, {
          label: 'value purchased (incl. taxes)',
          value: 'gross_value_purchased'
        }, {
          label: 'value purchased (excl. taxes)',
          value: 'net_value_purchased'
        }, {
          label: 'quantity purchased',
          value: 'quantity_purchased'
        }
      ];
      $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
        return o.value === w.metadata.filter;
      }) || $scope.filterOptions[0]);
      return $scope.unCollapsed = w.metadata.unCollapsed || [];
    };
    $scope.toggleCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          $scope.unCollapsed = _.reject($scope.unCollapsed, function(name) {
            return name === categoryName;
          });
        } else {
          $scope.unCollapsed.push(categoryName);
        }
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isCollapsed = function(categoryName) {
      if (categoryName != null) {
        if (_.find($scope.unCollapsed, (function(name) {
          return categoryName === name;
        }))) {
          return false;
        } else {
          return true;
        }
      }
    };
    unCollapsedSetting = {};
    unCollapsedSetting.initialized = false;
    unCollapsedSetting.initialize = function() {
      return unCollapsedSetting.initialized = true;
    };
    unCollapsedSetting.toMetadata = function() {
      return {
        unCollapsed: $scope.unCollapsed
      };
    };
    w.settings.push(unCollapsedSetting);
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesList', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesListCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1saXN0L3NhbGVzLWxpc3QuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUscUNBQWYsRUFBcUQsRUFBckQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IscUJBQWxCLEVBQXlDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxlQUFoQztBQUV2QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDL0IsTUFBTSxDQUFDLG1CQUFQLEdBQTZCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFN0IsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUZaLEVBR2pCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxPQUhWO0lBU25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFwQjtNQUV0RCxNQUFNLENBQUMsYUFBUCxHQUF1QjtRQUNyQjtVQUFDLEtBQUEsRUFBTywwQkFBUjtVQUFvQyxLQUFBLEVBQU8sa0JBQTNDO1NBRHFCLEVBRXJCO1VBQUMsS0FBQSxFQUFPLDBCQUFSO1VBQW9DLEtBQUEsRUFBTyxnQkFBM0M7U0FGcUIsRUFHckI7VUFBQyxLQUFBLEVBQU8sZUFBUjtVQUF5QixLQUFBLEVBQU8sZUFBaEM7U0FIcUIsRUFJckI7VUFBQyxLQUFBLEVBQU8sK0JBQVI7VUFBeUMsS0FBQSxFQUFPLHVCQUFoRDtTQUpxQixFQUtyQjtVQUFDLEtBQUEsRUFBTywrQkFBUjtVQUF5QyxLQUFBLEVBQU8scUJBQWhEO1NBTHFCLEVBTXJCO1VBQUMsS0FBQSxFQUFPLG9CQUFSO1VBQThCLEtBQUEsRUFBTyxvQkFBckM7U0FOcUI7O01BUXZCLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsYUFBZCxFQUE2QixTQUFDLENBQUQ7ZUFDeEQsQ0FBQyxDQUFDLEtBQUYsS0FBVyxDQUFDLENBQUMsUUFBUSxDQUFDO01BRGtDLENBQTdCLENBQUEsSUFFeEIsTUFBTSxDQUFDLGFBQWMsQ0FBQSxDQUFBLENBRlY7YUFJaEIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFYLElBQTBCO0lBZmpDO0lBaUJoQixNQUFNLENBQUMsZUFBUCxHQUF5QixTQUFDLFlBQUQ7TUFDdkIsSUFBRyxvQkFBSDtRQUNFLElBQUcsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsV0FBZCxFQUEyQixDQUFDLFNBQUMsSUFBRDtpQkFBVSxZQUFBLEtBQWdCO1FBQTFCLENBQUQsQ0FBM0IsQ0FBSDtVQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUMsQ0FBQyxNQUFGLENBQVMsTUFBTSxDQUFDLFdBQWhCLEVBQTZCLFNBQUMsSUFBRDttQkFDaEQsSUFBQSxLQUFRO1VBRHdDLENBQTdCLEVBRHZCO1NBQUEsTUFBQTtVQUtFLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBbkIsQ0FBd0IsWUFBeEIsRUFMRjs7ZUFNQSxlQUFlLENBQUMsb0JBQWhCLENBQXFDLENBQXJDLEVBQXVDLEtBQXZDLEVBUEY7O0lBRHVCO0lBVXpCLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUMsWUFBRDtNQUNuQixJQUFHLG9CQUFIO1FBQ0UsSUFBRyxDQUFDLENBQUMsSUFBRixDQUFPLE1BQU0sQ0FBQyxXQUFkLEVBQTJCLENBQUMsU0FBQyxJQUFEO2lCQUFVLFlBQUEsS0FBZ0I7UUFBMUIsQ0FBRCxDQUEzQixDQUFIO0FBQ0UsaUJBQU8sTUFEVDtTQUFBLE1BQUE7QUFHRSxpQkFBTyxLQUhUO1NBREY7O0lBRG1CO0lBVXJCLGtCQUFBLEdBQXFCO0lBQ3JCLGtCQUFrQixDQUFDLFdBQW5CLEdBQWlDO0lBRWpDLGtCQUFrQixDQUFDLFVBQW5CLEdBQWdDLFNBQUE7YUFDOUIsa0JBQWtCLENBQUMsV0FBbkIsR0FBaUM7SUFESDtJQUdoQyxrQkFBa0IsQ0FBQyxVQUFuQixHQUFnQyxTQUFBO2FBQzlCO1FBQUMsV0FBQSxFQUFhLE1BQU0sQ0FBQyxXQUFyQjs7SUFEOEI7SUFHaEMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLGtCQUFoQjtXQUtBLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBdEV1QyxDQUF6Qzs7RUF5RUEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsaUJBQWpCLEVBQW9DLFNBQUE7QUFDbEMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLHFCQUZQOztFQUQyQixDQUFwQztBQTNFQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvc2FsZXMtbGlzdC9zYWxlcy1saXN0LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtbGlzdCcsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRTYWxlc0xpc3RDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmRhdGVzUGlja2VyRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5kYXRlc1BpY2tlckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQuc3VtbWFyeSlcblxuICAgICRzY29wZS5maWx0ZXJPcHRpb25zID0gW1xuICAgICAge2xhYmVsOiAndmFsdWUgc29sZCAoaW5jbC4gdGF4ZXMpJywgdmFsdWU6ICdncm9zc192YWx1ZV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBzb2xkIChleGNsLiB0YXhlcyknLCB2YWx1ZTogJ25ldF92YWx1ZV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICdxdWFudGl0eSBzb2xkJywgdmFsdWU6ICdxdWFudGl0eV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBwdXJjaGFzZWQgKGluY2wuIHRheGVzKScsIHZhbHVlOiAnZ3Jvc3NfdmFsdWVfcHVyY2hhc2VkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBwdXJjaGFzZWQgKGV4Y2wuIHRheGVzKScsIHZhbHVlOiAnbmV0X3ZhbHVlX3B1cmNoYXNlZCd9LFxuICAgICAge2xhYmVsOiAncXVhbnRpdHkgcHVyY2hhc2VkJywgdmFsdWU6ICdxdWFudGl0eV9wdXJjaGFzZWQnfSxcbiAgICBdXG4gICAgJHNjb3BlLmZpbHRlciA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLmZpbHRlck9wdGlvbnMsIChvKSAtPlxuICAgICAgby52YWx1ZSA9PSB3Lm1ldGFkYXRhLmZpbHRlclxuICAgICkgfHwgJHNjb3BlLmZpbHRlck9wdGlvbnNbMF0pXG5cbiAgICAkc2NvcGUudW5Db2xsYXBzZWQgPSB3Lm1ldGFkYXRhLnVuQ29sbGFwc2VkIHx8IFtdXG5cbiAgJHNjb3BlLnRvZ2dsZUNvbGxhcHNlZCA9IChjYXRlZ29yeU5hbWUpIC0+XG4gICAgaWYgY2F0ZWdvcnlOYW1lP1xuICAgICAgaWYgXy5maW5kKCRzY29wZS51bkNvbGxhcHNlZCwgKChuYW1lKSAtPiBjYXRlZ29yeU5hbWUgPT0gbmFtZSkpXG4gICAgICAgICRzY29wZS51bkNvbGxhcHNlZCA9IF8ucmVqZWN0KCRzY29wZS51bkNvbGxhcHNlZCwgKG5hbWUpIC0+XG4gICAgICAgICAgbmFtZSA9PSBjYXRlZ29yeU5hbWVcbiAgICAgICAgKVxuICAgICAgZWxzZVxuICAgICAgICAkc2NvcGUudW5Db2xsYXBzZWQucHVzaChjYXRlZ29yeU5hbWUpXG4gICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNDb2xsYXBzZWQgPSAoY2F0ZWdvcnlOYW1lKSAtPlxuICAgIGlmIGNhdGVnb3J5TmFtZT9cbiAgICAgIGlmIF8uZmluZCgkc2NvcGUudW5Db2xsYXBzZWQsICgobmFtZSkgLT4gY2F0ZWdvcnlOYW1lID09IG5hbWUpKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHRydWVcblxuXG4gICMgTWluaS1zZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHVuQ29sbGFwc2VkU2V0dGluZyA9IHt9XG4gIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgdW5Db2xsYXBzZWRTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIHVuQ29sbGFwc2VkU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICB1bkNvbGxhcHNlZFNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3VuQ29sbGFwc2VkOiAkc2NvcGUudW5Db2xsYXBzZWR9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHVuQ29sbGFwc2VkU2V0dGluZylcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNMaXN0JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc0xpc3RDdHJsJ1xuICB9XG4pIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-margin', []);

  module.controller('WidgetSalesMarginCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.histModeDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.histModeDeferred.promise, $scope.paramSelectorDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = (w.content != null) && (w.content.margins != null) && (w.content.dates != null);
      $scope.filterOptions = [
        {
          label: 'Including taxes',
          value: 'gross_margin'
        }, {
          label: 'Excluding taxes',
          value: 'net_margin'
        }
      ];
      if ((w.metadata != null) && w.metadata.filter === "net_margin") {
        return $scope.filter = angular.copy($scope.filterOptions[1]);
      } else {
        return $scope.filter = angular.copy($scope.filterOptions[0]);
      }
    };
    $scope.getTotalMargin = function() {
      if ($scope.isDataFound) {
        if ((w.metadata != null) && w.metadata.filter === "net_margin") {
          return _.reduce(w.content.margins.net, function(memo, margin) {
            return memo + margin;
          }, 0);
        } else {
          return _.reduce(w.content.margins.gross, function(memo, margin) {
            return memo + margin;
          }, 0);
        }
      }
    };
    $scope.getCurrency = function() {
      if ($scope.isDataFound) {
        return w.content.currency || "USD";
      }
    };
    $scope.getTimeSpan = function() {
      var period;
      if ($scope.isDataFound) {
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        return "From " + ($filter('mnoDate')(_.first(w.content.dates), period)) + " to " + ($filter('mnoDate')(_.last(w.content.dates), period));
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, dates, inputData, options, period, values;
      if ($scope.isDataFound) {
        if ((w.metadata != null) && w.metadata.filter === "net_margin") {
          values = w.content.margins.net;
        } else {
          values = w.content.margins.gross;
        }
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: "Gross margin",
          labels: dates,
          values: values
        };
        all_values_are_positive = true;
        angular.forEach(values, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: false
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesMargin', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesMarginCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1tYXJnaW4vc2FsZXMtbWFyZ2luLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLHVDQUFmLEVBQXVELEVBQXZEOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLHVCQUFsQixFQUEyQyxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEM7QUFFekMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxnQkFBUCxHQUEwQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzFCLE1BQU0sQ0FBQyxxQkFBUCxHQUErQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQy9CLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxPQUZSLEVBR2pCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUhQLEVBSWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUpaLEVBS2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FMSjtJQVduQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsTUFBTSxDQUFDLFdBQVAsR0FBcUIsbUJBQUEsSUFBYywyQkFBZCxJQUFvQztNQUV6RCxNQUFNLENBQUMsYUFBUCxHQUF1QjtRQUNyQjtVQUFDLEtBQUEsRUFBTyxpQkFBUjtVQUEyQixLQUFBLEVBQU8sY0FBbEM7U0FEcUIsRUFFckI7VUFBQyxLQUFBLEVBQU8s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dUMsTUFBQSxFQUFRLE1BQS9DOztRQUNaLHVCQUFBLEdBQTBCO1FBQzFCLE9BQU8sQ0FBQyxPQUFSLENBQWdCLE1BQWhCLEVBQXdCLFNBQUMsS0FBRDtpQkFDdEIsNEJBQUEsMEJBQTRCLEtBQUEsSUFBUztRQURmLENBQXhCO1FBSUEsT0FBQSxHQUFVO1VBQ1IsZ0JBQUEsRUFBa0IsdUJBRFY7VUFFUixXQUFBLEVBQWEsS0FGTDs7UUFJVixTQUFBLEdBQVksaUJBQWlCLENBQUMsU0FBbEIsQ0FBNEIsQ0FBQyxTQUFELENBQTVCLEVBQXdDLE9BQXhDO2VBR1osTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQXhCRjs7SUFEUztXQThCWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQTNGeUMsQ0FBM0M7O0VBOEZBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLG1CQUFqQixFQUFzQyxTQUFBO0FBQ3BDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSx1QkFGUDs7RUFENkIsQ0FBdEM7QUFoR0EiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLW1hcmdpbi9zYWxlcy1tYXJnaW4uZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy1tYXJnaW4nLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNNYXJnaW5DdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmhpc3RNb2RlRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUudGltZVJhbmdlRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5oaXN0TW9kZURlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuY2hhcnREZWZlcnJlZC5wcm9taXNlXG4gIF1cblxuXG4gICMgV2lkZ2V0IHNwZWNpZmljIG1ldGhvZHNcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmluaXRDb250ZXh0ID0gLT5cbiAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSB3LmNvbnRlbnQ/ICYmIHcuY29udGVudC5tYXJnaW5zPyAmJiB3LmNvbnRlbnQuZGF0ZXM/XG5cbiAgICAkc2NvcGUuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgIHtsYWJlbDogJ0luY2x1ZGluZyB0YXhlcycsIHZhbHVlOiAnZ3Jvc3NfbWFyZ2luJ30sXG4gICAgICB7bGFiZWw6ICdFeGNsdWRpbmcgdGF4ZXMnLCB2YWx1ZTogJ25ldF9tYXJnaW4nfVxuICAgIF1cblxuICAgIGlmIHcubWV0YWRhdGE/ICYmIHcubWV0YWRhdGEuZmlsdGVyPT1cIm5ldF9tYXJnaW5cIlxuICAgICAgJHNjb3BlLmZpbHRlciA9IGFuZ3VsYXIuY29weSAkc2NvcGUuZmlsdGVyT3B0aW9uc1sxXVxuICAgIGVsc2VcbiAgICAgICRzY29wZS5maWx0ZXIgPSBhbmd1bGFyLmNvcHkgJHNjb3BlLmZpbHRlck9wdGlvbnNbMF1cblxuICAkc2NvcGUuZ2V0VG90YWxNYXJnaW4gPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZFxuICAgICAgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5maWx0ZXI9PVwibmV0X21hcmdpblwiXG4gICAgICAgIHJldHVybiBfLnJlZHVjZSB3LmNvbnRlbnQubWFyZ2lucy5uZXQsIChtZW1vLCBtYXJnaW4pIC0+XG4gICAgICAgICAgbWVtbyArIG1hcmdpblxuICAgICAgICAsIDBcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIF8ucmVkdWNlIHcuY29udGVudC5tYXJnaW5zLmdyb3NzLCAobWVtbywgbWFyZ2luKSAtPlxuICAgICAgICAgIG1lbW8gKyBtYXJnaW5cbiAgICAgICAgLCAwXG5cbiAgJHNjb3BlLmdldEN1cnJlbmN5ID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIHJldHVybiB3LmNvbnRlbnQuY3VycmVuY3kgfHwgXCJVU0RcIlxuXG4gICRzY29wZS5nZXRUaW1lU3BhbiA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICByZXR1cm4gXCJGcm9tICN7JGZpbHRlcignbW5vRGF0ZScpKF8uZmlyc3Qody5jb250ZW50LmRhdGVzKSwgcGVyaW9kKX0gdG8gI3skZmlsdGVyKCdtbm9EYXRlJykoXy5sYXN0KHcuY29udGVudC5kYXRlcyksIHBlcmlvZCl9XCJcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmZpbHRlcj09XCJuZXRfbWFyZ2luXCJcbiAgICAgICAgdmFsdWVzID0gdy5jb250ZW50Lm1hcmdpbnMubmV0XG4gICAgICBlbHNlXG4gICAgICAgIHZhbHVlcyA9IHcuY29udGVudC5tYXJnaW5zLmdyb3NzXG5cbiAgICAgIHBlcmlvZCA9IG51bGxcbiAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgIGRhdGVzID0gXy5tYXAgdy5jb250ZW50LmRhdGVzLCAoZGF0ZSkgLT5cbiAgICAgICAgJGZpbHRlcignbW5vRGF0ZScpKGRhdGUsIHBlcmlvZClcblxuICAgICAgaW5wdXREYXRhID0ge3RpdGxlOiBcIkdyb3NzIG1hcmdpblwiLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IHZhbHVlc31cbiAgICAgIGFsbF92YWx1ZXNfYXJlX3Bvc2l0aXZlID0gdHJ1ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgKHZhbHVlKSAtPlxuICAgICAgICBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSAmJj0gdmFsdWUgPj0gMFxuICAgICAgKVxuXG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiBhbGxfdmFsdWVzX2FyZV9wb3NpdGl2ZSxcbiAgICAgICAgc2hvd1hMYWJlbHM6IGZhbHNlLFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMubGluZUNoYXJ0KFtpbnB1dERhdGFdLG9wdGlvbnMpXG4gICAgICBcbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNNYXJnaW4nLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzTWFyZ2luQ3RybCcsXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-number-of-leads', []);

  module.controller('WidgetSalesNumberOfLeadsCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var getVariation, settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramSelectorDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.number_of_leads)) {
        $scope.periodOptions = [
          {
            label: 'year',
            value: 'YEARLY'
          }, {
            label: 'quarter',
            value: 'QUARTERLY'
          }, {
            label: 'month',
            value: 'MONTHLY'
          }, {
            label: 'week',
            value: 'WEEKLY'
          }, {
            label: 'day',
            value: 'DAILY'
          }
        ];
        return $scope.period = angular.copy(_.find($scope.periodOptions, function(o) {
          return o.value === w.metadata.period;
        }) || $scope.periodOptions[3]);
      }
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.formatNumberOfLeads = function(carac) {
      var color, formattedNominal, formattedVariation, n_hash, nominal, variation;
      formattedNominal = 0;
      formattedVariation = "- %";
      if (!$scope.isDataFound) {
        return {
          nominal: formattedNominal,
          variation: formattedVariation,
          color: ''
        };
      }
      n_hash = angular.copy(w.content.number_of_leads);
      nominal = 0;
      color = '';
      if (carac === "new" && n_hash.total && n_hash.total.length === 2) {
        nominal = n_hash.total[1] - n_hash.total[0];
        variation = getVariation(n_hash.total);
        if (variation > 0) {
          color = 'green';
        } else if (variation < 0) {
          color = 'red';
        }
      } else if (carac === "converted" && n_hash.converted && n_hash.converted.length === 2) {
        nominal = n_hash.converted[1];
        variation = getVariation(n_hash.converted);
        if (variation > 0) {
          color = 'green';
        } else if (variation < 0) {
          color = 'red';
        }
      } else if (carac === "lost" && n_hash.lost && n_hash.lost.length === 2) {
        nominal = n_hash.lost[1];
        variation = getVariation(n_hash.lost);
        if (variation < 0) {
          color = 'green';
        } else if (variation > 0) {
          color = 'red';
        }
      } else {
        return {
          nominal: formattedNominal,
          variation: formattedVariation,
          color: color
        };
      }
      if (nominal > 0) {
        formattedNominal = "+" + nominal;
      } else if (nominal < 0) {
        formattedNominal = nominal;
      }
      if (variation && variation > 0) {
        formattedVariation = "+" + (variation.toFixed(0)) + "%";
      } else if (variation && variation < 0) {
        formattedVariation = (variation.toFixed(0)) + "%";
      }
      return {
        nominal: formattedNominal,
        variation: formattedVariation,
        color: color
      };
    };
    getVariation = function(v_array) {
      var variation;
      if (v_array[0] !== 0) {
        return variation = 100 * ((v_array[1] / v_array[0]) - 1);
      } else {
        return variation = "- ";
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesNumberOfLeads', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesNumberOfLeadsCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1udW1iZXItb2YtbGVhZHMvc2FsZXMtbnVtYmVyLW9mLWxlYWRzLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLGdEQUFmLEVBQWdFLEVBQWhFOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLDhCQUFsQixFQUFrRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsaUJBQWIsRUFBZ0MsT0FBaEM7QUFFaEQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxxQkFBUCxHQUErQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBRS9CLGdCQUFBLEdBQW1CLENBQ2pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FERixFQUVqQixNQUFNLENBQUMscUJBQXFCLENBQUMsT0FGWjtJQVFuQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFwQixDQUF6RDtRQUVFLE1BQU0sQ0FBQyxhQUFQLEdBQXVCO1VBQ3JCO1lBQUMsS0FBQSxFQUFPLE1BQVI7WUFBZ0IsS0FBQSxFQUFPLFFBQXZCO1dBRHFCLEVBRXJCO1lBQUMsS0FBQSxFQUFPLFNBQVI7WUFBbUIsS0FBQSxFQUFPLFdBQTFCO1dBRnFCLEVBR3JCO1lBQUMsS0FBQSxFQUFPLE9BQVI7WUFBaUIsS0FBQSxFQUFPLFNBQXhCO1dBSHFCLEVBSXJCO1lBQUMsS0FBQSxFQUFPLE1BQVI7WUFBZ0IsS0FBQSxFQUFPLFFBQXZCO1dB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QUFDLFNBQVMsQ0FBQyxPQUFWLENBQWtCLENBQWxCLENBQUQsQ0FBSCxHQUF5QixJQURoRDtPQUFBLE1BRUssSUFBRyxTQUFBLElBQWEsU0FBQSxHQUFZLENBQTVCO1FBQ0gsa0JBQUEsR0FBdUIsQ0FBQyxTQUFTLENBQUMsT0FBVixDQUFrQixDQUFsQixDQUFELENBQUEsR0FBc0IsSUFEMUM7O0FBR0wsYUFBTztRQUFDLE9BQUEsRUFBUyxnQkFBVjtRQUE0QixTQUFBLEVBQVcsa0JBQXZDO1FBQTJELEtBQUEsRUFBTyxLQUFsRTs7SUEvQ29CO0lBaUQ3QixZQUFBLEdBQWUsU0FBQyxPQUFEO0FBQ2IsVUFBQTtNQUFBLElBQUcsT0FBUSxDQUFBLENBQUEsQ0FBUixLQUFjLENBQWpCO2VBQ0UsU0FBQSxHQUFZLEdBQUEsR0FBTSxDQUFDLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBUixHQUFhLE9BQVEsQ0FBQSxDQUFBLENBQXRCLENBQUEsR0FBNEIsQ0FBN0IsRUFEcEI7T0FBQSxNQUFBO2VBR0UsU0FBQSxHQUFZLEtBSGQ7O0lBRGE7V0FTZixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQS9GZ0QsQ0FBbEQ7O0VBa0dBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLDBCQUFqQixFQUE2QyxTQUFBO0FBQzNDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSw4QkFGUDs7RUFEb0MsQ0FBN0M7QUFwR0EiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLW51bWJlci1vZi1sZWFkcy9zYWxlcy1udW1iZXItb2YtbGVhZHMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy1udW1iZXItb2YtbGVhZHMnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNOdW1iZXJPZkxlYWRzQ3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YywgJGZpbHRlcikgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHcuY29udGVudCkgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQubnVtYmVyX29mX2xlYWRzKVxuXG4gICAgICAkc2NvcGUucGVyaW9kT3B0aW9ucyA9IFtcbiAgICAgICAge2xhYmVsOiAneWVhcicsIHZhbHVlOiAnWUVBUkxZJ30sXG4gICAgICAgIHtsYWJlbDogJ3F1YXJ0ZXInLCB2YWx1ZTogJ1FVQVJURVJMWSd9LFxuICAgICAgICB7bGFiZWw6ICdtb250aCcsIHZhbHVlOiAnTU9OVEhMWSd9LFxuICAgICAgICB7bGFiZWw6ICd3ZWVrJywgdmFsdWU6ICdXRUVLTFknfSxcbiAgICAgICAge2xhYmVsOiAnZGF5JywgdmFsdWU6ICdEQUlMWSd9LFxuICAgICAgXVxuICAgICAgJHNjb3BlLnBlcmlvZCA9IGFuZ3VsYXIuY29weShfLmZpbmQoJHNjb3BlLnBlcmlvZE9wdGlvbnMsIChvKSAtPlxuICAgICAgICBvLnZhbHVlID09IHcubWV0YWRhdGEucGVyaW9kXG4gICAgICApIHx8ICRzY29wZS5wZXJpb2RPcHRpb25zWzNdKVxuXG4gICMgVE9ETzogc2hvdWxkIGl0IGJlIG1hbmFnZWQgaW4gYSBzZXJ2aWNlPyBpbiB0aGUgd2lkZ2V0IGRpcmVjdGl2ZT8gTXVzdCBpc0xvYWRpbmcgYW5kIGlzRGF0YUZvdW5kIGJlIGJvdW5kIHRvIHRoZSB3aWRnZXQgb2JqZWN0IG9yIHRvIHRoZSBzY29wZT9cbiAgdy5wcm9jZXNzRXJyb3IgPSAoZXJyb3IpIC0+XG4gICAgIyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWFuYWdlbWVudFxuICAgIGlmIGVycm9yLmNvZGUgPT0gNDA0XG4gICAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSBmYWxzZVxuXG4gICRzY29wZS5mb3JtYXROdW1iZXJPZkxlYWRzID0gKGNhcmFjKSAtPlxuICAgIGZvcm1hdHRlZE5vbWluYWwgPSAwXG4gICAgZm9ybWF0dGVkVmFyaWF0aW9uID0gXCItICVcIlxuXG4gICAgcmV0dXJuIHtub21pbmFsOiBmb3JtYXR0ZWROb21pbmFsLCB2YXJpYXRpb246IGZvcm1hdHRlZFZhcmlhdGlvbiwgY29sb3I6ICcnfSBpZiAhJHNjb3BlLmlzRGF0YUZvdW5kXG5cbiAgICBuX2hhc2ggPSBhbmd1bGFyLmNvcHkody5jb250ZW50Lm51bWJlcl9vZl9sZWFkcylcbiAgICBub21pbmFsPTBcbiAgICBjb2xvcj0nJ1xuXG4gICAgaWYgY2FyYWM9PVwibmV3XCIgJiYgbl9oYXNoLnRvdGFsICYmIG5faGFzaC50b3RhbC5sZW5ndGggPT0gMlxuICAgICAgbm9taW5hbCA9IG5faGFzaC50b3RhbFsxXSAtIG5faGFzaC50b3RhbFswXVxuICAgICAgdmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKG5faGFzaC50b3RhbClcbiAgICAgIGlmIHZhcmlhdGlvbiA+IDBcbiAgICAgICAgY29sb3IgPSAnZ3JlZW4nXG4gICAgICBlbHNlIGlmIHZhcmlhdGlvbiA8IDBcbiAgICAgICAgY29sb3IgPSAncmVkJ1xuXG4gICAgZWxzZSBpZiBjYXJhYz09XCJjb252ZXJ0ZWRcIiAmJiBuX2hhc2guY29udmVydGVkICYmIG5faGFzaC5jb252ZXJ0ZWQubGVuZ3RoID09IDJcbiAgICAgIG5vbWluYWwgPSBuX2hhc2guY29udmVydGVkWzFdXG4gICAgICB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24obl9oYXNoLmNvbnZlcnRlZClcbiAgICAgIGlmIHZhcmlhdGlvbiA+IDBcbiAgICAgICAgY29sb3IgPSAnZ3JlZW4nXG4gICAgICBlbHNlIGlmIHZhcmlhdGlvbiA8IDBcbiAgICAgICAgY29sb3IgPSAncmVkJ1xuXG4gICAgZWxzZSBpZiBjYXJhYz09XCJsb3N0XCIgJiYgbl9oYXNoLmxvc3QgJiYgbl9oYXNoLmxvc3QubGVuZ3RoID09IDJcbiAgICAgIG5vbWluYWwgPSBuX2hhc2gubG9zdFsxXVxuICAgICAgdmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKG5faGFzaC5sb3N0KVxuICAgICAgaWYgdmFyaWF0aW9uIDwgMFxuICAgICAgICBjb2xvciA9ICdncmVlbidcbiAgICAgIGVsc2UgaWYgdmFyaWF0aW9uID4gMFxuICAgICAgICBjb2xvciA9ICdyZWQnXG5cbiAgICBlbHNlXG4gICAgICByZXR1cm4ge25vbWluYWw6IGZvcm1hdHRlZE5vbWluYWwsIHZhcmlhdGlvbjogZm9ybWF0dGVkVmFyaWF0aW9uLCBjb2xvcjogY29sb3J9XG5cbiAgICBpZiBub21pbmFsID4gMFxuICAgICAgZm9ybWF0dGVkTm9taW5hbCA9IFwiKyN7bm9taW5hbH1cIlxuICAgIGVsc2UgaWYgbm9taW5hbCA8IDBcbiAgICAgIGZvcm1hdHRlZE5vbWluYWwgPSBub21pbmFsXG5cbiAgICBpZiB2YXJpYXRpb24gJiYgdmFyaWF0aW9uID4gMFxuICAgICAgZm9ybWF0dGVkVmFyaWF0aW9uID0gXCIrI3t2YXJpYXRpb24udG9GaXhlZCgwKX0lXCJcbiAgICBlbHNlIGlmIHZhcmlhdGlvbiAmJiB2YXJpYXRpb24gPCAwXG4gICAgICBmb3JtYXR0ZWRWYXJpYXRpb24gPSBcIiN7dmFyaWF0aW9uLnRvRml4ZWQoMCl9JVwiXG5cbiAgICByZXR1cm4ge25vbWluYWw6IGZvcm1hdHRlZE5vbWluYWwsIHZhcmlhdGlvbjogZm9ybWF0dGVkVmFyaWF0aW9uLCBjb2xvcjogY29sb3J9XG5cbiAgZ2V0VmFyaWF0aW9uID0gKHZfYXJyYXkpIC0+XG4gICAgaWYgdl9hcnJheVswXSAhPSAwXG4gICAgICB2YXJpYXRpb24gPSAxMDAgKiAoKHZfYXJyYXlbMV0gLyB2X2FycmF5WzBdKSAtIDEpXG4gICAgZWxzZVxuICAgICAgdmFyaWF0aW9uID0gXCItIFwiXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldFNhbGVzTnVtYmVyT2ZMZWFkcycsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0U2FsZXNOdW1iZXJPZkxlYWRzQ3RybCdcbiAgfVxuKSJdfQ==

(function() {
  var module,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  module = angular.module('impac.components.widgets.sales-opportunities-funnel', []);

  module.controller('WidgetSalesOpportunitiesFunnelCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", "ImpacWidgetsSvc", function($scope, $q, ChartFormatterSvc, $filter, ImpacWidgetsSvc) {
    var hasOneOpportunity, selectedStatusSetting, settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.paramsPickerDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.paramsPickerDeferred.promise, $scope.widthDeferred.promise];
    hasOneOpportunity = function(oppsPerSalesStage) {
      var reducedHash, total, totalsArray;
      reducedHash = _.mapValues(oppsPerSalesStage, function(statusHash) {
        return statusHash.total;
      });
      totalsArray = _.compact(_.values(reducedHash));
      total = _.reduce(totalsArray, function(total, n) {
        if (total == null) {
          total = 0;
        }
        return total + n;
      });
      return (total != null) && total > 0;
    };
    w.initContext = function() {
      if ($scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.opps_per_sales_stage) && hasOneOpportunity(w.content.opps_per_sales_stage)) {
        $scope.statusOptions = _.compact(_.map(w.metadata.sales_stage_selection, function(status) {
          if (angular.isDefined(w.content.opps_per_sales_stage[status])) {
            return {
              label: status,
              selected: true
            };
          }
        }));
        return angular.forEach(w.content.opps_per_sales_stage, function(value, status) {
          if (w.metadata.sales_stage_selection && !(indexOf.call(w.metadata.sales_stage_selection, status) >= 0)) {
            return $scope.statusOptions.push({
              label: status,
              selected: false
            });
          } else if (_.isEmpty(w.metadata.sales_stage_selection)) {
            return $scope.statusOptions.push({
              label: status,
              selected: true
            });
          }
        });
      }
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getImpacColor = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.toggleSelectStatus = function(aStatus) {
      if ($scope.selectedStatus && $scope.selectedStatus === aStatus) {
        $scope.selectedStatus = null;
      } else {
        $scope.selectedStatus = aStatus;
      }
      if (!w.isExpanded() && $scope.selectedStatus) {
        return w.toggleExpanded();
      } else {
        return ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
    };
    $scope.isSelected = function(aStatus) {
      return $scope.selectedStatus && aStatus === $scope.selectedStatus;
    };
    $scope.getSelectedOpportunities = function() {
      if ($scope.isDataFound && $scope.selectedStatus) {
        return w.content.opps_per_sales_stage[$scope.selectedStatus].opps;
      }
    };
    $scope.getOppDetails = function(anOpp) {
      var oppDetails;
      oppDetails = [];
      if (anOpp.amount) {
        oppDetails.push($filter('mnoCurrency')(anOpp.amount.amount, anOpp.amount.currency || 'AUD'));
      }
      if (anOpp.probability) {
        oppDetails.push("prob. " + anOpp.probability + "%");
      }
      return oppDetails.join(' / ');
    };
    selectedStatusSetting = {};
    selectedStatusSetting.initialized = false;
    selectedStatusSetting.initialize = function() {
      if (!_.isEmpty(w.content) && angular.isDefined(w.content.opps_per_sales_stage[w.metadata.selected_status])) {
        $scope.selectedStatus = w.metadata.selected_status;
      }
      return selectedStatusSetting.initialized = true;
    };
    selectedStatusSetting.toMetadata = function() {
      return {
        selected_status: $scope.selectedStatus
      };
    };
    w.settings.push(selectedStatusSetting);
    w.format = function() {
      var max;
      if ($scope.isDataFound) {
        max = 0;
        angular.forEach($scope.statusOptions, function(statusOption) {
          var value;
          value = w.content.opps_per_sales_stage[statusOption.label].total;
          if (statusOption.selected && angular.isDefined(value) && value > max) {
            return max = value;
          }
        });
        if (max > 0) {
          return $scope.funnel = _.compact(_.map($scope.statusOptions, function(statusOption, index) {
            var coloredWidth, statusWidth, value;
            value = w.content.opps_per_sales_stage[statusOption.label].total;
            coloredWidth = (100 * (value / max) - 10).toFixed();
            if (coloredWidth < 8) {
              statusWidth = 92;
            } else {
              statusWidth = 100 - coloredWidth;
            }
            if (statusOption.selected && angular.isDefined(value)) {
              return {
                status: statusOption.label,
                number: value,
                coloredWidth: {
                  width: coloredWidth + "%"
                },
                statusWidth: {
                  width: statusWidth + "%"
                }
              };
            }
          }));
        }
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesOpportunitiesFunnel', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesOpportunitiesFunnelCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1vcHBvcnR1bml0aWVzLWZ1bm5lbC9zYWxlcy1vcHBvcnR1bml0aWVzLWZ1bm5lbC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUEsTUFBQSxNQUFBO0lBQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUscURBQWYsRUFBcUUsRUFBckU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isb0NBQWxCLEVBQXdELFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYixFQUFnQyxPQUFoQyxFQUF5QyxlQUF6QztBQUV0RCxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKO0lBU25CLGlCQUFBLEdBQW9CLFNBQUMsaUJBQUQ7QUFDbEIsVUFBQTtNQUFBLFdBQUEsR0FBYyxDQUFDLENBQUMsU0FBRixDQUFZLGlCQUFaLEVBQStCLFNBQUMsVUFBRDtlQUMzQyxVQUFVLENBQUM7TUFEZ0MsQ0FBL0I7TUFHZCxXQUFBLEdBQWMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsTUFBRixDQUFTLFdBQVQsQ0FBVjtNQUNkLEtBQUEsR0FBUSxDQUFDLENBQUMsTUFBRixDQUFTLFdBQVQsRUFBc0IsU0FBQyxLQUFELEVBQVUsQ0FBVjs7VUFBQyxRQUFNOztlQUNuQyxLQUFBLEdBQVE7TUFEb0IsQ0FBdEI7QUFHUixhQUFPLGVBQUEsSUFBVSxLQUFBLEdBQVE7SUFSUDtJQVVwQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixDQUFDLENBQUMsT0FBcEIsQ0FBQSxJQUFnQyxDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBcEIsQ0FBakMsSUFBOEUsaUJBQUEsQ0FBa0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBNUIsQ0FBdEc7UUFFRSxNQUFNLENBQUMsYUFBUCxHQUF1QixDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxxQkFBakIsRUFBd0MsU0FBQyxNQUFEO1VBQ3ZFLElBQW1DLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQXFCLENBQUEsTUFBQSxDQUFqRCxDQUFuQzttQkFBQTtjQUFDLEtBQUEsRUFBTyxNQUFSO2NBQWdCLFFBQUEsRUFBVSxJQUExQjtjQUFBOztRQUR1RSxDQUF4QyxDQUFWO2VBR3ZCLE9BQU8sQ0FBQyxPQUFSLENBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQTFCLEVBQWdELFNBQUMsS0FBRCxFQUFRLE1BQVI7VUFDOUMsSUFBRyxDQUFDLENBQUMsUUFBUSxDQUFDLHFCQUFYLElBQW9DLENBQUMsQ0FBQyxhQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMscUJBQXJCLEVBQUEsTUFBQSxNQUFELENBQXhDO21CQUNFLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBckIsQ0FBMEI7Y0FBQyxLQUFBLEVBQU8sTUFBUjtjQUFnQixRQUFBLEVBQVUsS0FBMUI7YUFBMUIsRUFERjtXQUFBLE1BRUssSUFBRyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMscUJBQXJCLENBQUg7bUJBQ0gsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFyQixDQUEwQjtjQUFDLEtBQUEsRUFBTyxNQUFSO2NBQWdCLFFBQUEsRUFBVSxJQUExQjthQUExQixFQURHOztRQUh5QyxDQUFoRCxFQUxGOztJQURjO0lBYWhCLENBQUMsQ0FBQyxZQUFGLEdBQWlCLFNBQUMsS0FBRDtNQUVmLElBQUcsS0FBSyxDQUFDLElBQU4sS0FBYyxHQUFqQjtlQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE1BRHZCOztJQUZlO0lBS2pCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFNBQUMsS0FBRDthQUNyQixpQkFBaUIsQ0FBQyxRQUFsQixDQUEyQixLQUEzQjtJQURxQjtJQUd2QixNQUFNLENBQUMsa0JBQVAsR0FBNEIsU0FBQyxPQUFEO01BQzFCLElBQUcsTUFBTSxDQUFDLGNBQVAsSUFBeUIsTUFBTSxDQUFDLGNBQVAsS0FBeUIsT0FBckQ7UUFDRSxNQUFNLENBQUMsY0FBUCxHQUF3QixLQUQxQjtPQUFBLE1BQUE7UUFHRSxNQUFNLENBQUMsY0FBUCxHQUF3QixRQUgxQjs7TUFLQSxJQUFHLENBQUMsQ0FBQyxDQUFDLFVBQUYsQ0FBQSxDQUFELElBQW1CLE1BQU0sQ0FBQyxjQUE3QjtlQUVFLENBQUMsQ0FBQyxjQUFGLENBQUEsRUFGRjtPQUFBLE1BQUE7ZUFJRSxlQUFlLENBQUMsb0JBQWhCLENBQXFDLENBQXJDLEVBQXVDLEtBQXZDLEVBSkY7O0lBTjBCO0lBWTVCLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLFNBQUMsT0FBRDtBQUNsQixhQUFPLE1BQU0sQ0FBQyxjQUFQLElBQXlCLE9BQUEsS0FBVyxNQUFNLENBQUM7SUFEaEM7SUFHcEIsTUFBTSxDQUFDLHdCQUFQLEdBQWtDLFNBQUE7TUFDaEMsSUFBRyxNQUFNLENBQUMsV0FBUCxJQUFzQixNQUFNLENBQUMsY0FBaEM7QUFDRSxlQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQXFCLENBQUEsTUFBTSxDQUFDLGNBQVAsQ0FBc0IsQ0FBQyxLQUQvRDs7SUFEZ0M7SUFJbEMsTUFBTSxDQUFDLGFBQVAsR0FBdUIsU0FBQyxLQUFEO0FBQ3JCLFVBQUE7TUFBQSxVQUFBLEdBQWE7TUFDYixJQUFnRyxLQUFLLENBQUMsTUFBdEc7UUFBQSxVQUFVLENBQUMsSUFBWCxDQUFnQixPQUFBLENBQVEsYUFBUixDQUFBLENBQXVCLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBcEMsRUFBNEMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFiLElBQXlCLEtBQXJFLENBQWhCLEVBQUE7O01BQ0EsSUFBa0QsS0FBSyxDQUFDLFdBQXhEO1FBQUEsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsUUFBQSxHQUFTLEtBQUssQ0FBQyxXQUFmLEdBQTJCLEdBQTNDLEVBQUE7O0FBRUEsYUFBTyxVQUFVLENBQUMsSUFBWCxDQUFnQixLQUFoQjtJQUxjO0lBUXZCLHFCQUFBLEdBQXdCO0lBQ3hCLHFCQUFxQixDQUFDLFdBQXRCLEdBQW9DO0lBRXBDLHFCQUFxQixDQUFDLFVBQXRCLEdBQW1DLFNBQUE7TUFDakMsSUFBc0QsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxPQUFaLENBQUQsSUFBeUIsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBcUIsQ0FBQSxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQVgsQ0FBakQsQ0FBL0U7UUFBQSxNQUFNLENBQUMsY0FBUCxHQUF3QixDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFuQzs7YUFDQSxxQkFBcUIsQ0FBQyxXQUF0QixHQUFvQztJQUZIO0lBSW5DLHFCQUFxQixDQUFDLFVBQXRCLEdBQW1DLFNBQUE7YUFDakM7UUFBQyxlQUFBLEVBQWlCLE1BQU0sQ0FBQyxjQUF6Qjs7SUFEaUM7SUFHbkMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLHFCQUFoQjtJQUtBLENBQUMsQ0FBQyxNQUFGLEdBQVcsU0FBQTtBQUNULFVBQUE7TUFBQSxJQUFHLE1BQU0sQ0FBQyxXQUFWO1FBQ0UsR0FBQSxHQUFJO1FBQ0osT0FBTyxDQUFDLE9BQVIsQ0FBaUIsTUFBTSxDQUFDLGFBQXhCLEVBQXVDLFNBQUMsWUFBRDtBQUNyQyxjQUFBO1VBQUEsS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQXFCLENBQUEsWUFBWSxDQUFDLEtBQWIsQ0FBbUIsQ0FBQztVQUMzRCxJQUFlLFlBQVksQ0FBQyxRQUFiLElBQXlCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLEtBQWxCLENBQXpCLElBQXFELEtBQUEsR0FBUSxHQUE1RTttQkFBQSxHQUFBLEdBQU0sTUFBTjs7UUFGcUMsQ0FBdkM7UUFJQSxJQUFHLEdBQUEsR0FBTSxDQUFUO2lCQUNFLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxNQUFNLENBQUMsYUFBYixFQUE0QixTQUFDLFlBQUQsRUFBZSxLQUFmO0FBQ3BELGdCQUFBO1lBQUEsS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsb0JBQXFCLENBQUEsWUFBWSxDQUFDLEtBQWIsQ0FBbUIsQ0FBQztZQUMzRCxZQUFBLEdBQWUsQ0FBQyxHQUFBLEdBQU0sQ0FBQyxLQUFBLEdBQVEsR0FBVCxDQUFOLEdBQXNCLEVBQXZCLENBQTBCLENBQUMsT0FBM0IsQ0FBQTtZQUNmLElBQUcsWUFBQSxHQUFlLENBQWxCO2NBQ0UsV0FBQSxHQUFjLEdBRGhCO2FBQUEsTUFBQTtjQUdFLFdBQUEsR0FBYyxHQUFBLEdBQU0sYUFIdEI7O1lBSUEsSUFLSyxZQUFZLENBQUMsUUFBYixJQUF5QixPQUFPLENBQUMsU0FBUixDQUFrQixLQUFsQixDQUw5QjtxQkFBQTtnQkFDRSxNQUFBLEVBQVEsWUFBWSxDQUFDLEtBRHZCO2dCQUVFLE1BQUEsRUFBUSxLQUZWO2dCQUdFLFlBQUEsRUFBYztrQkFBQyxLQUFBLEVBQVUsWUFBRCxHQUFjLEdBQXhCO2lCQUhoQjtnQkFJRSxXQUFBLEVBQWE7a0JBQUMsS0FBQSxFQUFVLFdBQUQsR0FBYSxHQUF2QjtpQkFKZjtnQkFBQTs7VUFQb0QsQ0FBNUIsQ0FBVixFQURsQjtTQU5GOztJQURTO1dBeUJYLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBckhzRCxDQUF4RDs7RUF3SEEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsZ0NBQWpCLEVBQW1ELFNBQUE7QUFDakQsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLG9DQUZQOztFQUQwQyxDQUFuRDtBQTFIQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvc2FsZXMtb3Bwb3J0dW5pdGllcy1mdW5uZWwvc2FsZXMtb3Bwb3J0dW5pdGllcy1mdW5uZWwuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIyBUT0RPIGZhY3RvciB3aXRoIGxlYWRzIGZ1bm5lbCAhXG5cbm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMuc2FsZXMtb3Bwb3J0dW5pdGllcy1mdW5uZWwnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNPcHBvcnR1bml0aWVzRnVubmVsQ3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YywgJGZpbHRlciwgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbXNQaWNrZXJEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLndpZHRoRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbXNQaWNrZXJEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgaGFzT25lT3Bwb3J0dW5pdHkgPSAob3Bwc1BlclNhbGVzU3RhZ2UpIC0+XG4gICAgcmVkdWNlZEhhc2ggPSBfLm1hcFZhbHVlcyhvcHBzUGVyU2FsZXNTdGFnZSwgKHN0YXR1c0hhc2gpIC0+XG4gICAgICBzdGF0dXNIYXNoLnRvdGFsXG4gICAgKVxuICAgIHRvdGFsc0FycmF5ID0gXy5jb21wYWN0IF8udmFsdWVzKHJlZHVjZWRIYXNoKVxuICAgIHRvdGFsID0gXy5yZWR1Y2UodG90YWxzQXJyYXksICh0b3RhbD0wLCBuKSAtPlxuICAgICAgdG90YWwgKyBuXG4gICAgKVxuICAgIHJldHVybiB0b3RhbD8gJiYgdG90YWwgPiAwXG5cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5vcHBzX3Blcl9zYWxlc19zdGFnZSkgJiYgaGFzT25lT3Bwb3J0dW5pdHkody5jb250ZW50Lm9wcHNfcGVyX3NhbGVzX3N0YWdlKVxuXG4gICAgICAkc2NvcGUuc3RhdHVzT3B0aW9ucyA9IF8uY29tcGFjdCBfLm1hcCB3Lm1ldGFkYXRhLnNhbGVzX3N0YWdlX3NlbGVjdGlvbiwgKHN0YXR1cykgLT5cbiAgICAgICAge2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiB0cnVlfSBpZiBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQub3Bwc19wZXJfc2FsZXNfc3RhZ2Vbc3RhdHVzXSlcblxuICAgICAgYW5ndWxhci5mb3JFYWNoIHcuY29udGVudC5vcHBzX3Blcl9zYWxlc19zdGFnZSwgKHZhbHVlLCBzdGF0dXMpIC0+XG4gICAgICAgIGlmIHcubWV0YWRhdGEuc2FsZXNfc3RhZ2Vfc2VsZWN0aW9uICYmICEoc3RhdHVzIGluIHcubWV0YWRhdGEuc2FsZXNfc3RhZ2Vfc2VsZWN0aW9uKVxuICAgICAgICAgICRzY29wZS5zdGF0dXNPcHRpb25zLnB1c2goe2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiBmYWxzZX0pXG4gICAgICAgIGVsc2UgaWYgXy5pc0VtcHR5KHcubWV0YWRhdGEuc2FsZXNfc3RhZ2Vfc2VsZWN0aW9uKVxuICAgICAgICAgICRzY29wZS5zdGF0dXNPcHRpb25zLnB1c2goe2xhYmVsOiBzdGF0dXMsIHNlbGVjdGVkOiB0cnVlfSlcblxuICAjIFRPRE86IHNob3VsZCBpdCBiZSBtYW5hZ2VkIGluIGEgc2VydmljZT8gaW4gdGhlIHdpZGdldCBkaXJlY3RpdmU/IE11c3QgaXNMb2FkaW5nIGFuZCBpc0RhdGFGb3VuZCBiZSBib3VuZCB0byB0aGUgd2lkZ2V0IG9iamVjdCBvciB0byB0aGUgc2NvcGU/XG4gIHcucHJvY2Vzc0Vycm9yID0gKGVycm9yKSAtPlxuICAgICMgVE9ETzogYmV0dGVyIGVycm9yIG1hbmFnZW1lbnRcbiAgICBpZiBlcnJvci5jb2RlID09IDQwNFxuICAgICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gZmFsc2VcblxuICAkc2NvcGUuZ2V0SW1wYWNDb2xvciA9IChpbmRleCkgLT5cbiAgICBDaGFydEZvcm1hdHRlclN2Yy5nZXRDb2xvcihpbmRleClcblxuICAkc2NvcGUudG9nZ2xlU2VsZWN0U3RhdHVzID0gKGFTdGF0dXMpIC0+XG4gICAgaWYgJHNjb3BlLnNlbGVjdGVkU3RhdHVzICYmICRzY29wZS5zZWxlY3RlZFN0YXR1cyA9PSBhU3RhdHVzXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRTdGF0dXMgPSBudWxsXG4gICAgZWxzZVxuICAgICAgJHNjb3BlLnNlbGVjdGVkU3RhdHVzID0gYVN0YXR1c1xuXG4gICAgaWYgIXcuaXNFeHBhbmRlZCgpICYmICRzY29wZS5zZWxlY3RlZFN0YXR1c1xuICAgICAgIyB3aWxsIHRyaWdnZXIgdXBkYXRlU2V0dGluZ3MoZmFsc2UpXG4gICAgICB3LnRvZ2dsZUV4cGFuZGVkKClcbiAgICBlbHNlXG4gICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcblxuICAkc2NvcGUuaXNTZWxlY3RlZCA9IChhU3RhdHVzKSAtPlxuICAgIHJldHVybiAkc2NvcGUuc2VsZWN0ZWRTdGF0dXMgJiYgYVN0YXR1cyA9PSAkc2NvcGUuc2VsZWN0ZWRTdGF0dXNcblxuICAkc2NvcGUuZ2V0U2VsZWN0ZWRPcHBvcnR1bml0aWVzID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgJHNjb3BlLnNlbGVjdGVkU3RhdHVzXG4gICAgICByZXR1cm4gdy5jb250ZW50Lm9wcHNfcGVyX3NhbGVzX3N0YWdlWyRzY29wZS5zZWxlY3RlZFN0YXR1c10ub3Bwc1xuXG4gICRzY29wZS5nZXRPcHBEZXRhaWxzID0gKGFuT3BwKSAtPlxuICAgIG9wcERldGFpbHMgPSBbXVxuICAgIG9wcERldGFpbHMucHVzaCgkZmlsdGVyKCdtbm9DdXJyZW5jeScpKGFuT3BwLmFtb3VudC5hbW91bnQsIGFuT3BwLmFtb3VudC5jdXJyZW5jeSB8fCAnQVVEJykpIGlmIGFuT3BwLmFtb3VudFxuICAgIG9wcERldGFpbHMucHVzaChcInByb2IuICN7YW5PcHAucHJvYmFiaWxpdHl9JVwiKSBpZiBhbk9wcC5wcm9iYWJpbGl0eVxuXG4gICAgcmV0dXJuIG9wcERldGFpbHMuam9pbignIC8gJylcblxuXG4gIHNlbGVjdGVkU3RhdHVzU2V0dGluZyA9IHt9XG4gIHNlbGVjdGVkU3RhdHVzU2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgc2VsZWN0ZWRTdGF0dXNTZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgICRzY29wZS5zZWxlY3RlZFN0YXR1cyA9IHcubWV0YWRhdGEuc2VsZWN0ZWRfc3RhdHVzIGlmICFfLmlzRW1wdHkody5jb250ZW50KSAmJiBhbmd1bGFyLmlzRGVmaW5lZCh3LmNvbnRlbnQub3Bwc19wZXJfc2FsZXNfc3RhZ2Vbdy5tZXRhZGF0YS5zZWxlY3RlZF9zdGF0dXNdKVxuICAgIHNlbGVjdGVkU3RhdHVzU2V0dGluZy5pbml0aWFsaXplZCA9IHRydWVcblxuICBzZWxlY3RlZFN0YXR1c1NldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3NlbGVjdGVkX3N0YXR1czogJHNjb3BlLnNlbGVjdGVkU3RhdHVzfVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZWxlY3RlZFN0YXR1c1NldHRpbmcpXG5cblxuICAjIEZ1bm5lbCBmb3JtYXRpbmcgZnVuY3Rpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBtYXg9MFxuICAgICAgYW5ndWxhci5mb3JFYWNoICAkc2NvcGUuc3RhdHVzT3B0aW9ucywgKHN0YXR1c09wdGlvbikgLT5cbiAgICAgICAgdmFsdWUgPSB3LmNvbnRlbnQub3Bwc19wZXJfc2FsZXNfc3RhZ2Vbc3RhdHVzT3B0aW9uLmxhYmVsXS50b3RhbFxuICAgICAgICBtYXggPSB2YWx1ZSBpZiBzdGF0dXNPcHRpb24uc2VsZWN0ZWQgJiYgYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlID4gbWF4XG5cbiAgICAgIGlmIG1heCA+IDBcbiAgICAgICAgJHNjb3BlLmZ1bm5lbCA9IF8uY29tcGFjdCBfLm1hcCAkc2NvcGUuc3RhdHVzT3B0aW9ucywgKHN0YXR1c09wdGlvbiwgaW5kZXgpIC0+XG4gICAgICAgICAgdmFsdWUgPSB3LmNvbnRlbnQub3Bwc19wZXJfc2FsZXNfc3RhZ2Vbc3RhdHVzT3B0aW9uLmxhYmVsXS50b3RhbFxuICAgICAgICAgIGNvbG9yZWRXaWR0aCA9ICgxMDAgKiAodmFsdWUgLyBtYXgpIC0gMTApLnRvRml4ZWQoKVxuICAgICAgICAgIGlmIGNvbG9yZWRXaWR0aCA8IDhcbiAgICAgICAgICAgIHN0YXR1c1dpZHRoID0gOTJcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdGF0dXNXaWR0aCA9IDEwMCAtIGNvbG9yZWRXaWR0aFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzT3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgbnVtYmVyOiB2YWx1ZSxcbiAgICAgICAgICAgIGNvbG9yZWRXaWR0aDoge3dpZHRoOiBcIiN7Y29sb3JlZFdpZHRofSVcIn1cbiAgICAgICAgICAgIHN0YXR1c1dpZHRoOiB7d2lkdGg6IFwiI3tzdGF0dXNXaWR0aH0lXCJ9XG4gICAgICAgICAgfSBpZiBzdGF0dXNPcHRpb24uc2VsZWN0ZWQgJiYgYW5ndWxhci5pc0RlZmluZWQodmFsdWUpXG5cblxuICAjIFdpZGdldCBpcyByZWFkeTogY2FuIHRyaWdnZXIgdGhlIFwid2FpdCBmb3Igc2V0dGlnbnMgdG8gYmUgcmVhZHlcIlxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS53aWRnZXREZWZlcnJlZC5yZXNvbHZlKHNldHRpbmdzUHJvbWlzZXMpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3dpZGdldFNhbGVzT3Bwb3J0dW5pdGllc0Z1bm5lbCcsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0U2FsZXNPcHBvcnR1bml0aWVzRnVubmVsQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-performance', []);

  module.controller('WidgetSalesPerformanceCtrl', ["$scope", "$q", "$filter", "ChartFormatterSvc", "ImpacWidgetsSvc", function($scope, $q, $filter, ChartFormatterSvc, ImpacWidgetsSvc) {
    var selectedElementSetting, settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.widthDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.assignees);
      if ($scope.isDataFound && w.metadata.selectedElement) {
        return $scope.selectedElement = _.find(w.content.assignees, function(statement) {
          return statement.name === w.metadata.selectedElement.name;
        });
      }
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getWonOpportunities = function(element) {
      if ((element != null) && (element.opportunities != null)) {
        return _.select(element.opportunities, function(opp) {
          return opp.sales_stage.toLowerCase().match(/won/);
        });
      }
    };
    $scope.getLostOpportunities = function(element) {
      if ((element != null) && (element.opportunities != null)) {
        return _.select(element.opportunities, function(opp) {
          return !opp.sales_stage.toLowerCase().match(/won/);
        });
      }
    };
    $scope.getCloseDate = function(anOpp) {
      var period, theDate;
      if ((anOpp != null) && (anOpp.sales_stage_changes != null) && anOpp.sales_stage_changes.length > 0) {
        theDate = anOpp.sales_stage_changes[anOpp.sales_stage_changes.length - 1].updated_at;
        if (theDate.split(' ').length > 0) {
          theDate = theDate.split(' ')[0];
        }
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        return $filter('mnoDate')(theDate, period);
      }
    };
    $scope.toggleSelectedElement = function(element) {
      if ($scope.isSelected(element)) {
        $scope.selectedElement = null;
        if (w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      } else {
        $scope.selectedElement = angular.copy(element);
        w.format();
        if (!w.isExpanded()) {
          return w.toggleExpanded();
        } else {
          return ImpacWidgetsSvc.updateWidgetSettings(w, false);
        }
      }
    };
    $scope.isSelected = function(element) {
      return (element != null) && ($scope.selectedElement != null) && ((element.name != null) && element.name === $scope.selectedElement.name);
    };
    selectedElementSetting = {};
    selectedElementSetting.initialized = false;
    selectedElementSetting.initialize = function() {
      return selectedElementSetting.initialized = true;
    };
    selectedElementSetting.toMetadata = function() {
      return {
        selectedElement: $scope.selectedElement
      };
    };
    w.settings.push(selectedElementSetting);
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var all_values_are_positive, chartData, data, dates, inputData, options, period;
      if ($scope.isDataFound && ($scope.selectedElement != null)) {
        data = angular.copy($scope.selectedElement);
        period = null;
        if ((w.metadata != null) && (w.metadata.hist_parameters != null)) {
          period = w.metadata.hist_parameters.period;
        }
        dates = _.map(w.content.dates, function(date) {
          return $filter('mnoDate')(date, period);
        });
        inputData = {
          title: data.name,
          labels: dates,
          values: data.totals
        };
        all_values_are_positive = true;
        angular.forEach(data.totals, function(value) {
          return all_values_are_positive && (all_values_are_positive = value >= 0);
        });
        options = {
          scaleBeginAtZero: all_values_are_positive,
          showXLabels: true
        };
        chartData = ChartFormatterSvc.lineChart([inputData], options);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesPerformance', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesPerformanceCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1wZXJmb3JtYW5jZS9zYWxlcy1wZXJmb3JtYW5jZS5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw0Q0FBZixFQUE0RCxFQUE1RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiw0QkFBbEIsRUFBZ0QsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLE9BQWIsRUFBc0IsaUJBQXRCLEVBQXlDLGVBQXpDO0FBRTlDLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUNyQixNQUFNLENBQUMsYUFBUCxHQUF1QixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3ZCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFFdkIsZ0JBQUEsR0FBbUIsQ0FDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQURGLEVBRWpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FGSixFQUdqQixNQUFNLENBQUMsYUFBYSxDQUFDLE9BSEo7SUFTbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTtNQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQXBCO01BRXRELElBQUcsTUFBTSxDQUFDLFdBQVAsSUFBc0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFwQztlQUNFLE1BQU0sQ0FBQyxlQUFQLEdBQXlCLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFqQixFQUE0QixTQUFDLFNBQUQ7aUJBQ25ELFNBQVMsQ0FBQyxJQUFWLEtB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QUF4QztlQUdaLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBbkIsQ0FBMEIsU0FBMUIsRUFyQkY7O0lBRFM7V0EyQlgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUF0QixDQUE4QixnQkFBOUI7RUFySDhDLENBQWhEOztFQXdIQSxNQUFNLENBQUMsU0FBUCxDQUFpQix3QkFBakIsRUFBMkMsU0FBQTtBQUN6QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxVQUFBLEVBQVksNEJBRlA7O0VBRGtDLENBQTNDO0FBMUhBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1wZXJmb3JtYW5jZS9zYWxlcy1wZXJmb3JtYW5jZS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLnNhbGVzLXBlcmZvcm1hbmNlJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1dpZGdldFNhbGVzUGVyZm9ybWFuY2VDdHJsJywgKCRzY29wZSwgJHEsICRmaWx0ZXIsIENoYXJ0Rm9ybWF0dGVyU3ZjLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLndpZHRoRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5jaGFydERlZmVycmVkID0gJHEuZGVmZXIoKVxuXG4gIHNldHRpbmdzUHJvbWlzZXMgPSBbXG4gICAgJHNjb3BlLm9yZ0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUud2lkdGhEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5hc3NpZ25lZXMpXG5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmQgJiYgdy5tZXRhZGF0YS5zZWxlY3RlZEVsZW1lbnRcbiAgICAgICRzY29wZS5zZWxlY3RlZEVsZW1lbnQgPSBfLmZpbmQody5jb250ZW50LmFzc2lnbmVlcywgKHN0YXRlbWVudCktPlxuICAgICAgICBzdGF0ZW1lbnQubmFtZSA9PSB3Lm1ldGFkYXRhLnNlbGVjdGVkRWxlbWVudC5uYW1lXG4gICAgICApXG5cbiAgIyBUT0RPOiBzaG91bGQgaXQgYmUgbWFuYWdlZCBpbiBhIHNlcnZpY2U/IGluIHRoZSB3aWRnZXQgZGlyZWN0aXZlPyBNdXN0IGlzTG9hZGluZyBhbmQgaXNEYXRhRm91bmQgYmUgYm91bmQgdG8gdGhlIHdpZGdldCBvYmplY3Qgb3IgdG8gdGhlIHNjb3BlP1xuICB3LnByb2Nlc3NFcnJvciA9IChlcnJvcikgLT5cbiAgICAjIFRPRE86IGJldHRlciBlcnJvciBtYW5hZ2VtZW50XG4gICAgaWYgZXJyb3IuY29kZSA9PSA0MDRcbiAgICAgICRzY29wZS5pc0RhdGFGb3VuZCA9IGZhbHNlXG5cbiAgJHNjb3BlLmdldFdvbk9wcG9ydHVuaXRpZXMgPSAoZWxlbWVudCkgLT5cbiAgICBpZiBlbGVtZW50PyAmJiBlbGVtZW50Lm9wcG9ydHVuaXRpZXM/XG4gICAgICBfLnNlbGVjdCBlbGVtZW50Lm9wcG9ydHVuaXRpZXMsIChvcHApIC0+XG4gICAgICAgIG9wcC5zYWxlc19zdGFnZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC93b24vKVxuXG4gICRzY29wZS5nZXRMb3N0T3Bwb3J0dW5pdGllcyA9IChlbGVtZW50KSAtPlxuICAgIGlmIGVsZW1lbnQ/ICYmIGVsZW1lbnQub3Bwb3J0dW5pdGllcz9cbiAgICAgIF8uc2VsZWN0IGVsZW1lbnQub3Bwb3J0dW5pdGllcywgKG9wcCkgLT5cbiAgICAgICAgIW9wcC5zYWxlc19zdGFnZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC93b24vKVxuXG4gICRzY29wZS5nZXRDbG9zZURhdGUgPSAoYW5PcHApIC0+XG4gICAgaWYgYW5PcHA/ICYmIGFuT3BwLnNhbGVzX3N0YWdlX2NoYW5nZXM/ICYmIGFuT3BwLnNhbGVzX3N0YWdlX2NoYW5nZXMubGVuZ3RoID4gMFxuICAgICAgdGhlRGF0ZSA9IGFuT3BwLnNhbGVzX3N0YWdlX2NoYW5nZXNbYW5PcHAuc2FsZXNfc3RhZ2VfY2hhbmdlcy5sZW5ndGggLSAxXS51cGRhdGVkX2F0XG4gICAgICBpZiB0aGVEYXRlLnNwbGl0KCcgJykubGVuZ3RoID4gMFxuICAgICAgICB0aGVEYXRlID0gdGhlRGF0ZS5zcGxpdCgnICcpWzBdXG5cbiAgICAgIHBlcmlvZCA9IG51bGxcbiAgICAgIHBlcmlvZCA9IHcubWV0YWRhdGEuaGlzdF9wYXJhbWV0ZXJzLnBlcmlvZCBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycz9cbiAgICAgIHJldHVybiAkZmlsdGVyKCdtbm9EYXRlJykodGhlRGF0ZSwgcGVyaW9kKVxuXG4gICMgLS0tPlxuICAjIFRPRE8gc2VsZWN0ZWRFbGVtZW50IGFuZCBjb2xsYXBzZWQgc2hvdWxkIGJlIGZhY3Rvcml6ZWQgYXMgc2V0dGluZ3Mgb3IgJ2NvbW1vbnMnXG4gICRzY29wZS50b2dnbGVTZWxlY3RlZEVsZW1lbnQgPSAoZWxlbWVudCkgLT5cbiAgICBpZiAkc2NvcGUuaXNTZWxlY3RlZChlbGVtZW50KVxuICAgICAgJHNjb3BlLnNlbGVjdGVkRWxlbWVudCA9IG51bGxcbiAgICAgIGlmIHcuaXNFeHBhbmRlZCgpXG4gICAgICAgIHcudG9nZ2xlRXhwYW5kZWQoKVxuICAgICAgZWxzZVxuICAgICAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcbiAgICBlbHNlXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50ID0gYW5ndWxhci5jb3B5KGVsZW1lbnQpXG4gICAgICB3LmZvcm1hdCgpXG4gICAgICBpZiAhdy5pc0V4cGFuZGVkKClcbiAgICAgICAgdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgICBlbHNlXG4gICAgICAgIEltcGFjV2lkZ2V0c1N2Yy51cGRhdGVXaWRnZXRTZXR0aW5ncyh3LGZhbHNlKVxuXG4gICRzY29wZS5pc1NlbGVjdGVkID0gKGVsZW1lbnQpIC0+XG4gICAgZWxlbWVudD8gJiYgJHNjb3BlLnNlbGVjdGVkRWxlbWVudD8gJiYgKGVsZW1lbnQubmFtZT8gJiYgZWxlbWVudC5uYW1lID09ICRzY29wZS5zZWxlY3RlZEVsZW1lbnQubmFtZSlcblxuICAjIE1pbmktc2V0dGluZ1xuICBzZWxlY3RlZEVsZW1lbnRTZXR0aW5nID0ge31cbiAgc2VsZWN0ZWRFbGVtZW50U2V0dGluZy5pbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgc2VsZWN0ZWRFbGVtZW50U2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICBzZWxlY3RlZEVsZW1lbnRTZXR0aW5nLmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHNlbGVjdGVkRWxlbWVudFNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAge3NlbGVjdGVkRWxlbWVudDogJHNjb3BlLnNlbGVjdGVkRWxlbWVudH1cblxuICB3LnNldHRpbmdzLnB1c2goc2VsZWN0ZWRFbGVtZW50U2V0dGluZylcbiAgIyA8LS0tXG5cblxuICAjIENoYXJ0IGZvcm1hdGluZyBmdW5jdGlvblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kcmF3VHJpZ2dlciA9ICRxLmRlZmVyKClcbiAgdy5mb3JtYXQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCAmJiAkc2NvcGUuc2VsZWN0ZWRFbGVtZW50P1xuICAgICAgZGF0YSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuc2VsZWN0ZWRFbGVtZW50KVxuXG4gICAgICBwZXJpb2QgPSBudWxsXG4gICAgICBwZXJpb2QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVycy5wZXJpb2QgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5oaXN0X3BhcmFtZXRlcnM/XG4gICAgICBkYXRlcyA9IF8ubWFwIHcuY29udGVudC5kYXRlcywgKGRhdGUpIC0+XG4gICAgICAgICRmaWx0ZXIoJ21ub0RhdGUnKShkYXRlLCBwZXJpb2QpXG5cbiAgICAgIGlucHV0RGF0YSA9IHt0aXRsZTogZGF0YS5uYW1lLCBsYWJlbHM6IGRhdGVzLCB2YWx1ZXM6IGRhdGEudG90YWxzfVxuICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgPSB0cnVlXG4gICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS50b3RhbHMsICh2YWx1ZSkgLT5cbiAgICAgICAgYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUgJiY9IHZhbHVlID49IDBcbiAgICAgIClcblxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogYWxsX3ZhbHVlc19hcmVfcG9zaXRpdmUsXG4gICAgICAgIHNob3dYTGFiZWxzOiB0cnVlLFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMubGluZUNoYXJ0KFtpbnB1dERhdGFdLG9wdGlvbnMpXG4gICAgICBcbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNQZXJmb3JtYW5jZScsIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAnV2lkZ2V0U2FsZXNQZXJmb3JtYW5jZUN0cmwnXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-segmented-turnover', []);

  module.controller('WidgetSalesSegmentedTurnoverCtrl', ["$scope", "$q", "$filter", "ChartFormatterSvc", function($scope, $q, $filter, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.timeRangeDeferred = $q.defer();
    $scope.widthDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.timeRangeDeferred.promise, $scope.widthDeferred.promise, $scope.paramSelectorDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      if ($scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.dates) && !_.isEmpty(w.content.ranges)) {
        $scope.filterOptions = [
          {
            label: 'Gross revenue (incl. taxes)',
            value: 'gross'
          }, {
            label: 'Net revenue (excl. taxes)',
            value: 'net'
          }
        ];
        return $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
          return o.value === w.content.filter;
        }) || $scope.filterOptions[0]);
      }
    };
    $scope.getAnalysis = function() {
      if ($scope.isDataFound) {
        if (w.content.ranges[0].percentage + w.content.ranges[1].percentage > 50) {
          return "Your less expensive products bring you most of your revenue.";
        } else if (w.content.ranges[3].percentage + w.content.ranges[4].percentage > 50) {
          return "Your most expensive products bring you most of your revenue.";
        } else {
          return "Your revenue is balanced between your different products segments.";
        }
      }
    };
    $scope.getColorByIndex = function(index) {
      return ChartFormatterSvc.getColor(index);
    };
    $scope.getRangeLabel = function(aLabel) {
      var prices;
      prices = aLabel.split('-');
      return _.map(prices, function(price) {
        return $filter('mnoCurrency')(price, w.content.currency, false);
      }).join(' - ');
    };
    $scope.getMaxRange = function() {
      var max, maxRange;
      if ($scope.isDataFound) {
        max = 0;
        maxRange = w.content.ranges[0];
        angular.forEach(w.content.ranges, function(range) {
          if (range.percentage > max) {
            maxRange = angular.copy(range);
          }
          return max = Math.max(max, range.percentage);
        });
        return maxRange;
      }
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var barData, barOptions, chartData;
      if ($scope.isDataFound) {
        barData = {
          labels: _.map(w.content.ranges, function(elem) {
            return elem.label;
          }),
          values: _.map(w.content.ranges, function(elem) {
            return elem.value;
          })
        };
        barOptions = {
          showTooltips: false,
          showXLabels: false,
          barDatasetSpacing: 15
        };
        chartData = ChartFormatterSvc.barChart(barData, barOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesSegmentedTurnover', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesSegmentedTurnoverCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1zZWdtZW50ZWQtdHVybm92ZXIvc2FsZXMtc2VnbWVudGVkLXR1cm5vdmVyLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLG1EQUFmLEVBQW1FLEVBQW5FOztFQUVULE1BQU0sQ0FBQyxVQUFQLENBQWtCLGtDQUFsQixFQUFzRCxTQUFDLE1BQUQsRUFBUyxFQUFULEVBQWEsT0FBYixFQUFzQixpQkFBdEI7QUFFcEQsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFJWCxNQUFNLENBQUMsV0FBUCxHQUFxQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQ3JCLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixFQUFFLENBQUMsS0FBSCxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDdkIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDL0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE9BRlIsRUFHakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUhKLEVBSWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxPQUpaLEVBS2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FMSjtJQVduQixDQUFDLENBQUMsV0FBRixHQUFnQixTQUFBO01BQ2QsSUFBRyxNQUFNLENBQUMsV0FBUCxHQUFxQixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQVosQ0FBRCxJQUF5QixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFw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T0FBTyxDQUFDLE1BQWhCLEVBQXdCLFNBQUMsSUFBRDttQkFDOUIsSUFBSSxDQUFDO1VBRHlCLENBQXhCLENBSkE7O1FBUVYsVUFBQSxHQUFhO1VBQ1gsWUFBQSxFQUFjLEtBREg7VUFFWCxXQUFBLEVBQWEsS0FGRjtVQUdYLGlCQUFBLEVBQW1CLEVBSFI7O1FBS2IsU0FBQSxHQUFZLGlCQUFpQixDQUFDLFFBQWxCLENBQTJCLE9BQTNCLEVBQW9DLFVBQXBDO2VBR1osTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFuQixDQUEwQixTQUExQixFQWpCRjs7SUFEUztXQXVCWCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQXRCLENBQThCLGdCQUE5QjtFQXpGb0QsQ0FBdEQ7O0VBNEZBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLDhCQUFqQixFQUFpRCxTQUFBO0FBQy9DLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLFVBQUEsRUFBWSxrQ0FGUDs7RUFEd0MsQ0FBakQ7QUE5RkEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLXNlZ21lbnRlZC10dXJub3Zlci9zYWxlcy1zZWdtZW50ZWQtdHVybm92ZXIuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy1zZWdtZW50ZWQtdHVybm92ZXInLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNTZWdtZW50ZWRUdXJub3ZlckN0cmwnLCAoJHNjb3BlLCAkcSwgJGZpbHRlciwgQ2hhcnRGb3JtYXR0ZXJTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS53aWRnZXRcblxuICAjIERlZmluZSBzZXR0aW5nc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5vcmdEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnRpbWVSYW5nZURlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUud2lkdGhEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLnBhcmFtU2VsZWN0b3JEZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS50aW1lUmFuZ2VEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLndpZHRoRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQucHJvbWlzZVxuICAgICRzY29wZS5jaGFydERlZmVycmVkLnByb21pc2VcbiAgXVxuXG5cbiAgIyBXaWRnZXQgc3BlY2lmaWMgbWV0aG9kc1xuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHcuaW5pdENvbnRleHQgPSAtPlxuICAgIGlmICRzY29wZS5pc0RhdGFGb3VuZCA9ICFfLmlzRW1wdHkody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5kYXRlcykgJiYgIV8uaXNFbXB0eSh3LmNvbnRlbnQucmFuZ2VzKVxuXG4gICAgICAkc2NvcGUuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAge2xhYmVsOiAnR3Jvc3MgcmV2ZW51ZSAoaW5jbC4gdGF4ZXMpJywgdmFsdWU6ICdncm9zcyd9LFxuICAgICAgICB7bGFiZWw6ICdOZXQgcmV2ZW51ZSAoZXhjbC4gdGF4ZXMpJywgdmFsdWU6ICduZXQnfSxcbiAgICAgIF1cbiAgICAgICRzY29wZS5maWx0ZXIgPSBhbmd1bGFyLmNvcHkoXy5maW5kKCRzY29wZS5maWx0ZXJPcHRpb25zLCAobykgLT5cbiAgICAgICAgby52YWx1ZSA9PSB3LmNvbnRlbnQuZmlsdGVyXG4gICAgICApIHx8ICRzY29wZS5maWx0ZXJPcHRpb25zWzBdKVxuXG4gICRzY29wZS5nZXRBbmFseXNpcyA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBpZiB3LmNvbnRlbnQucmFuZ2VzWzBdLnBlcmNlbnRhZ2UgKyB3LmNvbnRlbnQucmFuZ2VzWzFdLnBlcmNlbnRhZ2UgPiA1MFxuICAgICAgICBcIllvdXIgbGVzcyBleHBlbnNpdmUgcHJvZHVjdHMgYnJpbmcgeW91IG1vc3Qgb2YgeW91ciByZXZlbnVlLlwiXG4gICAgICBlbHNlIGlmIHcuY29udGVudC5yYW5nZXNbM10ucGVyY2VudGFnZSArIHcuY29udGVudC5yYW5nZXNbNF0ucGVyY2VudGFnZSA+IDUwXG4gICAgICAgIFwiWW91ciBtb3N0IGV4cGVuc2l2ZSBwcm9kdWN0cyBicmluZyB5b3UgbW9zdCBvZiB5b3VyIHJldmVudWUuXCJcbiAgICAgIGVsc2VcbiAgICAgICAgXCJZb3VyIHJldmVudWUgaXMgYmFsYW5jZWQgYmV0d2VlbiB5b3VyIGRpZmZlcmVudCBwcm9kdWN0cyBzZWdtZW50cy5cIlxuXG4gICRzY29wZS5nZXRDb2xvckJ5SW5kZXggPSAoaW5kZXgpIC0+XG4gICAgQ2hhcnRGb3JtYXR0ZXJTdmMuZ2V0Q29sb3IoaW5kZXgpXG5cbiAgJHNjb3BlLmdldFJhbmdlTGFiZWwgPSAoYUxhYmVsKSAtPlxuICAgIHByaWNlcyA9IGFMYWJlbC5zcGxpdCgnLScpXG4gICAgXy5tYXAocHJpY2VzLCAocHJpY2UpIC0+XG4gICAgICAkZmlsdGVyKCdtbm9DdXJyZW5jeScpKHByaWNlLHcuY29udGVudC5jdXJyZW5jeSxmYWxzZSlcbiAgICApLmpvaW4oJyAtICcpXG5cbiAgJHNjb3BlLmdldE1heFJhbmdlID0gLT5cbiAgICBpZiAkc2NvcGUuaXNEYXRhRm91bmRcbiAgICAgIG1heCA9IDBcbiAgICAgIG1heFJhbmdlID0gdy5jb250ZW50LnJhbmdlc1swXVxuICAgICAgYW5ndWxhci5mb3JFYWNoIHcuY29udGVudC5yYW5nZXMsIChyYW5nZSkgLT5cbiAgICAgICAgbWF4UmFuZ2UgPSBhbmd1bGFyLmNvcHkocmFuZ2UpIGlmIHJhbmdlLnBlcmNlbnRhZ2UgPiBtYXhcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCByYW5nZS5wZXJjZW50YWdlKVxuXG4gICAgICByZXR1cm4gbWF4UmFuZ2VcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBiYXJEYXRhID0ge1xuICAgICAgICBsYWJlbHM6IF8ubWFwKHcuY29udGVudC5yYW5nZXMsIChlbGVtKSAtPlxuICAgICAgICAgIGVsZW0ubGFiZWxcbiAgICAgICAgKSxcbiAgICAgICAgdmFsdWVzOiBfLm1hcCh3LmNvbnRlbnQucmFuZ2VzLCAoZWxlbSkgLT5cbiAgICAgICAgICBlbGVtLnZhbHVlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGJhck9wdGlvbnMgPSB7XG4gICAgICAgIHNob3dUb29sdGlwczogZmFsc2UsXG4gICAgICAgIHNob3dYTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgYmFyRGF0YXNldFNwYWNpbmc6IDE1LFxuICAgICAgfVxuICAgICAgY2hhcnREYXRhID0gQ2hhcnRGb3JtYXR0ZXJTdmMuYmFyQ2hhcnQoYmFyRGF0YSwgYmFyT3B0aW9ucylcbiAgICAgIFxuICAgICAgIyBjYWxscyBjaGFydC5kcmF3KClcbiAgICAgICRzY29wZS5kcmF3VHJpZ2dlci5ub3RpZnkoY2hhcnREYXRhKVxuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRTYWxlc1NlZ21lbnRlZFR1cm5vdmVyJywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc1NlZ21lbnRlZFR1cm5vdmVyQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-summary', []);

  module.controller('WidgetSalesSummaryCtrl', ["$scope", "$q", "ChartFormatterSvc", function($scope, $q, ChartFormatterSvc) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    $scope.chartFiltersDeferred = $q.defer();
    $scope.paramSelectorDeferred = $q.defer();
    $scope.datesPickerDeferred = $q.defer();
    $scope.chartDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise, $scope.chartFiltersDeferred.promise, $scope.paramSelectorDeferred.promise, $scope.datesPickerDeferred.promise, $scope.chartDeferred.promise];
    w.initContext = function() {
      $scope.isDataFound = !_.isEmpty(w.content) && !_.isEmpty(w.content.hist_parameters);
      $scope.filterOptions = [
        {
          label: 'value sold (incl. taxes)',
          value: 'gross_value_sold'
        }, {
          label: 'value sold (excl. taxes)',
          value: 'net_value_sold'
        }, {
          label: 'quantity sold',
          value: 'quantity_sold'
        }, {
          label: 'value purchased (incl. taxes)',
          value: 'gross_value_purchased'
        }, {
          label: 'value purchased (excl. taxes)',
          value: 'net_value_purchased'
        }, {
          label: 'quantity purchased',
          value: 'quantity_purchased'
        }
      ];
      if (w.metadata.criteria === "customer") {
        $scope.filterOptions = [$scope.filterOptions[0], $scope.filterOptions[1], $scope.filterOptions[2]];
      }
      return $scope.filter = angular.copy(_.find($scope.filterOptions, function(o) {
        return o.value === w.metadata.filter;
      }) || $scope.filterOptions[0]);
    };
    $scope.drawTrigger = $q.defer();
    w.format = function() {
      var chartData, pieData, pieOptions;
      if ($scope.isDataFound) {
        pieData = _.map(w.content.summary, function(entity) {
          var label;
          if (entity.company) {
            label = (entity.code || entity.name || entity.location || entity.industry || entity.customer) + " (" + entity.company + ")";
          } else {
            label = entity.code || entity.name || entity.location || entity.industry || entity.customer;
          }
          return {
            label: label,
            value: entity.total
          };
        });
        pieOptions = {
          percentageInnerCutout: 50,
          tooltipFontSize: 12
        };
        if ($scope.filter.value.indexOf('quantity') > -1) {
          angular.merge(pieOptions, {
            currency: 'hide'
          });
        }
        chartData = ChartFormatterSvc.pieChart(pieData, pieOptions);
        return $scope.drawTrigger.notify(chartData);
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesSummary', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesSummaryCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy1zdW1tYXJ5L3NhbGVzLXN1bW1hcnkuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsd0NBQWYsRUFBd0QsRUFBeEQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isd0JBQWxCLEVBQTRDLFNBQUMsTUFBRCxFQUFTLEVBQVQsRUFBYSxpQkFBYjtBQUUxQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUlYLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDckIsTUFBTSxDQUFDLG9CQUFQLEdBQThCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDOUIsTUFBTSxDQUFDLHFCQUFQLEdBQStCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDL0IsTUFBTSxDQUFDLG1CQUFQLEdBQTZCLEVBQUUsQ0FBQyxLQUFILENBQUE7SUFDN0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUV2QixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREYsRUFFakIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BRlgsRUFHakIsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE9BSFosRUFJakIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BSlYsRUFLakIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUxKO0lBV25CLENBQUMsQ0FBQyxXQUFGLEdBQWdCLFNBQUE7TUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQVosQ0FBRCxJQUF5QixDQUFDLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFwQjtNQUUvQyxNQUFNLENBQUMsYUFBUCxHQUF1QjtRQUNyQjtV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Q0FBdkM7QUE3RUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzL3NhbGVzLXN1bW1hcnkvc2FsZXMtc3VtbWFyeS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLnNhbGVzLXN1bW1hcnknLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignV2lkZ2V0U2FsZXNTdW1tYXJ5Q3RybCcsICgkc2NvcGUsICRxLCBDaGFydEZvcm1hdHRlclN2YykgLT5cblxuICB3ID0gJHNjb3BlLndpZGdldFxuXG4gICMgRGVmaW5lIHNldHRpbmdzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLm9yZ0RlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnRGaWx0ZXJzRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5wYXJhbVNlbGVjdG9yRGVmZXJyZWQgPSAkcS5kZWZlcigpXG4gICRzY29wZS5kYXRlc1BpY2tlckRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAkc2NvcGUuY2hhcnREZWZlcnJlZCA9ICRxLmRlZmVyKClcblxuICBzZXR0aW5nc1Byb21pc2VzID0gW1xuICAgICRzY29wZS5vcmdEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RmlsdGVyc0RlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUucGFyYW1TZWxlY3RvckRlZmVycmVkLnByb21pc2VcbiAgICAkc2NvcGUuZGF0ZXNQaWNrZXJEZWZlcnJlZC5wcm9taXNlXG4gICAgJHNjb3BlLmNoYXJ0RGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gIV8uaXNFbXB0eSh3LmNvbnRlbnQpICYmICFfLmlzRW1wdHkody5jb250ZW50Lmhpc3RfcGFyYW1ldGVycylcblxuICAgICRzY29wZS5maWx0ZXJPcHRpb25zID0gW1xuICAgICAge2xhYmVsOiAndmFsdWUgc29sZCAoaW5jbC4gdGF4ZXMpJywgdmFsdWU6ICdncm9zc192YWx1ZV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBzb2xkIChleGNsLiB0YXhlcyknLCB2YWx1ZTogJ25ldF92YWx1ZV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICdxdWFudGl0eSBzb2xkJywgdmFsdWU6ICdxdWFudGl0eV9zb2xkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBwdXJjaGFzZWQgKGluY2wuIHRheGVzKScsIHZhbHVlOiAnZ3Jvc3NfdmFsdWVfcHVyY2hhc2VkJ30sXG4gICAgICB7bGFiZWw6ICd2YWx1ZSBwdXJjaGFzZWQgKGV4Y2wuIHRheGVzKScsIHZhbHVlOiAnbmV0X3ZhbHVlX3B1cmNoYXNlZCd9LFxuICAgICAge2xhYmVsOiAncXVhbnRpdHkgcHVyY2hhc2VkJywgdmFsdWU6ICdxdWFudGl0eV9wdXJjaGFzZWQnfSxcbiAgICBdXG4gICAgJHNjb3BlLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAkc2NvcGUuZmlsdGVyT3B0aW9uc1swXSxcbiAgICAgICRzY29wZS5maWx0ZXJPcHRpb25zWzFdLFxuICAgICAgJHNjb3BlLmZpbHRlck9wdGlvbnNbMl1cbiAgICBdIGlmIHcubWV0YWRhdGEuY3JpdGVyaWEgPT0gXCJjdXN0b21lclwiXG5cbiAgICAkc2NvcGUuZmlsdGVyID0gYW5ndWxhci5jb3B5KF8uZmluZCgkc2NvcGUuZmlsdGVyT3B0aW9ucywgKG8pIC0+XG4gICAgICBvLnZhbHVlID09IHcubWV0YWRhdGEuZmlsdGVyXG4gICAgKSB8fCAkc2NvcGUuZmlsdGVyT3B0aW9uc1swXSlcblxuXG4gICMgQ2hhcnQgZm9ybWF0aW5nIGZ1bmN0aW9uXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRyYXdUcmlnZ2VyID0gJHEuZGVmZXIoKVxuICB3LmZvcm1hdCA9IC0+XG4gICAgaWYgJHNjb3BlLmlzRGF0YUZvdW5kXG4gICAgICBwaWVEYXRhID0gXy5tYXAgdy5jb250ZW50LnN1bW1hcnksIChlbnRpdHkpIC0+XG4gICAgICAgIGlmIGVudGl0eS5jb21wYW55XG4gICAgICAgICAgbGFiZWwgPSBcIiN7ZW50aXR5LmNvZGUgfHwgZW50aXR5Lm5hbWUgfHwgZW50aXR5LmxvY2F0aW9uIHx8IGVudGl0eS5pbmR1c3RyeSB8fCBlbnRpdHkuY3VzdG9tZXJ9ICgje2VudGl0eS5jb21wYW55fSlcIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgbGFiZWwgPSBlbnRpdHkuY29kZSB8fCBlbnRpdHkubmFtZSB8fCBlbnRpdHkubG9jYXRpb24gfHwgZW50aXR5LmluZHVzdHJ5IHx8IGVudGl0eS5jdXN0b21lclxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgIHZhbHVlOiBlbnRpdHkudG90YWwsXG4gICAgICAgIH1cbiAgICAgIHBpZU9wdGlvbnMgPSB7XG4gICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsXG4gICAgICAgIHRvb2x0aXBGb250U2l6ZTogMTIsXG4gICAgICB9XG4gICAgICBhbmd1bGFyLm1lcmdlKHBpZU9wdGlvbnMsIHtjdXJyZW5jeTogJ2hpZGUnfSkgaWYgJHNjb3BlLmZpbHRlci52YWx1ZS5pbmRleE9mKCdxdWFudGl0eScpID4gLTFcbiAgICAgIGNoYXJ0RGF0YSA9IENoYXJ0Rm9ybWF0dGVyU3ZjLnBpZUNoYXJ0KHBpZURhdGEsIHBpZU9wdGlvbnMpXG5cbiAgICAgICMgY2FsbHMgY2hhcnQuZHJhdygpXG4gICAgICAkc2NvcGUuZHJhd1RyaWdnZXIubm90aWZ5KGNoYXJ0RGF0YSlcblxuXG4gICMgV2lkZ2V0IGlzIHJlYWR5OiBjYW4gdHJpZ2dlciB0aGUgXCJ3YWl0IGZvciBzZXR0aWducyB0byBiZSByZWFkeVwiXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLndpZGdldERlZmVycmVkLnJlc29sdmUoc2V0dGluZ3NQcm9taXNlcylcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnd2lkZ2V0U2FsZXNTdW1tYXJ5JywgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdXaWRnZXRTYWxlc1N1bW1hcnlDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets.sales-top-opportunities', []);

  module.controller('WidgetSalesTopOpportunitiesCtrl', ["$scope", "$q", "ChartFormatterSvc", "$filter", function($scope, $q, ChartFormatterSvc, $filter) {
    var settingsPromises, w;
    w = $scope.widget;
    $scope.orgDeferred = $q.defer();
    settingsPromises = [$scope.orgDeferred.promise];
    w.initContext = function() {
      return $scope.isDataFound = angular.isDefined(w.content) && !_.isEmpty(w.content.opportunities);
    };
    w.processError = function(error) {
      if (error.code === 404) {
        return $scope.isDataFound = false;
      }
    };
    $scope.getOppDetails = function(anOpp) {
      var oppDetails;
      oppDetails = [];
      if (anOpp.amount) {
        oppDetails.push($filter('mnoCurrency')(anOpp.amount.amount, anOpp.amount.currency || 'AUD'));
      }
      if (anOpp.probability) {
        oppDetails.push("proba " + anOpp.probability + "%");
      }
      if (anOpp.sales_stage) {
        oppDetails.push(anOpp.sales_stage);
      }
      return oppDetails.join(' / ');
    };
    $scope.getOppClass = function(index) {
      switch (index) {
        case 0:
          return 'first';
        case 1:
          return 'second';
        case 2:
          return 'second';
        default:
          return '';
      }
    };
    return $scope.widgetDeferred.resolve(settingsPromises);
  }]);

  module.directive('widgetSalesTopOpportunities', function() {
    return {
      restrict: 'A',
      controller: 'WidgetSalesTopOpportunitiesCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9zYWxlcy10b3Atb3Bwb3J0dW5pdGllcy9zYWxlcy10b3Atb3Bwb3J0dW5pdGllcy5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxrREFBZixFQUFrRSxFQUFsRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixpQ0FBbEIsRUFBcUQsU0FBQyxNQUFELEVBQVMsRUFBVCxFQUFhLGlCQUFiLEVBQWdDLE9BQWhDO0FBRW5ELFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBSVgsTUFBTSxDQUFDLFdBQVAsR0FBcUIsRUFBRSxDQUFDLEtBQUgsQ0FBQTtJQUVyQixnQkFBQSxHQUFtQixDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BREY7SUFPbkIsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsU0FBQTthQUNkLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE9BQU8sQ0FBQyxTQUFSLENBQWtCLENBQUMsQ0FBQyxPQUFwQixDQUFBLElBQWdDLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQXBCO0lBRHhDO0lBSWhCLENBQUMsQ0FBQyxZQUFGLEdBQWlCLFNBQUMsS0FBRDtNQUVmLElBQUcsS0FBSyxDQUFDLElBQU4sS0FBYyxHQUFqQjtlQUNFLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLE1BRHZCOztJQUZlO0lBS2pCLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFNBQUMsS0FBRDtBQUNyQixVQUFBO01BQUEsVUFBQSxHQUFhO01BQ2IsSUFBZ0csS0FBSyxDQUFDLE1BQXRHO1FBQUEsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsT0FBQSxDQUFRLGFBQVIsQ0FBQSxDQUF1QixLQUFLLENBQUMsTUFBTSxDQUFDLE1BQXBDLEVBQTRDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBYixJQUF5QixLQUFyRSxDQUFoQixFQUFBOztNQUNBLElBQWtELEtBQUssQ0FBQyxXQUF4RDtRQUFBLFVBQVUsQ0FBQyxJQUFYLENBQWdCLFFBQUEsR0FBUyxLQUFLLENBQUMsV0FBZixHQUEyQixHQUEzQyxFQUFBOztNQUNBLElBQXNDLEtBQUssQ0FBQyxXQUE1QztRQUFBLFVBQVUsQ0FBQyxJQUFYLENBQWdCLEtBQUssQ0FBQyxXQUF0QixFQUFBOztBQUVBLGFBQU8sVUFBVSxDQUFDLElBQVgsQ0FBZ0IsS0FBaEI7SUFOYztJQVF2QixNQUFNLENBQUMsV0FBUCxHQUFxQixTQUFDLEtBQUQ7QUFDbkIsY0FBTyxLQUFQO0FBQUEsYUFDTyxDQURQO0FBQ2MsaUJBQU87QUFEckIsYUFFTyxDQUZQO0FBRWMsaUJBQU87QUFGckIsYUFHTyxDQUhQO0FBR2MsaUJBQU87QUFIckI7QUFJTyxpQkFBTztBQUpkO0lBRG1CO1dBVXJCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBdEIsQ0FBOEIsZ0JBQTlCO0VBMUNtRCxDQUFyRDs7RUE2Q0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsNkJBQWpCLEVBQWdELFNBQUE7QUFDOUMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsVUFBQSxFQUFZLGlDQUZQOztFQUR1QyxDQUFoRDtBQS9DQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvc2FsZXMtdG9wLW9wcG9ydHVuaXRpZXMvc2FsZXMtdG9wLW9wcG9ydHVuaXRpZXMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy5zYWxlcy10b3Atb3Bwb3J0dW5pdGllcycsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdXaWRnZXRTYWxlc1RvcE9wcG9ydHVuaXRpZXNDdHJsJywgKCRzY29wZSwgJHEsIENoYXJ0Rm9ybWF0dGVyU3ZjLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUud2lkZ2V0XG5cbiAgIyBEZWZpbmUgc2V0dGluZ3NcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUub3JnRGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgc2V0dGluZ3NQcm9taXNlcyA9IFtcbiAgICAkc2NvcGUub3JnRGVmZXJyZWQucHJvbWlzZVxuICBdXG5cblxuICAjIFdpZGdldCBzcGVjaWZpYyBtZXRob2RzXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdy5pbml0Q29udGV4dCA9IC0+XG4gICAgJHNjb3BlLmlzRGF0YUZvdW5kID0gYW5ndWxhci5pc0RlZmluZWQody5jb250ZW50KSAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5vcHBvcnR1bml0aWVzKVxuXG4gICMgVE9ETzogc2hvdWxkIGl0IGJlIG1hbmFnZWQgaW4gYSBzZXJ2aWNlPyBpbiB0aGUgd2lkZ2V0IGRpcmVjdGl2ZT8gTXVzdCBpc0xvYWRpbmcgYW5kIGlzRGF0YUZvdW5kIGJlIGJvdW5kIHRvIHRoZSB3aWRnZXQgb2JqZWN0IG9yIHRvIHRoZSBzY29wZT9cbiAgdy5wcm9jZXNzRXJyb3IgPSAoZXJyb3IpIC0+XG4gICAgIyBUT0RPOiBiZXR0ZXIgZXJyb3IgbWFuYWdlbWVudFxuICAgIGlmIGVycm9yLmNvZGUgPT0gNDA0XG4gICAgICAkc2NvcGUuaXNEYXRhRm91bmQgPSBmYWxzZVxuXG4gICRzY29wZS5nZXRPcHBEZXRhaWxzID0gKGFuT3BwKSAtPlxuICAgIG9wcERldGFpbHMgPSBbXVxuICAgIG9wcERldGFpbHMucHVzaCgkZmlsdGVyKCdtbm9DdXJyZW5jeScpKGFuT3BwLmFtb3VudC5hbW91bnQsIGFuT3BwLmFtb3VudC5jdXJyZW5jeSB8fCAnQVVEJykpIGlmIGFuT3BwLmFtb3VudFxuICAgIG9wcERldGFpbHMucHVzaChcInByb2JhICN7YW5PcHAucHJvYmFiaWxpdHl9JVwiKSBpZiBhbk9wcC5wcm9iYWJpbGl0eVxuICAgIG9wcERldGFpbHMucHVzaChhbk9wcC5zYWxlc19zdGFnZSkgaWYgYW5PcHAuc2FsZXNfc3RhZ2VcblxuICAgIHJldHVybiBvcHBEZXRhaWxzLmpvaW4oJyAvICcpXG5cbiAgJHNjb3BlLmdldE9wcENsYXNzID0gKGluZGV4KSAtPlxuICAgIHN3aXRjaCBpbmRleFxuICAgICAgd2hlbiAwIHRoZW4gcmV0dXJuICdmaXJzdCdcbiAgICAgIHdoZW4gMSB0aGVuIHJldHVybiAnc2Vjb25kJ1xuICAgICAgd2hlbiAyIHRoZW4gcmV0dXJuICdzZWNvbmQnXG4gICAgICBlbHNlIHJldHVybiAnJ1xuXG5cbiAgIyBXaWRnZXQgaXMgcmVhZHk6IGNhbiB0cmlnZ2VyIHRoZSBcIndhaXQgZm9yIHNldHRpZ25zIHRvIGJlIHJlYWR5XCJcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUud2lkZ2V0RGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nc1Byb21pc2VzKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCd3aWRnZXRTYWxlc1RvcE9wcG9ydHVuaXRpZXMnLCAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogJ1dpZGdldFNhbGVzVG9wT3Bwb3J0dW5pdGllc0N0cmwnXG4gIH1cbikiXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-common.data-not-found', []);

  module.directive('commonDataNotFound', ["$templateCache", "$log", "$http", "ImpacAssets", "ImpacTheming", "ImpacMainSvc", function($templateCache, $log, $http, ImpacAssets, ImpacTheming, ImpacMainSvc) {
    return {
      restrict: 'A',
      scope: {
        widgetEngine: '=',
        onDisplayAlerts: '&'
      },
      link: function(scope, element) {
        var baseDir, dir, hasMyobEssentialsOnly, image;
        scope.content = ImpacTheming.get().dataNotFoundConfig;
        baseDir = ImpacAssets.get('dataNotFound');
        if (scope.widgetEngine && baseDir.length > 0) {
          dir = baseDir.split('');
          dir = dir[dir.length - 1] !== '/' ? dir.concat('/').join('') : dir.join('');
          image = _.find(element.children().first().children(), function(elem) {
            return elem.id === 'not-found-bg';
          });
          image.onerror = function() {
            $log.warn("Missing data-not-found image for " + scope.widgetEngine);
            return image.remove();
          };
          image.src = dir + scope.widgetEngine + '.png';
        }
        hasMyobEssentialsOnly = ImpacMainSvc.config.currentOrganization.has_myob_essentials_only;
        scope.showAlertsTrigger = hasMyobEssentialsOnly && scope.widgetEngine.match(/.*accounts\/.*/);
        return scope.hasCallbackUrl = scope.content.linkUrlCallback != null;
      },
      template: $templateCache.get('widgets-common/data-not-found.tmpl.html')
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1jb21tb24vZGF0YS1ub3QtZm91bmQvZGF0YS1ub3QtZm91bmQuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsZ0RBQWYsRUFBZ0UsRUFBaEU7O0VBRVQsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsb0JBQWpCLEVBQXVDLFNBQUMsY0FBRCxFQUFpQixJQUFqQixFQUF1QixLQUF2QixFQUE4QixXQUE5QixFQUEyQyxZQUEzQyxFQUF5RCxZQUF6RDtBQUNyQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLGVBQUEsRUFBaUIsR0FGWjtPQUZGO01BTUwsSUFBQSxFQUFNLFNBQUMsS0FBRCxFQUFRLE9BQVI7QUFDSixZQUFBO1FBQUEsS0FBSyxDQUFDLE9BQU4sR0FBZ0IsWUFBWSxDQUFDLEdBQWIsQ0FBQSxDQUFrQixDQUFDO1FBQ25DLE9BQUEsR0FBVSxXQUFXLENBQUMsR0FBWixDQUFnQixjQUFoQjtRQUNWLElBQUcsS0FBSyxDQUFDLFlBQU4sSUFBdUIsT0FBTyxDQUFDLE1BQVIsR0FBaUIsQ0FBM0M7VUFFRSxHQUFBLEdBQU0sT0FBTyxDQUFDLEtBQVIsQ0FBYyxFQUFkO1VBQ04sR0FBQSxHQUFTLEdBQUksQ0FBQSxHQUFHLENBQUMsTUFBSixHQUFhLENBQWIsQ0FBSixLQUF1QixHQUExQixHQUNELEdBQUcsQ0FBQyxNQUFKLENBQVcsR0FBWCxDQUFlLENBQUMsSUFBaEIsQ0FBcUIsRUFBckIsQ0FEQyxHQUVELEdBQUcsQ0FBQyxJQUFKLENBQVMsRUFBVDtVQUVMLEtBQUEsR0FBUSxDQUFDLENBQUMsSUFBRixDQUFPLE9BQU8sQ0FBQyxRQUFSLENBQUEsQ0FBa0IsQ0FBQyxLQUFuQixDQUFBLENBQTBCLENBQUMsUUFBM0IsQ0FBQSxDQUFQLEVBQThDLFNBQUMsSUFBRDttQkFDcEQsSUFBSSxDQUFDLEVBQUwsS0FBVztVQUR5QyxDQUE5QztVQUdSLEtBQUssQ0FBQyxPQUFOLEdBQWdCLFNBQUE7WUFDZCxJQUFJLENBQUMsSUFBTCxDQUFVLG1DQUFBLEdBQW9DLEtBQUssQ0FBQyxZQUFwRDttQkFDQSxLQUFLLENBQUMsTUFBTixDQUFBO1VBRmM7VUFJaEIsS0FBSyxDQUFDLEdBQU4sR0FBWSxHQUFBLEdBQU0sS0FBSyxDQUFDLFlBQVosR0FBMkIsT0FkekM7O1FBZ0JBLHFCQUFBLEdBQXdCLFlBQVksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUM7UUFDaEUsS0FBSyxDQUFDLGlCQUFOLEdBQTJCLHFCQUFBLElBQXlCLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBbkIsQ0FBeUIsZ0JBQXpCO2VBQ3BELEtBQUssQ0FBQyxjQUFOLEdBQXVCO01BckJuQixDQU5EO01BNkJMLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQix5Q0FBbkIsQ0E3Qkw7O0VBRDhCLENBQXZDO0FBRkEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzLWNvbW1vbi9kYXRhLW5vdC1mb3VuZC9kYXRhLW5vdC1mb3VuZC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLWNvbW1vbi5kYXRhLW5vdC1mb3VuZCcsW10pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ2NvbW1vbkRhdGFOb3RGb3VuZCcsICgkdGVtcGxhdGVDYWNoZSwgJGxvZywgJGh0dHAsIEltcGFjQXNzZXRzLCBJbXBhY1RoZW1pbmcsIEltcGFjTWFpblN2YykgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICB3aWRnZXRFbmdpbmU6ICc9J1xuICAgICAgb25EaXNwbGF5QWxlcnRzOiAnJidcbiAgICB9LFxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCkgLT5cbiAgICAgIHNjb3BlLmNvbnRlbnQgPSBJbXBhY1RoZW1pbmcuZ2V0KCkuZGF0YU5vdEZvdW5kQ29uZmlnXG4gICAgICBiYXNlRGlyID0gSW1wYWNBc3NldHMuZ2V0KCdkYXRhTm90Rm91bmQnKVxuICAgICAgaWYgc2NvcGUud2lkZ2V0RW5naW5lIGFuZCBiYXNlRGlyLmxlbmd0aCA+IDBcbiAgICAgICAgIyBjaGVja3MgZm9yIHRyYWlsaW5nIHNsYXNoIGFuZCBjb3JyZWN0cy5cbiAgICAgICAgZGlyID0gYmFzZURpci5zcGxpdCgnJylcbiAgICAgICAgZGlyID0gaWYgZGlyW2Rpci5sZW5ndGggLSAxXSAhPSAnLydcbiAgICAgICAgdGhlbiBkaXIuY29uY2F0KCcvJykuam9pbignJylcbiAgICAgICAgZWxzZSBkaXIuam9pbignJylcblxuICAgICAgICBpbWFnZSA9IF8uZmluZCBlbGVtZW50LmNoaWxkcmVuKCkuZmlyc3QoKS5jaGlsZHJlbigpLCAoZWxlbSkgLT5cbiAgICAgICAgICBlbGVtLmlkID09ICdub3QtZm91bmQtYmcnXG5cbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IC0+XG4gICAgICAgICAgJGxvZy53YXJuKFwiTWlzc2luZyBkYXRhLW5vdC1mb3VuZCBpbWFnZSBmb3IgI3tzY29wZS53aWRnZXRFbmdpbmV9XCIpXG4gICAgICAgICAgaW1hZ2UucmVtb3ZlKClcblxuICAgICAgICBpbWFnZS5zcmMgPSBkaXIgKyBzY29wZS53aWRnZXRFbmdpbmUgKyAnLnBuZydcblxuICAgICAgaGFzTXlvYkVzc2VudGlhbHNPbmx5ID0gSW1wYWNNYWluU3ZjLmNvbmZpZy5jdXJyZW50T3JnYW5pemF0aW9uLmhhc19teW9iX2Vzc2VudGlhbHNfb25seVxuICAgICAgc2NvcGUuc2hvd0FsZXJ0c1RyaWdnZXIgPSAoaGFzTXlvYkVzc2VudGlhbHNPbmx5ICYmIHNjb3BlLndpZGdldEVuZ2luZS5tYXRjaCgvLiphY2NvdW50c1xcLy4qLykpXG4gICAgICBzY29wZS5oYXNDYWxsYmFja1VybCA9IHNjb3BlLmNvbnRlbnQubGlua1VybENhbGxiYWNrP1xuXG4gICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy1jb21tb24vZGF0YS1ub3QtZm91bmQudG1wbC5odG1sJyksXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets-common.editable-title', []);

  module.controller('CommonEditableTitleCtrl', ["$scope", "ImpacWidgetsSvc", function($scope, ImpacWidgetsSvc) {
    var w;
    w = $scope.parentWidget;
    return $scope.updateName = function() {
      var data;
      if (w.name.length === 0) {
        w.name = w.originalName;
        return "Incorrect name";
      } else {
        data = {
          name: w.name
        };
        return ImpacWidgetsSvc.update(w, data).then(function(success) {
          return true;
        }, function(error) {
          return w.name = w.originalName;
        });
      }
    };
  }]);

  module.directive('commonEditableTitle', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '='
      },
      template: $templateCache.get('widgets-common/editable-title.tmpl.html'),
      controller: 'CommonEditableTitleCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1jb21tb24vZWRpdGFibGUtdGl0bGUvZWRpdGFibGUtdGl0bGUuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsZ0RBQWYsRUFBZ0UsRUFBaEU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IseUJBQWxCLEVBQTZDLFNBQUMsTUFBRCxFQUFTLGVBQVQ7QUFFekMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7V0FFWCxNQUFNLENBQUMsVUFBUCxHQUFvQixTQUFBO0FBQ2xCLFVBQUE7TUFBQSxJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBUCxLQUFpQixDQUFwQjtRQUNFLENBQUMsQ0FBQyxJQUFGLEdBQVMsQ0FBQyxDQUFDO0FBQ1gsZUFBTyxpQkFGVDtPQUFBLE1BQUE7UUFJRSxJQUFBLEdBQU87VUFBRSxJQUFBLEVBQU0sQ0FBQyxDQUFDLElBQVY7O2VBQ1AsZUFBZSxDQUFDLE1BQWhCLENBQXVCLENBQXZCLEVBQXlCLElBQXpCLENBQThCLENBQUMsSUFBL0IsQ0FDRSxTQUFDLE9BQUQ7QUFDRSxpQkFBTztRQURULENBREYsRUFHRSxTQUFDLEtBQUQ7aUJBQ0UsQ0FBQyxDQUFDLElBQUYsR0FBUyxDQUFDLENBQUM7UUFEYixDQUhGLEVBTEY7O0lBRGtCO0VBSnFCLENBQTdDOztFQWtCQSxNQUFNLENBQUMsU0FBUCxDQUFpQixxQkFBakIsRUFBd0MsU0FBQyxjQUFEO0FBQ3RDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLFlBQUEsRUFBYyxHQURUO09BRkY7TUFLTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIseUNBQW5CLENBTEw7TUFNTCxVQUFBLEVBQVkseUJBTlA7O0VBRCtCLENBQXhDO0FBcEJBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1jb21tb24vZWRpdGFibGUtdGl0bGUvZWRpdGFibGUtdGl0bGUuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1jb21tb24uZWRpdGFibGUtdGl0bGUnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignQ29tbW9uRWRpdGFibGVUaXRsZUN0cmwnLCAoJHNjb3BlLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldFxuXG4gICAgJHNjb3BlLnVwZGF0ZU5hbWUgPSAtPlxuICAgICAgaWYgdy5uYW1lLmxlbmd0aCA9PSAwXG4gICAgICAgIHcubmFtZSA9IHcub3JpZ2luYWxOYW1lXG4gICAgICAgIHJldHVybiBcIkluY29ycmVjdCBuYW1lXCJcbiAgICAgIGVsc2VcbiAgICAgICAgZGF0YSA9IHsgbmFtZTogdy5uYW1lIH1cbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZSh3LGRhdGEpLnRoZW4oXG4gICAgICAgICAgKHN1Y2Nlc3MpLT5cbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgKGVycm9yKSAtPlxuICAgICAgICAgICAgdy5uYW1lID0gdy5vcmlnaW5hbE5hbWVcbiAgICAgICAgKVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdjb21tb25FZGl0YWJsZVRpdGxlJywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd3aWRnZXRzLWNvbW1vbi9lZGl0YWJsZS10aXRsZS50bXBsLmh0bWwnKSxcbiAgICBjb250cm9sbGVyOiAnQ29tbW9uRWRpdGFibGVUaXRsZUN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets-common.top-buttons', []);

  module.controller('CommonTopButtonsCtrl', ["$scope", "$rootScope", "$log", "ImpacWidgetsSvc", "ImpacAssets", "ImpacUtilities", function($scope, $rootScope, $log, ImpacWidgetsSvc, ImpacAssets, ImpacUtilities) {
    var w;
    w = $scope.parentWidget;
    $scope.showConfirmDelete = false;
    $scope.isDeletePopoverLoading = false;
    w.isEditMode = false;
    $scope.deleteWidget = function() {
      $scope.isDeletePopoverLoading = true;
      return ImpacWidgetsSvc["delete"](w).then(function(success) {
        return true;
      }, function(errors) {
        return w.errors = ImpacUtilities.processRailsError(errors);
      })["finally"](function() {
        return $scope.isDeletePopoverLoading = false;
      });
    };
    return $scope.toggleEditMode = function() {
      if (!w.isLoading) {
        if (w.isEditMode) {
          w.isEditMode = false;
          return ImpacWidgetsSvc.initWidgetSettings(w);
        } else {
          return w.isEditMode = true;
        }
      }
    };
  }]);

  module.directive('commonTopButtons', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        onRefresh: '='
      },
      template: $templateCache.get('widgets-common/top-buttons.tmpl.html'),
      controller: 'CommonTopButtonsCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1jb21tb24vdG9wLWJ1dHRvbnMvdG9wLWJ1dHRvbnMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsNkNBQWYsRUFBOEQsRUFBOUQ7O0VBQ1QsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isc0JBQWxCLEVBQTBDLFNBQUMsTUFBRCxFQUFTLFVBQVQsRUFBcUIsSUFBckIsRUFBMkIsZUFBM0IsRUFBNEMsV0FBNUMsRUFBeUQsY0FBekQ7QUFFeEMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFFWCxNQUFNLENBQUMsaUJBQVAsR0FBMkI7SUFDM0IsTUFBTSxDQUFDLHNCQUFQLEdBQWdDO0lBRWhDLENBQUMsQ0FBQyxVQUFGLEdBQWU7SUFFZixNQUFNLENBQUMsWUFBUCxHQUFzQixTQUFBO01BQ3BCLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQzthQUNoQyxlQUFlLENBQUMsUUFBRCxDQUFmLENBQXVCLENBQXZCLENBQXlCLENBQUMsSUFBMUIsQ0FDRSxTQUFDLE9BQUQ7QUFDRSxlQUFPO01BRFQsQ0FERixFQUdFLFNBQUMsTUFBRDtlQUNFLENBQUMsQ0FBQyxNQUFGLEdBQVcsY0FBYyxDQUFDLGlCQUFmLENBQWlDLE1BQWpDO01BRGIsQ0FIRixDQUtDLENBQUMsU0FBRCxDQUxELENBTUUsU0FBQTtlQUNFLE1BQU0sQ0FBQyxzQkFBUCxHQUFnQztNQURsQyxDQU5GO0lBRm9CO1dBWXRCLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLFNBQUE7TUFDdEIsSUFBRyxDQUFDLENBQUMsQ0FBQyxTQUFOO1FBQ0UsSUFBRyxDQUFDLENBQUMsVUFBTDtVQUVFLENBQUMsQ0FBQyxVQUFGLEdBQWU7aUJBQ2YsZUFBZSxDQUFDLGtCQUFoQixDQUFtQyxDQUFuQyxFQUhGO1NBQUEsTUFBQTtpQkFNRSxDQUFDLENBQUMsVUFBRixHQUFlLEtBTmpCO1NBREY7O0lBRHNCO0VBckJnQixDQUExQzs7RUFnQ0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsa0JBQWpCLEVBQXFDLFNBQUMsY0FBRDtBQUNuQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFNBQUEsRUFBVyxHQUZOO09BRkY7TUFNTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsc0NBQW5CLENBTkw7TUFPTCxVQUFBLEVBQVksc0JBUFA7O0VBRDRCLENBQXJDO0FBakNBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1jb21tb24vdG9wLWJ1dHRvbnMvdG9wLWJ1dHRvbnMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1jb21tb24udG9wLWJ1dHRvbnMnLCBbXSlcbm1vZHVsZS5jb250cm9sbGVyKCdDb21tb25Ub3BCdXR0b25zQ3RybCcsICgkc2NvcGUsICRyb290U2NvcGUsICRsb2csIEltcGFjV2lkZ2V0c1N2YywgSW1wYWNBc3NldHMsIEltcGFjVXRpbGl0aWVzKSAtPlxuXG4gIHcgPSAkc2NvcGUucGFyZW50V2lkZ2V0XG5cbiAgJHNjb3BlLnNob3dDb25maXJtRGVsZXRlID0gZmFsc2VcbiAgJHNjb3BlLmlzRGVsZXRlUG9wb3ZlckxvYWRpbmcgPSBmYWxzZVxuXG4gIHcuaXNFZGl0TW9kZSA9IGZhbHNlXG5cbiAgJHNjb3BlLmRlbGV0ZVdpZGdldCA9IC0+XG4gICAgJHNjb3BlLmlzRGVsZXRlUG9wb3ZlckxvYWRpbmcgPSB0cnVlXG4gICAgSW1wYWNXaWRnZXRzU3ZjLmRlbGV0ZSh3KS50aGVuKFxuICAgICAgKHN1Y2Nlc3MpIC0+XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICAoZXJyb3JzKSAtPlxuICAgICAgICB3LmVycm9ycyA9IEltcGFjVXRpbGl0aWVzLnByb2Nlc3NSYWlsc0Vycm9yKGVycm9ycylcbiAgICApLmZpbmFsbHkoXG4gICAgICAtPlxuICAgICAgICAkc2NvcGUuaXNEZWxldGVQb3BvdmVyTG9hZGluZyA9IGZhbHNlXG4gICAgKVxuXG4gICRzY29wZS50b2dnbGVFZGl0TW9kZSA9IC0+XG4gICAgaWYgIXcuaXNMb2FkaW5nXG4gICAgICBpZiB3LmlzRWRpdE1vZGVcbiAgICAgICAgIyA9IHByZXNzICdDYW5jZWwnIGJ1dHRvblxuICAgICAgICB3LmlzRWRpdE1vZGUgPSBmYWxzZVxuICAgICAgICBJbXBhY1dpZGdldHNTdmMuaW5pdFdpZGdldFNldHRpbmdzKHcpXG4gICAgICBlbHNlXG4gICAgICAgICMgT3RoZXJ3aXNlLCB3ZSBwYXNzIGluIGVkaXQgbW9kZVxuICAgICAgICB3LmlzRWRpdE1vZGUgPSB0cnVlXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ2NvbW1vblRvcEJ1dHRvbnMnLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPSdcbiAgICAgIG9uUmVmcmVzaDogJz0nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd3aWRnZXRzLWNvbW1vbi90b3AtYnV0dG9ucy50bXBsLmh0bWwnKSxcbiAgICBjb250cm9sbGVyOiAnQ29tbW9uVG9wQnV0dG9uc0N0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.account', []);

  module.controller('SettingAccountCtrl', ["$scope", "$filter", function($scope, $filter) {
    var formatAmount, setting, w;
    w = $scope.parentWidget;
    setting = {};
    setting.key = "account";
    setting.isInitialized = false;
    setting.initialize = function() {
      w.selectedAccount = w.selectedAccount || null;
      if ((w.content != null) && (w.content.account_list != null) && (w.metadata != null) && (w.metadata.account_uid != null)) {
        w.selectedAccount = _.find(w.content.account_list, function(acc) {
          return acc.uid === w.metadata.account_uid;
        });
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      if (w.selectedAccount != null) {
        return {
          account_uid: w.selectedAccount.uid
        };
      }
    };
    formatAmount = function(anAccount) {
      var balance;
      balance = anAccount.current_balance || anAccount.balance;
      return $filter('mnoCurrency')(balance, anAccount.currency);
    };
    $scope.formatLabel = function(anAccount) {
      if (anAccount.company != null) {
        return anAccount.company + " - " + anAccount.name + " (" + (formatAmount(anAccount)) + ")";
      } else {
        return anAccount.name + " (" + (formatAmount(anAccount)) + ")";
      }
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingAccount', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        label: '@',
        showLabel: '=?',
        onAccountSelected: '&'
      },
      link: function(scope, element) {
        if (!scope.label) {
          return scope.label = "Account to monitor";
        }
      },
      template: $templateCache.get('widgets-settings/account.tmpl.html'),
      controller: 'SettingAccountCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9hY2NvdW50L2FjY291bnQuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isb0JBQWxCLEVBQXdDLFNBQUMsTUFBRCxFQUFTLE9BQVQ7QUFFdEMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFHWCxPQUFBLEdBQVU7SUFDVixPQUFPLENBQUMsR0FBUixHQUFjO0lBQ2QsT0FBTyxDQUFDLGFBQVIsR0FBd0I7SUFHeEIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtNQUNuQixDQUFDLENBQUMsZUFBRixHQUFvQixDQUFDLENBQUMsZUFBRixJQUFxQjtNQUN6QyxJQUFHLG1CQUFBLElBQWMsZ0NBQWQsSUFBeUMsb0JBQXpDLElBQXdELGdDQUEzRDtRQUNFLENBQUMsQ0FBQyxlQUFGLEdBQW9CLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFqQixFQUErQixTQUFDLEdBQUQ7aUJBQ2pELEdBQUcsQ0FBQyxHQUFKLEtBQVcsQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUQyQixDQUEvQjtlQUdwQixPQUFPLENBQUMsYUFBUixHQUF3QixLQUoxQjs7SUFGbUI7SUFRckIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtNQUNuQixJQUFpRCx5QkFBakQ7QUFBQSxlQUFPO1VBQUUsV0FBQSxFQUFhLENBQUMsQ0FBQyxlQUFlLENBQUMsR0FBakM7VUFBUDs7SUFEbUI7SUFHckIsWUFBQSxHQUFlLFNBQUMsU0FBRDtBQUNiLFVBQUE7TUFBQSxPQUFBLEdBQVUsU0FBUyxDQUFDLGVBQVYsSUFBNkIsU0FBUyxDQUFDO0FBQ2pELGFBQU8sT0FBQSxDQUFRLGFBQVIsQ0FBQSxDQUF1QixPQUF2QixFQUErQixTQUFTLENBQUMsUUFBekM7SUFGTTtJQUlmLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUMsU0FBRDtNQUNuQixJQUFHLHlCQUFIO2VBQ0ssU0FBUyxDQUFDLE9BQVgsR0FBbUIsS0FBbkIsR0FBd0IsU0FBUyxDQUFDLElBQWxDLEdBQXVDLElBQXZDLEdBQTBDLENBQUMsWUFBQSxDQUFhLFNBQWIsQ0FBRCxDQUExQyxHQUFtRSxJQUR2RTtPQUFBLE1BQUE7ZUFHSyxTQUFTLENBQUMsSUFBWCxHQUFnQixJQUFoQixHQUFtQixDQUFDLFlBQUEsQ0FBYSxTQUFiLENBQUQsQ0FBbkIsR0FBNEMsSUFIaEQ7O0lBRG1CO0lBTXJCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixPQUFoQjtXQUlBLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBaEIsQ0FBd0IsTUFBTSxDQUFDLFlBQS9CO0VBbkNzQyxDQUF4Qzs7RUFzQ0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsZ0JBQWpCLEVBQW1DLFNBQUMsY0FBRDtBQUNqQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFFBQUEsRUFBVSxHQUZMO1FBR0wsS0FBQSxFQUFPLEdBSEY7UUFJTCxTQUFBLEVBQVcsSUFKTjtRQUtMLGlCQUFBLEVBQW1CLEdBTGQ7T0FGRjtNQVVMLElBQUEsRUFBTSxTQUFDLEtBQUQsRUFBUSxPQUFSO1FBQ0osSUFBc0MsQ0FBQyxLQUFLLENBQUMsS0FBN0M7aUJBQUEsS0FBSyxDQUFDLEtBQU4sR0FBYyxxQkFBZDs7TUFESSxDQVZEO01BYUosUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLG9DQUFuQixDQWJOO01BY0wsVUFBQSxFQUFZLG9CQWRQOztFQUQwQixDQUFuQztBQXhDQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMtc2V0dGluZ3MvYWNjb3VudC9hY2NvdW50LmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3MuYWNjb3VudCcsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdTZXR0aW5nQWNjb3VudEN0cmwnLCAoJHNjb3BlLCAkZmlsdGVyKSAtPlxuXG4gIHcgPSAkc2NvcGUucGFyZW50V2lkZ2V0XG5cbiAgIyBXaGF0IHdpbGwgYmUgcGFzc2VkIHRvIHBhcmVudFdpZGdldFxuICBzZXR0aW5nID0ge31cbiAgc2V0dGluZy5rZXkgPSBcImFjY291bnRcIlxuICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gICMgaW5pdGlhbGl6YXRpb24gb2YgdGltZSByYW5nZSBwYXJhbWV0ZXJzIGZyb20gd2lkZ2V0LmNvbnRlbnQuaGlzdF9wYXJhbWV0ZXJzXG4gIHNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgdy5zZWxlY3RlZEFjY291bnQgPSB3LnNlbGVjdGVkQWNjb3VudCB8fCBudWxsXG4gICAgaWYgdy5jb250ZW50PyAmJiB3LmNvbnRlbnQuYWNjb3VudF9saXN0PyAmJiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLmFjY291bnRfdWlkP1xuICAgICAgdy5zZWxlY3RlZEFjY291bnQgPSBfLmZpbmQody5jb250ZW50LmFjY291bnRfbGlzdCwgKGFjYykgLT5cbiAgICAgICAgYWNjLnVpZCA9PSB3Lm1ldGFkYXRhLmFjY291bnRfdWlkXG4gICAgICApXG4gICAgICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgc2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICByZXR1cm4geyBhY2NvdW50X3VpZDogdy5zZWxlY3RlZEFjY291bnQudWlkIH0gaWYgdy5zZWxlY3RlZEFjY291bnQ/XG5cbiAgZm9ybWF0QW1vdW50ID0gKGFuQWNjb3VudCkgLT5cbiAgICBiYWxhbmNlID0gYW5BY2NvdW50LmN1cnJlbnRfYmFsYW5jZSB8fCBhbkFjY291bnQuYmFsYW5jZVxuICAgIHJldHVybiAkZmlsdGVyKCdtbm9DdXJyZW5jeScpKGJhbGFuY2UsYW5BY2NvdW50LmN1cnJlbmN5KVxuXG4gICRzY29wZS5mb3JtYXRMYWJlbCA9IChhbkFjY291bnQpIC0+XG4gICAgaWYgYW5BY2NvdW50LmNvbXBhbnk/XG4gICAgICBcIiN7YW5BY2NvdW50LmNvbXBhbnl9IC0gI3thbkFjY291bnQubmFtZX0gKCN7Zm9ybWF0QW1vdW50KGFuQWNjb3VudCl9KVwiXG4gICAgZWxzZVxuICAgICAgXCIje2FuQWNjb3VudC5uYW1lfSAoI3tmb3JtYXRBbW91bnQoYW5BY2NvdW50KX0pXCJcblxuICB3LnNldHRpbmdzLnB1c2goc2V0dGluZylcblxuICAjIFNldHRpbmcgaXMgcmVhZHk6IHRyaWdnZXIgbG9hZCBjb250ZW50XG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kZWZlcnJlZC5yZXNvbHZlKCRzY29wZS5wYXJlbnRXaWRnZXQpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3NldHRpbmdBY2NvdW50JywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgICBsYWJlbDogJ0AnXG4gICAgICBzaG93TGFiZWw6ICc9PydcbiAgICAgIG9uQWNjb3VudFNlbGVjdGVkOiAnJidcbiAgICB9LFxuXG4gICAgbGluazogKHNjb3BlLCBlbGVtZW50KSAtPlxuICAgICAgc2NvcGUubGFiZWwgPSBcIkFjY291bnQgdG8gbW9uaXRvclwiIGlmICFzY29wZS5sYWJlbFxuXG4gICAgLHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3MvYWNjb3VudC50bXBsLmh0bWwnKSxcbiAgICBjb250cm9sbGVyOiAnU2V0dGluZ0FjY291bnRDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.accounts-list', []);

  module.controller('SettingAccountsListCtrl', ["$scope", "ImpacWidgetsSvc", function($scope, ImpacWidgetsSvc) {
    var setting, w;
    w = $scope.parentWidget;
    w.moveAccountToAnotherList = function(account, src, dst, triggerUpdate) {
      if (triggerUpdate == null) {
        triggerUpdate = true;
      }
      if (_.isEmpty(src) || _.isEmpty(account)) {
        return;
      }
      dst || (dst = []);
      _.remove(src, function(acc) {
        return account.uid === acc.uid;
      });
      dst.push(account);
      if (triggerUpdate) {
        ImpacWidgetsSvc.updateWidgetSettings(w, false);
      }
      return null;
    };
    setting = {};
    setting.key = "accounts-list";
    setting.initialize = function() {
      var stashedAccounts;
      setting.isInitialized = false;
      w.remainingAccounts = [];
      w.selectedAccounts = [];
      if ((w.content != null) && !_.isEmpty(w.content.complete_list)) {
        w.remainingAccounts = angular.copy(w.content.complete_list);
        if (!_.isEmpty(w.metadata.accounts_list)) {
          angular.forEach(w.metadata.accounts_list, function(accUid) {
            var acc;
            acc = _.find(w.content.complete_list, function(acc) {
              return acc.uid === accUid;
            });
            return w.moveAccountToAnotherList(acc, w.remainingAccounts, w.selectedAccounts, false);
          });
        }
        stashedAccounts = angular.copy(w.remainingAccounts);
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      if (setting.isInitialized) {
        return {
          accounts_list: _.map(w.selectedAccounts, (function(acc) {
            return acc.uid;
          }))
        };
      }
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingAccountsList', function() {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '='
      },
      controller: 'SettingAccountsListCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9hY2NvdW50cy1saXN0L2FjY291bnRzLWxpc3QuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBa0UsRUFBbEU7O0VBSVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IseUJBQWxCLEVBQTZDLFNBQUMsTUFBRCxFQUFTLGVBQVQ7QUFNM0MsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFHWCxDQUFDLENBQUMsd0JBQUYsR0FBNkIsU0FBQyxPQUFELEVBQVUsR0FBVixFQUFlLEdBQWYsRUFBb0IsYUFBcEI7O1FBQW9CLGdCQUFjOztNQUM3RCxJQUFVLENBQUMsQ0FBQyxPQUFGLENBQVUsR0FBVixDQUFBLElBQWtCLENBQUMsQ0FBQyxPQUFGLENBQVUsT0FBVixDQUE1QjtBQUFBLGVBQUE7O01BQ0EsUUFBQSxNQUFRO01BQ1IsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxHQUFULEVBQWMsU0FBQyxHQUFEO2VBQVMsT0FBTyxDQUFDLEdBQVIsS0FBZSxHQUFHLENBQUM7TUFBNUIsQ0FBZDtNQUNBLEdBQUcsQ0FBQyxJQUFKLENBQVMsT0FBVDtNQUNBLElBQWtELGFBQWxEO1FBQUEsZUFBZSxDQUFDLG9CQUFoQixDQUFxQyxDQUFyQyxFQUF3QyxLQUF4QyxFQUFBOztBQUNBLGFBQU87SUFOb0I7SUFZN0IsT0FBQSxHQUFVO0lBQ1YsT0FBTyxDQUFDLEdBQVIsR0FBYztJQUVkLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7QUFDbkIsVUFBQTtNQUFBLE9BQU8sQ0FBQyxhQUFSLEdBQXdCO01BQ3hCLENBQUMsQ0FBQyxpQkFBRixHQUFzQjtNQUN0QixDQUFDLENBQUMsZ0JBQUYsR0FBcUI7TUFFckIsSUFBRyxtQkFBQSxJQUFjLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQXBCLENBQWxCO1FBQ0UsQ0FBQyxDQUFDLGlCQUFGLEdBQXNCLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUF2QjtRQUd0QixJQUFHLENBQUMsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQXJCLENBQUo7VUFDRSxPQUFPLENBQUMsT0FBUixDQUFnQixDQUFDLENBQUMsUUFBUSxDQUFDLGFBQTNCLEVBQTBDLFNBQUMsTUFBRDtBQUN4QyxnQkFBQTtZQUFBLEdBQUEsR0FBTSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBakIsRUFBZ0MsU0FBQyxHQUFEO3FCQUNwQyxHQUFHLENBQUMsR0FBSixLQUFXO1lBRHlCLENBQWhDO21CQUdOLENBQUMsQ0FBQyx3QkFBRixDQUEyQixHQUEzQixFQUErQixDQUFDLENBQUMsaUJBQWpDLEVBQW1ELENBQUMsQ0FBQyxnQkFBckQsRUFBc0UsS0FBdEU7VUFKd0MsQ0FBMUMsRUFERjs7UUFPQSxlQUFBLEdBQWtCLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFDLGlCQUFmO2VBQ2xCLE9BQU8sQ0FBQyxhQUFSLEdBQXdCLEtBWjFCOztJQUxtQjtJQW1CckIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtNQUNuQixJQUEyRSxPQUFPLENBQUMsYUFBbkY7QUFBQSxlQUFPO1VBQUUsYUFBQSxFQUFlLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxDQUFDLGdCQUFSLEVBQTBCLENBQUMsU0FBQyxHQUFEO21CQUFTLEdBQUcsQ0FBQztVQUFiLENBQUQsQ0FBMUIsQ0FBakI7VUFBUDs7SUFEbUI7SUFHckIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUFsRDJDLENBQTdDOztFQXFEQSxNQUFNLENBQUMsU0FBUCxDQUFpQixxQkFBakIsRUFBd0MsU0FBQTtBQUN0QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFFBQUEsRUFBVSxHQUZMO09BRkY7TUFNTCxVQUFBLEVBQVkseUJBTlA7O0VBRCtCLENBQXhDO0FBekRBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9hY2NvdW50cy1saXN0L2FjY291bnRzLWxpc3QuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1zZXR0aW5ncy5hY2NvdW50cy1saXN0JywgW10pXG5cbiMgVGhlcmUgaXMgbm8gdGVtcGxhdGUgYXNzb2NpYXRlZCB0byB0aGlzIHNldHRpbmcsIGFuZCB0aG91Z2ggaXQgd29uJ3QgYXBwZWFyIGluIHRoZSAnc2V0dGluZ3MnIHBhbmVsXG4jIEhvd2V2ZXIsIGFzIGl0cyBtZXRhZGF0YSBoYXMgdG8gYmUgaW5pdGlhbGl6ZWQgZnJvbSwgYW5kIHNhdmVkIHRvIEltcGFjISwgd2UgYnVpbGQgTGlzdEFjY291bnRzIGFzIGEgc2V0dGluZ1xubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdBY2NvdW50c0xpc3RDdHJsJywgKCRzY29wZSwgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICMgIyMjIFBvcHVsYXRlIHRoZSB3aWRnZXRcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldFxuXG4gICMgVXNlZCBieSB0aGUgJ2RlbGV0ZScgYnV0dG9uIGluIHRoZSBhY2NvdW50cyBsaXN0IGFuZCBieSB0aGUgY29tYm9Cb3hcbiAgdy5tb3ZlQWNjb3VudFRvQW5vdGhlckxpc3QgPSAoYWNjb3VudCwgc3JjLCBkc3QsIHRyaWdnZXJVcGRhdGU9dHJ1ZSkgLT5cbiAgICByZXR1cm4gaWYgXy5pc0VtcHR5KHNyYykgfHwgXy5pc0VtcHR5KGFjY291bnQpXG4gICAgZHN0IHx8PSBbXVxuICAgIF8ucmVtb3ZlIHNyYywgKGFjYykgLT4gYWNjb3VudC51aWQgPT0gYWNjLnVpZFxuICAgIGRzdC5wdXNoKGFjY291bnQpXG4gICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsIGZhbHNlKSBpZiB0cmlnZ2VyVXBkYXRlXG4gICAgcmV0dXJuIG51bGxcblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAjICMjIyBTZXR0aW5nIGRlZmluaXRpb25cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzZXR0aW5nID0ge31cbiAgc2V0dGluZy5rZXkgPSBcImFjY291bnRzLWxpc3RcIlxuXG4gIHNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgICB3LnJlbWFpbmluZ0FjY291bnRzID0gW11cbiAgICB3LnNlbGVjdGVkQWNjb3VudHMgPSBbXVxuXG4gICAgaWYgdy5jb250ZW50PyAmJiAhXy5pc0VtcHR5KHcuY29udGVudC5jb21wbGV0ZV9saXN0KVxuICAgICAgdy5yZW1haW5pbmdBY2NvdW50cyA9IGFuZ3VsYXIuY29weSh3LmNvbnRlbnQuY29tcGxldGVfbGlzdClcbiAgICAgICMgSW1wYWMhIHJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIHRoZSBhY2NvdW50cywgYW5kIHdlIHdhbnQgdGhhdDpcbiAgICAgICMgY29tcGxldGVMaXN0ICsgc2F2ZWRMaXN0ID0gbGlzdCBvZiBhbGwgYWNjb3VudHNcbiAgICAgIGlmICFfLmlzRW1wdHkody5tZXRhZGF0YS5hY2NvdW50c19saXN0KVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gody5tZXRhZGF0YS5hY2NvdW50c19saXN0LCAoYWNjVWlkKSAtPlxuICAgICAgICAgIGFjYyA9IF8uZmluZCh3LmNvbnRlbnQuY29tcGxldGVfbGlzdCwgKGFjYykgLT5cbiAgICAgICAgICAgIGFjYy51aWQgPT0gYWNjVWlkXG4gICAgICAgICAgKVxuICAgICAgICAgIHcubW92ZUFjY291bnRUb0Fub3RoZXJMaXN0KGFjYyx3LnJlbWFpbmluZ0FjY291bnRzLHcuc2VsZWN0ZWRBY2NvdW50cyxmYWxzZSlcbiAgICAgICAgKVxuICAgICAgc3Rhc2hlZEFjY291bnRzID0gYW5ndWxhci5jb3B5KHcucmVtYWluaW5nQWNjb3VudHMpXG4gICAgICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgc2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICByZXR1cm4geyBhY2NvdW50c19saXN0OiBfLm1hcCh3LnNlbGVjdGVkQWNjb3VudHMsICgoYWNjKSAtPiBhY2MudWlkKSkgfSBpZiBzZXR0aW5nLmlzSW5pdGlhbGl6ZWRcblxuICB3LnNldHRpbmdzLnB1c2goc2V0dGluZylcblxuICAjIFNldHRpbmcgaXMgcmVhZHk6IHRyaWdnZXIgbG9hZCBjb250ZW50XG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kZWZlcnJlZC5yZXNvbHZlKCRzY29wZS5wYXJlbnRXaWRnZXQpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3NldHRpbmdBY2NvdW50c0xpc3QnLCAoKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnU2V0dGluZ0FjY291bnRzTGlzdEN0cmwnXG4gIH1cbilcbiJdfQ==

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.chart-filters', []);

  module.controller('SettingChartFiltersCtrl', ["$scope", function($scope) {
    var setting, w;
    w = $scope.parentWidget;
    setting = {};
    setting.key = "chart-filters";
    setting.isInitialized = false;
    setting.initialize = function() {
      if ((w.content != null) && (w.content.chart_filter != null) && ($scope.filterCriteria = w.content.chart_filter.criteria)) {
        $scope.maxEntities = w.content.chart_filter.max;
        $scope.entityType = w.content.chart_filter.entity_type;
        $scope.filterLabel = w.content.chart_filter.filter_label.replace(/_/g, " ");
        if ($scope.filterCriteria === "number") {
          $scope.filterValuePercentage = 80;
          $scope.filterValueNumber = w.content.chart_filter.value;
        } else {
          $scope.filterValuePercentage = w.content.chart_filter.value;
          $scope.filterValueNumber = Math.round($scope.maxEntities / 2);
        }
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      var filterValue;
      if ((w.content != null) && (w.content.chart_filter != null)) {
        if ($scope.filterCriteria === "percentage") {
          filterValue = $scope.filterValuePercentage;
        } else {
          filterValue = $scope.filterValueNumber;
        }
        return {
          chart_filter: {
            criteria: $scope.filterCriteria,
            value: filterValue
          }
        };
      } else {
        return {};
      }
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingChartFilters', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '='
      },
      template: $templateCache.get('widgets-settings/chart-filters.tmpl.html'),
      controller: 'SettingChartFiltersCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9jaGFydC1maWx0ZXJzL2NoYXJ0LWZpbHRlcnMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IseUJBQWxCLEVBQTZDLFNBQUMsTUFBRDtBQUUzQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUVYLE9BQUEsR0FBVTtJQUNWLE9BQU8sQ0FBQyxHQUFSLEdBQWM7SUFDZCxPQUFPLENBQUMsYUFBUixHQUF3QjtJQUV4QixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO01BQ25CLElBQUcsbUJBQUEsSUFBYyxnQ0FBZCxJQUF5QyxDQUFBLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQS9DLENBQTVDO1FBQ0UsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7UUFDNUMsTUFBTSxDQUFDLFVBQVAsR0FBb0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7UUFDM0MsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQXBDLENBQTRDLElBQTVDLEVBQWlELEdBQWpEO1FBRXJCLElBQUcsTUFBTSxDQUFDLGNBQVAsS0FBeUIsUUFBNUI7VUFDRSxNQUFNLENBQUMscUJBQVAsR0FBK0I7VUFDL0IsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLE1BRnBEO1NBQUEsTUFBQTtVQUlFLE1BQU0sQ0FBQyxxQkFBUCxHQUErQixDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztVQUN0RCxNQUFNLENBQUMsaUJBQVAsR0FBMkIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxNQUFNLENBQUMsV0FBUCxHQUFtQixDQUE5QixFQUw3Qjs7ZUFNQSxPQUFPLENBQUMsYUFBUixHQUF3QixLQVgxQjs7SUFEbUI7SUFjckIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtBQUNuQixVQUFBO01BQUEsSUFBRyxtQkFBQSxJQUFjLGdDQUFqQjtRQUNFLElBQUcsTUFBTSxDQUFDLGNBQVAsS0FBeUIsWUFBNUI7VUFDRSxXQUFBLEdBQWMsTUFBTSxDQUFDLHNCQUR2QjtTQUFBLE1BQUE7VUFHRSxXQUFBLEdBQWMsTUFBTSxDQUFDLGtCQUh2Qjs7QUFJQSxlQUFPO1VBQUUsWUFBQSxFQUFjO1lBQUMsUUFBQSxFQUFVLE1BQU0sQ0FBQyxjQUFsQjtZQUFrQyxLQUFBLEVBQU8sV0FBekM7V0FBaEI7VUFMVDtPQUFBLE1BQUE7QUFPRSxlQUFPLEdBUFQ7O0lBRG1CO0lBVXJCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixPQUFoQjtXQUlBLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBaEIsQ0FBd0IsTUFBTSxDQUFDLFlBQS9CO0VBcEMyQyxDQUE3Qzs7RUF1Q0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIscUJBQWpCLEVBQXdDLFNBQUMsY0FBRDtBQUN0QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFFBQUEsRUFBVSxHQUZMO09BRkY7TUFNTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsMENBQW5CLENBTkw7TUFPTCxVQUFBLEVBQVkseUJBUFA7O0VBRCtCLENBQXhDO0FBekNBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9jaGFydC1maWx0ZXJzL2NoYXJ0LWZpbHRlcnMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1zZXR0aW5ncy5jaGFydC1maWx0ZXJzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdDaGFydEZpbHRlcnNDdHJsJywgKCRzY29wZSkgLT5cblxuICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldFxuXG4gIHNldHRpbmcgPSB7fVxuICBzZXR0aW5nLmtleSA9IFwiY2hhcnQtZmlsdGVyc1wiXG4gIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICBpZiB3LmNvbnRlbnQ/ICYmIHcuY29udGVudC5jaGFydF9maWx0ZXI/ICYmICRzY29wZS5maWx0ZXJDcml0ZXJpYSA9IHcuY29udGVudC5jaGFydF9maWx0ZXIuY3JpdGVyaWFcbiAgICAgICRzY29wZS5tYXhFbnRpdGllcyA9IHcuY29udGVudC5jaGFydF9maWx0ZXIubWF4XG4gICAgICAkc2NvcGUuZW50aXR5VHlwZSA9IHcuY29udGVudC5jaGFydF9maWx0ZXIuZW50aXR5X3R5cGVcbiAgICAgICRzY29wZS5maWx0ZXJMYWJlbCA9IHcuY29udGVudC5jaGFydF9maWx0ZXIuZmlsdGVyX2xhYmVsLnJlcGxhY2UoL18vZyxcIiBcIilcblxuICAgICAgaWYgJHNjb3BlLmZpbHRlckNyaXRlcmlhID09IFwibnVtYmVyXCJcbiAgICAgICAgJHNjb3BlLmZpbHRlclZhbHVlUGVyY2VudGFnZSA9IDgwXG4gICAgICAgICRzY29wZS5maWx0ZXJWYWx1ZU51bWJlciA9IHcuY29udGVudC5jaGFydF9maWx0ZXIudmFsdWVcbiAgICAgIGVsc2VcbiAgICAgICAgJHNjb3BlLmZpbHRlclZhbHVlUGVyY2VudGFnZSA9IHcuY29udGVudC5jaGFydF9maWx0ZXIudmFsdWVcbiAgICAgICAgJHNjb3BlLmZpbHRlclZhbHVlTnVtYmVyID0gTWF0aC5yb3VuZCgkc2NvcGUubWF4RW50aXRpZXMvMilcbiAgICAgIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IHRydWVcblxuICBzZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIGlmIHcuY29udGVudD8gJiYgdy5jb250ZW50LmNoYXJ0X2ZpbHRlcj9cbiAgICAgIGlmICRzY29wZS5maWx0ZXJDcml0ZXJpYSA9PSBcInBlcmNlbnRhZ2VcIlxuICAgICAgICBmaWx0ZXJWYWx1ZSA9ICRzY29wZS5maWx0ZXJWYWx1ZVBlcmNlbnRhZ2VcbiAgICAgIGVsc2VcbiAgICAgICAgZmlsdGVyVmFsdWUgPSAkc2NvcGUuZmlsdGVyVmFsdWVOdW1iZXJcbiAgICAgIHJldHVybiB7IGNoYXJ0X2ZpbHRlcjoge2NyaXRlcmlhOiAkc2NvcGUuZmlsdGVyQ3JpdGVyaWEsIHZhbHVlOiBmaWx0ZXJWYWx1ZX0gfVxuICAgIGVsc2VcbiAgICAgIHJldHVybiB7fVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZXR0aW5nKVxuXG4gICMgU2V0dGluZyBpcyByZWFkeTogdHJpZ2dlciBsb2FkIGNvbnRlbnRcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRlZmVycmVkLnJlc29sdmUoJHNjb3BlLnBhcmVudFdpZGdldClcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnc2V0dGluZ0NoYXJ0RmlsdGVycycsICgkdGVtcGxhdGVDYWNoZSkgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBwYXJlbnRXaWRnZXQ6ICc9J1xuICAgICAgZGVmZXJyZWQ6ICc9J1xuICAgIH0sXG4gICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy1zZXR0aW5ncy9jaGFydC1maWx0ZXJzLnRtcGwuaHRtbCcpLFxuICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nQ2hhcnRGaWx0ZXJzQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.dates-picker', []);

  module.directive('settingDatesPicker', ["$templateCache", "$filter", "ImpacWidgetsSvc", "$timeout", function($templateCache, $filter, ImpacWidgetsSvc, $timeout) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        fromDate: '=from',
        toDate: '=to',
        keepToday: '='
      },
      template: $templateCache.get('widgets-settings/dates-picker.tmpl.html'),
      link: function(scope) {
        var isToToday, setting, w;
        w = scope.parentWidget;
        setting = {};
        setting.key = "dates-picker";
        scope.calendarFrom = {
          opened: false,
          value: new Date(new Date().getFullYear(), 0, 1),
          toggle: function() {
            scope.calendarFrom.opened = !scope.calendarFrom.opened;
            return scope.calendarTo.opened = false;
          }
        };
        scope.calendarTo = {
          opened: false,
          value: new Date(),
          toggle: function() {
            scope.calendarFrom.opened = false;
            return scope.calendarTo.opened = !scope.calendarTo.opened;
          }
        };
        setting.initialize = function() {
          return $timeout(function() {
            var d, m, parsedFrom, parsedTo, y;
            scope.changed = false;
            if (Date.parse(scope.fromDate)) {
              parsedFrom = scope.fromDate.split('-');
              y = parsedFrom[0];
              m = parsedFrom[1] - 1;
              d = parsedFrom[2];
              scope.calendarFrom.value = new Date(y, m, d);
            } else {
              scope.calendarFrom.value = new Date(new Date().getFullYear(), 0, 1);
            }
            if (Date.parse(scope.toDate) && !scope.keepToday) {
              parsedTo = scope.toDate.split('-');
              y = parsedTo[0];
              m = parsedTo[1] - 1;
              d = parsedTo[2];
              return scope.calendarTo.value = new Date(y, m, d);
            } else {
              return scope.calendarTo.value = new Date();
            }
          });
        };
        isToToday = function() {
          return (scope.calendarTo.value.getFullYear() === new Date().getFullYear()) && (scope.calendarTo.value.getMonth() === new Date().getMonth()) && (scope.calendarTo.value.getDate() === new Date().getDate());
        };
        setting.toMetadata = function() {
          return {
            hist_parameters: {
              from: $filter('date')(scope.calendarFrom.value, 'yyyy-MM-dd'),
              to: $filter('date')(scope.calendarTo.value, 'yyyy-MM-dd'),
              period: "RANGE",
              keep_today: isToToday()
            }
          };
        };
        scope.showApplyButton = function() {
          return scope.changed = true;
        };
        scope.applyChanges = function() {
          ImpacWidgetsSvc.updateWidgetSettings(w, true);
          return scope.changed = false;
        };
        w.settings.push(setting);
        return scope.deferred.resolve(setting);
      }
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9kYXRlcy1waWNrZXIvZGF0ZXMtcGlja2VyLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLE1BQUEsR0FBUyxPQUFPLENBQUMsTUFBUixDQUFlLGdEQUFmLEVBQWdFLEVBQWhFOztFQUVULE1BQU0sQ0FBQyxTQUFQLENBQWlCLG9CQUFqQixFQUF1QyxTQUFDLGNBQUQsRUFBaUIsT0FBakIsRUFBMEIsZUFBMUIsRUFBMkMsUUFBM0M7QUFDckMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsWUFBQSxFQUFjLEdBRFQ7UUFFTCxRQUFBLEVBQVUsR0FGTDtRQUdMLFFBQUEsRUFBVSxPQUhMO1FBSUwsTUFBQSxFQUFRLEtBSkg7UUFLTCxTQUFBLEVBQVcsR0FMTjtPQUZGO01BU0wsUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLHlDQUFuQixDQVRMO01BV0wsSUFBQSxFQUFNLFNBQUMsS0FBRDtBQUNKLFlBQUE7UUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDO1FBRVYsT0FBQSxHQUFVO1FBQ1YsT0FBTyxDQUFDLEdBQVIsR0FBYztRQUVkLEtBQUssQ0FBQyxZQUFOLEdBQ0U7VUFBQSxNQUFBLEVBQVEsS0FBUjtVQUNBLEtBQUEsRUFBVyxJQUFBLElBQUEsQ0FBUyxJQUFBLElBQUEsQ0FBQSxDQUFNLENBQUMsV0FBUCxDQUFBLENBQVQsRUFBK0IsQ0FBL0IsRUFBa0MsQ0FBbEMsQ0FEWDtVQUVBLE1BQUEsRUFBUSxTQUFBO1lBQ04sS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFuQixHQUE0QixDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7bUJBQ2hELEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBakIsR0FBMEI7VUFGcEIsQ0FGUjs7UUFNRixLQUFLLENBQUMsVUFBTixHQUNFO1VBQUEsTUFBQSxFQUFRLEtBQVI7VUFD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QXFCLFNBQUE7VUFDbkIsZUFBZSxDQUFDLG9CQUFoQixDQUFxQyxDQUFyQyxFQUF3QyxJQUF4QztpQkFDQSxLQUFLLENBQUMsT0FBTixHQUFnQjtRQUZHO1FBS3JCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixPQUFoQjtlQUlBLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBZixDQUF1QixPQUF2QjtNQXJFSSxDQVhEOztFQUQ4QixDQUF2QztBQUZBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9kYXRlcy1waWNrZXIvZGF0ZXMtcGlja2VyLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3MuZGF0ZXMtcGlja2VyJyxbXSlcblxubW9kdWxlLmRpcmVjdGl2ZSgnc2V0dGluZ0RhdGVzUGlja2VyJywgKCR0ZW1wbGF0ZUNhY2hlLCAkZmlsdGVyLCBJbXBhY1dpZGdldHNTdmMsICR0aW1lb3V0KSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgICBmcm9tRGF0ZTogJz1mcm9tJ1xuICAgICAgdG9EYXRlOiAnPXRvJ1xuICAgICAga2VlcFRvZGF5OiAnPSdcbiAgICB9LFxuICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3MvZGF0ZXMtcGlja2VyLnRtcGwuaHRtbCcpLFxuICAgIFxuICAgIGxpbms6IChzY29wZSkgLT5cbiAgICAgIHcgPSBzY29wZS5wYXJlbnRXaWRnZXRcblxuICAgICAgc2V0dGluZyA9IHt9XG4gICAgICBzZXR0aW5nLmtleSA9IFwiZGF0ZXMtcGlja2VyXCJcblxuICAgICAgc2NvcGUuY2FsZW5kYXJGcm9tID1cbiAgICAgICAgb3BlbmVkOiBmYWxzZVxuICAgICAgICB2YWx1ZTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCAwLCAxKVxuICAgICAgICB0b2dnbGU6IC0+XG4gICAgICAgICAgc2NvcGUuY2FsZW5kYXJGcm9tLm9wZW5lZCA9ICFzY29wZS5jYWxlbmRhckZyb20ub3BlbmVkXG4gICAgICAgICAgc2NvcGUuY2FsZW5kYXJUby5vcGVuZWQgPSBmYWxzZVxuXG4gICAgICBzY29wZS5jYWxlbmRhclRvID1cbiAgICAgICAgb3BlbmVkOiBmYWxzZVxuICAgICAgICB2YWx1ZTogbmV3IERhdGUoKVxuICAgICAgICB0b2dnbGU6IC0+XG4gICAgICAgICAgc2NvcGUuY2FsZW5kYXJGcm9tLm9wZW5lZCA9IGZhbHNlXG4gICAgICAgICAgc2NvcGUuY2FsZW5kYXJUby5vcGVuZWQgPSAhc2NvcGUuY2FsZW5kYXJUby5vcGVuZWRcblxuICAgICAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICAgICAgIyB0aW1lb3V0IHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBmcm9tRGF0ZSBhbmQgdG9EYXRlIGFyZSBwcm9wYWdhdGVkIHRvIHRoZSBkaXJlY3RpdmUgaWYgdXBkYXRlZCBpbiB3aWRnZXQuaW5pdENvbnRleHQoKVxuICAgICAgICAkdGltZW91dCAtPlxuICAgICAgICAgIHNjb3BlLmNoYW5nZWQgPSBmYWxzZVxuXG4gICAgICAgICAgaWYgRGF0ZS5wYXJzZShzY29wZS5mcm9tRGF0ZSlcbiAgICAgICAgICAgIHBhcnNlZEZyb20gPSBzY29wZS5mcm9tRGF0ZS5zcGxpdCgnLScpXG4gICAgICAgICAgICB5ID0gcGFyc2VkRnJvbVswXVxuICAgICAgICAgICAgbSA9IHBhcnNlZEZyb21bMV0gLSAxXG4gICAgICAgICAgICBkID0gcGFyc2VkRnJvbVsyXVxuICAgICAgICAgICAgc2NvcGUuY2FsZW5kYXJGcm9tLnZhbHVlID0gbmV3IERhdGUoeSxtLGQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2NvcGUuY2FsZW5kYXJGcm9tLnZhbHVlID0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCAwLCAxKVxuXG4gICAgICAgICAgaWYgRGF0ZS5wYXJzZShzY29wZS50b0RhdGUpICYmICFzY29wZS5rZWVwVG9kYXlcbiAgICAgICAgICAgIHBhcnNlZFRvID0gc2NvcGUudG9EYXRlLnNwbGl0KCctJylcbiAgICAgICAgICAgIHkgPSBwYXJzZWRUb1swXVxuICAgICAgICAgICAgbSA9IHBhcnNlZFRvWzFdIC0gMVxuICAgICAgICAgICAgZCA9IHBhcnNlZFRvWzJdXG4gICAgICAgICAgICBzY29wZS5jYWxlbmRhclRvLnZhbHVlID0gbmV3IERhdGUoeSxtLGQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2NvcGUuY2FsZW5kYXJUby52YWx1ZSA9IG5ldyBEYXRlKClcblxuICAgICAgaXNUb1RvZGF5ID0gLT5cbiAgICAgICAgKHNjb3BlLmNhbGVuZGFyVG8udmFsdWUuZ2V0RnVsbFllYXIoKSA9PSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpICYmXG4gICAgICAgIChzY29wZS5jYWxlbmRhclRvLnZhbHVlLmdldE1vbnRoKCkgPT0gbmV3IERhdGUoKS5nZXRNb250aCgpKSAmJlxuICAgICAgICAoc2NvcGUuY2FsZW5kYXJUby52YWx1ZS5nZXREYXRlKCkgPT0gbmV3IERhdGUoKS5nZXREYXRlKCkpXG5cbiAgICAgIHNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaGlzdF9wYXJhbWV0ZXJzOiBcbiAgICAgICAgICAgIGZyb206ICRmaWx0ZXIoJ2RhdGUnKShzY29wZS5jYWxlbmRhckZyb20udmFsdWUsICd5eXl5LU1NLWRkJylcbiAgICAgICAgICAgIHRvOiAkZmlsdGVyKCdkYXRlJykoc2NvcGUuY2FsZW5kYXJUby52YWx1ZSwgJ3l5eXktTU0tZGQnKVxuICAgICAgICAgICAgcGVyaW9kOiBcIlJBTkdFXCJcbiAgICAgICAgICAgIGtlZXBfdG9kYXk6IGlzVG9Ub2RheSgpXG4gICAgICAgIH1cblxuICAgICAgc2NvcGUuc2hvd0FwcGx5QnV0dG9uID0gLT5cbiAgICAgICAgc2NvcGUuY2hhbmdlZCA9IHRydWVcblxuICAgICAgc2NvcGUuYXBwbHlDaGFuZ2VzID0gLT5cbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsIHRydWUpXG4gICAgICAgIHNjb3BlLmNoYW5nZWQgPSBmYWxzZVxuXG5cbiAgICAgIHcuc2V0dGluZ3MucHVzaChzZXR0aW5nKVxuXG4gICAgICAjIFNldHRpbmcgaXMgcmVhZHk6IHRyaWdnZXIgbG9hZCBjb250ZW50XG4gICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgc2NvcGUuZGVmZXJyZWQucmVzb2x2ZShzZXR0aW5nKVxuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.formula', []);

  module.controller('SettingFormulaCtrl', ["$scope", "$filter", function($scope, $filter) {
    var authorized_regex, evaluateFormula, formatFormula, getFormula, setting, w;
    w = $scope.parentWidget;
    w.formula = "";
    authorized_regex = new RegExp("^(\\{|\\d|\\}|\\/|\\+|-|\\*|\\(|\\)|\\s|\\.)*$");
    setting = {};
    setting.key = "formula";
    setting.isInitialized = false;
    setting.initialize = function() {
      if ((w.metadata != null) && (w.metadata.formula != null)) {
        w.formula = w.metadata.formula;
        evaluateFormula();
        return setting.isInitialized = true;
      } else {
        return w.formula = "";
      }
    };
    setting.toMetadata = function() {
      evaluateFormula();
      if (w.isFormulaCorrect) {
        return {
          formula: w.formula
        };
      } else {
        return {
          formula: ""
        };
      }
    };
    getFormula = function() {
      return w.formula;
    };
    w.formatAmount = function(anAccount) {
      return $filter('mnoCurrency')(anAccount.current_balance, anAccount.currency);
    };
    $scope.$watch(getFormula, function(e) {
      return evaluateFormula();
    });
    evaluateFormula = function() {
      var e, error, i, legend, str;
      str = angular.copy(w.formula);
      legend = angular.copy(w.formula);
      i = 1;
      angular.forEach(w.selectedAccounts, function(account) {
        var balancePattern;
        balancePattern = "\\{" + i + "\\}";
        str = str.replace(new RegExp(balancePattern, 'g'), " " + account.current_balance_no_format + " ");
        legend = legend.replace(new RegExp(balancePattern, 'g'), account.name);
        return i++;
      });
      if (!str.match(authorized_regex)) {
        w.isFormulaCorrect = false;
        w.evaluatedFormula = "invalid expression";
      }
      try {
        w.evaluatedFormula = eval(str).toFixed(2);
      } catch (error) {
        e = error;
        w.evaluatedFormula = "invalid expression";
      }
      if ((w.evaluatedFormula == null) || w.evaluatedFormula === "invalid expression" || w.evaluatedFormula === "Infinity" || w.evaluatedFormula === "-Infinity") {
        return w.isFormulaCorrect = false;
      } else {
        formatFormula();
        w.legend = legend;
        return w.isFormulaCorrect = true;
      }
    };
    formatFormula = function() {
      var currency, firstAcc;
      if (!w.formula.match(/\//g) && (w.selectedAccounts != null)) {
        if (firstAcc = w.selectedAccounts[0]) {
          if (currency = firstAcc.currency) {
            return w.evaluatedFormula = $filter('mnoCurrency')(w.evaluatedFormula, currency);
          }
        }
      }
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingFormula', function() {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '='
      },
      controller: 'SettingFormulaCtrl'
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9mb3JtdWxhL2Zvcm11bGEuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsMkNBQWYsRUFBMkQsRUFBM0Q7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isb0JBQWxCLEVBQXdDLFNBQUMsTUFBRCxFQUFTLE9BQVQ7QUFFdEMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFDWCxDQUFDLENBQUMsT0FBRixHQUFZO0lBR1osZ0JBQUEsR0FBdUIsSUFBQSxNQUFBLENBQU8sZ0RBQVA7SUFFdkIsT0FBQSxHQUFVO0lBQ1YsT0FBTyxDQUFDLEdBQVIsR0FBYztJQUNkLE9BQU8sQ0FBQyxhQUFSLEdBQXdCO0lBRXhCLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7TUFDbkIsSUFBRyxvQkFBQSxJQUFlLDRCQUFsQjtRQUNFLENBQUMsQ0FBQyxPQUFGLEdBQVksQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUN2QixlQUFBLENBQUE7ZUFDQSxPQUFPLENBQUMsYUFBUixHQUF3QixLQUgxQjtPQUFBLE1BQUE7ZUFLRSxDQUFDLENBQUMsT0FBRixHQUFZLEdBTGQ7O0lBRG1CO0lBUXJCLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7TUFDbkIsZUFBQSxDQUFBO01BQ0EsSUFBRyxDQUFDLENBQUMsZ0JBQUw7QUFDRSxlQUFPO1VBQUUsT0FBQSxFQUFTLENBQUMsQ0FBQyxPQUFiO1VBRFQ7T0FBQSxNQUFBO0FBR0UsZUFBTztVQUFFLE9BQUEsRUFBUyxFQUFYO1VBSFQ7O0lBRm1CO0lBT3JCLFVBQUEsR0FBYSxTQUFBO0FBQ1gsYUFBTyxDQUFDLENBQUM7SUFERTtJQUdiLENBQUMsQ0FBQyxZQUFGLEdBQWlCLFNBQUMsU0FBRDtBQUNmLGFBQU8sT0FBQSxDQUFRLGFBQVIsQ0FBQSxDQUF1QixTQUFTLENBQUMsZUFBakMsRUFBaUQsU0FBUyxDQUFDLFFBQTNEO0lBRFE7SUFHakIsTUFBTSxDQUFDLE1BQVAsQ0FBYyxVQUFkLEVBQTBCLFNBQUMsQ0FBRDthQUN4QixlQUFBLENBQUE7SUFEd0IsQ0FBMUI7SUFHQSxlQUFBLEdBQWtCLFNBQUE7QUFDaEIsVUFBQTtNQUFBLEdBQUEsR0FBTSxPQUFPLENBQUMsSUFBUixDQUFhLENBQUMsQ0FBQyxPQUFmO01BQ04sTUFBQSxHQUFTLE9BQU8sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFDLE9BQWY7TUFDVCxDQUFBLEdBQUU7TUFDRixPQUFPLENBQUMsT0FBUixDQUFnQixDQUFDLENBQUMsZ0JBQWxCLEVBQW9DLFNBQUMsT0FBRDtBQUNsQyxZQUFBO1FBQUEsY0FBQSxHQUFpQixLQUFBLEdBQU0sQ0FBTixHQUFRO1FBQ3pCLEdBQUEsR0FBTSxHQUFHLENBQUMsT0FBSixDQUFnQixJQUFBLE1BQUEsQ0FBTyxjQUFQLEVBQXVCLEdBQXZCLENBQWhCLEVBQTZDLEdBQUEsR0FBSSxPQUFPLENBQUMseUJBQVosR0FBc0MsR0FBbkY7UUFDTixNQUFBLEdBQVMsTUFBTSxDQUFDLE9BQVAsQ0FBbUIsSUFBQSxNQUFBLENBQU8sY0FBUCxFQUF1QixHQUF2QixDQUFuQixFQUFnRCxPQUFPLENBQUMsSUFBeEQ7ZUFDVCxDQUFBO01BSmtDLENBQXBDO01BUUEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFKLENBQVUsZ0JBQVYsQ0FBTDtRQUNFLENBQUMsQ0FBQyxnQkFBRixHQUFxQjtRQUNyQixDQUFDLENBQUMsZ0JBQUYsR0FBcUIscUJBRnZCOztBQUlBO1FBQ0UsQ0FBQyxDQUFDLGdCQUFGLEdBQXFCLElBQUEsQ0FBSyxHQUFMLENBQVMsQ0FBQyxPQUFWLENBQWtCLENBQWxCLEVBRHZCO09BQUEsYUFBQTtRQUVNO1FBQ0osQ0FBQyxDQUFDLGdCQUFGLEdBQXFCLHFCQUh2Qjs7TUFLQSxJQUFJLDRCQUFELElBQXdCLENBQUMsQ0FBQyxnQkFBRixLQUFzQixvQkFBOUMsSUFBc0UsQ0FBQyxDQUFDLGdCQUFGLEtBQXNCLFVBQTVGLElBQTBHLENBQUMsQ0FBQyxnQkFBRixLQUFzQixXQUFuSTtlQUNFLENBQUMsQ0FBQyxnQkFBRixHQUFxQixNQUR2QjtPQUFBLE1BQUE7UUFHRSxhQUFBLENBQUE7UUFDQSxDQUFDLENBQUMsTUFBRixHQUFXO2VBQ1gsQ0FBQyxDQUFDLGdCQUFGLEdBQXFCLEtBTHZCOztJQXJCZ0I7SUE0QmxCLGFBQUEsR0FBZ0IsU0FBQTtBQUNkLFVBQUE7TUFBQSxJQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFWLENBQWdCLEtBQWhCLENBQUQsSUFBMkIsNEJBQTlCO1FBQ0UsSUFBRyxRQUFBLEdBQVcsQ0FBQyxDQUFDLGdCQUFpQixDQUFBLENBQUEsQ0FBakM7VUFDRSxJQUFHLFFBQUEsR0FBVyxRQUFRLENBQUMsUUFBdkI7bUJBQ0UsQ0FBQyxDQUFDLGdCQUFGLEdBQXFCLE9BQUEsQ0FBUSxhQUFSLENBQUEsQ0FBdUIsQ0FBQyxDQUFDLGdCQUF6QixFQUEyQyxRQUEzQyxFQUR2QjtXQURGO1NBREY7O0lBRGM7SUFNaEIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUExRXNDLENBQXhDOztFQTZFQSxNQUFNLENBQUMsU0FBUCxDQUFpQixnQkFBakIsRUFBbUMsU0FBQTtBQUNqQyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFFBQUEsRUFBVSxHQUZMO09BRkY7TUFNTCxVQUFBLEVBQVksb0JBTlA7O0VBRDBCLENBQW5DO0FBL0VBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9mb3JtdWxhL2Zvcm11bGEuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1zZXR0aW5ncy5mb3JtdWxhJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdGb3JtdWxhQ3RybCcsICgkc2NvcGUsICRmaWx0ZXIpIC0+XG5cbiAgdyA9ICRzY29wZS5wYXJlbnRXaWRnZXRcbiAgdy5mb3JtdWxhID0gXCJcIlxuXG4gICMgIyBPbmx5IGF1dGhvcml6ZSBtYXRoZW1hdGljYWwgZXhwcmVzc2lvbnNcbiAgYXV0aG9yaXplZF9yZWdleCA9IG5ldyBSZWdFeHAoXCJeKFxcXFx7fFxcXFxkfFxcXFx9fFxcXFwvfFxcXFwrfC18XFxcXCp8XFxcXCh8XFxcXCl8XFxcXHN8XFxcXC4pKiRcIilcblxuICBzZXR0aW5nID0ge31cbiAgc2V0dGluZy5rZXkgPSBcImZvcm11bGFcIlxuICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4gIHNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG4gICAgaWYgdy5tZXRhZGF0YT8gJiYgdy5tZXRhZGF0YS5mb3JtdWxhP1xuICAgICAgdy5mb3JtdWxhID0gdy5tZXRhZGF0YS5mb3JtdWxhXG4gICAgICBldmFsdWF0ZUZvcm11bGEoKVxuICAgICAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIGVsc2VcbiAgICAgIHcuZm9ybXVsYSA9IFwiXCJcblxuICBzZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIGV2YWx1YXRlRm9ybXVsYSgpXG4gICAgaWYgdy5pc0Zvcm11bGFDb3JyZWN0XG4gICAgICByZXR1cm4geyBmb3JtdWxhOiB3LmZvcm11bGEgfVxuICAgIGVsc2VcbiAgICAgIHJldHVybiB7IGZvcm11bGE6IFwiXCIgfVxuXG4gIGdldEZvcm11bGEgPSAtPlxuICAgIHJldHVybiB3LmZvcm11bGFcblxuICB3LmZvcm1hdEFtb3VudCA9IChhbkFjY291bnQpIC0+XG4gICAgcmV0dXJuICRmaWx0ZXIoJ21ub0N1cnJlbmN5JykoYW5BY2NvdW50LmN1cnJlbnRfYmFsYW5jZSxhbkFjY291bnQuY3VycmVuY3kpXG5cbiAgJHNjb3BlLiR3YXRjaCBnZXRGb3JtdWxhLCAoZSkgLT5cbiAgICBldmFsdWF0ZUZvcm11bGEoKVxuXG4gIGV2YWx1YXRlRm9ybXVsYSA9IC0+XG4gICAgc3RyID0gYW5ndWxhci5jb3B5KHcuZm9ybXVsYSlcbiAgICBsZWdlbmQgPSBhbmd1bGFyLmNvcHkody5mb3JtdWxhKVxuICAgIGk9MVxuICAgIGFuZ3VsYXIuZm9yRWFjaCh3LnNlbGVjdGVkQWNjb3VudHMsIChhY2NvdW50KSAtPlxuICAgICAgYmFsYW5jZVBhdHRlcm4gPSBcIlxcXFx7I3tpfVxcXFx9XCJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoYmFsYW5jZVBhdHRlcm4sICdnJyksIFwiICN7YWNjb3VudC5jdXJyZW50X2JhbGFuY2Vfbm9fZm9ybWF0fSBcIilcbiAgICAgIGxlZ2VuZCA9IGxlZ2VuZC5yZXBsYWNlKG5ldyBSZWdFeHAoYmFsYW5jZVBhdHRlcm4sICdnJyksIGFjY291bnQubmFtZSlcbiAgICAgIGkrK1xuICAgIClcblxuICAgICMgR3VhcmQgYWdhaW5zdCBpbmplY3Rpb25cbiAgICBpZiAoIXN0ci5tYXRjaChhdXRob3JpemVkX3JlZ2V4KSlcbiAgICAgIHcuaXNGb3JtdWxhQ29ycmVjdCA9IGZhbHNlXG4gICAgICB3LmV2YWx1YXRlZEZvcm11bGEgPSBcImludmFsaWQgZXhwcmVzc2lvblwiXG5cbiAgICB0cnlcbiAgICAgIHcuZXZhbHVhdGVkRm9ybXVsYSA9IGV2YWwoc3RyKS50b0ZpeGVkKDIpXG4gICAgY2F0Y2ggZVxuICAgICAgdy5ldmFsdWF0ZWRGb3JtdWxhID0gXCJpbnZhbGlkIGV4cHJlc3Npb25cIlxuXG4gICAgaWYgIXcuZXZhbHVhdGVkRm9ybXVsYT8gfHwgdy5ldmFsdWF0ZWRGb3JtdWxhID09IFwiaW52YWxpZCBleHByZXNzaW9uXCIgfHwgdy5ldmFsdWF0ZWRGb3JtdWxhID09IFwiSW5maW5pdHlcIiB8fCB3LmV2YWx1YXRlZEZvcm11bGEgPT0gXCItSW5maW5pdHlcIlxuICAgICAgdy5pc0Zvcm11bGFDb3JyZWN0ID0gZmFsc2VcbiAgICBlbHNlXG4gICAgICBmb3JtYXRGb3JtdWxhKClcbiAgICAgIHcubGVnZW5kID0gbGVnZW5kXG4gICAgICB3LmlzRm9ybXVsYUNvcnJlY3QgPSB0cnVlXG5cbiAgZm9ybWF0Rm9ybXVsYSA9IC0+XG4gICAgaWYgIXcuZm9ybXVsYS5tYXRjaCgvXFwvL2cpICYmIHcuc2VsZWN0ZWRBY2NvdW50cz9cbiAgICAgIGlmIGZpcnN0QWNjID0gdy5zZWxlY3RlZEFjY291bnRzWzBdXG4gICAgICAgIGlmIGN1cnJlbmN5ID0gZmlyc3RBY2MuY3VycmVuY3lcbiAgICAgICAgICB3LmV2YWx1YXRlZEZvcm11bGEgPSAkZmlsdGVyKCdtbm9DdXJyZW5jeScpKHcuZXZhbHVhdGVkRm9ybXVsYSwgY3VycmVuY3kpXG5cbiAgdy5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG5cbiAgIyBTZXR0aW5nIGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUucGFyZW50V2lkZ2V0KVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nRm9ybXVsYScsICgpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPSdcbiAgICAgIGRlZmVycmVkOiAnPSdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nRm9ybXVsYUN0cmwnXG4gIH1cbikiXX0=

(function() {
  var module,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  module = angular.module('impac.components.widgets-settings.hist-mode', []);

  module.controller('SettingHistModeCtrl', ["$scope", "ImpacWidgetsSvc", function($scope, ImpacWidgetsSvc) {
    var setting, w;
    w = $scope.parentWidget;
    w.isHistoryMode = false;
    $scope.toggleHistMode = function(mode) {
      var ref;
      if ((w.isHistoryMode && mode === 'history') || (!w.isHistoryMode && mode === 'current')) {
        return;
      }
      w.isHistoryMode = !w.isHistoryMode;
      ImpacWidgetsSvc.updateWidgetSettings(w, false);
      return ref = $scope.onToggle(), indexOf.call(angular.isDefined($scope.onToggle), ref) >= 0;
    };
    setting = {};
    setting.key = "hist-mode";
    setting.isInitialized = false;
    setting.initialize = function() {
      var mode;
      if ((w.content != null) && (w.content.hist_parameters != null) && (mode = w.content.hist_parameters.mode)) {
        if (mode === 'history') {
          w.isHistoryMode = true;
        } else {
          w.isHistoryMode = false;
        }
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      var mode;
      if (w.isHistoryMode) {
        mode = 'history';
      } else {
        mode = 'current';
      }
      return {
        hist_parameters: {
          mode: mode
        }
      };
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingHistMode', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        onToggle: '&'
      },
      template: $templateCache.get('widgets-settings/hist-mode.tmpl.html'),
      controller: 'SettingHistModeCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9oaXN0LW1vZGUvaGlzdC1tb2RlLmRpcmVjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLE1BQUE7SUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSw2Q0FBZixFQUE2RCxFQUE3RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixxQkFBbEIsRUFBeUMsU0FBQyxNQUFELEVBQVMsZUFBVDtBQUV2QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUNYLENBQUMsQ0FBQyxhQUFGLEdBQWtCO0lBRWxCLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLFNBQUMsSUFBRDtBQUN0QixVQUFBO01BQUEsSUFBVSxDQUFDLENBQUMsQ0FBQyxhQUFGLElBQW1CLElBQUEsS0FBUSxTQUE1QixDQUFBLElBQTBDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBSCxJQUFvQixJQUFBLEtBQU8sU0FBNUIsQ0FBcEQ7QUFBQSxlQUFBOztNQUNBLENBQUMsQ0FBQyxhQUFGLEdBQWtCLENBQUMsQ0FBQyxDQUFDO01BQ3JCLGVBQWUsQ0FBQyxvQkFBaEIsQ0FBcUMsQ0FBckMsRUFBdUMsS0FBdkM7bUJBQ0EsTUFBTSxDQUFDLFFBQVAsQ0FBQSxDQUFBLEVBQUEsYUFBcUIsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsTUFBTSxDQUFDLFFBQXpCLENBQXJCLEVBQUEsR0FBQTtJQUpzQjtJQVF4QixPQUFBLEdBQVU7SUFDVixPQUFPLENBQUMsR0FBUixHQUFjO0lBQ2QsT0FBTyxDQUFDLGFBQVIsR0FBd0I7SUFHeEIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtBQUNuQixVQUFBO01BQUEsSUFBRyxtQkFBQSxJQUFjLG1DQUFkLElBQTRDLENBQUEsSUFBQSxHQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQWpDLENBQS9DO1FBQ0UsSUFBRyxJQUFBLEtBQVEsU0FBWDtVQUNFLENBQUMsQ0FBQyxhQUFGLEdBQWtCLEtBRHBCO1NBQUEsTUFBQTtVQUdFLENBQUMsQ0FBQyxhQUFGLEdBQWtCLE1BSHBCOztlQUlBLE9BQU8sQ0FBQyxhQUFSLEdBQXdCLEtBTDFCOztJQURtQjtJQVFyQixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxJQUFHLENBQUMsQ0FBQyxhQUFMO1FBQ0UsSUFBQSxHQUFPLFVBRFQ7T0FBQSxNQUFBO1FBR0UsSUFBQSxHQUFPLFVBSFQ7O0FBSUEsYUFBTztRQUFDLGVBQUEsRUFBaUI7VUFBQyxJQUFBLEVBQU0sSUFBUDtTQUFsQjs7SUFMWTtJQU9yQixDQUFDLENBQUMsUUFBUSxDQUFDLElBQVgsQ0FBZ0IsT0FBaEI7V0FJQSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQWhCLENBQXdCLE1BQU0sQ0FBQyxZQUEvQjtFQXJDdUMsQ0FBekM7O0VBd0NBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLGlCQUFqQixFQUFvQyxTQUFDLGNBQUQ7QUFDbEMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsWUFBQSxFQUFjLEdBRFQ7UUFFTCxRQUFBLEVBQVUsR0FGTDtRQUdMLFFBQUEsRUFBVSxHQUhMO09BRkY7TUFPTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsc0NBQW5CLENBUEw7TUFRTCxVQUFBLEVBQVkscUJBUlA7O0VBRDJCLENBQXBDO0FBMUNBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9oaXN0LW1vZGUvaGlzdC1tb2RlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3MuaGlzdC1tb2RlJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdIaXN0TW9kZUN0cmwnLCAoJHNjb3BlLCBJbXBhY1dpZGdldHNTdmMpIC0+XG5cbiAgdyA9ICRzY29wZS5wYXJlbnRXaWRnZXRcbiAgdy5pc0hpc3RvcnlNb2RlID0gZmFsc2VcblxuICAkc2NvcGUudG9nZ2xlSGlzdE1vZGUgPSAobW9kZSkgLT5cbiAgICByZXR1cm4gaWYgKHcuaXNIaXN0b3J5TW9kZSAmJiBtb2RlID09ICdoaXN0b3J5JykgfHwgKCF3LmlzSGlzdG9yeU1vZGUgJiYgbW9kZSA9PSdjdXJyZW50JylcbiAgICB3LmlzSGlzdG9yeU1vZGUgPSAhdy5pc0hpc3RvcnlNb2RlXG4gICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsZmFsc2UpXG4gICAgJHNjb3BlLm9uVG9nZ2xlKCkgaW4gYW5ndWxhci5pc0RlZmluZWQgJHNjb3BlLm9uVG9nZ2xlXG5cblxuICAjIFdoYXQgd2lsbCBiZSBwYXNzZWQgdG8gcGFyZW50V2lkZ2V0XG4gIHNldHRpbmcgPSB7fVxuICBzZXR0aW5nLmtleSA9IFwiaGlzdC1tb2RlXCJcbiAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2VcblxuICAjIGluaXRpYWxpemF0aW9uIG9mIHRpbWUgcmFuZ2UgcGFyYW1ldGVycyBmcm9tIHdpZGdldC5jb250ZW50Lmhpc3RfcGFyYW1ldGVyc1xuICBzZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIGlmIHcuY29udGVudD8gJiYgdy5jb250ZW50Lmhpc3RfcGFyYW1ldGVycz8gJiYgbW9kZSA9IHcuY29udGVudC5oaXN0X3BhcmFtZXRlcnMubW9kZVxuICAgICAgaWYgbW9kZSA9PSAnaGlzdG9yeSdcbiAgICAgICAgdy5pc0hpc3RvcnlNb2RlID0gdHJ1ZVxuICAgICAgZWxzZVxuICAgICAgICB3LmlzSGlzdG9yeU1vZGUgPSBmYWxzZVxuICAgICAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAgaWYgdy5pc0hpc3RvcnlNb2RlXG4gICAgICBtb2RlID0gJ2hpc3RvcnknXG4gICAgZWxzZVxuICAgICAgbW9kZSA9ICdjdXJyZW50J1xuICAgIHJldHVybiB7aGlzdF9wYXJhbWV0ZXJzOiB7bW9kZTogbW9kZX19XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG5cbiAgIyBTZXR0aW5nIGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUucGFyZW50V2lkZ2V0KVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nSGlzdE1vZGUnLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPSdcbiAgICAgIGRlZmVycmVkOiAnPSdcbiAgICAgIG9uVG9nZ2xlOiAnJidcbiAgICB9LFxuICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3MvaGlzdC1tb2RlLnRtcGwuaHRtbCcpLFxuICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nSGlzdE1vZGVDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.limit-entries', []);

  module.controller('SettingLimitEntriesCtrl', ["$scope", function($scope) {
    var setting;
    setting = {};
    setting.key = 'limit-entries';
    setting.initialize = function() {
      return true;
    };
    setting.toMetadata = function() {
      return {
        limit_entries: $scope.selected
      };
    };
    $scope.parentWidget.settings.push(setting);
    return $scope.deferred.resolve(setting);
  }]);

  module.directive('settingLimitEntries', ["$templateCache", "ImpacWidgetsSvc", function($templateCache, ImpacWidgetsSvc) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        selected: '=',
        max: '=?',
        options: '=?',
        entriesLabel: '=?'
      },
      link: function(scope, elements, attrs) {
        if (!((scope.options != null) && scope.options.length > 0)) {
          scope.options = [5, 15, 50];
        }
        scope.selectOption = function(anOption) {
          scope.selected = anOption;
          return ImpacWidgetsSvc.updateWidgetSettings(scope.parentWidget, false);
        };
        return scope.isOptionValid = function(anOption) {
          return (scope.max == null) || anOption < scope.max;
        };
      },
      controller: 'SettingLimitEntriesCtrl',
      template: $templateCache.get('widgets-settings/limit-entries.tmpl.html')
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9saW1pdC1lbnRyaWVzL2xpbWl0LWVudHJpZXMuZGlyZWN0aXZlLmpzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IseUJBQWxCLEVBQTZDLFNBQUMsTUFBRDtBQUMzQyxRQUFBO0lBQUEsT0FBQSxHQUFVO0lBQ1YsT0FBTyxDQUFDLEdBQVIsR0FBYztJQUVkLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7QUFDbkIsYUFBTztJQURZO0lBR3JCLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7QUFDbkIsYUFBTztRQUFDLGFBQUEsRUFBZSxNQUFNLENBQUMsUUFBdkI7O0lBRFk7SUFHckIsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsSUFBN0IsQ0FBa0MsT0FBbEM7V0FDQSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQWhCLENBQXdCLE9BQXhCO0VBWDJDLENBQTdDOztFQWNBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLHFCQUFqQixFQUF3QyxTQUFDLGNBQUQsRUFBaUIsZUFBakI7QUFDdEMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsWUFBQSxFQUFjLEdBRFQ7UUFFTCxRQUFBLEVBQVUsR0FGTDtRQUdMLFFBQUEsRUFBVSxHQUhMO1FBSUwsR0FBQSxFQUFLLElBSkE7UUFLTCxPQUFBLEVBQVMsSUFMSjtRQU1MLFlBQUEsRUFBYyxJQU5UO09BRkY7TUFXTCxJQUFBLEVBQU0sU0FBQyxLQUFELEVBQVEsUUFBUixFQUFrQixLQUFsQjtRQUNKLElBQUEsQ0FBbUMsQ0FBQyx1QkFBQSxJQUFrQixLQUFLLENBQUMsT0FBTyxDQUFDLE1BQWQsR0FBdUIsQ0FBMUMsQ0FBbkM7VUFBQSxLQUFLLENBQUMsT0FBTixHQUFnQixDQUFDLENBQUQsRUFBSSxFQUFKLEVBQVEsRUFBUixFQUFoQjs7UUFFQSxLQUFLLENBQUMsWUFBTixHQUFxQixTQUFDLFFBQUQ7VUFDbkIsS0FBSyxDQUFDLFFBQU4sR0FBaUI7aUJBQ2pCLGVBQWUsQ0FBQyxvQkFBaEIsQ0FBcUMsS0FBSyxDQUFDLFlBQTNDLEVBQXdELEtBQXhEO1FBRm1CO2VBSXJCLEtBQUssQ0FBQyxhQUFOLEdBQXNCLFNBQUMsUUFBRDtpQkFDbkIsbUJBQUQsSUFBZSxRQUFBLEdBQVcsS0FBSyxDQUFDO1FBRFo7TUFQbEIsQ0FYRDtNQXNCTCxVQUFBLEVBQVkseUJBdEJQO01BdUJMLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQiwwQ0FBbkIsQ0F2Qkw7O0VBRCtCLENBQXhDO0FBaEJBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9saW1pdC1lbnRyaWVzL2xpbWl0LWVudHJpZXMuZGlyZWN0aXZlLmpzLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1zZXR0aW5ncy5saW1pdC1lbnRyaWVzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdMaW1pdEVudHJpZXNDdHJsJywgKCRzY29wZSkgLT5cbiAgc2V0dGluZyA9IHt9XG4gIHNldHRpbmcua2V5ID0gJ2xpbWl0LWVudHJpZXMnXG5cbiAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICByZXR1cm4gdHJ1ZVxuXG4gIHNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAgcmV0dXJuIHtsaW1pdF9lbnRyaWVzOiAkc2NvcGUuc2VsZWN0ZWR9XG5cbiAgJHNjb3BlLnBhcmVudFdpZGdldC5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG4gICRzY29wZS5kZWZlcnJlZC5yZXNvbHZlKHNldHRpbmcpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3NldHRpbmdMaW1pdEVudHJpZXMnLCAoJHRlbXBsYXRlQ2FjaGUsIEltcGFjV2lkZ2V0c1N2YykgLT5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgICBzZWxlY3RlZDogJz0nXG4gICAgICBtYXg6ICc9PydcbiAgICAgIG9wdGlvbnM6ICc9PydcbiAgICAgIGVudHJpZXNMYWJlbDogJz0/J1xuICAgIH1cblxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudHMsIGF0dHJzKSAtPlxuICAgICAgc2NvcGUub3B0aW9ucyA9IFs1LCAxNSwgNTBdIHVubGVzcyAoc2NvcGUub3B0aW9ucz8gJiYgc2NvcGUub3B0aW9ucy5sZW5ndGggPiAwKVxuXG4gICAgICBzY29wZS5zZWxlY3RPcHRpb24gPSAoYW5PcHRpb24pIC0+XG4gICAgICAgIHNjb3BlLnNlbGVjdGVkID0gYW5PcHRpb25cbiAgICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHNjb3BlLnBhcmVudFdpZGdldCxmYWxzZSlcblxuICAgICAgc2NvcGUuaXNPcHRpb25WYWxpZCA9IChhbk9wdGlvbikgLT5cbiAgICAgICAgIXNjb3BlLm1heD8gfHwgYW5PcHRpb24gPCBzY29wZS5tYXhcblxuXG4gICAgY29udHJvbGxlcjogJ1NldHRpbmdMaW1pdEVudHJpZXNDdHJsJ1xuICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3MvbGltaXQtZW50cmllcy50bXBsLmh0bWwnKSxcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.organizations', []);

  module.controller('SettingOrganizationsCtrl', ["$scope", "$log", "ImpacDashboardsSvc", function($scope, $log, ImpacDashboardsSvc) {
    var setting, w;
    w = $scope.parentWidget;
    w.selectedOrganizations = {};
    $scope.isOrganizationSelected = function(orgUid) {
      return !!w.selectedOrganizations[orgUid];
    };
    $scope.toggleSelectOrganization = function(orgUid) {
      return w.selectedOrganizations[orgUid] = !w.selectedOrganizations[orgUid];
    };
    setting = {};
    setting.key = "organizations";
    setting.isInitialized = false;
    setting.initialize = function() {
      return ImpacDashboardsSvc.load().then(function(config) {
        var i, len, org, ref;
        $scope.dashboardOrganizations = config.currentDashboard.data_sources;
        if ((w.metadata != null) && (w.metadata.organization_ids != null)) {
          ref = $scope.dashboardOrganizations;
          for (i = 0, len = ref.length; i < len; i++) {
            org = ref[i];
            w.selectedOrganizations[org.uid] = _.contains(w.metadata.organization_ids, org.uid);
          }
          return setting.isInitialized = true;
        }
      });
    };
    setting.toMetadata = function() {
      var newOrganizations;
      newOrganizations = _.compact(_.map(w.selectedOrganizations, function(checked, uid) {
        if (checked) {
          return uid;
        }
      }));
      if (_.isEmpty(newOrganizations)) {
        newOrganizations = [_.first($scope.dashboardOrganizations).uid];
      }
      return {
        organization_ids: newOrganizations
      };
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingOrganizations', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '='
      },
      template: $templateCache.get('widgets-settings/organizations.tmpl.html'),
      controller: 'SettingOrganizationsCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9vcmdhbml6YXRpb25zL29yZ2FuaXphdGlvbnMuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBQ1QsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsMEJBQWxCLEVBQThDLFNBQUMsTUFBRCxFQUFTLElBQVQsRUFBZSxrQkFBZjtBQUU1QyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUNYLENBQUMsQ0FBQyxxQkFBRixHQUEwQjtJQUUxQixNQUFNLENBQUMsc0JBQVAsR0FBZ0MsU0FBQyxNQUFEO2FBQzlCLENBQUMsQ0FBQyxDQUFDLENBQUMscUJBQXNCLENBQUEsTUFBQTtJQURJO0lBR2hDLE1BQU0sQ0FBQyx3QkFBUCxHQUFrQyxTQUFDLE1BQUQ7YUFDaEMsQ0FBQyxDQUFDLHFCQUFzQixDQUFBLE1BQUEsQ0FBeEIsR0FBa0MsQ0FBQyxDQUFDLENBQUMscUJBQXNCLENBQUEsTUFBQTtJQUQzQjtJQUlsQyxPQUFBLEdBQVU7SUFDVixPQUFPLENBQUMsR0FBUixHQUFjO0lBQ2QsT0FBTyxDQUFDLGFBQVIsR0FBd0I7SUFHeEIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTthQUNuQixrQkFBa0IsQ0FBQyxJQUFuQixDQUFBLENBQXlCLENBQUMsSUFBMUIsQ0FDRSxTQUFDLE1BQUQ7QUFDRSxZQUFBO1FBQUEsTUFBTSxDQUFDLHNCQUFQLEdBQWdDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4RCxJQUFHLG9CQUFBLElBQWUscUNBQWxCO0FBQ0U7QUFBQSxlQUFBLHFDQUFBOztZQUNFLENBQUMsQ0FBQyxxQkFBc0IsQ0FBQSxHQUFHLENBQUMsR0FBSixDQUF4QixHQUFtQyxDQUFDLENBQUMsUUFBRixDQUFXLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQXRCLEVBQXdDLEdBQUcsQ0FBQyxHQUE1QztBQURyQztpQkFFQSxPQUFPLENBQUMsYUFBUixHQUF3QixLQUgxQjs7TUFGRixDQURGO0lBRG1CO0lBVXJCLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUE7QUFDbkIsVUFBQTtNQUFBLGdCQUFBLEdBQW1CLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLEdBQUYsQ0FBTSxDQUFDLENBQUMscUJBQVIsRUFBK0IsU0FBQyxPQUFELEVBQVMsR0FBVDtRQUMxRCxJQUFPLE9BQVA7aUJBQUEsSUFBQTs7TUFEMEQsQ0FBL0IsQ0FBVjtNQUduQixJQUFtRSxDQUFDLENBQUMsT0FBRixDQUFVLGdCQUFWLENBQW5FO1FBQUEsZ0JBQUEsR0FBbUIsQ0FBQyxDQUFDLENBQUMsS0FBRixDQUFRLE1BQU0sQ0FBQyxzQkFBZixDQUFzQyxDQUFDLEdBQXhDLEVBQW5COztBQUNBLGFBQU87UUFBRSxnQkFBQSxFQUFrQixnQkFBcEI7O0lBTFk7SUFPckIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUF0QzRDLENBQTlDOztFQXlDQSxNQUFNLENBQUMsU0FBUCxDQUFpQixzQkFBakIsRUFBeUMsU0FBQyxjQUFEO0FBQ3ZDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLFlBQUEsRUFBYyxHQURUO1FBRUwsUUFBQSxFQUFVLEdBRkw7T0FGRjtNQU1MLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQiwwQ0FBbkIsQ0FOTDtNQU9MLFVBQUEsRUFBWSwwQkFQUDs7RUFEZ0MsQ0FBekM7QUExQ0EiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzLXNldHRpbmdzL29yZ2FuaXphdGlvbnMvb3JnYW5pemF0aW9ucy5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLXNldHRpbmdzLm9yZ2FuaXphdGlvbnMnLFtdKVxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdPcmdhbml6YXRpb25zQ3RybCcsICgkc2NvcGUsICRsb2csIEltcGFjRGFzaGJvYXJkc1N2YykgLT5cblxuICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldFxuICB3LnNlbGVjdGVkT3JnYW5pemF0aW9ucyA9IHt9XG5cbiAgJHNjb3BlLmlzT3JnYW5pemF0aW9uU2VsZWN0ZWQgPSAob3JnVWlkKSAtPlxuICAgICEhdy5zZWxlY3RlZE9yZ2FuaXphdGlvbnNbb3JnVWlkXVxuXG4gICRzY29wZS50b2dnbGVTZWxlY3RPcmdhbml6YXRpb24gPSAob3JnVWlkKSAtPlxuICAgIHcuc2VsZWN0ZWRPcmdhbml6YXRpb25zW29yZ1VpZF0gPSAhdy5zZWxlY3RlZE9yZ2FuaXphdGlvbnNbb3JnVWlkXVxuXG4gICMgV2hhdCB3aWxsIGJlIHBhc3NlZCB0byBwYXJlbnRXaWRnZXRcbiAgc2V0dGluZyA9IHt9XG4gIHNldHRpbmcua2V5ID0gXCJvcmdhbml6YXRpb25zXCJcbiAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2VcblxuICAjIGluaXRpYWxpemF0aW9uIG9mIHNlbGVjdGVkIG9yZ2FuaXphdGlvbnNcbiAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICBJbXBhY0Rhc2hib2FyZHNTdmMubG9hZCgpLnRoZW4oXG4gICAgICAoY29uZmlnKSAtPlxuICAgICAgICAkc2NvcGUuZGFzaGJvYXJkT3JnYW5pemF0aW9ucyA9IGNvbmZpZy5jdXJyZW50RGFzaGJvYXJkLmRhdGFfc291cmNlc1xuICAgICAgICBpZiB3Lm1ldGFkYXRhPyAmJiB3Lm1ldGFkYXRhLm9yZ2FuaXphdGlvbl9pZHM/XG4gICAgICAgICAgZm9yIG9yZyBpbiAkc2NvcGUuZGFzaGJvYXJkT3JnYW5pemF0aW9uc1xuICAgICAgICAgICAgdy5zZWxlY3RlZE9yZ2FuaXphdGlvbnNbb3JnLnVpZF0gPSBfLmNvbnRhaW5zKHcubWV0YWRhdGEub3JnYW5pemF0aW9uX2lkcywgb3JnLnVpZClcbiAgICAgICAgICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgKVxuXG4gIHNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAgbmV3T3JnYW5pemF0aW9ucyA9IF8uY29tcGFjdChfLm1hcCh3LnNlbGVjdGVkT3JnYW5pemF0aW9ucywgKGNoZWNrZWQsdWlkKSAtPlxuICAgICAgdWlkIGlmIGNoZWNrZWRcbiAgICApKVxuICAgIG5ld09yZ2FuaXphdGlvbnMgPSBbXy5maXJzdCgkc2NvcGUuZGFzaGJvYXJkT3JnYW5pemF0aW9ucykudWlkXSBpZiBfLmlzRW1wdHkobmV3T3JnYW5pemF0aW9ucylcbiAgICByZXR1cm4geyBvcmdhbml6YXRpb25faWRzOiBuZXdPcmdhbml6YXRpb25zIH1cblxuICB3LnNldHRpbmdzLnB1c2goc2V0dGluZylcblxuICAjIFNldHRpbmcgaXMgcmVhZHk6IHRyaWdnZXIgbG9hZCBjb250ZW50XG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICRzY29wZS5kZWZlcnJlZC5yZXNvbHZlKCRzY29wZS5wYXJlbnRXaWRnZXQpXG4pXG5cbm1vZHVsZS5kaXJlY3RpdmUoJ3NldHRpbmdPcmdhbml6YXRpb25zJywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd3aWRnZXRzLXNldHRpbmdzL29yZ2FuaXphdGlvbnMudG1wbC5odG1sJyksXG4gICAgY29udHJvbGxlcjogJ1NldHRpbmdPcmdhbml6YXRpb25zQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.param-selector', []);

  module.controller('SettingParamSelectorCtrl', ["$scope", "ImpacWidgetsSvc", function($scope, ImpacWidgetsSvc) {
    var setting, w;
    $scope.showOptions = false;
    $scope.toggleShowOptions = function() {
      return $scope.showOptions = !$scope.showOptions;
    };
    $scope.selectOption = function(anOption) {
      if (anOption.value !== $scope.selected.value) {
        angular.extend($scope.selected, anOption);
        if (!$scope.noReload) {
          $scope.parentWidget.isLoading = true;
        }
        ImpacWidgetsSvc.updateWidgetSettings($scope.parentWidget, !$scope.noReload);
        if (angular.isDefined($scope.onSelect)) {
          $scope.onSelect();
        }
      }
      return $scope.toggleShowOptions();
    };
    $scope.getTruncateValue = function() {
      return parseInt($scope.truncateNo) || 20;
    };
    w = $scope.parentWidget;
    setting = {};
    setting.key = "param-selector";
    setting.isInitialized = false;
    setting.initialize = function() {
      if (w.content != null) {
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      var param;
      param = {};
      if (!_.isEmpty($scope.selected)) {
        param[$scope.param] = $scope.selected.value;
      }
      return param;
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingParamSelector', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        param: '@',
        options: '=',
        selected: '=',
        truncateNo: '@',
        onSelect: '&'
      },
      link: function(scope, elements, attrs) {
        scope.noReload = typeof attrs.noReload !== 'undefined';
        return scope.truncateNo = attrs.truncateNo || 20;
      },
      template: $templateCache.get('widgets-settings/param-selector.tmpl.html'),
      controller: 'SettingParamSelectorCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbS1zZWxlY3Rvci9wYXJhbS1zZWxlY3Rvci5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxrREFBZixFQUFrRSxFQUFsRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiwwQkFBbEIsRUFBOEMsU0FBQyxNQUFELEVBQVMsZUFBVDtBQUU1QyxRQUFBO0lBQUEsTUFBTSxDQUFDLFdBQVAsR0FBcUI7SUFFckIsTUFBTSxDQUFDLGlCQUFQLEdBQTJCLFNBQUE7YUFDekIsTUFBTSxDQUFDLFdBQVAsR0FBcUIsQ0FBQyxNQUFNLENBQUM7SUFESjtJQUczQixNQUFNLENBQUMsWUFBUCxHQUFzQixTQUFDLFFBQUQ7TUFDcEIsSUFBRyxRQUFRLENBQUMsS0FBVCxLQUFrQixNQUFNLENBQUMsUUFBUSxDQUFDLEtBQXJDO1FBQ0UsT0FBTyxDQUFDLE1BQVIsQ0FBZSxNQUFNLENBQUMsUUFBdEIsRUFBZ0MsUUFBaEM7UUFDQSxJQUFBLENBQTRDLE1BQU0sQ0FBQyxRQUFuRDtVQUFBLE1BQU0sQ0FBQyxZQUFZLENBQUMsU0FBcEIsR0FBZ0MsS0FBaEM7O1FBQ0EsZUFBZSxDQUFDLG9CQUFoQixDQUFxQyxNQUFNLENBQUMsWUFBNUMsRUFBeUQsQ0FBQyxNQUFNLENBQUMsUUFBakU7UUFDQSxJQUFxQixPQUFPLENBQUMsU0FBUixDQUFrQixNQUFNLENBQUMsUUFBekIsQ0FBckI7VUFBQSxNQUFNLENBQUMsUUFBUCxDQUFBLEVBQUE7U0FKRjs7YUFLQSxNQUFNLENBQUMsaUJBQVAsQ0FBQTtJQU5vQjtJQVF0QixNQUFNLENBQUMsZ0JBQVAsR0FBMEIsU0FBQTtBQUN4QixhQUFPLFFBQUEsQ0FBUyxNQUFNLENBQUMsVUFBaEIsQ0FBQSxJQUErQjtJQURkO0lBRzFCLENBQUEsR0FBSSxNQUFNLENBQUM7SUFHWCxPQUFBLEdBQVU7SUFDVixPQUFPLENBQUMsR0FBUixHQUFjO0lBQ2QsT0FBTyxDQUFDLGFBQVIsR0FBd0I7SUFHeEIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtNQUNuQixJQUFnQyxpQkFBaEM7ZUFBQSxPQUFPLENBQUMsYUFBUixHQUF3QixLQUF4Qjs7SUFEbUI7SUFHckIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtBQUNuQixVQUFBO01BQUEsS0FBQSxHQUFRO01BQ1IsSUFBK0MsQ0FBQyxDQUFDLENBQUMsT0FBRixDQUFVLE1BQU0sQ0FBQyxRQUFqQixDQUFoRDtRQUFBLEtBQU0sQ0FBQSxNQUFNLENBQUMsS0FBUCxDQUFOLEdBQXNCLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBdEM7O0FBQ0EsYUFBTztJQUhZO0lBS3JCLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixPQUFoQjtXQUlBLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBaEIsQ0FBd0IsTUFBTSxDQUFDLFlBQS9CO0VBdEM0QyxDQUE5Qzs7RUF5Q0EsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsc0JBQWpCLEVBQXlDLFNBQUMsY0FBRDtBQUN2QyxXQUFPO01BQ0wsUUFBQSxFQUFVLEdBREw7TUFFTCxLQUFBLEVBQU87UUFDTCxZQUFBLEVBQWMsR0FEVDtRQUVMLFFBQUEsRUFBVSxHQUZMO1FBR0wsS0FBQSxFQUFPLEdBSEY7UUFJTCxPQUFBLEVBQVMsR0FKSjtRQUtMLFFBQUEsRUFBVSxHQUxMO1FBTUwsVUFBQSxFQUFZLEdBTlA7UUFPTCxRQUFBLEVBQVUsR0FQTDtPQUZGO01BV0wsSUFBQSxFQUFNLFNBQUMsS0FBRCxFQUFRLFFBQVIsRUFBa0IsS0FBbEI7UUFDSixLQUFLLENBQUMsUUFBTixHQUFpQixPQUFPLEtBQUssQ0FBQyxRQUFiLEtBQXlCO2VBQzFDLEtBQUssQ0FBQyxVQUFOLEdBQW1CLEtBQUssQ0FBQyxVQUFOLElBQW9CO01BRm5DLENBWEQ7TUFjTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsMkNBQW5CLENBZEw7TUFlTCxVQUFBLEVBQVksMEJBZlA7O0VBRGdDLENBQXpDO0FBM0NBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbS1zZWxlY3Rvci9wYXJhbS1zZWxlY3Rvci5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLXNldHRpbmdzLnBhcmFtLXNlbGVjdG9yJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdQYXJhbVNlbGVjdG9yQ3RybCcsICgkc2NvcGUsIEltcGFjV2lkZ2V0c1N2YykgLT5cblxuICAkc2NvcGUuc2hvd09wdGlvbnMgPSBmYWxzZVxuXG4gICRzY29wZS50b2dnbGVTaG93T3B0aW9ucyA9IC0+XG4gICAgJHNjb3BlLnNob3dPcHRpb25zID0gISRzY29wZS5zaG93T3B0aW9uc1xuXG4gICRzY29wZS5zZWxlY3RPcHRpb24gPSAoYW5PcHRpb24pIC0+XG4gICAgaWYgYW5PcHRpb24udmFsdWUgIT0gJHNjb3BlLnNlbGVjdGVkLnZhbHVlXG4gICAgICBhbmd1bGFyLmV4dGVuZCAkc2NvcGUuc2VsZWN0ZWQsIGFuT3B0aW9uXG4gICAgICAkc2NvcGUucGFyZW50V2lkZ2V0LmlzTG9hZGluZyA9IHRydWUgdW5sZXNzICRzY29wZS5ub1JlbG9hZFxuICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKCRzY29wZS5wYXJlbnRXaWRnZXQsISRzY29wZS5ub1JlbG9hZClcbiAgICAgICRzY29wZS5vblNlbGVjdCgpIGlmIGFuZ3VsYXIuaXNEZWZpbmVkICRzY29wZS5vblNlbGVjdFxuICAgICRzY29wZS50b2dnbGVTaG93T3B0aW9ucygpXG5cbiAgJHNjb3BlLmdldFRydW5jYXRlVmFsdWUgPSAtPlxuICAgIHJldHVybiBwYXJzZUludCgkc2NvcGUudHJ1bmNhdGVObykgfHwgMjBcblxuICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldFxuXG4gICMgV2hhdCB3aWxsIGJlIHBhc3NlZCB0byBwYXJlbnRXaWRnZXRcbiAgc2V0dGluZyA9IHt9XG4gIHNldHRpbmcua2V5ID0gXCJwYXJhbS1zZWxlY3RvclwiXG4gIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgIyBpbml0aWFsaXphdGlvbiBvZiB0aW1lIHJhbmdlIHBhcmFtZXRlcnMgZnJvbSB3aWRnZXQuY29udGVudC5oaXN0X3BhcmFtZXRlcnNcbiAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSB0cnVlIGlmIHcuY29udGVudD9cblxuICBzZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIHBhcmFtID0ge31cbiAgICBwYXJhbVskc2NvcGUucGFyYW1dID0gJHNjb3BlLnNlbGVjdGVkLnZhbHVlIGlmICFfLmlzRW1wdHkoJHNjb3BlLnNlbGVjdGVkKVxuICAgIHJldHVybiBwYXJhbVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZXR0aW5nKVxuXG4gICMgU2V0dGluZyBpcyByZWFkeTogdHJpZ2dlciBsb2FkIGNvbnRlbnRcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRlZmVycmVkLnJlc29sdmUoJHNjb3BlLnBhcmVudFdpZGdldClcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnc2V0dGluZ1BhcmFtU2VsZWN0b3InLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPSdcbiAgICAgIGRlZmVycmVkOiAnPSdcbiAgICAgIHBhcmFtOiAnQCdcbiAgICAgIG9wdGlvbnM6ICc9J1xuICAgICAgc2VsZWN0ZWQ6ICc9J1xuICAgICAgdHJ1bmNhdGVObzogJ0AnXG4gICAgICBvblNlbGVjdDogJyYnXG4gICAgfSxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnRzLCBhdHRycykgLT5cbiAgICAgIHNjb3BlLm5vUmVsb2FkID0gdHlwZW9mIGF0dHJzLm5vUmVsb2FkICE9ICd1bmRlZmluZWQnXG4gICAgICBzY29wZS50cnVuY2F0ZU5vID0gYXR0cnMudHJ1bmNhdGVObyB8fCAyMFxuICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3MvcGFyYW0tc2VsZWN0b3IudG1wbC5odG1sJyksXG4gICAgY29udHJvbGxlcjogJ1NldHRpbmdQYXJhbVNlbGVjdG9yQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.params-checkboxes', []);

  module.controller('SettingParamsCheckboxesCtrl', ["$scope", function($scope) {
    var setting, w;
    w = $scope.parentWidget;
    setting = {};
    setting.key = "params-checkboxes";
    setting.initialize = function() {};
    setting.toMetadata = function() {
      var param;
      param = {};
      param[$scope.param] = _.map($scope.options, function(opt) {
        return {
          id: opt.id,
          value: opt.value
        };
      });
      return param;
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingParamsCheckboxes', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        param: '@',
        options: '='
      },
      template: $templateCache.get('widgets-settings/params-checkboxes.tmpl.html'),
      controller: 'SettingParamsCheckboxesCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbXMtY2hlY2tib3hlcy9wYXJhbXMtY2hlY2tib3hlcy5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSxxREFBZixFQUFxRSxFQUFyRTs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQiw2QkFBbEIsRUFBaUQsU0FBQyxNQUFEO0FBRS9DLFFBQUE7SUFBQSxDQUFBLEdBQUksTUFBTSxDQUFDO0lBR1gsT0FBQSxHQUFVO0lBQ1YsT0FBTyxDQUFDLEdBQVIsR0FBYztJQUVkLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLFNBQUEsR0FBQTtJQUVyQixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxLQUFBLEdBQVE7TUFDUixLQUFNLENBQUEsTUFBTSxDQUFDLEtBQVAsQ0FBTixHQUFzQixDQUFDLENBQUMsR0FBRixDQUFNLE1BQU0sQ0FBQyxPQUFiLEVBQXNCLFNBQUMsR0FBRDtlQUFTO1VBQUUsRUFBQSxFQUFJLEdBQUcsQ0FBQyxFQUFWO1VBQWMsS0FBQSxFQUFPLEdBQUcsQ0FBQyxLQUF6Qjs7TUFBVCxDQUF0QjtBQUN0QixhQUFPO0lBSFk7SUFLckIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUFuQitDLENBQWpEOztFQXNCQSxNQUFNLENBQUMsU0FBUCxDQUFpQix5QkFBakIsRUFBNEMsU0FBQyxjQUFEO0FBQzFDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLFlBQUEsRUFBYyxHQURUO1FBRUwsUUFBQSxFQUFVLEdBRkw7UUFHTCxLQUFBLEVBQU8sR0FIRjtRQUlMLE9BQUEsRUFBUyxHQUpKO09BRkY7TUFRTCxRQUFBLEVBQVUsY0FBYyxDQUFDLEdBQWYsQ0FBbUIsOENBQW5CLENBUkw7TUFTTCxVQUFBLEVBQVksNkJBVFA7O0VBRG1DLENBQTVDO0FBeEJBIiwiZmlsZSI6ImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbXMtY2hlY2tib3hlcy9wYXJhbXMtY2hlY2tib3hlcy5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnaW1wYWMuY29tcG9uZW50cy53aWRnZXRzLXNldHRpbmdzLnBhcmFtcy1jaGVja2JveGVzJyxbXSlcblxubW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdQYXJhbXNDaGVja2JveGVzQ3RybCcsICgkc2NvcGUpIC0+XG5cbiAgdyA9ICRzY29wZS5wYXJlbnRXaWRnZXRcblxuICAjIFdoYXQgd2lsbCBiZSBwYXNzZWQgdG8gcGFyZW50V2lkZ2V0XG4gIHNldHRpbmcgPSB7fVxuICBzZXR0aW5nLmtleSA9IFwicGFyYW1zLWNoZWNrYm94ZXNcIlxuXG4gIHNldHRpbmcuaW5pdGlhbGl6ZSA9IC0+XG5cbiAgc2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICBwYXJhbSA9IHt9XG4gICAgcGFyYW1bJHNjb3BlLnBhcmFtXSA9IF8ubWFwICRzY29wZS5vcHRpb25zLCAob3B0KSAtPiB7IGlkOiBvcHQuaWQsIHZhbHVlOiBvcHQudmFsdWUgfVxuICAgIHJldHVybiBwYXJhbVxuXG4gIHcuc2V0dGluZ3MucHVzaChzZXR0aW5nKVxuXG4gICMgU2V0dGluZyBpcyByZWFkeTogdHJpZ2dlciBsb2FkIGNvbnRlbnRcbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJHNjb3BlLmRlZmVycmVkLnJlc29sdmUoJHNjb3BlLnBhcmVudFdpZGdldClcbilcblxubW9kdWxlLmRpcmVjdGl2ZSgnc2V0dGluZ1BhcmFtc0NoZWNrYm94ZXMnLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPScsXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgICBwYXJhbTogJ0AnLFxuICAgICAgb3B0aW9uczogJz0nLFxuICAgIH0sXG4gICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbXMtY2hlY2tib3hlcy50bXBsLmh0bWwnKSxcbiAgICBjb250cm9sbGVyOiAnU2V0dGluZ1BhcmFtc0NoZWNrYm94ZXNDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.params-picker', []);

  module.controller('SettingParamsPickerCtrl', ["$scope", function($scope) {
    var setting, w;
    w = $scope.parentWidget;
    setting = {};
    setting.key = "params-picker";
    setting.isInitialized = false;
    setting.initialize = function() {
      $scope.sortableOptions = {
        'ui-floating': true,
        tolerance: 'pointer'
      };
      if (_.isEmpty($scope.options)) {
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      var param;
      param = {};
      param[$scope.param] = _.compact(_.map($scope.options, function(statusOption) {
        if (statusOption.selected) {
          return statusOption.label;
        }
      }));
      return param;
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingParamsPicker', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        param: '@',
        options: '='
      },
      link: function(scope, elements, attrs) {
        return scope.formattedParam = scope.param.replace('_', ' ');
      },
      template: $templateCache.get('widgets-settings/params-picker.tmpl.html'),
      controller: 'SettingParamsPickerCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbXMtcGlja2VyL3BhcmFtcy1waWNrZXIuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsaURBQWYsRUFBaUUsRUFBakU7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0IseUJBQWxCLEVBQTZDLFNBQUMsTUFBRDtBQUUzQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUdYLE9BQUEsR0FBVTtJQUNWLE9BQU8sQ0FBQyxHQUFSLEdBQWM7SUFDZCxPQUFPLENBQUMsYUFBUixHQUF3QjtJQUV4QixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO01BQ25CLE1BQU0sQ0FBQyxlQUFQLEdBQXlCO1FBQ3ZCLGFBQUEsRUFBZSxJQURRO1FBRXZCLFNBQUEsRUFBVyxTQUZZOztNQUl6QixJQUFnQyxDQUFDLENBQUMsT0FBRixDQUFVLE1BQU0sQ0FBQyxPQUFqQixDQUFoQztlQUFBLE9BQU8sQ0FBQyxhQUFSLEdBQXdCLEtBQXhCOztJQUxtQjtJQVFyQixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO0FBQ25CLFVBQUE7TUFBQSxLQUFBLEdBQVE7TUFDUixLQUFNLENBQUEsTUFBTSxDQUFDLEtBQVAsQ0FBTixHQUFzQixDQUFDLENBQUMsT0FBRixDQUFVLENBQUMsQ0FBQyxHQUFGLENBQU0sTUFBTSxDQUFDLE9BQWIsRUFBc0IsU0FBQyxZQUFEO1FBQ3BELElBQXNCLFlBQVksQ0FBQyxRQUFuQztpQkFBQSxZQUFZLENBQUMsTUFBYjs7TUFEb0QsQ0FBdEIsQ0FBVjtBQUd0QixhQUFPO0lBTFk7SUFPckIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUE1QjJDLENBQTdDOztFQStCQSxNQUFNLENBQUMsU0FBUCxDQUFpQixxQkFBakIsRUFBd0MsU0FBQyxjQUFEO0FBQ3RDLFdBQU87TUFDTCxRQUFBLEVBQVUsR0FETDtNQUVMLEtBQUEsRUFBTztRQUNMLFlBQUEsRUFBYyxHQURUO1FBRUwsUUFBQSxFQUFVLEdBRkw7UUFHTCxLQUFBLEVBQU8sR0FIRjtRQUlMLE9BQUEsRUFBUyxHQUpKO09BRkY7TUFRTCxJQUFBLEVBQU0sU0FBQyxLQUFELEVBQVEsUUFBUixFQUFrQixLQUFsQjtlQUNKLEtBQUssQ0FBQyxjQUFOLEdBQXVCLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBWixDQUFvQixHQUFwQixFQUF3QixHQUF4QjtNQURuQixDQVJEO01BVUwsUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLDBDQUFuQixDQVZMO01BV0wsVUFBQSxFQUFZLHlCQVhQOztFQUQrQixDQUF4QztBQWpDQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMtc2V0dGluZ3MvcGFyYW1zLXBpY2tlci9wYXJhbXMtcGlja2VyLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3MucGFyYW1zLXBpY2tlcicsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdTZXR0aW5nUGFyYW1zUGlja2VyQ3RybCcsICgkc2NvcGUpIC0+XG5cbiAgdyA9ICRzY29wZS5wYXJlbnRXaWRnZXRcblxuICAjIFdoYXQgd2lsbCBiZSBwYXNzZWQgdG8gcGFyZW50V2lkZ2V0XG4gIHNldHRpbmcgPSB7fVxuICBzZXR0aW5nLmtleSA9IFwicGFyYW1zLXBpY2tlclwiXG4gIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IGZhbHNlXG5cbiAgc2V0dGluZy5pbml0aWFsaXplID0gLT5cbiAgICAkc2NvcGUuc29ydGFibGVPcHRpb25zID0ge1xuICAgICAgJ3VpLWZsb2F0aW5nJzogdHJ1ZSxcbiAgICAgIHRvbGVyYW5jZTogJ3BvaW50ZXInXG4gICAgfVxuICAgIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IHRydWUgaWYgXy5pc0VtcHR5KCRzY29wZS5vcHRpb25zKVxuXG5cbiAgc2V0dGluZy50b01ldGFkYXRhID0gLT5cbiAgICBwYXJhbSA9IHt9XG4gICAgcGFyYW1bJHNjb3BlLnBhcmFtXSA9IF8uY29tcGFjdChfLm1hcCAkc2NvcGUub3B0aW9ucywgKHN0YXR1c09wdGlvbikgLT5cbiAgICAgIHN0YXR1c09wdGlvbi5sYWJlbCBpZiBzdGF0dXNPcHRpb24uc2VsZWN0ZWRcbiAgICApXG4gICAgcmV0dXJuIHBhcmFtXG5cbiAgdy5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG5cbiAgIyBTZXR0aW5nIGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUucGFyZW50V2lkZ2V0KVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nUGFyYW1zUGlja2VyJywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nLFxuICAgICAgZGVmZXJyZWQ6ICc9J1xuICAgICAgcGFyYW06ICdAJyxcbiAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICB9LFxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudHMsIGF0dHJzKSAtPlxuICAgICAgc2NvcGUuZm9ybWF0dGVkUGFyYW0gPSBzY29wZS5wYXJhbS5yZXBsYWNlKCdfJywnICcpXG4gICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy1zZXR0aW5ncy9wYXJhbXMtcGlja2VyLnRtcGwuaHRtbCcpLFxuICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nUGFyYW1zUGlja2VyQ3RybCdcbiAgfVxuKVxuIl19

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.time-range', []);

  module.controller('SettingTimeRangeCtrl', ["$scope", "$log", function($scope, $log) {
    var setting, w;
    w = $scope.parentWidget;
    $scope.numberOfPeriods = (new Date()).getMonth() + 1;
    $scope.selectedPeriod = "MONTHLY";
    $scope.PERIODS = ['DAILY', 'WEEKLY', 'MONTHLY', 'QUARTERLY', 'YEARLY'];
    $scope.periodToUnit = function() {
      var nb, period, unit;
      nb = $scope.numberOfPeriods;
      period = $scope.selectedPeriod;
      if (period !== "DAILY") {
        unit = period.substring(0, period.length - 2).toLowerCase();
      } else {
        unit = "day";
      }
      if (nb > 1) {
        unit = unit.concat("s");
      }
      return unit;
    };
    setting = {};
    setting.key = "time-range";
    setting.isInitialized = false;
    setting.initialize = function() {
      var hist;
      if ((w.metadata != null) && (hist = w.metadata.hist_parameters)) {
        if (hist.period != null) {
          $scope.selectedPeriod = hist.period;
        }
        if (hist.number_of_periods != null) {
          $scope.numberOfPeriods = hist.number_of_periods;
        }
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      return {
        hist_parameters: {
          period: $scope.selectedPeriod,
          number_of_periods: $scope.numberOfPeriods
        }
      };
    };
    w.settings || (w.settings = []);
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingTimeRange', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '='
      },
      template: $templateCache.get('widgets-settings/time-range.tmpl.html'),
      controller: 'SettingTimeRangeCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy90aW1lLXJhbmdlL3RpbWUtcmFuZ2UuZGlyZWN0aXZlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQWUsOENBQWYsRUFBOEQsRUFBOUQ7O0VBRVQsTUFBTSxDQUFDLFVBQVAsQ0FBa0Isc0JBQWxCLEVBQTBDLFNBQUMsTUFBRCxFQUFTLElBQVQ7QUFFeEMsUUFBQTtJQUFBLENBQUEsR0FBSSxNQUFNLENBQUM7SUFFWCxNQUFNLENBQUMsZUFBUCxHQUF5QixDQUFLLElBQUEsSUFBQSxDQUFBLENBQUwsQ0FBWSxDQUFDLFFBQWIsQ0FBQSxDQUFBLEdBQTBCO0lBQ25ELE1BQU0sQ0FBQyxjQUFQLEdBQXdCO0lBQ3hCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLENBQUMsT0FBRCxFQUFTLFFBQVQsRUFBa0IsU0FBbEIsRUFBNEIsV0FBNUIsRUFBd0MsUUFBeEM7SUFFakIsTUFBTSxDQUFDLFlBQVAsR0FBc0IsU0FBQTtBQUNwQixVQUFBO01BQUEsRUFBQSxHQUFLLE1BQU0sQ0FBQztNQUNaLE1BQUEsR0FBUyxNQUFNLENBQUM7TUFDaEIsSUFBRyxNQUFBLEtBQVUsT0FBYjtRQUNFLElBQUEsR0FBTyxNQUFNLENBQUMsU0FBUCxDQUFpQixDQUFqQixFQUFtQixNQUFNLENBQUMsTUFBUCxHQUFjLENBQWpDLENBQW1DLENBQUMsV0FBcEMsQ0FBQSxFQURUO09BQUEsTUFBQTtRQUdFLElBQUEsR0FBTyxNQUhUOztNQUlBLElBQUcsRUFBQSxHQUFLLENBQVI7UUFDRSxJQUFBLEdBQU8sSUFBSSxDQUFDLE1BQUwsQ0FBWSxHQUFaLEVBRFQ7O0FBRUEsYUFBTztJQVRhO0lBWXRCLE9BQUEsR0FBVTtJQUNWLE9BQU8sQ0FBQyxHQUFSLEdBQWM7SUFDZCxPQUFPLENBQUMsYUFBUixHQUF3QjtJQUd4QixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO0FBRW5CLFVBQUE7TUFBQSxJQUFHLG9CQUFBLElBQWUsQ0FBQSxJQUFBLEdBQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFsQixDQUFsQjtRQUNFLElBQXVDLG1CQUF2QztVQUFBLE1BQU0sQ0FBQyxjQUFQLEdBQXdCLElBQUksQ0FBQyxPQUE3Qjs7UUFDQSxJQUFtRCw4QkFBbkQ7VUFBQSxNQUFNLENBQUMsZUFBUCxHQUF5QixJQUFJLENBQUMsa0JBQTlCOztlQUNBLE9BQU8sQ0FBQyxhQUFSLEdBQXdCLEtBSDFCOztJQUZtQjtJQU9yQixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO0FBQ25CLGFBQU87UUFBRSxlQUFBLEVBQWlCO1VBQUMsTUFBQSxFQUFRLE1BQU0sQ0FBQyxjQUFoQjtVQUFnQyxpQkFBQSxFQUFtQixNQUFNLENBQUMsZUFBMUQ7U0FBbkI7O0lBRFk7SUFHckIsQ0FBQyxDQUFDLGFBQUYsQ0FBQyxDQUFDLFdBQWE7SUFDZixDQUFDLENBQUMsUUFBUSxDQUFDLElBQVgsQ0FBZ0IsT0FBaEI7V0FJQSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQWhCLENBQXdCLE1BQU0sQ0FBQyxZQUEvQjtFQXhDd0MsQ0FBMUM7O0VBMkNBLE1BQU0sQ0FBQyxTQUFQLENBQWlCLGtCQUFqQixFQUFxQyxTQUFDLGNBQUQ7QUFDbkMsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsWUFBQSxFQUFjLEdBRFQ7UUFFTCxRQUFBLEVBQVUsR0FGTDtPQUZGO01BTUwsUUFBQSxFQUFVLGNBQWMsQ0FBQyxHQUFmLENBQW1CLHVDQUFuQixDQU5MO01BT0wsVUFBQSxFQUFZLHNCQVBQOztFQUQ0QixDQUFyQztBQTdDQSIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMtc2V0dGluZ3MvdGltZS1yYW5nZS90aW1lLXJhbmdlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3MudGltZS1yYW5nZScsW10pXG5cbm1vZHVsZS5jb250cm9sbGVyKCdTZXR0aW5nVGltZVJhbmdlQ3RybCcsICgkc2NvcGUsICRsb2cpIC0+XG5cbiAgdyA9ICRzY29wZS5wYXJlbnRXaWRnZXRcblxuICAkc2NvcGUubnVtYmVyT2ZQZXJpb2RzID0gKG5ldyBEYXRlKCkpLmdldE1vbnRoKCkgKyAxXG4gICRzY29wZS5zZWxlY3RlZFBlcmlvZCA9IFwiTU9OVEhMWVwiXG4gICRzY29wZS5QRVJJT0RTID0gWydEQUlMWScsJ1dFRUtMWScsJ01PTlRITFknLCdRVUFSVEVSTFknLCdZRUFSTFknXVxuXG4gICRzY29wZS5wZXJpb2RUb1VuaXQgPSAtPlxuICAgIG5iID0gJHNjb3BlLm51bWJlck9mUGVyaW9kc1xuICAgIHBlcmlvZCA9ICRzY29wZS5zZWxlY3RlZFBlcmlvZFxuICAgIGlmIHBlcmlvZCAhPSBcIkRBSUxZXCJcbiAgICAgIHVuaXQgPSBwZXJpb2Quc3Vic3RyaW5nKDAscGVyaW9kLmxlbmd0aC0yKS50b0xvd2VyQ2FzZSgpXG4gICAgZWxzZVxuICAgICAgdW5pdCA9IFwiZGF5XCJcbiAgICBpZiBuYiA+IDFcbiAgICAgIHVuaXQgPSB1bml0LmNvbmNhdChcInNcIilcbiAgICByZXR1cm4gdW5pdFxuXG4gICMgV2hhdCB3aWxsIGJlIHBhc3NlZCB0byBwYXJlbnRXaWRnZXRcbiAgc2V0dGluZyA9IHt9XG4gIHNldHRpbmcua2V5ID0gXCJ0aW1lLXJhbmdlXCJcbiAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2VcblxuICAjIGluaXRpYWxpemF0aW9uIG9mIHRpbWUgcmFuZ2UgcGFyYW1ldGVycyBmcm9tIHdpZGdldC5jb250ZW50Lmhpc3RfcGFyYW1ldGVyc1xuICBzZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgICMgaWYgdy5jb250ZW50PyAmJiBoaXN0ID0gdy5jb250ZW50Lmhpc3RfcGFyYW1ldGVyc1xuICAgIGlmIHcubWV0YWRhdGE/ICYmIGhpc3QgPSB3Lm1ldGFkYXRhLmhpc3RfcGFyYW1ldGVyc1xuICAgICAgJHNjb3BlLnNlbGVjdGVkUGVyaW9kID0gaGlzdC5wZXJpb2QgaWYgaGlzdC5wZXJpb2Q/XG4gICAgICAkc2NvcGUubnVtYmVyT2ZQZXJpb2RzID0gaGlzdC5udW1iZXJfb2ZfcGVyaW9kcyBpZiBoaXN0Lm51bWJlcl9vZl9wZXJpb2RzP1xuICAgICAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuXG4gIHNldHRpbmcudG9NZXRhZGF0YSA9IC0+XG4gICAgcmV0dXJuIHsgaGlzdF9wYXJhbWV0ZXJzOiB7cGVyaW9kOiAkc2NvcGUuc2VsZWN0ZWRQZXJpb2QsIG51bWJlcl9vZl9wZXJpb2RzOiAkc2NvcGUubnVtYmVyT2ZQZXJpb2RzfSB9XG5cbiAgdy5zZXR0aW5ncyB8fD0gW11cbiAgdy5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG5cbiAgIyBTZXR0aW5nIGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUucGFyZW50V2lkZ2V0KVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nVGltZVJhbmdlJywgKCR0ZW1wbGF0ZUNhY2hlKSAtPlxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHBhcmVudFdpZGdldDogJz0nXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd3aWRnZXRzLXNldHRpbmdzL3RpbWUtcmFuZ2UudG1wbC5odG1sJyksXG4gICAgY29udHJvbGxlcjogJ1NldHRpbmdUaW1lUmFuZ2VDdHJsJ1xuICB9XG4pXG4iXX0=

(function() {
  var module;

  module = angular.module('impac.components.widgets-settings.width', []);

  module.controller('SettingWidthCtrl', ["$scope", "$element", "$timeout", "$log", "ImpacWidgetsSvc", function($scope, $element, $timeout, $log, ImpacWidgetsSvc) {
    var elem, hideOnResize, i, len, ref, setting, w;
    w = $scope.parentWidget;
    setting = {};
    setting.key = "width";
    setting.isInitialized = false;
    ref = $element.parents();
    for (i = 0, len = ref.length; i < len; i++) {
      elem = ref[i];
      if (angular.element(elem).hasClass('content')) {
        $scope.contentElements = angular.element(elem).children();
        break;
      }
    }
    hideOnResize = function(elements) {
      var j, len1;
      if (!(elements && elements.length > 0)) {
        return;
      }
      for (j = 0, len1 = elements.length; j < len1; j++) {
        elem = elements[j];
        angular.element(elem).animate({
          opacity: 0
        }, 0);
      }
      return $timeout(function() {
        var k, len2, results;
        results = [];
        for (k = 0, len2 = elements.length; k < len2; k++) {
          elem = elements[k];
          results.push(angular.element(elem).animate({
            opacity: 1
          }, 200));
        }
        return results;
      }, 300);
    };
    w.toggleExpanded = function() {
      $scope.expanded = !$scope.expanded;
      ImpacWidgetsSvc.updateWidgetSettings(w, false);
      hideOnResize($scope.contentElements);
      if ($scope.expanded) {
        return w.width = parseInt($scope.max);
      } else {
        return w.width = parseInt($scope.min);
      }
    };
    w.isExpanded = function() {
      return $scope.expanded;
    };
    setting.initialize = function() {
      if (w.width != null) {
        $scope.expanded = w.width === parseInt($scope.max);
        return setting.isInitialized = true;
      }
    };
    setting.toMetadata = function() {
      var newWidth;
      if ($scope.expanded) {
        newWidth = $scope.max;
      } else {
        newWidth = $scope.min;
      }
      return {
        width: parseInt(newWidth)
      };
    };
    w.settings.push(setting);
    return $scope.deferred.resolve($scope.parentWidget);
  }]);

  module.directive('settingWidth', ["$templateCache", function($templateCache) {
    return {
      restrict: 'A',
      scope: {
        parentWidget: '=',
        deferred: '=',
        min: '@',
        max: '@'
      },
      template: $templateCache.get('widgets-settings/width.tmpl.html'),
      controller: 'SettingWidthCtrl'
    };
  }]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy93aWR0aC93aWR0aC5kaXJlY3RpdmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLE1BQVIsQ0FBZSx5Q0FBZixFQUF5RCxFQUF6RDs7RUFFVCxNQUFNLENBQUMsVUFBUCxDQUFrQixrQkFBbEIsRUFBc0MsU0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixRQUFuQixFQUE2QixJQUE3QixFQUFtQyxlQUFuQztBQUVwQyxRQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQztJQUdYLE9BQUEsR0FBVTtJQUNWLE9BQU8sQ0FBQyxHQUFSLEdBQWM7SUFDZCxPQUFPLENBQUMsYUFBUixHQUF3QjtBQUd4QjtBQUFBLFNBQUEscUNBQUE7O01BQ0UsSUFBRyxPQUFPLENBQUMsT0FBUixDQUFnQixJQUFoQixDQUFxQixDQUFDLFFBQXRCLENBQStCLFNBQS9CLENBQUg7UUFDRSxNQUFNLENBQUMsZUFBUCxHQUF5QixPQUFPLENBQUMsT0FBUixDQUFnQixJQUFoQixDQUFxQixDQUFDLFFBQXRCLENBQUE7QUFDekIsY0FGRjs7QUFERjtJQU9BLFlBQUEsR0FBZSxTQUFDLFFBQUQ7QUFDYixVQUFBO01BQUEsSUFBQSxDQUFjLENBQUMsUUFBQSxJQUFZLFFBQVEsQ0FBQyxNQUFULEdBQWtCLENBQS9CLENBQWQ7QUFBQSxlQUFBOztBQUVBLFdBQUEsNENBQUE7O1FBQ0UsT0FBTyxDQUFDLE9BQVIsQ0FBZ0IsSUFBaEIsQ0FBcUIsQ0FBQyxPQUF0QixDQUE4QjtVQUFDLE9BQUEsRUFBUyxDQUFWO1NBQTlCLEVBQTRDLENBQTVDO0FBREY7YUFHQSxRQUFBLENBQVMsU0FBQTtBQUNQLFlBQUE7QUFBQTthQUFBLDRDQUFBOzt1QkFDRSxPQUFPLENBQUMsT0FBUixDQUFnQixJQUFoQixDQUFxQixDQUFDLE9BQXRCLENBQThCO1lBQUMsT0FBQSxFQUFTLENBQVY7V0FBOUIsRUFBNEMsR0FBNUM7QUFERjs7TUFETyxDQUFULEVBR0UsR0FIRjtJQU5hO0lBV2YsQ0FBQyxDQUFDLGNBQUYsR0FBbUIsU0FBQTtNQUNqQixNQUFNLENBQUMsUUFBUCxHQUFrQixDQUFDLE1BQU0sQ0FBQztNQUUxQixlQUFlLENBQUMsb0JBQWhCLENBQXFDLENBQXJDLEVBQXVDLEtBQXZDO01BRUEsWUFBQSxDQUFhLE1BQU0sQ0FBQyxlQUFwQjtNQUVBLElBQUcsTUFBTSxDQUFDLFFBQVY7ZUFDRSxDQUFDLENBQUMsS0FBRixHQUFVLFFBQUEsQ0FBUyxNQUFNLENBQUMsR0FBaEIsRUFEWjtPQUFBLE1BQUE7ZUFHRSxDQUFDLENBQUMsS0FBRixHQUFVLFFBQUEsQ0FBUyxNQUFNLENBQUMsR0FBaEIsRUFIWjs7SUFQaUI7SUFZbkIsQ0FBQyxDQUFDLFVBQUYsR0FBZSxTQUFBO2FBQ2IsTUFBTSxDQUFDO0lBRE07SUFJZixPQUFPLENBQUMsVUFBUixHQUFxQixTQUFBO01BQ25CLElBQUcsZUFBSDtRQUNFLE1BQU0sQ0FBQyxRQUFQLEdBQW1CLENBQUMsQ0FBQyxLQUFGLEtBQVcsUUFBQSxDQUFTLE1BQU0sQ0FBQyxHQUFoQjtlQUM5QixPQUFPLENBQUMsYUFBUixHQUF3QixLQUYxQjs7SUFEbUI7SUFLckIsT0FBTyxDQUFDLFVBQVIsR0FBcUIsU0FBQTtBQUNuQixVQUFBO01BQUEsSUFBRyxNQUFNLENBQUMsUUFBVjtRQUNFLFFBQUEsR0FBVyxNQUFNLENBQUMsSUFEcEI7T0FBQSxNQUFBO1FBR0UsUUFBQSxHQUFXLE1BQU0sQ0FBQyxJQUhwQjs7QUFJQSxhQUFPO1FBQUUsS0FBQSxFQUFPLFFBQUEsQ0FBUyxRQUFULENBQVQ7O0lBTFk7SUFPckIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLE9BQWhCO1dBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFoQixDQUF3QixNQUFNLENBQUMsWUFBL0I7RUE1RG9DLENBQXRDOztFQStEQSxNQUFNLENBQUMsU0FBUCxDQUFpQixjQUFqQixFQUFpQyxTQUFDLGNBQUQ7QUFDL0IsV0FBTztNQUNMLFFBQUEsRUFBVSxHQURMO01BRUwsS0FBQSxFQUFPO1FBQ0wsWUFBQSxFQUFjLEdBRFQ7UUFFTCxRQUFBLEVBQVUsR0FGTDtRQUdMLEdBQUEsRUFBSyxHQUhBO1FBSUwsR0FBQSxFQUFLLEdBSkE7T0FGRjtNQVFMLFFBQUEsRUFBVSxjQUFjLENBQUMsR0FBZixDQUFtQixrQ0FBbkIsQ0FSTDtNQVNMLFVBQUEsRUFBWSxrQkFUUDs7RUFEd0IsQ0FBakM7QUFqRUEiLCJmaWxlIjoiY29tcG9uZW50cy93aWRnZXRzLXNldHRpbmdzL3dpZHRoL3dpZHRoLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbXBhYy5jb21wb25lbnRzLndpZGdldHMtc2V0dGluZ3Mud2lkdGgnLFtdKVxuXG5tb2R1bGUuY29udHJvbGxlcignU2V0dGluZ1dpZHRoQ3RybCcsICgkc2NvcGUsICRlbGVtZW50LCAkdGltZW91dCwgJGxvZywgSW1wYWNXaWRnZXRzU3ZjKSAtPlxuXG4gIHcgPSAkc2NvcGUucGFyZW50V2lkZ2V0XG5cbiAgIyBXaGF0IHdpbGwgYmUgcGFzc2VkIHRvIHBhcmVudFdpZGdldFxuICBzZXR0aW5nID0ge31cbiAgc2V0dGluZy5rZXkgPSBcIndpZHRoXCJcbiAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2VcblxuICAjIEVsZW1lbnRzIHRvIGJlIGhpZGRlbiBkdXJpbmcgcmVzaXppbmdcbiAgZm9yIGVsZW0gaW4gJGVsZW1lbnQucGFyZW50cygpXG4gICAgaWYgYW5ndWxhci5lbGVtZW50KGVsZW0pLmhhc0NsYXNzKCdjb250ZW50JylcbiAgICAgICRzY29wZS5jb250ZW50RWxlbWVudHMgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbSkuY2hpbGRyZW4oKVxuICAgICAgYnJlYWtcblxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGhpZGVPblJlc2l6ZSA9IChlbGVtZW50cykgLT5cbiAgICByZXR1cm4gdW5sZXNzIChlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPiAwKVxuICAgICMgSGlkZXMgZWxlbXMgaW4gY29udGVudFxuICAgIGZvciBlbGVtIGluIGVsZW1lbnRzXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbSkuYW5pbWF0ZSh7b3BhY2l0eTogMH0sIDApXG4gICAgIyBNYWtlcyB0aGVtIHJlYXBwZWFyIGFmdGVyIHJlc2l6aW5nXG4gICAgJHRpbWVvdXQgLT5cbiAgICAgIGZvciBlbGVtIGluIGVsZW1lbnRzXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtKS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgMjAwKVxuICAgICwgMzAwXG5cbiAgdy50b2dnbGVFeHBhbmRlZCA9IC0+XG4gICAgJHNjb3BlLmV4cGFuZGVkID0gISRzY29wZS5leHBhbmRlZFxuICAgICMgZmFsc2UgYmVjYXVzZSB3ZSB3YW50IHRvIHJlc2l6ZSB0aGUgd2lkZ2V0IHdpdGhvdXQgd2FpdGluZyBmb3IgdGhlIHJlc3BvbnNlIGZyb20gdGhlIGRhc2hib2FyZGluZyBBUElcbiAgICBJbXBhY1dpZGdldHNTdmMudXBkYXRlV2lkZ2V0U2V0dGluZ3ModyxmYWxzZSlcbiAgICBcbiAgICBoaWRlT25SZXNpemUoJHNjb3BlLmNvbnRlbnRFbGVtZW50cylcblxuICAgIGlmICRzY29wZS5leHBhbmRlZFxuICAgICAgdy53aWR0aCA9IHBhcnNlSW50KCRzY29wZS5tYXgpXG4gICAgZWxzZVxuICAgICAgdy53aWR0aCA9IHBhcnNlSW50KCRzY29wZS5taW4pXG5cbiAgdy5pc0V4cGFuZGVkID0gLT5cbiAgICAkc2NvcGUuZXhwYW5kZWRcblxuICAjIGluaXRpYWxpemF0aW9uIG9mIHRpbWUgcmFuZ2UgcGFyYW1ldGVycyBmcm9tIHdpZGdldC5jb250ZW50Lmhpc3RfcGFyYW1ldGVyc1xuICBzZXR0aW5nLmluaXRpYWxpemUgPSAtPlxuICAgIGlmIHcud2lkdGg/XG4gICAgICAkc2NvcGUuZXhwYW5kZWQgPSAody53aWR0aCA9PSBwYXJzZUludCgkc2NvcGUubWF4KSlcbiAgICAgIHNldHRpbmcuaXNJbml0aWFsaXplZCA9IHRydWVcblxuICBzZXR0aW5nLnRvTWV0YWRhdGEgPSAtPlxuICAgIGlmICRzY29wZS5leHBhbmRlZFxuICAgICAgbmV3V2lkdGggPSAkc2NvcGUubWF4XG4gICAgZWxzZVxuICAgICAgbmV3V2lkdGggPSAkc2NvcGUubWluXG4gICAgcmV0dXJuIHsgd2lkdGg6IHBhcnNlSW50KG5ld1dpZHRoKSB9XG5cbiAgdy5zZXR0aW5ncy5wdXNoKHNldHRpbmcpXG5cbiAgIyBTZXR0aW5nIGlzIHJlYWR5OiB0cmlnZ2VyIGxvYWQgY29udGVudFxuICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc2NvcGUuZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUucGFyZW50V2lkZ2V0KVxuKVxuXG5tb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nV2lkdGgnLCAoJHRlbXBsYXRlQ2FjaGUpIC0+XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgcGFyZW50V2lkZ2V0OiAnPScsXG4gICAgICBkZWZlcnJlZDogJz0nXG4gICAgICBtaW46ICdAJyxcbiAgICAgIG1heDogJ0AnLFxuICAgIH0sXG4gICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnd2lkZ2V0cy1zZXR0aW5ncy93aWR0aC50bXBsLmh0bWwnKSxcbiAgICBjb250cm9sbGVyOiAnU2V0dGluZ1dpZHRoQ3RybCdcbiAgfVxuKVxuIl19

!function t(e,i,a){function s(n,r){if(!i[n]){if(!e[n]){var h="function"==typeof require&&require;if(!r&&h)return h(n,!0);if(o)return o(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[n]={exports:{}};e[n][0].call(c.exports,function(t){var i=e[n][1][t];return s(i?i:t)},c,c.exports,t,e,i,a)}return i[n].exports}for(var o="function"==typeof require&&require,n=0;n<a.length;n++)s(a[n]);return s}({1:[function(t,e,i){!function(){var i=t("color-convert"),a=t("color-string"),s=function(t){if(t instanceof s)return t;if(!(this instanceof s))return new s(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t){var e=a.getRgba(t);if(e)this.setValues("rgb",e);else if(e=a.getHsla(t))this.setValues("hsl",e);else{if(!(e=a.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}}else if("object"==typeof t){var e=t;if(void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};s.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var a=t[i]/255;e[i]=.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=0>e?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){e=1-(null==e?.5:e);for(var i=2*e-1,a=this.alpha()-t.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,o=1-s,n=this.rgbArray(),r=t.rgbArray(),h=0;h<n.length;h++)n[h]=n[h]*s+r[h]*o;this.setValues("rgb",n);var l=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",l),this},toJSON:function(){return this.rgb()},clone:function(){return new s(this.rgb())}},s.prototype.getValues=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=this.values[t][i];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},s.prototype.setValues=function(t,e){var a={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},s={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if("alpha"==t)o=e;else if(e.length)this.values[t]=e.slice(0,t.length),o=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var n=0;n<t.length;n++)this.values[t][n]=e[t.charAt(n)];o=e.a}else if(void 0!==e[a[t][0]]){for(var r=a[t],n=0;n<t.length;n++)this.values[t][n]=e[r[n]];o=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==o?o:this.values.alpha)),"alpha"!=t){for(var n=0;n<t.length;n++){var h=Math.max(0,Math.min(s[t][n],this.values[t][n]));this.values[t][n]=Math.round(h)}for(var l in a){l!=t&&(this.values[l]=i[t][l](this.values[t]));for(var n=0;n<l.length;n++){var h=Math.max(0,Math.min(s[l][n],this.values[l][n]));this.values[l][n]=Math.round(h)}}return!0}},s.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},s.prototype.setChannel=function(t,e,i){return void 0===i?this.values[t][e]:(this.values[t][e]=i,this.setValues(t,this.values[t]),this)},window.Color=e.exports=s}()},{"color-convert":3,"color-string":4}],2:[function(t,e,i){function a(t){var e,i,a,s=t[0]/255,o=t[1]/255,n=t[2]/255,r=Math.min(s,o,n),h=Math.max(s,o,n),l=h-r;return h==r?e=0:s==h?e=(o-n)/l:o==h?e=2+(n-s)/l:n==h&&(e=4+(s-o)/l),e=Math.min(60*e,360),0>e&&(e+=360),a=(r+h)/2,i=h==r?0:.5>=a?l/(h+r):l/(2-h-r),[e,100*i,100*a]}function s(t){var e,i,a,s=t[0],o=t[1],n=t[2],r=Math.min(s,o,n),h=Math.max(s,o,n),l=h-r;return i=0==h?0:l/h*1e3/10,h==r?e=0:s==h?e=(o-n)/l:o==h?e=2+(n-s)/l:n==h&&(e=4+(s-o)/l),e=Math.min(60*e,360),0>e&&(e+=360),a=h/255*1e3/10,[e,i,a]}function o(t){var e=t[0],i=t[1],s=t[2],o=a(t)[0],n=1/255*Math.min(e,Math.min(i,s)),s=1-1/255*Math.max(e,Math.max(i,s));return[o,100*n,100*s]}function n(t){var e,i,a,s,o=t[0]/255,n=t[1]/255,r=t[2]/255;return s=Math.min(1-o,1-n,1-r),e=(1-o-s)/(1-s)||0,i=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0,[100*e,100*i,100*a,100*s]}function h(t){return G[JSON.stringify(t)]}function l(t){var e=t[0]/255,i=t[1]/255,a=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var s=.4124*e+.3576*i+.1805*a,o=.2126*e+.7152*i+.0722*a,n=.0193*e+.1192*i+.9505*a;return[100*s,100*o,100*n]}function c(t){var e,i,a,s=l(t),o=s[0],n=s[1],r=s[2];return o/=95.047,n/=100,r/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*n-16,i=500*(o-n),a=200*(n-r),[e,i,a]}function d(t){return B(c(t))}function u(t){var e,i,a,s,o,n=t[0]/360,r=t[1]/100,h=t[2]/100;if(0==r)return o=255*h,[o,o,o];i=.5>h?h*(1+r):h+r-h*r,e=2*h-i,s=[0,0,0];for(var l=0;3>l;l++)a=n+1/3*-(l-1),0>a&&a++,a>1&&a--,o=1>6*a?e+6*(i-e)*a:1>2*a?i:2>3*a?e+(i-e)*(2/3-a)*6:e,s[l]=255*o;return s}function m(t){var e,i,a=t[0],s=t[1]/100,o=t[2]/100;return o*=2,s*=1>=o?o:2-o,i=(o+s)/2,e=2*s/(o+s),[a,100*e,100*i]}function p(t){return o(u(t))}function f(t){return n(u(t))}function v(t){return h(u(t))}function x(t){var e=t[0]/60,i=t[1]/100,a=t[2]/100,s=Math.floor(e)%6,o=e-Math.floor(e),n=255*a*(1-i),r=255*a*(1-i*o),h=255*a*(1-i*(1-o)),a=255*a;switch(s){case 0:return[a,h,n];case 1:return[r,a,n];case 2:return[n,a,h];case 3:return[n,r,a];case 4:return[h,n,a];case 5:return[a,n,r]}}function y(t){var e,i,a=t[0],s=t[1]/100,o=t[2]/100;return i=(2-s)*o,e=s*o,e/=1>=i?i:2-i,e=e||0,i/=2,[a,100*e,100*i]}function k(t){return o(x(t))}function D(t){return n(x(t))}function w(t){return h(x(t))}function C(t){var e,i,a,s,o=t[0]/360,n=t[1]/100,h=t[2]/100,l=n+h;switch(l>1&&(n/=l,h/=l),e=Math.floor(6*o),i=1-h,a=6*o-e,0!=(1&e)&&(a=1-a),s=n+a*(i-n),e){default:case 6:case 0:r=i,g=s,b=n;break;case 1:r=s,g=i,b=n;break;case 2:r=n,g=i,b=s;break;case 3:r=n,g=s,b=i;break;case 4:r=s,g=n,b=i;break;case 5:r=i,g=n,b=s}return[255*r,255*g,255*b]}function S(t){return a(C(t))}function _(t){return s(C(t))}function A(t){return n(C(t))}function I(t){return h(C(t))}function M(t){var e,i,a,s=t[0]/100,o=t[1]/100,n=t[2]/100,r=t[3]/100;return e=1-Math.min(1,s*(1-r)+r),i=1-Math.min(1,o*(1-r)+r),a=1-Math.min(1,n*(1-r)+r),[255*e,255*i,255*a]}function P(t){return a(M(t))}function F(t){return s(M(t))}function R(t){return o(M(t))}function V(t){return h(M(t))}function T(t){var e,i,a,s=t[0]/100,o=t[1]/100,n=t[2]/100;return e=3.2406*s+-1.5372*o+n*-.4986,i=s*-.9689+1.8758*o+.0415*n,a=.0557*s+o*-.204+1.057*n,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*e,255*i,255*a]}function L(t){var e,i,a,s=t[0],o=t[1],n=t[2];return s/=95.047,o/=100,n/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,e=116*o-16,i=500*(s-o),a=200*(o-n),[e,i,a]}function z(t){return B(L(t))}function W(t){var e,i,a,s,o=t[0],n=t[1],r=t[2];return 8>=o?(i=100*o/903.3,s=7.787*(i/100)+16/116):(i=100*Math.pow((o+16)/116,3),s=Math.pow(i/100,1/3)),e=.008856>=e/95.047?e=95.047*(n/500+s-16/116)/7.787:95.047*Math.pow(n/500+s,3),a=.008859>=a/108.883?a=108.883*(s-r/200-16/116)/7.787:108.883*Math.pow(s-r/200,3),[e,i,a]}function B(t){var e,i,a,s=t[0],o=t[1],n=t[2];return e=Math.atan2(n,o),i=360*e/2/Math.PI,0>i&&(i+=360),a=Math.sqrt(o*o+n*n),[s,a,i]}function O(t){return T(W(t))}function E(t){var e,i,a,s=t[0],o=t[1],n=t[2];return a=n/360*2*Math.PI,e=o*Math.cos(a),i=o*Math.sin(a),[s,e,i]}function N(t){return W(E(t))}function H(t){return O(E(t))}function Y(t){return Q[t]}function q(t){return a(Y(t))}function j(t){return s(Y(t))}function U(t){return o(Y(t))}function X(t){return n(Y(t))}function J(t){return c(Y(t))}function Z(t){return l(Y(t))}e.exports={rgb2hsl:a,rgb2hsv:s,rgb2hwb:o,rgb2cmyk:n,rgb2keyword:h,rgb2xyz:l,rgb2lab:c,rgb2lch:d,hsl2rgb:u,hsl2hsv:m,hsl2hwb:p,hsl2cmyk:f,hsl2keyword:v,hsv2rgb:x,hsv2hsl:y,hsv2hwb:k,hsv2cmyk:D,hsv2keyword:w,hwb2rgb:C,hwb2hsl:S,hwb2hsv:_,hwb2cmyk:A,hwb2keyword:I,cmyk2rgb:M,cmyk2hsl:P,cmyk2hsv:F,cmyk2hwb:R,cmyk2keyword:V,keyword2rgb:Y,keyword2hsl:q,keyword2hsv:j,keyword2hwb:U,keyword2cmyk:X,keyword2lab:J,keyword2xyz:Z,xyz2rgb:T,xyz2lab:L,xyz2lch:z,lab2xyz:W,lab2rgb:O,lab2lch:B,lch2lab:E,lch2xyz:N,lch2rgb:H};var Q={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},G={};for(var $ in Q)G[JSON.stringify(Q[$])]=$},{}],3:[function(t,e,i){var a=t("./conversions"),s=function(){return new l};for(var o in a){s[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),a[t](e)}}(o);var n=/(\w+)2(\w+)/.exec(o),r=n[1],h=n[2];s[r]=s[r]||{},s[r][h]=s[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=a[t](e);if("string"==typeof i||void 0===i)return i;for(var s=0;s<i.length;s++)i[s]=Math.round(i[s]);return i}}(o)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,a=this.convs[i];e=s[i][t](a),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){l.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=s},{"./conversions":2}],4:[function(t,e,i){function a(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,n=[0,0,0],r=1,h=t.match(e);if(h){h=h[1];for(var l=0;l<n.length;l++)n[l]=parseInt(h[l]+h[l],16)}else if(h=t.match(i)){h=h[1];for(var l=0;l<n.length;l++)n[l]=parseInt(h.slice(2*l,2*l+2),16)}else if(h=t.match(a)){for(var l=0;l<n.length;l++)n[l]=parseInt(h[l+1]);r=parseFloat(h[4])}else if(h=t.match(s)){for(var l=0;l<n.length;l++)n[l]=Math.round(2.55*parseFloat(h[l+1]));r=parseFloat(h[4])}else if(h=t.match(o)){if("transparent"==h[1])return[0,0,0,0];if(n=y[h[1]],!n)return}for(var l=0;l<n.length;l++)n[l]=v(n[l],0,255);return r=r||0==r?v(r,0,1):1,n[3]=r,n}}function s(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var a=parseFloat(i[4]),s=v(parseInt(i[1]),0,360),o=v(parseFloat(i[2]),0,100),n=v(parseFloat(i[3]),0,100),r=v(isNaN(a)?1:a,0,1);return[s,o,n,r]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var a=parseFloat(i[4]),s=v(parseInt(i[1]),0,360),o=v(parseFloat(i[2]),0,100),n=v(parseFloat(i[3]),0,100),r=v(isNaN(a)?1:a,0,1);return[s,o,n,r]}}}function n(t){var e=a(t);return e&&e.slice(0,3)}function r(t){var e=s(t);return e&&e.slice(0,3)}function h(t){var e=a(t);return e?e[3]:(e=s(t))?e[3]:(e=o(t))?e[3]:void 0}function l(t){return"#"+x(t[0])+x(t[1])+x(t[2])}function c(t,e){return 1>e||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function u(t,e){if(1>e||t[3]&&t[3]<1)return g(t,e);var i=Math.round(t[0]/255*100),a=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return"rgb("+i+"%, "+a+"%, "+s+"%)"}function g(t,e){var i=Math.round(t[0]/255*100),a=Math.round(t[1]/255*100),s=Math.round(t[2]/255*100);return"rgba("+i+"%, "+a+"%, "+s+"%, "+(e||t[3]||1)+")"}function m(t,e){return 1>e||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function b(t){return k[t.slice(0,3)]}function v(t,e,i){return Math.min(Math.max(e,t),i)}function x(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t("color-name");e.exports={getRgba:a,getHsla:s,getRgb:n,getHsl:r,getHwb:o,getAlpha:h,hexString:l,rgbString:c,rgbaString:d,percentString:u,percentaString:g,hslString:m,hslaString:p,hwbString:f,keyword:b};var k={};for(var D in y)k[y[D]]=D},{"color-name":5}],5:[function(t,e,i){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}]},{},[1]),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
function(){"use strict";var t=this,e=t.Chart,i=function(t,e){this.config=e,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(i.helpers.getStyle(t.canvas,"width"))||i.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(i.helpers.getStyle(t.canvas,"height"))||i.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==e.aspectRatio?e.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,i.helpers.retinaScale(this),e&&(this.controller=new i.Controller(this));var a=this;return i.helpers.addResizeListener(t.canvas.parentNode,function(){a.controller&&a.controller.config.options.responsive&&a.controller.resize()}),this.controller?this.controller:this};i.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'">'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</span></li>");return e.push("</ul>"),e.join("")}}},"undefined"!=typeof amd?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers={},a=i.each=function(t,e,i,a){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var o;if(a)for(o=t.length-1;o>=0;o--)e.apply(i,[t[o],o].concat(s));else for(o=0;o<t.length;o++)e.apply(i,[t[o],o].concat(s))}else for(var n in t)e.apply(i,[t[n],n].concat(s))},s=i.clone=function(t){var e={};return a(t,function(a,o){t.hasOwnProperty(o)&&(i.isArray(a)?e[o]=a.slice(0):"object"==typeof a&&null!==a?e[o]=s(a):e[o]=a)}),e},o=i.extend=function(t){return a(Array.prototype.slice.call(arguments,1),function(e){a(e,function(i,a){e.hasOwnProperty(a)&&(t[a]=i)})}),t},n=(i.configMerge=function(t){var a=s(t);return i.each(Array.prototype.slice.call(arguments,1),function(t){i.each(t,function(s,o){if(t.hasOwnProperty(o))if("scales"===o)a[o]=i.scaleMerge(a.hasOwnProperty(o)?a[o]:{},s);else if("scale"===o)a[o]=i.configMerge(a.hasOwnProperty(o)?a[o]:{},e.scaleService.getScaleDefaults(s.type),s);else if(a.hasOwnProperty(o)&&i.isArray(a[o])&&i.isArray(s)){var n=a[o];i.each(s,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=i.configMerge(n[e],t):n[e]=t:n.push(t)})}else a.hasOwnProperty(o)&&"object"==typeof a[o]&&null!==a[o]&&"object"==typeof s?a[o]=i.configMerge(a[o],s):a[o]=s})}),a},i.extendDeep=function(t){function e(t){return i.each(arguments,function(a){a!==t&&i.each(a,function(i,a){t[a]&&t[a].constructor&&t[a].constructor===Object?e(t[a],i):t[a]=i})}),t}return e.apply(this,arguments)},i.scaleMerge=function(t,a){var o=s(t);return i.each(a,function(t,s){a.hasOwnProperty(s)&&("xAxes"===s||"yAxes"===s?o.hasOwnProperty(s)?i.each(t,function(t,a){a>=o[s].length||!o[s][a].type?o[s].push(i.configMerge(t.type?e.scaleService.getScaleDefaults(t.type):{},t)):t.type!==o[s][a].type?o[s][a]=i.configMerge(o[s][a],t.type?e.scaleService.getScaleDefaults(t.type):{},t):o[s][a]=i.configMerge(o[s][a],t)}):(o[s]=[],i.each(t,function(t){o[s].push(i.configMerge(t.type?e.scaleService.getScaleDefaults(t.type):{},t))})):o.hasOwnProperty(s)&&"object"==typeof o[s]&&null!==o[s]&&"object"==typeof t?o[s]=i.configMerge(o[s],t):o[s]=t)}),o},i.getValueAtIndexOrDefault=function(t,e,a){return void 0===t||null===t?a:i.isArray(t)?e<t.length?t[e]:a:t},i.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.where=function(t,e){var a=[];return i.each(t,function(t){e(t)&&a.push(t)}),a},i.findNextWhere=function(t,e,i){(void 0===i||null===i)&&(i=-1);for(var a=i+1;a<t.length;a++){var s=t[a];if(e(s))return s}},i.findPreviousWhere=function(t,e,i){(void 0===i||null===i)&&(i=t.length);for(var a=i-1;a>=0;a--){var s=t[a];if(e(s))return s}},i.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=e.prototype,i.prototype=new a,i.extend=n,t&&o(i.prototype,t),i.__super__=e.prototype,i}),r=i.noop=function(){},h=(i.uid=function(){var t=0;return function(){return"chart-"+t++}}(),i.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},i.amd="function"==typeof define&&define.amd,i.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),l=(i.max=function(t){return Math.max.apply(Math,t)},i.min=function(t){return Math.min.apply(Math,t)},i.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},i.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},i.getDecimalPlaces=function(t){if(t%1!==0&&h(t)){var e=t.toString();if(e.indexOf("e-")<0)return e.split(".")[1].length;if(e.indexOf(".")<0)return parseInt(e.split("e-")[1]);var i=e.split(".")[1].split("e-");return i[0].length+parseInt(i[1])}return 0},i.toRadians=function(t){return t*(Math.PI/180)},i.toDegrees=function(t){return t*(180/Math.PI)},i.getAngleFromPoint=function(t,e){var i=e.x-t.x,a=e.y-t.y,s=Math.sqrt(i*i+a*a),o=Math.atan2(a,i);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:s}},i.aliasPixel=function(t){return t%2===0?0:.5},i.splineCurve=function(t,e,i,a){var s=t,o=e,n=i;s.skip&&(s=o),n.skip&&(n=o);var r=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),h=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),l=a*r/(r+h),c=a*h/(r+h);return{previous:{x:o.x-l*(n.x-s.x),y:o.y-l*(n.y-s.y)},next:{x:o.x+c*(n.x-s.x),y:o.y+c*(n.y-s.y)}}},i.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},i.previousItem=function(t,e,i){return i?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},i.niceNum=function(t,e){var a,s=Math.floor(i.log10(t)),o=t/Math.pow(10,s);return a=e?1.5>o?1:3>o?2:7>o?5:10:1>=o?1:2>=o?2:5>=o?5:10,a*Math.pow(10,s)},i.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,a=1;return 0===t?0:2==(t/=.5)?1:(i||(i=1*(.3*1.5)),a<Math.abs(1)?(a=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/a),1>t?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):a*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-l.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*l.easeInBounce(2*t):.5*l.easeOutBounce(2*t-1)+.5}}),c=(i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),i.getRelativePosition=function(t,e){var i,a,s=t.originalEvent||t,o=t.currentTarget||t.srcElement,n=o.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX,a=s.touches[0].clientY):(i=s.clientX,a=s.clientY),i=Math.round((i-n.left)/(n.right-n.left)*o.width/e.currentDevicePixelRatio),a=Math.round((a-n.top)/(n.bottom-n.top)*o.height/e.currentDevicePixelRatio),{x:i,y:a}},i.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),d=i.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=r},u=(i.bindEvents=function(t,e,i){t.events||(t.events={}),a(e,function(e){t.events[e]=function(){i.apply(t,arguments)},c(t.chart.canvas,e,t.events[e])})},i.unbindEvents=function(t,e){a(e,function(e,i){d(t.chart.canvas,i,e)})},i.getConstraintWidth=function(t){var e,i=document.defaultView.getComputedStyle(t)["max-width"],a=document.defaultView.getComputedStyle(t.parentNode)["max-width"],s=null!==i&&"none"!==i,o=null!==a&&"none"!==a;return(s||o)&&(e=Math.min(s?parseInt(i,10):Number.POSITIVE_INFINITY,o?parseInt(a,10):Number.POSITIVE_INFINITY)),e}),g=i.getConstraintHeight=function(t){var e,i=document.defaultView.getComputedStyle(t)["max-height"],a=document.defaultView.getComputedStyle(t.parentNode)["max-height"],s=null!==i&&"none"!==i,o=null!==a&&"none"!==a;return(i||a)&&(e=Math.min(s?parseInt(i,10):Number.POSITIVE_INFINITY,o?parseInt(a,10):Number.POSITIVE_INFINITY)),e},m=(i.getMaximumWidth=function(t){var e=t.parentNode,i=parseInt(m(e,"padding-left"))+parseInt(m(e,"padding-right")),a=e.clientWidth-i,s=u(t);return void 0!==s&&(a=Math.min(a,s)),a},i.getMaximumHeight=function(t){var e=t.parentNode,i=parseInt(m(e,"padding-top"))+parseInt(m(e,"padding-bottom")),a=e.clientHeight-i,s=g(t);return void 0!==s&&(a=Math.min(a,s)),a},i.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)});i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,a=t.canvas.height;t.currentDevicePixelRatio=window.devicePixelRatio||1,1!==window.devicePixelRatio&&(e.canvas.height=a*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio),e.canvas.style.width=i+"px",e.canvas.style.height=a+"px",t.originalDevicePixelRatio=t.originalDevicePixelRatio||window.devicePixelRatio)},i.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},i.fontString=function(t,e,i){return e+" "+t+"px "+i},i.longestText=function(t,e,i){t.font=e;var s=0;return a(i,function(e){var i=t.measureText(e).width;s=i>s?i:s}),s},i.drawRoundedRectangle=function(t,e,i,a,s,o){t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+a-o,i),t.quadraticCurveTo(e+a,i,e+a,i+o),t.lineTo(e+a,i+s-o),t.quadraticCurveTo(e+a,i+s,e+a-o,i+s),t.lineTo(e+o,i+s),t.quadraticCurveTo(e,i+s,e,i+s-o),t.lineTo(e,i+o),t.quadraticCurveTo(e,i,e+o,i),t.closePath()},i.color=function(t){return window.Color?window.Color(t):(console.log("Color.js not found!"),t)},i.addResizeListener=function(t,e){var i=document.createElement("iframe"),a="chartjs-hidden-iframe";i.classlist?i.classlist.add(a):i.setAttribute("class",a),i.style.width="100%",i.style.display="block",i.style.border=0,i.style.height=0,i.style.margin=0,i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,t.insertBefore(i,t.firstChild);(i.contentWindow||i).onresize=function(){e&&e()}},i.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(arg)},i.isDatasetVisible=function(t){return!t.hidden}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.elements={},e.Element=function(t){i.extend(this,t),this.initialize.apply(this,arguments)},i.extend(e.Element.prototype,{initialize:function(){},pivot:function(){return this._view||(this._view=i.clone(this._model)),this._start=i.clone(this._view),this},transition:function(t){return this._view||(this._view=i.clone(this._model)),this._start||this.pivot(),i.each(this._model,function(e,a){if("_"!==a[0]&&this._model.hasOwnProperty(a))if(this._view[a])if(this._model[a]===this._view[a]);else if("string"==typeof e)try{var s=i.color(this._start[a]).mix(i.color(this._model[a]),t);this._view[a]=s.rgbString()}catch(o){this._view[a]=e}else if("number"==typeof e){var n=void 0!==this._start[a]?this._start[a]:0;this._view[a]=(this._model[a]-n)*t+n}else this._view[a]=e;else"number"==typeof e?this._view[a]=e*t:this._view[a]=e||null;else;},this),1===t&&delete this._start,this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return i.isNumber(this._model.x)&&i.isNumber(this._model.y)}}),e.Element.extend=i.inherits}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:function(){},onComplete:function(){}},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(t,e,a,s){s||(t.animating=!0);for(var o=0;o<this.animations.length;++o)if(this.animations[o].chartInstance===t)return void(this.animations[o].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1==this.animations.length&&i.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(t){var e=i.findNextWhere(this.animations,function(e){return e.chartInstance===t});e&&(this.animations.splice(e,1),t.animating=!1)},digestWrapper:function(){e.animationService.startDigest.call(e.animationService)},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var a=0;a<this.animations.length;a++)null===this.animations[a].animationObject.currentStep&&(this.animations[a].animationObject.currentStep=0),this.animations[a].animationObject.currentStep+=1+e,this.animations[a].animationObject.currentStep>this.animations[a].animationObject.numSteps&&(this.animations[a].animationObject.currentStep=this.animations[a].animationObject.numSteps),this.animations[a].animationObject.render(this.animations[a].chartInstance,this.animations[a].animationObject),this.animations[a].animationObject.currentStep==this.animations[a].animationObject.numSteps&&(this.animations[a].chartInstance.animating=!1,this.animations.splice(a,1),a--);var s=Date.now(),o=(s-t)/this.frameDuration;this.dropFrames+=o,this.animations.length>0&&i.requestAnimFrame.call(window,this.digestWrapper)}}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(t){return this.chart=t,this.config=t.config,this.data=this.config.data,this.options=this.config.options=i.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=i.uid(),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize.call(this),this},i.extend(e.Controller.prototype,{initialize:function(){return this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.resetElements(),this.initToolTip(),this.update(),this},clear:function(){return i.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(t){this.stop();var e=this.chart.canvas,a=i.getMaximumWidth(this.chart.canvas),s=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?a/this.chart.aspectRatio:i.getMaximumHeight(this.chart.canvas);return e.width=this.chart.width=a,e.height=this.chart.height=s,i.retinaScale(this.chart),t||this.update(this.options.responsiveAnimationDuration),this},ensureScalesHaveIDs:function(){var t="x-axis-",e="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&i.each(this.options.scales.xAxes,function(e,i){e.id=e.id||t+i},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&i.each(this.options.scales.yAxes,function(t,i){t.id=t.id||e+i},this))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&i.each(this.options.scales.xAxes,function(t,i){var a=e.scaleService.getScaleConstructor(t.type),s=new a({ctx:this.chart.ctx,options:t,data:this.data,id:t.id});this.scales[s.id]=s},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&i.each(this.options.scales.yAxes,function(t,i){var a=e.scaleService.getScaleConstructor(t.type),s=new a({ctx:this.chart.ctx,options:t,data:this.data,id:t.id});this.scales[s.id]=s},this)),this.options.scale){var t=e.scaleService.getScaleConstructor(this.options.scale.type),a=new t({ctx:this.chart.ctx,options:this.options.scale,data:this.data,chart:this.chart});this.scale=a,this.scales.radialScale=a}e.scaleService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(t){var a=[];if(i.each(this.data.datasets,function(i,s){i.type||(i.type=this.config.type);var o=i.type;return a.push(o),i.controller?void i.controller.updateIndex(s):(i.controller=new e.controllers[o](this,s),void(t&&i.controller.reset()))},this),a.length>1)for(var s=1;s<a.length;s++)if(a[s]!=a[s-1]){this.isCombo=!0;break}},resetElements:function(){i.each(this.data.datasets,function(t,e){t.controller.reset()},this)},update:function(t,a){e.scaleService.update(this,this.chart.width,this.chart.height),this.buildOrUpdateControllers(!0),i.each(this.data.datasets,function(t,e){t.controller.buildOrUpdateElements()},this),i.each(this.data.datasets,function(t,e){t.controller.update()},this),this.render(t,a)},render:function(t,a){if("undefined"!=typeof t&&0!==t||"undefined"==typeof t&&0!==this.options.animation.duration){var s=new e.Animation;s.numSteps=(t||this.options.animation.duration)/16.66,s.easing=this.options.animation.easing,s.render=function(t,e){var a=i.easingEffects[e.easing],s=e.currentStep/e.numSteps,o=a(s);t.draw(o,s,e.currentStep)},s.onAnimationProgress=this.options.onAnimationProgress,s.onAnimationComplete=this.options.onAnimationComplete,e.animationService.addAnimation(this,s,t,a)}else this.draw(),this.options.onAnimationComplete&&this.options.onAnimationComplete.call&&this.options.onAnimationComplete.call(this);return this},draw:function(t){var e=t||1;this.clear(),i.each(this.scales,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw(),i.each(this.data.datasets,function(e,a){i.isDatasetVisible(e)&&e.controller.draw(t)},this),this.tooltip.transition(e).draw()},getElementAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),a=[];return i.each(this.data.datasets,function(t,s){i.isDatasetVisible(t)&&i.each(t.metaData,function(t,i){return t.inRange(e.x,e.y)?(a.push(t),a):void 0},this)},this),a},getElementsAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),a=[],s=function(){for(var t=0;t<this.data.datasets.length;t++)if(i.isDatasetVisible(this.data.datasets[t]))for(var a=0;a<this.data.datasets[t].metaData.length;a++)if(this.data.datasets[t].metaData[a].inRange(e.x,e.y))return this.data.datasets[t].metaData[a]}.call(this);return s?(i.each(this.data.datasets,function(t,e){i.isDatasetVisible(t)&&a.push(t.metaData[s._index])},this),a):a},getDatasetAtEvent:function(t){var e=i.getRelativePosition(t,this.chart),a=[];return i.each(this.data.datasets,function(t,s){i.isDatasetVisible(t)&&i.each(t.metaData,function(s,o){s.inLabelRange(e.x,e.y)&&i.each(t.metaData,function(t,e){a.push(t)},this)},this)},this),a.length?a:[]},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),i.unbindEvents(this,this.events),i.removeResizeListener(this.chart.canvas.parentNode);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),t.style.width=this.chart.originalCanvasStyleWidth,t.style.height=this.chart.originalCanvasStyleHeight,delete e.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this.chart,_data:this.data,_options:this.options},this)},bindEvents:function(){i.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},eventHandler:function(t){this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"==t.type?(this.active=[],this.tooltipActive=[]):(this.active=function(){switch(this.options.hover.mode){case"single":return this.getElementAtEvent(t);case"label":return this.getElementsAtEvent(t);case"dataset":return this.getDatasetAtEvent(t);default:return t}}.call(this),this.tooltipActive=function(){switch(this.options.tooltips.mode){case"single":return this.getElementAtEvent(t);case"label":return this.getElementsAtEvent(t);case"dataset":return this.getDatasetAtEvent(t);default:return t}}.call(this)),this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),("mouseup"==t.type||"click"==t.type)&&this.options.onClick&&this.options.onClick.call(this,t,this.active);if(this.lastActive.length)switch(this.options.hover.mode){case"single":this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var e=0;e<this.lastActive.length;e++)this.data.datasets[this.lastActive[e]._datasetIndex].controller.removeHoverStyle(this.lastActive[e],this.lastActive[e]._datasetIndex,this.lastActive[e]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var a=0;a<this.active.length;a++)this.data.datasets[this.active[a]._datasetIndex].controller.setHoverStyle(this.active[a])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltip._active=this.tooltipActive,this.tooltip.update()),this.tooltip.pivot(),!this.animating){var s;i.each(this.active,function(t,e){t!==this.lastActive[e]&&(s=!0)},this),i.each(this.tooltipActive,function(t,e){t!==this.lastTooltipActive[e]&&(s=!0)},this),(this.lastActive.length!==this.active.length||this.lastTooltipActive.length!==this.tooltipActive.length||s)&&(this.stop(),(this.options.tooltips.enabled||this.options.tooltips.custom)&&this.tooltip.update(!0),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.scale={display:!0,gridLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{fontColor:"#666",fontFamily:"Helvetica Neue",fontSize:12,fontStyle:"normal",labelString:"",show:!1},ticks:{beginAtZero:!1,fontSize:12,fontStyle:"normal",fontColor:"#666",fontFamily:"Helvetica Neue",maxRotation:90,minRotation:20,mirror:!1,padding:10,reverse:!1,show:!0,callback:function(t){return""+t}}},e.Scale=e.Element.extend({beforeUpdate:i.noop,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:i.noop,beforeSetDimensions:i.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:i.noop,beforeBuildTicks:i.noop,buildTicks:i.noop,afterBuildTicks:i.noop,beforeTickToLabelConversion:i.noop,convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,i):this.options.ticks.callback(t,e,i)},this)},afterTickToLabelConversion:i.noop,beforeCalculateTickRotation:i.noop,calculateTickRotation:function(){var t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);this.ctx.font=t;var e,a,s=this.ctx.measureText(this.ticks[0]).width,o=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.paddingRight=o/2+3,this.paddingLeft=s/2+3,this.labelRotation=0,this.options.display&&this.isHorizontal()){var n,r,h=i.longestText(this.ctx,t,this.ticks);this.labelWidth=h;for(var l=this.getPixelForTick(1)-this.getPixelForTick(0)-6;this.labelWidth>l&&this.labelRotation<=this.options.ticks.maxRotation;){if(n=Math.cos(i.toRadians(this.labelRotation)),r=Math.sin(i.toRadians(this.labelRotation)),e=n*s,a=n*o,e+this.options.ticks.fontSize/2>this.yLabelWidth&&(this.paddingLeft=e+this.options.ticks.fontSize/2),this.paddingRight=this.options.ticks.fontSize/2,r*h>this.maxHeight){this.labelRotation--;break}this.labelRotation++,this.labelWidth=n*h}}else this.labelWidth=0,this.paddingRight=0,this.paddingLeft=0;this.margins&&(this.paddingLeft-=this.margins.left,this.paddingRight-=this.margins.right,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingRight=Math.max(this.paddingRight,0))},afterCalculateTickRotation:i.noop,beforeFit:i.noop,fit:function(){if(this.minSize={width:0,height:0},this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=this.options.gridLines.show&&this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.gridLines.show&&this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.scaleLabel.show&&(this.isHorizontal()?this.minSize.height+=1.5*this.options.scaleLabel.fontSize:this.minSize.width+=1.5*this.options.scaleLabel.fontSize),this.options.ticks.show&&this.options.display){var t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){var e=(this.maxHeight-this.minSize.height,i.longestText(this.ctx,t,this.ticks)),a=Math.sin(i.toRadians(this.labelRotation))*e+1.5*this.options.ticks.fontSize;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+a),t=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.ctx.font=t;var s=this.ctx.measureText(this.ticks[0]).width,o=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,n=Math.cos(i.toRadians(this.labelRotation)),r=Math.sin(i.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?n*s+3:s/2+3,this.paddingRight=0!==this.labelRotation?r*(this.options.ticks.fontSize/2)+3:o/2+3}else{var h=this.maxWidth-this.minSize.width,l=i.longestText(this.ctx,t,this.ticks);h>l?this.minSize.width+=l:this.minSize.width=this.maxWidth,this.paddingTop=this.options.ticks.fontSize/2,this.paddingBottom=this.options.ticks.fontSize/2}}this.margins&&(this.paddingLeft-=this.margins.left,this.paddingTop-=this.margins.top,this.paddingRight-=this.margins.right,this.paddingBottom-=this.margins.bottom,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingTop=Math.max(this.paddingTop,0),this.paddingRight=Math.max(this.paddingRight,0),this.paddingBottom=Math.max(this.paddingBottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:i.noop,isHorizontal:function(){return"top"==this.options.position||"bottom"==this.options.position},getRightValue:function a(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?a(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:i.noop,getPixelForValue:i.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),a=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),s=a*t+this.paddingLeft;return e&&(s+=a/2),this.left+Math.round(s)}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(o/(this.ticks.length-1))},getPixelForDecimal:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),a=i*t+this.paddingLeft;return this.left+Math.round(a)}return this.top+t*this.height},draw:function(t){if(this.options.display){var e,a,s,o,n=0!==this.labelRotation;this.ctx.fillStyle=this.options.ticks.fontColor;var r=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){e=!0;var h="bottom"==this.options.position?this.top:this.bottom-10,l="bottom"==this.options.position?this.top+10:this.bottom;a=!1,(this.options.ticks.fontSize+4)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(a=1+Math.floor((this.options.ticks.fontSize+4)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),i.each(this.ticks,function(s,o){if(!(a>1&&o%a>0||void 0===s||null===s)){var c=this.getPixelForTick(o),d=this.getPixelForTick(o,this.options.gridLines.offsetGridLines);this.options.gridLines.show&&(o===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,e=!0):e&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,e=!1),c+=i.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(c,h),this.ctx.lineTo(c,l)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(c,t.top),this.ctx.lineTo(c,t.bottom)),this.ctx.stroke()),this.options.ticks.show&&(this.ctx.save(),this.ctx.translate(d,n?this.top+12:"top"===this.options.position?this.bottom-10:this.top+10),this.ctx.rotate(-1*i.toRadians(this.labelRotation)),this.ctx.font=r,this.ctx.textAlign=n?"right":"center",
this.ctx.textBaseline=n?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(s,0,0),this.ctx.restore())}},this),this.options.scaleLabel.show&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=i.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),s=this.left+(this.right-this.left)/2,o="bottom"==this.options.position?this.bottom-this.options.scaleLabel.fontSize/2:this.top+this.options.scaleLabel.fontSize/2,this.ctx.fillText(this.options.scaleLabel.labelString,s,o))}else{e=!0;var c="right"==this.options.position?this.left:this.right-5,d="right"==this.options.position?this.left+5:this.right;if(i.each(this.ticks,function(a,s){var o=this.getPixelForTick(s);if(this.options.gridLines.show&&(s===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,e=!0):e&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,e=!1),o+=i.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(c,o),this.ctx.lineTo(d,o)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(t.left,o),this.ctx.lineTo(t.right,o)),this.ctx.stroke()),this.options.ticks.show){var n,h=this.getPixelForTick(s,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"==this.options.position?this.options.ticks.mirror?(n=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(n=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(n=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(n=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(n,h),this.ctx.rotate(-1*i.toRadians(this.labelRotation)),this.ctx.font=r,this.ctx.textBaseline="middle",this.ctx.fillText(a,0,0),this.ctx.restore()}},this),this.options.scaleLabel.show){s="left"==this.options.position?this.left+this.options.scaleLabel.fontSize/2:this.right-this.options.scaleLabel.fontSize/2,o=this.top+(this.bottom-this.top)/2;var u="left"==this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(s,o),this.ctx.rotate(u),this.ctx.textAlign="center",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=i.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}}}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,a){this.constructors[t]=e,this.defaults[t]=i.clone(a)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.scaleMerge(e.defaults.scale,this.defaults[t]):{}},update:function(t,e,a){var s=e>30?5:2,o=a>30?5:2;if(t){var n=i.where(t.scales,function(t){return"left"==t.options.position}),r=i.where(t.scales,function(t){return"right"==t.options.position}),h=i.where(t.scales,function(t){return"top"==t.options.position}),l=i.where(t.scales,function(t){return"bottom"==t.options.position}),c=i.where(t.scales,function(t){return"chartArea"==t.options.position}),d=e/2,u=a/2;d-=2*s,u-=2*o;var g=(e-d)/(n.length+r.length),m=(a-u)/(h.length+l.length),p=[],f=function(t){var e=t.update(g,u);p.push({horizontal:!1,minSize:e,scale:t})},b=function(t){var e=t.update(d,m);p.push({horizontal:!0,minSize:e,scale:t})};i.each(n,f),i.each(r,f),i.each(h,b),i.each(l,b);var v=a-2*o,x=e-2*s;i.each(p,function(t){t.horizontal?v-=t.minSize.height:x-=t.minSize.width});var y=function(t){var e=i.findNextWhere(p,function(e){return e.scale===t});e&&t.update(e.minSize.width,v)},k=function(t){var e=i.findNextWhere(p,function(e){return e.scale===t}),a={left:D,right:w,top:0,bottom:0};e&&t.update(x,e.minSize.height,a)},D=s,w=s,C=o,S=o;i.each(n,y),i.each(r,y),i.each(n,function(t){D+=t.width}),i.each(r,function(t){w+=t.width}),i.each(h,k),i.each(l,k),i.each(h,function(t){C+=t.height}),i.each(l,function(t){S+=t.height}),i.each(n,function(t){var e=i.findNextWhere(p,function(e){return e.scale===t}),a={left:0,right:0,top:C,bottom:S};e&&t.update(e.minSize.width,v,a)}),i.each(r,function(t){var e=i.findNextWhere(p,function(e){return e.scale===t}),a={left:0,right:0,top:C,bottom:S};e&&t.update(e.minSize.width,v,a)}),D=s,w=s,C=o,S=o,i.each(n,function(t){D+=t.width}),i.each(r,function(t){w+=t.width}),i.each(h,function(t){C+=t.height}),i.each(l,function(t){S+=t.height});var _=a-C-S,A=e-D-w;(A!==x||_!==v)&&(i.each(n,function(t){t.height=_}),i.each(r,function(t){t.height=_}),i.each(h,function(t){t.width=A}),i.each(l,function(t){t.width=A}),v=_,x=A);var I=s,M=o,P=function(t){t.left=I,t.right=I+t.width,t.top=C,t.bottom=C+v,I=t.right},F=function(t){t.left=D,t.right=D+x,t.top=M,t.bottom=M+t.height,M=t.bottom};i.each(n,P),i.each(h,F),I+=x,M+=v,i.each(r,P),i.each(l,F),t.chartArea={left:D,top:C,right:D+x,bottom:C+v},i.each(c,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(x,v)})}}}}.call(this),function(){"use strict";function t(t,e){return e&&(a.isArray(e)?t=t.concat(e):t.push(e)),t}var e=this,i=e.Chart,a=i.helpers;i.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",titleFontSize:12,titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodyFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",bodyFontSize:12,bodyFontStyle:"normal",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",footerFontSize:12,footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,xOffset:10,multiKeyBackground:"#fff",callbacks:{beforeTitle:a.noop,title:function(t,e){var i="";return t.length>0&&(t[0].xLabel?i=t[0].xLabel:e.labels.length>0&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},afterTitle:a.noop,beforeBody:a.noop,beforeLabel:a.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i+": "+t.yLabel},afterLabel:a.noop,afterBody:a.noop,beforeFooter:a.noop,footer:a.noop,afterFooter:a.noop}},i.Tooltip=i.Element.extend({initialize:function(){var t=this._options;a.extend(this,{_model:{xPadding:t.tooltips.xPadding,yPadding:t.tooltips.yPadding,xOffset:t.tooltips.xOffset,bodyColor:t.tooltips.bodyColor,_bodyFontFamily:t.tooltips.bodyFontFamily,_bodyFontStyle:t.tooltips.bodyFontStyle,_bodyAlign:t.tooltips.bodyAlign,bodyFontSize:t.tooltips.bodyFontSize,bodySpacing:t.tooltips.bodySpacing,titleColor:t.tooltips.titleColor,_titleFontFamily:t.tooltips.titleFontFamily,_titleFontStyle:t.tooltips.titleFontStyle,titleFontSize:t.tooltips.titleFontSize,_titleAlign:t.tooltips.titleAlign,titleSpacing:t.tooltips.titleSpacing,titleMarginBottom:t.tooltips.titleMarginBottom,footerColor:t.tooltips.footerColor,_footerFontFamily:t.tooltips.footerFontFamily,_footerFontStyle:t.tooltips.footerFontStyle,footerFontSize:t.tooltips.footerFontSize,_footerAlign:t.tooltips.footerAlign,footerSpacing:t.tooltips.footerSpacing,footerMarginTop:t.tooltips.footerMarginTop,caretSize:t.tooltips.caretSize,cornerRadius:t.tooltips.cornerRadius,backgroundColor:t.tooltips.backgroundColor,opacity:0,legendColorBackground:t.tooltips.multiKeyBackground}})},getTitle:function(){var e=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),a=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),s=[];return s=t(s,e),s=t(s,i),s=t(s,a)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.call(this,arguments);return a.isArray(t)?t:[t]},getBody:function(t,e){var i=[];return a.each(t,function(t){var a=this._options.tooltips.callbacks.beforeLabel.call(this,t,e)||"",s=this._options.tooltips.callbacks.label.call(this,t,e)||"",o=this._options.tooltips.callbacks.afterLabel.call(this,t,e)||"";i.push(a+s+o)},this),i},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.call(this,arguments);return a.isArray(t)?t:[t]},getFooter:function(){var e=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),a=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),s=[];return s=t(s,e),s=t(s,i),s=t(s,a)},getAveragePosition:function(t){if(!t.length)return!1;var e=[],i=[];a.each(t,function(t){var a=t.tooltipPosition();e.push(a.x),i.push(a.y)});for(var s=0,o=0,n=0;n<e.length;n++)s+=e[n],o+=i[n];return{x:Math.round(s/e.length),y:Math.round(o/e.length)}},update:function(t){this._chart.ctx;if(this._active.length){this._model.opacity=1;var e,i=this._active[0],s=[],o=[];if("single"==this._options.tooltips.mode){var n=i._yScale||i._scale;o.push({xLabel:i._xScale?i._xScale.getLabelForIndex(i._index,i._datasetIndex):"",yLabel:n?n.getLabelForIndex(i._index,i._datasetIndex):"",index:i._index,datasetIndex:i._datasetIndex}),e=this.getAveragePosition(this._active)}else a.each(this._data.datasets,function(t,e){if(a.isDatasetVisible(t)){var s=t.metaData[i._index],n=i._yScale||i._scale;o.push({xLabel:s._xScale?s._xScale.getLabelForIndex(s._index,s._datasetIndex):"",yLabel:n?n.getLabelForIndex(s._index,s._datasetIndex):"",index:i._index,datasetIndex:e})}}),a.each(this._active,function(t,e){s.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},this),e=this.getAveragePosition(this._active),e.y=this._active[0]._yScale.getPixelForDecimal(.5);a.extend(this._model,{title:this.getTitle(o,this._data),beforeBody:this.getBeforeBody(o,this._data),body:this.getBody(o,this._data),afterBody:this.getAfterBody(o,this._data),footer:this.getFooter(o,this._data)}),a.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:e.padding,labelColors:s})}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==this._view.opacity){e.position="top";var i=e.caretPadding||2,s=e.body.length+e.beforeBody.length+e.afterBody.length,o=2*e.yPadding;o+=e.title.length*e.titleFontSize,o+=(e.title.length-1)*e.titleSpacing,o+=e.title.length?e.titleMarginBottom:0,o+=s*e.bodyFontSize,o+=(s-1)*e.bodySpacing,o+=e.footer.length?e.footerMarginTop:0,o+=e.footer.length*e.footerFontSize,o+=(e.footer.length-1)*e.footerSpacing;var n=0;a.each(e.title,function(i,s){t.font=a.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),n=Math.max(n,t.measureText(i).width)}),a.each(e.body,function(i,s){t.font=a.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),n=Math.max(n,t.measureText(i).width+("single"!=this._options.tooltips.mode?e.bodyFontSize+2:0))},this),a.each(e.footer,function(i,s){t.font=a.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n=Math.max(n,t.measureText(i).width)}),n+=2*e.xPadding;var r=n+e.caretSize+i;e.yAlign="center",e.y-o/2<0?e.yAlign="top":e.y+o/2>this._chart.height&&(e.yAlign="bottom"),e.xAlign="right",e.x+r>this._chart.width&&(e.xAlign="left");var h=e.x,l=e.y;if(l="top"==e.yAlign?e.y-e.caretSize-e.cornerRadius:"bottom"==e.yAlign?e.y-o+e.caretSize+e.cornerRadius:e.y-o/2,h="left"==e.xAlign?e.x-r:"right"==e.xAlign?e.x+i+e.caretSize:e.x+r/2,this._options.tooltips.enabled&&(t.fillStyle=a.color(e.backgroundColor).alpha(e.opacity).rgbString(),a.drawRoundedRectangle(t,h,l,n,o,e.cornerRadius),t.fill()),this._options.tooltips.enabled&&(t.fillStyle=a.color(e.backgroundColor).alpha(e.opacity).rgbString(),"left"==e.xAlign?(t.beginPath(),t.moveTo(e.x-i,e.y),t.lineTo(e.x-i-e.caretSize,e.y-e.caretSize),t.lineTo(e.x-i-e.caretSize,e.y+e.caretSize),t.closePath(),t.fill()):(t.beginPath(),t.moveTo(e.x+i,e.y),t.lineTo(e.x+i+e.caretSize,e.y-e.caretSize),t.lineTo(e.x+i+e.caretSize,e.y+e.caretSize),t.closePath(),t.fill())),this._options.tooltips.enabled){var c=l+e.yPadding,d=h+e.xPadding;e.title.length&&(t.textAlign=e._titleAlign,t.textBaseline="top",t.fillStyle=a.color(e.titleColor).alpha(e.opacity).rgbString(),t.font=a.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),a.each(e.title,function(i,a){t.fillText(i,d,c),c+=e.titleFontSize+e.titleSpacing,a+1==e.title.length&&(c+=e.titleMarginBottom-e.titleSpacing)},this)),t.textAlign=e._bodyAlign,t.textBaseline="top",t.fillStyle=a.color(e.bodyColor).alpha(e.opacity).rgbString(),t.font=a.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),a.each(e.beforeBody,function(i,a){t.fillText(e.beforeBody,d,c),c+=e.bodyFontSize+e.bodySpacing}),a.each(e.body,function(i,s){"single"!=this._options.tooltips.mode&&(t.fillStyle=a.color(e.labelColors[s].borderColor).alpha(e.opacity).rgbString(),t.fillRect(d,c,e.bodyFontSize,e.bodyFontSize),t.fillStyle=a.color(e.labelColors[s].backgroundColor).alpha(e.opacity).rgbString(),t.fillRect(d+1,c+1,e.bodyFontSize-2,e.bodyFontSize-2),t.fillStyle=a.color(e.bodyColor).alpha(e.opacity).rgbString()),t.fillText(i,d+("single"!=this._options.tooltips.mode?e.bodyFontSize+2:0),c),c+=e.bodyFontSize+e.bodySpacing},this),a.each(e.afterBody,function(i,a){t.fillText(e.afterBody,d,c),c+=e.bodyFontSize}),c-=e.bodySpacing,e.footer.length&&(c+=e.footerMarginTop,t.textAlign=e._footerAlign,t.textBaseline="top",t.fillStyle=a.color(e.footerColor).alpha(e.opacity).rgbString(),t.font=a.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),a.each(e.footer,function(i,a){t.fillText(i,d,c),c+=e.footerFontSize+e.footerSpacing},this))}}}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.bar.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForID:function(t){return this.chart.scales[t]},getBarCount:function(){var t=0;return i.each(this.chart.data.datasets,function(e){i.isDatasetVisible(e)&&("bar"===e.type?++t:void 0===e.type&&"bar"===this.chart.config.type&&++t)},this),t},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:t}),a=this.getBarCount();this.updateElement(i,t,!0,a),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e=this.getBarCount();i.each(this.getDataset().metaData,function(i,a){this.updateElement(i,a,t,e)},this)},updateElement:function(t,e,a,s){var o,n=this.getScaleForID(this.getDataset().xAxisID),r=this.getScaleForID(this.getDataset().yAxisID);o=r.min<0&&r.max<0?r.getPixelForValue(r.max):r.min>0&&r.max>0?r.getPixelForValue(r.min):r.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:n,_yScale:r,_datasetIndex:this.index,_index:e,_model:{x:this.calculateBarX(e,this.index),y:a?o:this.calculateBarY(e,this.index),label:this.chart.data.labels[e],datasetLabel:this.getDataset().label,base:this.calculateBarBase(this.index,e),width:this.calculateBarWidth(s),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var a=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),s=0;if(a.options.stacked){var o=this.chart.data.datasets[t].data[e];if(0>o)for(var n=0;t>n;n++){var r=this.chart.data.datasets[n];i.isDatasetVisible(r)&&r.yAxisID===a.id&&(s+=r.data[e]<0?r.data[e]:0)}else for(var h=0;t>h;h++){var l=this.chart.data.datasets[h];i.isDatasetVisible(l)&&l.yAxisID===a.id&&(s+=l.data[e]>0?l.data[e]:0)}return a.getPixelForValue(s)}return s=a.getPixelForValue(a.min),a.beginAtZero||a.min<=0&&a.max>=0||a.min>=0&&a.max<=0?s=a.getPixelForValue(0,0):a.min<0&&a.max<0&&(s=a.getPixelForValue(a.max)),s},getRuler:function(){var t=this.getScaleForID(this.getDataset().xAxisID),e=(this.getScaleForID(this.getDataset().yAxisID),this.getBarCount()),i=function(){for(var e=t.getPixelForValue(null,1)-t.getPixelForValue(null,0),i=2;i<this.getDataset().data.length;i++)e=Math.min(t.getPixelForValue(null,i)-t.getPixelForValue(null,i-1),e);return e}.call(this),a=i*t.options.categoryPercentage,s=(i-i*t.options.categoryPercentage)/2,o=a/e,n=o*t.options.barPercentage,r=o-o*t.options.barPercentage;return{datasetCount:e,tickWidth:i,categoryWidth:a,categorySpacing:s,fullBarWidth:o,barWidth:n,barSpacing:r}},calculateBarWidth:function(){var t=this.getScaleForID(this.getDataset().xAxisID),e=this.getRuler();return t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(t){for(var e=0,a=0;t>a;++a)i.isDatasetVisible(this.chart.data.datasets[a])&&("bar"===this.chart.data.datasets[a].type||void 0===this.chart.data.datasets[a].type&&"bar"===this.chart.config.type)&&++e;return e},calculateBarX:function(t,e){var i=(this.getScaleForID(this.getDataset().yAxisID),this.getScaleForID(this.getDataset().xAxisID)),a=this.getBarIndex(e),s=this.getRuler(),o=i.getPixelForValue(null,t,a,this.chart.isCombo);return o-=this.chart.isCombo?s.tickWidth/2:0,i.options.stacked?o+s.categoryWidth/2+s.categorySpacing:o+s.barWidth/2+s.categorySpacing+s.barWidth*a+s.barSpacing/2+s.barSpacing*a},calculateBarY:function(t,e){var a=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),s=this.getDataset().data[t];if(a.options.stacked){for(var o=0,n=0,r=0;e>r;r++){var h=this.chart.data.datasets[r];i.isDatasetVisible(h)&&(h.data[t]<0?n+=h.data[t]||0:o+=h.data[t]||0)}return 0>s?a.getPixelForValue(n+s):a.getPixelForValue(o+s)}return a.getPixelForValue(s)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>, <%= value.r %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>, <%= value.r %>)"}},e.controllers.bubble=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.bubble.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,a=this.getDataset().metaData,s=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);e=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),i.each(a,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,a){var s,o=this.getScaleForId(this.getDataset().yAxisID),n=this.getScaleForId(this.getDataset().xAxisID);s=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:n,_yScale:o,_datasetIndex:this.index,_index:e,_model:{x:a?n.getPixelForDecimal(.5):n.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:a?s:o.getPixelForValue(this.getDataset().data[e],e,this.index),radius:a?0:t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[e]),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e),t.draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:i.getValueAtIndexOrDefault(e.hoverRadius,a,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},cutoutPercentage:50,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},e.defaults.pie=i.clone(e.defaults.doughnut),i.extend(e.defaults.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.doughnut.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t,a){this.getDataset().metaData=this.getDataset().metaData||[];var s=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});a&&i.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(t,0,a),this.updateElement(s,t,!0),this.getDataset().metaData.splice(t,0,s)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},getVisibleDatasetCount:function(){return i.where(this.chart.data.datasets,function(t){return i.isDatasetVisible(t)}).length},getRingIndex:function(t){for(var e=0,a=0;t>a;++a)i.isDatasetVisible(this.chart.data.datasets[a])&&++e;return e},update:function(t){this.chart.outerRadius=Math.max(i.min([this.chart.chart.width,this.chart.chart.height])/2-this.chart.options.elements.arc.borderWidth/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,i.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,i.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,a){var s={x:this.chart.chart.width/2,y:this.chart.chart.height/2,startAngle:Math.PI*-.5,circumference:this.chart.options.animation.animateRotate?0:this.calculateCircumference(this.getDataset().data[e]),outerRadius:this.chart.options.animation.animateScale?0:this.outerRadius,innerRadius:this.chart.options.animation.animateScale?0:this.innerRadius};i.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_model:a?s:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,circumference:this.calculateCircumference(this.getDataset().data[e]),outerRadius:this.outerRadius,innerRadius:this.innerRadius,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.getDataset().label,e,this.chart.data.labels[e])}}),a||(0===e?t._model.startAngle=Math.PI*-.5:t._model.startAngle=this.getDataset().metaData[e-1]._model.endAngle,t._model.endAngle=t._model.startAngle+t._model.circumference,e<this.getDataset().data.length-1&&(this.getDataset().metaData[e+1]._model.startAngle=t._model.endAngle)),t.pivot()},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.hoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth);
},calculateCircumference:function(t){return this.getDataset().total>0?1.999999*Math.PI*(t/this.getDataset().total):0}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.line={hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.line.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData}),i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i),this.updateBezierControlPoints()},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,a=this.getDataset().metaDataset,s=this.getDataset().metaData,o=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);e=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),i.extend(a,{_scale:o,_datasetIndex:this.index,_children:s,_model:{tension:a.custom&&a.custom.tension?a.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:a.custom&&a.custom.backgroundColor?a.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:a.custom&&a.custom.borderWidth?a.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:a.custom&&a.custom.borderColor?a.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:a.custom&&a.custom.borderCapStyle?a.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:a.custom&&a.custom.borderDash?a.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:a.custom&&a.custom.borderDashOffset?a.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:a.custom&&a.custom.borderJoinStyle?a.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:a.custom&&a.custom.fill?a.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:o.top,scaleBottom:o.bottom,scaleZero:e}}),a.pivot(),i.each(s,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,e,a){var s,o=this.getScaleForId(this.getDataset().yAxisID),n=this.getScaleForId(this.getDataset().xAxisID);s=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),i.extend(t,{_chart:this.chart.chart,_xScale:n,_yScale:o,_datasetIndex:this.index,_index:e,_model:{x:n.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:a?s:this.calculatePointY(this.getDataset().data[e],e,this.index,this.chart.isCombo),tension:t.custom&&t.custom.tension?t.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,radius:t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},calculatePointY:function(t,e,a,s){var o=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID));if(o.options.stacked){for(var n=0,r=0,h=this.chart.data.datasets.length-1;h>a;h--){var l=this.chart.data.datasets[h];i.isDatasetVisible(l)&&(l.data[e]<0?r+=l.data[e]||0:n+=l.data[e]||0)}return 0>t?o.getPixelForValue(r+t):o.getPixelForValue(n+t)}return o.getPixelForValue(t)},updateBezierControlPoints:function(){i.each(this.getDataset().metaData,function(t,e){var a=i.splineCurve(i.previousItem(this.getDataset().metaData,e)._model,t._model,i.nextItem(this.getDataset().metaData,e)._model,t._model.tension);t._model.controlPointPreviousX=a.previous.x,t._model.controlPointNextX=a.next.x,a.next.y>this.chart.chartArea.bottom?t._model.controlPointNextY=this.chart.chartArea.bottom:a.next.y<this.chart.chartArea.top?t._model.controlPointNextY=this.chart.chartArea.top:t._model.controlPointNextY=a.next.y,a.previous.y>this.chart.chartArea.bottom?t._model.controlPointPreviousY=this.chart.chartArea.bottom:a.previous.y<this.chart.chartArea.top?t._model.controlPointPreviousY=this.chart.chartArea.top:t._model.controlPointPreviousY=a.previous.y,t.pivot()},this)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e)},this),this.getDataset().metaDataset.transition(e).draw(),i.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:i.getValueAtIndexOrDefault(e.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.pointHoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.pointHoverBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animateRotate:!0,animateScale:!0,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},e.controllers.polarArea=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.polarArea.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i)},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},getVisibleDatasetCount:function(){return i.where(this.chart.data.datasets,function(t){return i.isDatasetVisible(t)}).length},update:function(t){this.chart.outerRadius=Math.max((i.min([this.chart.chart.width,this.chart.chart.height])-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,i.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,i.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,e,a){var s=1/this.getDataset().data.length*2,o=-.5*Math.PI+Math.PI*s*e,n=o+s*Math.PI,r={x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.options.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:this.chart.options.animateRotate?Math.PI*-.5:o,endAngle:this.chart.options.animateRotate?Math.PI*-.5:n,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])};i.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_scale:this.chart.scale,_model:a?r:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:o,endAngle:n,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:i.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])}}),t.pivot()},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.hoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.hoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.borderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){return this.getDataset().total>0?2*Math.PI*(t/this.getDataset().total):0},updateScaleRange:function(){i.extend(this.chart.scale,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=function(t,e){this.initialize.call(this,t,e)},i.extend(e.controllers.radar.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new e.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData,_loop:!0}),i.each(this.getDataset().data,function(t,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:0,y:0}})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var i=new e.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(i,t,!0),this.getDataset().metaData.splice(t,0,i),this.updateBezierControlPoints()},removeElement:function(t){this.getDataset().metaData.splice(t,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},update:function(t){var e,a=(this.getDataset().metaDataset,this.getDataset().metaData),s=this.chart.scale;e=s.min<0&&s.max<0?s.getPointPositionForValue(0,s.max):s.min>0&&s.max>0?s.getPointPositionForValue(0,s.min):s.getPointPositionForValue(0,0),i.extend(this.getDataset().metaDataset,{_datasetIndex:this.index,_children:this.getDataset().metaData,_model:{tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:e}}),this.getDataset().metaDataset.pivot(),i.each(a,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,e,a){var s=this.chart.scale.getPointPositionForValue(e,this.getDataset().data[e]);i.extend(t,{_datasetIndex:this.index,_index:e,_scale:this.chart.scale,_model:{x:a?this.chart.scale.xCenter:s.x,y:a?this.chart.scale.yCenter:s.y,tension:t.custom&&t.custom.tension?t.custom.tension:this.chart.options.elements.line.tension,radius:t.custom&&t.custom.radius?t.custom.pointRadius:i.getValueAtIndexOrDefault(this.getDataset().pointRadius,e,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:i.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){i.each(this.getDataset().metaData,function(t,e){var a=i.splineCurve(i.previousItem(this.getDataset().metaData,e,!0)._model,t._model,i.nextItem(this.getDataset().metaData,e,!0)._model,t._model.tension);t._model.controlPointPreviousX=a.previous.x,t._model.controlPointNextX=a.next.x,a.next.y>this.chart.chartArea.bottom?t._model.controlPointNextY=this.chart.chartArea.bottom:a.next.y<this.chart.chartArea.top?t._model.controlPointNextY=this.chart.chartArea.top:t._model.controlPointNextY=a.next.y,a.previous.y>this.chart.chartArea.bottom?t._model.controlPointPreviousY=this.chart.chartArea.bottom:a.previous.y<this.chart.chartArea.top?t._model.controlPointPreviousY=this.chart.chartArea.top:t._model.controlPointPreviousY=a.previous.y,t.pivot()},this)},draw:function(t){var e=t||1;i.each(this.getDataset().metaData,function(t,i){t.transition(e)},this),this.getDataset().metaDataset.transition(e).draw(),i.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index;t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(e.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:i.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,a,i.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:i.getValueAtIndexOrDefault(e.pointHoverBorderColor,a,i.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:i.getValueAtIndexOrDefault(e.pointBorderWidth,a,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:i.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:i.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:i.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:i.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=(e.helpers,{position:"bottom"}),a=e.Scale.extend({buildTicks:function(t){this.ticks=this.data.labels},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,i,a){if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),o=s/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),n=o*e+this.paddingLeft;return this.options.gridLines.offsetGridLines&&a&&(n+=o/2),this.left+Math.round(n)}var r=this.height-(this.paddingTop+this.paddingBottom),h=r/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),l=h*e+this.paddingTop;return this.options.gridLines.offsetGridLines&&a&&(l+=h/2),this.top+Math.round(l)}});e.scaleService.registerScaleType("category",a,i)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={position:"left",ticks:{callback:function(t,e,a){var s=a[1]-a[0];Math.abs(s)>1&&t!==Math.floor(t)&&(s=t-Math.floor(t));var o=i.log10(Math.abs(s)),n="";if(0!==t){var r=-1*Math.floor(o);r=Math.max(Math.min(r,20),0),n=t.toFixed(r)}else n="0";return n}}},s=e.Scale.extend({buildTicks:function(){if(this.min=null,this.max=null,this.options.stacked){var t={};i.each(this.data.datasets,function(e){void 0===t[e.type]&&(t[e.type]={positiveValues:[],negativeValues:[]});var a=t[e.type].positiveValues,s=t[e.type].negativeValues;i.isDatasetVisible(e)&&(this.isHorizontal()?e.xAxisID===this.id:e.yAxisID===this.id)&&i.each(e.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(a[e]=a[e]||0,s[e]=s[e]||0,this.options.relativePoints?a[e]=100:0>i?s[e]+=i:a[e]+=i)},this)},this),i.each(t,function(t){var e=t.positiveValues.concat(t.negativeValues),a=i.min(e),s=i.max(e);this.min=null===this.min?a:Math.min(this.min,a),this.max=null===this.max?s:Math.max(this.max,s)},this)}else i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.ticks=[];var e;if(e=this.isHorizontal()?Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.width/50)):Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.height/(2*this.options.ticks.fontSize))),e=Math.max(2,e),this.options.ticks.beginAtZero){var a=i.sign(this.min),s=i.sign(this.max);0>a&&0>s?this.max=0:a>0&&s>0&&(this.min=0)}this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++);for(var o=i.niceNum(this.max-this.min,!1),n=i.niceNum(o/(e-1),!0),r=Math.floor(this.min/n)*n,h=Math.ceil(this.max/n)*n,l=Math.ceil((h-r)/n),c=0;l>=c;++c)this.ticks.push(r+c*n);("left"==this.options.position||"right"==this.options.position)&&this.ticks.reverse(),this.max=i.max(this.ticks),this.min=i.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getLabelForIndex:function(t,e){return this.getRightValue(this.data.datasets[e].data[t])},getPixelForValue:function(t,e,i,a){var s,o=this.getRightValue(t),n=this.end-this.start;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight);return s=this.left+r/n*(o-this.start),Math.round(s+this.paddingLeft)}var h=this.height-(this.paddingTop+this.paddingBottom);return s=this.bottom-this.paddingBottom-h/n*(o-this.start),Math.round(s)}});e.scaleService.registerScaleType("linear",s,a)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={position:"left",ticks:{callback:function(t){var i=t/Math.pow(10,Math.floor(e.helpers.log10(t)));return 1===i||2===i||5===i?t.toExponential():""}}},s=e.Scale.extend({buildTicks:function(){if(this.min=null,this.max=null,this.options.stacked){var t={};i.each(this.data.datasets,function(e){i.isDatasetVisible(e)&&(this.isHorizontal()?e.xAxisID===this.id:e.yAxisID===this.id)&&(void 0===t[e.type]&&(t[e.type]=[]),i.each(e.data,function(i,a){var s=t[e.type],o=this.getRightValue(i);isNaN(o)||(s[a]=s[a]||0,this.options.relativePoints?s[a]=100:s[a]+=o)},this))},this),i.each(t,function(t){var e=i.min(t),a=i.max(t);this.min=null===this.min?e:Math.min(this.min,e),this.max=null===this.max?a:Math.max(this.max,a)},this)}else i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(i.log10(this.min))-1),this.max=Math.pow(10,Math.floor(i.log10(this.max))+1)):(this.min=1,this.max=10)),this.tickValues=[];for(var e=Math.floor(i.log10(this.min)),a=Math.ceil(i.log10(this.max)),s=e;a>s;++s)for(var o=1;10>o;++o)this.tickValues.push(o*Math.pow(10,s));this.tickValues.push(1*Math.pow(10,a)),("left"==this.options.position||"right"==this.options.position)&&this.tickValues.reverse(),this.max=i.max(this.tickValues),this.min=i.min(this.tickValues),this.options.ticks.reverse?(this.tickValues.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.ticks=this.tickValues.slice()},getLabelForIndex:function(t,e){return this.getRightValue(this.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,e,a,s){var o,n=this.getRightValue(t),r=i.log10(this.end)-i.log10(this.start);if(this.isHorizontal()){if(0!==n){var h=this.width-(this.paddingLeft+this.paddingRight);return o=this.left+h/r*(i.log10(n)-i.log10(this.start)),o+this.paddingLeft}o=this.left+this.paddingLeft}else{if(0!==n){var l=this.height-(this.paddingTop+this.paddingBottom);return this.bottom-this.paddingBottom-l/r*(i.log10(n)-i.log10(this.start))}o=this.top+this.paddingTop}}});e.scaleService.registerScaleType("logarithmic",s,a)}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontFamily:"'Arial'",fontStyle:"normal",fontSize:10,fontColor:"#666"}},s=e.Scale.extend({getValueCount:function(){return this.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var t=i.min([this.height,this.width]);this.drawingArea=this.options.display?t/2-(this.options.ticks.fontSize/2+this.options.ticks.backdropPaddingY):t/2},buildTicks:function(){this.min=null,this.max=null,i.each(this.data.datasets,function(t){i.isDatasetVisible(t)&&i.each(t.data,function(t,e){var i=this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this),this.min===this.max&&(this.min--,this.max++),this.ticks=[];var t=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*this.options.ticks.fontSize)));if(t=Math.max(2,t),this.options.ticks.beginAtZero){var e=i.sign(this.min),a=i.sign(this.max);0>e&&0>a?this.max=0:e>0&&a>0&&(this.min=0)}for(var s=i.niceNum(this.max-this.min,!1),o=i.niceNum(s/(t-1),!0),n=Math.floor(this.min/o)*o,r=Math.ceil(this.max/o)*o,h=n;r>=h;h+=o)this.ticks.push(h);this.max=i.max(this.ticks),this.min=i.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getLabelForIndex:function(t,e){return this.getRightValue(this.data.datasets[e].data[t])},getCircumference:function(){return 2*Math.PI/this.getValueCount()},fit:function(){var t,e,a,s,o,n,r,h,l,c,d,u,g=i.min([this.height/2-this.options.pointLabels.fontSize-5,this.width/2]),m=this.width,p=0;for(this.ctx.font=i.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),e=0;e<this.getValueCount();e++)t=this.getPointPosition(e,g),a=this.ctx.measureText(this.options.ticks.callback(this.data.labels[e])).width+5,0===e||e===this.getValueCount()/2?(s=a/2,t.x+s>m&&(m=t.x+s,o=e),t.x-s<p&&(p=t.x-s,r=e)):e<this.getValueCount()/2?t.x+a>m&&(m=t.x+a,o=e):e>this.getValueCount()/2&&t.x-a<p&&(p=t.x-a,r=e);l=p,c=Math.ceil(m-this.width),n=this.getIndexAngle(o),h=this.getIndexAngle(r),d=c/Math.sin(n+Math.PI/2),u=l/Math.sin(h+Math.PI/2),d=i.isNumber(d)?d:0,u=i.isNumber(u)?u:0,this.drawingArea=Math.round(g-(u+d)/2),this.setCenterPoint(u,d)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,a=t+this.drawingArea;this.xCenter=Math.round((a+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},draw:function(){if(this.options.display){var t=this.ctx;if(i.each(this.ticks,function(e,a){if(a>0||this.options.reverse){var s=this.getDistanceFromCenterForValue(this.ticks[a]),o=this.yCenter-s;if(this.options.gridLines.show)if(t.strokeStyle=this.options.gridLines.color,t.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,s,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var n=0;n<this.getValueCount();n++){var r=this.getPointPosition(n,this.getDistanceFromCenterForValue(this.ticks[a]));0===n?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y)}t.closePath(),t.stroke()}if(this.options.ticks.show){if(t.font=i.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.options.ticks.showLabelBackdrop){var h=t.measureText(e).width;t.fillStyle=this.options.ticks.backdropColor,t.fillRect(this.xCenter-h/2-this.options.ticks.backdropPaddingX,o-this.options.ticks.fontSize/2-this.options.ticks.backdropPaddingY,h+2*this.options.ticks.backdropPaddingX,this.options.ticks.fontSize+2*this.options.ticks.backdropPaddingY);
}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.options.ticks.fontColor,t.fillText(e,this.xCenter,o)}}},this),!this.options.lineArc){t.lineWidth=this.options.angleLines.lineWidth,t.strokeStyle=this.options.angleLines.color;for(var e=this.getValueCount()-1;e>=0;e--){if(this.options.angleLines.show){var a=this.getPointPosition(e,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke(),t.closePath()}var s=this.getPointPosition(e,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5);t.font=i.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),t.fillStyle=this.options.pointLabels.fontColor;var o=this.data.labels.length,n=this.data.labels.length/2,r=n/2,h=r>e||e>o-r,l=e===r||e===o-r;0===e?t.textAlign="center":e===n?t.textAlign="center":n>e?t.textAlign="left":t.textAlign="right",l?t.textBaseline="middle":h?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.data.labels[e],s.x,s.y)}}}}});e.scaleService.registerScaleType("radialLinear",s,a)}.call(this),function(){"use strict";if(!window.moment)return void console.warn("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at http://momentjs.com/");var t=this,e=t.Chart,i=e.helpers,a={units:["millisecond","second","minute","hour","day","week","month","quarter","year"],unit:{millisecond:{display:"SSS [ms]",maxStep:1e3},second:{display:"h:mm:ss a",maxStep:60},minute:{display:"h:mm:ss a",maxStep:60},hour:{display:"MMM D, hA",maxStep:24},day:{display:"ll",maxStep:7},week:{display:"ll",maxStep:4.3333},month:{display:"MMM YYYY",maxStep:12},quarter:{display:"[Q]Q - YYYY",maxStep:4},year:{display:"YYYY",maxStep:!1}}},s={position:"bottom",time:{format:!1,unit:!1,round:!1,displayFormat:!1}},o=e.Scale.extend({getLabelMoment:function(t,e){return this.labelMoments[t][e]},buildLabelMoments:function(){var t=[];this.data.labels&&this.data.labels.length>0?(i.each(this.data.labels,function(e,i){var a=this.parseTime(e);this.options.time.round&&a.startOf(this.options.time.round),t.push(a)},this),this.options.time.min?this.firstTick=this.parseTime(this.options.time.min):this.firstTick=moment.min.call(this,t),this.options.time.max?this.lastTick=this.parseTime(this.options.time.max):this.lastTick=moment.max.call(this,t)):(this.firstTick=null,this.lastTick=null),i.each(this.data.datasets,function(e,a){var s=[];"object"==typeof e.data[0]?i.each(e.data,function(t,e){var i=this.parseTime(this.getRightValue(t));this.options.time.round&&i.startOf(this.options.time.round),s.push(i),this.firstTick=null!==this.firstTick?moment.min(this.firstTick,i):i,this.lastTick=null!==this.lastTick?moment.max(this.lastTick,i):i},this):s=t,this.labelMoments.push(s)},this),this.firstTick=this.firstTick.clone(),this.lastTick=this.lastTick.clone()},buildTicks:function(t){if(this.ticks=[],this.labelMoments=[],this.buildLabelMoments(),this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=a.unit[this.tickUnit].display,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0));else{var e=this.width-(this.paddingLeft+this.paddingRight),s=e/this.options.ticks.fontSize+4,o=this.options.time.round?0:2;this.tickUnit="millisecond",this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0)+o),this.displayFormat=a.unit[this.tickUnit].display,i.each(a.units,function(t){this.tickRange<=s||(this.tickUnit=t,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit)+o),this.displayFormat=a.unit[t].display)},this)}this.firstTick.startOf(this.tickUnit),this.lastTick.endOf(this.tickUnit),this.smallestLabelSeparation=this.width,i.each(this.data.datasets,function(t,e){for(var i=1;i<this.labelMoments[e].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][i].diff(this.labelMoments[e][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat);for(var n=0;n<=this.tickRange;++n)this.ticks.push(this.firstTick.clone().add(n,this.tickUnit))},getLabelForIndex:function(t,e){var i=this.data.labels&&t<this.data.labels.length?this.data.labels[t]:"";return"object"==typeof this.data.datasets[e].data[0]&&(i=this.getRightValue(this.data.datasets[e].data[t])),i},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){var s=t.format(this.options.time.displayFormat?this.options.time.displayFormat:a.unit[this.tickUnit].display);return this.options.ticks.userCallback?this.options.ticks.userCallback(s,e,i):s},this)},getPixelForValue:function(t,e,i,a){var s=this.getLabelMoment(i,e),o=s.diff(this.firstTick,this.tickUnit,!0),n=o/this.tickRange;if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight),h=(r/Math.max(this.ticks.length-1,1),r*n+this.paddingLeft);return this.left+Math.round(h)}var l=this.height-(this.paddingTop+this.paddingBottom),c=(l/Math.max(this.ticks.length-1,1),l*n+this.paddingTop);return this.top+Math.round(c)},parseTime:function(t){return"function"==typeof t.getMonth||"number"==typeof t?moment(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?this.options.time.format(t):moment(t,this.options.time.format)}});e.scaleService.registerScaleType("time",o,s)}.call(this),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.elements.arc={backgroundColor:e.defaults.global.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,e){var a=this._view;if(a){var s=i.getAngleFromPoint(a,{x:t,y:e}),o=a.startAngle<-.5*Math.PI?a.startAngle+2*Math.PI:a.startAngle>1.5*Math.PI?a.startAngle-2*Math.PI:a.startAngle,n=a.endAngle<-.5*Math.PI?a.endAngle+2*Math.PI:a.endAngle>1.5*Math.PI?a.endAngle-2*Math.PI:a.endAngle,r=s.angle>=o&&s.angle<=n,h=s.distance>=a.innerRadius&&s.distance<=a.outerRadius;return r&&h}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,e.startAngle,e.endAngle),t.arc(e.x,e.y,e.innerRadius,e.endAngle,e.startAngle,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}.call(this),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.defaults.global.elements.line={tension:.4,backgroundColor:e.defaults.global.defaultColor,borderWidth:3,borderColor:e.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({draw:function(){var t=this._view,a=this._chart.ctx,s=this._children[0],o=this._children[this._children.length-1];if(a.save(),i.each(this._children,function(e,s){var o=i.previousItem(this._children,s),n=i.nextItem(this._children,s);return s||a.moveTo(e._view.x,t.scaleZero),e._view.skip&&!this.loop?(a.lineTo(o._view.x,t.scaleZero),void a.moveTo(n._view.x,t.scaleZero)):o._view.skip?void a.lineTo(e._view.x,e._view.y):t.tension>0&&s?void a.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y):void a.lineTo(e._view.x,e._view.y)},this),this._loop){if(t.tension>0&&!s._view.skip)return void a.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,s._view.controlPointPreviousX,s._view.controlPointPreviousY,s._view.x,s._view.y);a.lineTo(s._view.x,s._view.y)}if(this._children.length>0&&t.fill&&(a.lineTo(this._children[this._children.length-1]._view.x,t.scaleZero),a.lineTo(this._children[0]._view.x,t.scaleZero),a.fillStyle=t.backgroundColor||e.defaults.global.defaultColor,a.closePath(),a.fill()),a.lineCap=t.borderCapStyle||e.defaults.global.elements.line.borderCapStyle,a.setLineDash&&a.setLineDash(t.borderDash||e.defaults.global.elements.line.borderDash),a.lineDashOffset=t.borderDashOffset||e.defaults.global.elements.line.borderDashOffset,a.lineJoin=t.borderJoinStyle||e.defaults.global.elements.line.borderJoinStyle,a.lineWidth=t.borderWidth||e.defaults.global.elements.line.borderWidth,a.strokeStyle=t.borderColor||e.defaults.global.defaultColor,a.beginPath(),i.each(this._children,function(e,s){var o=i.previousItem(this._children,s),n=i.nextItem(this._children,s);return s||a.moveTo(e._view.x,t.scaleZero),e._view.skip&&!this.loop?void a.moveTo(n._view.x,t.scaleZero):o._view.skip?void a.moveTo(e._view.x,e._view.y):(s||a.moveTo(e._view.x,e._view.y),t.tension>0&&s?void a.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y):void a.lineTo(e._view.x,e._view.y))},this),this._loop&&!s._view.skip){if(t.tension>0)return void a.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,s._view.controlPointPreviousX,s._view.controlPointPreviousY,s._view.x,s._view.y);a.lineTo(s._view.x,s._view.y)}a.stroke(),a.restore()}})}.call(this),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
function(){"use strict";var t=this,e=t.Chart;e.helpers;e.defaults.global.elements.point={radius:3,backgroundColor:e.defaults.global.defaultColor,borderWidth:1,borderColor:e.defaults.global.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(t,e){var i=this._view;if(i){var a=i.hitRadius+i.radius;return Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(a,2)}return!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t=this._view,i=this._chart.ctx;t.skip||(t.radius>0||t.borderWidth>0)&&(i.beginPath(),i.arc(t.x,t.y,t.radius||e.defaults.global.elements.point.radius,0,2*Math.PI),i.closePath(),i.strokeStyle=t.borderColor||e.defaults.global.defaultColor,i.lineWidth=t.borderWidth||e.defaults.global.elements.point.borderWidth,i.fillStyle=t.backgroundColor||e.defaults.global.defaultColor,i.fill(),i.stroke())}})}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.defaults.global.elements.rectangle={backgroundColor:e.defaults.global.defaultColor,borderWidth:0,borderColor:e.defaults.global.defaultColor},e.elements.Rectangle=e.Element.extend({draw:function(){var t=this._chart.ctx,e=this._view,i=e.width/2,a=e.x-i,s=e.x+i,o=e.base-(e.base-e.y),n=e.borderWidth/2;e.borderWidth&&(a+=n,s-=n,o+=n),t.beginPath(),t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.moveTo(a,e.base),t.lineTo(a,o),t.lineTo(s,o),t.lineTo(s,e.base),t.fill(),e.borderWidth&&t.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=this._view,a=!1;return i&&(a=i.y<i.base?t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.y&&e<=i.base:t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.base&&e<=i.y),a},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return t.y<t.base?{x:t.x,y:t.y}:{x:t.x,y:t.base}}})}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.Bar=function(t,i){return i.type="bar",new e(t,i)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};e.Bubble=function(t,s){return s.options=i.configMerge(a,s.options),s.type="bubble",new e(t,s)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};e.Doughnut=function(t,s){return s.options=i.configMerge(a,s.options),s.type="doughnut",new e(t,s)}}.call(this),function(){"use strict";var t=this,e=t.Chart;e.helpers;e.Line=function(t,i){return i.type="line",new e(t,i)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};e.PolarArea=function(t,s){return s.options=i.configMerge(a,s.options),s.type="polarArea",new e(t,s)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={aspectRatio:1};e.Radar=function(t,s){return s.options=i.configMerge(a,s.options),s.type="radar",new e(t,s)}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,a={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};e.Scatter=function(t,s){return s.options=i.configMerge(a,s.options),s.type="line",new e(t,s)}}.call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy1zZXR0aW5ncy93aWR0aC93aWR0aC5kaXJlY3RpdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQyxXQUFXO0FBQ1o7Ozs7Ozs7O0FBUUEsUUFBUSxPQUFPO0VBQ2I7SUFDRTtJQUNBO0lBQ0E7SUFDQTs7SUFFQTtJQUNBO0lBQ0E7Ozs7OztBQU1KLFFBQVEsT0FBTztFQUNiO0lBQ0U7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7O0FBR0osUUFBUSxPQUFPO0VBQ2I7SUFDRTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7OztBQUdKLFFBQVEsT0FBTztFQUNiO0lBQ0U7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7OztBQUdKLFFBQVEsT0FBTztFQUNiO0lBQ0U7SUFDQTs7O0FBR0osUUFBUSxPQUFPO0VBQ2I7SUFDRTtJQUNBO0lBQ0E7Ozs7OztBQU1KLFFBQVEsT0FBTztFQUNiO0lBQ0U7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7Ozs7O0FBTUosUUFBUSxPQUFPO0VBQ2I7SUFDRTtJQUNBO0lBQ0E7SUFDQTs7Ozs7O0FBTUosUUFBUSxPQUFPLGdCQUFnQixJQUFJLE9BQU8sQ0FBQztFQUN6QyxVQUFVLGVBQWU7SUFDdkIsY0FBYyxTQUFTLFFBQVEsT0FBTyxZQUFZO0lBQ2xELGNBQWMsU0FBUyxR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RSxHQUFHLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLE1BQU0sR0FBRyxVQUFVLE9BQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLFFBQVEsR0FBRyxHQUFHLEVBQUUsS0FBSyxVQUFVLE1BQU0sUUFBUSxHQUFHLEVBQUUsRUFBRSxRQUFRLEdBQUcsS0FBSyxVQUFVLE1BQU0sT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLE1BQU0sSUFBSSxNQUFNLHNDQUFzQyxFQUFFLEtBQUssS0FBSyxVQUFVLE1BQU0sU0FBUyxHQUFHLFVBQVUsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSyxVQUFVLE1BQU0sUUFBUSxHQUFHLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsVUFBVSxLQUFLLFVBQVUsTUFBTSxRQUFRLEdBQUcsS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxNQUFNLEtBQUssVUFBVSxNQUFNLFFBQVEsR0FBRyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLFVBQVUsS0FBSyxVQUFVLE1BQU0sT0FBTyxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxLQUFLLE1BQU0sSUFBSSxNQUFNLHFDQUFxQyxLQUFLLFVBQVUsSUFBSSxLQUFLLFVBQVUsT0FBTyxNQUFNLEVBQUUsVUFBVSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsTUFBTSxZQUFZLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsTUFBTSxZQUFZLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsTUFBTSxZQUFZLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsTUFBTSxZQUFZLEtBQUssU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFNBQVMsT0FBTyxZQUFZLFNBQVMsVUFBVSxDQUFDLE9BQU8sS0FBSyxPQUFPLEtBQUssU0FBUyxVQUFVLENBQUMsT0FBTyxLQUFLLE9BQU8sS0FBSyxTQUFTLFVBQVUsQ0FBQyxPQUFPLEtBQUssT0FBTyxLQUFLLFNBQVMsVUFBVSxDQUFDLE9BQU8sSUFBSSxLQUFLLE9BQU8sTUFBTSxLQUFLLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxPQUFPLFFBQVEsS0FBSyxPQUFPLEtBQUssVUFBVSxVQUFVLENBQUMsT0FBTyxLQUFLLE9BQU8sTUFBTSxVQUFVLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksT0FBTyxFQUFFLE9BQU8sQ0FBQyxLQUFLLE9BQU8sU0FBUyxVQUFVLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksT0FBTyxFQUFFLE9BQU8sQ0FBQyxLQUFLLE9BQU8sU0FBUyxNQUFNLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxJQUFJLEVBQUUsS0FBSyxPQUFPLE9BQU8sS0FBSyxVQUFVLFFBQVEsR0FBRyxPQUFPLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFdBQVcsTUFBTSxFQUFFLElBQUksTUFBTSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssV0FBVyxNQUFNLEVBQUUsSUFBSSxLQUFLLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxXQUFXLE1BQU0sRUFBRSxJQUFJLElBQUksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFdBQVcsTUFBTSxFQUFFLElBQUksV0FBVyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssV0FBVyxNQUFNLEVBQUUsSUFBSSxVQUFVLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxXQUFXLE1BQU0sRUFBRSxJQUFJLFlBQVksU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFdBQVcsTUFBTSxFQUFFLElBQUksVUFBVSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssV0FBVyxNQUFNLEVBQUUsSUFBSSxVQUFVLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxXQUFXLE1BQU0sRUFBRSxJQUFJLE1BQU0sU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFdBQVcsTUFBTSxFQUFFLElBQUksS0FBSyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssV0FBVyxPQUFPLEVBQUUsSUFBSSxRQUFRLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxXQUFXLE9BQU8sRUFBRSxJQUFJLE9BQU8sU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFdBQVcsT0FBTyxFQUFFLElBQUksTUFBTSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssV0FBVyxPQUFPLEVBQUUsSUFBSSxVQUFVLFVBQVUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLE9BQU8sTUFBTSxVQUFVLFVBQVUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxXQUFXLFVBQVUsQ0FBQyxPQUFPLEVBQUUsV0FBVyxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxjQUFjLFVBQVUsQ0FBQyxPQUFPLEVBQUUsY0FBYyxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxVQUFVLFVBQVUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxXQUFXLFVBQVUsQ0FBQyxPQUFPLEVBQUUsV0FBVyxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxVQUFVLFVBQVUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxRQUFRLFVBQVUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxLQUFLLE9BQU8sSUFBSSxLQUFLLE9BQU8sUUFBUSxVQUFVLFVBQVUsQ0FBQyxPQUFPLEtBQUssT0FBTyxJQUFJLElBQUksR0FBRyxLQUFLLE9BQU8sSUFBSSxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksSUFBSSxXQUFXLFVBQVUsQ0FBQyxJQUFJLElBQUksRUFBRSxLQUFLLE9BQU8sSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLFFBQVEsRUFBRSxFQUFFLE1BQU0sS0FBSyxJQUFJLENBQUMsRUFBRSxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxJQUFJLFNBQVMsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssYUFBYSxFQUFFLEVBQUUsYUFBYSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLE1BQU0sU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssU0FBUyxHQUFHLE9BQU8sR0FBRyxJQUFJLE1BQU0sR0FBRyxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxJQUFJLElBQUksT0FBTyxJQUFJLEdBQUcsTUFBTSxVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssUUFBUSxPQUFPLFVBQVUsQ0FBQyxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHLE9BQU8sS0FBSyxVQUFVLE1BQU0sR0FBRyxNQUFNLFFBQVEsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLE9BQU8sU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLFNBQVMsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLFdBQVcsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLE9BQU8sU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLFFBQVEsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLFVBQVUsVUFBVSxDQUFDLElBQUksRUFBRSxLQUFLLE9BQU8sSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLE9BQU8sS0FBSyxVQUFVLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxNQUFNLFFBQVEsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLFVBQVUsUUFBUSxLQUFLLE9BQU8sTUFBTSxLQUFLLE9BQU8sTUFBTSxHQUFHLE1BQU0sUUFBUSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssVUFBVSxRQUFRLEtBQUssT0FBTyxNQUFNLEtBQUssT0FBTyxNQUFNLEdBQUcsTUFBTSxPQUFPLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLE9BQU8sSUFBSSxHQUFHLE9BQU8sRUFBRSxDQUFDLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLFVBQVUsTUFBTSxLQUFLLE9BQU8sS0FBSyxNQUFNLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsTUFBTSxFQUFFLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssV0FBVyxFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxVQUFVLE1BQU0sR0FBRyxJQUFJLEVBQUUsS0FBSyxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsR0FBRyxPQUFPLEtBQUssVUFBVSxRQUFRLEdBQUcsTUFBTSxPQUFPLFVBQVUsQ0FBQyxPQUFPLEtBQUssT0FBTyxNQUFNLFVBQVUsQ0FBQyxPQUFPLElBQUksRUFBRSxLQUFLLFNBQVMsRUFBRSxVQUFVLFVBQVUsU0FBUyxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEVBQUUsT0FBTyxJQUFJLEtBQUssT0FBTyxHQUFHLEdBQUcsT0FBTyxHQUFHLEtBQUssT0FBTyxRQUFRLEVBQUUsRUFBRSxLQUFLLE9BQU8sT0FBTyxHQUFHLEVBQUUsVUFBVSxVQUFVLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sUUFBUSxRQUFRLElBQUksQ0FBQyxNQUFNLGFBQWEsYUFBYSxJQUFJLENBQUMsTUFBTSxhQUFhLFNBQVMsSUFBSSxDQUFDLE1BQU0sWUFBWSxhQUFhLEtBQUssQ0FBQyxPQUFPLFVBQVUsU0FBUyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxJQUFJLE1BQU0sRUFBRSxFQUFFLEdBQUcsU0FBUyxFQUFFLEVBQUUsT0FBTyxHQUFHLEVBQUUsT0FBTyxLQUFLLE9BQU8sR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsYUFBYSxHQUFHLEtBQUssSUFBSSxFQUFFLEVBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEtBQUssT0FBTyxHQUFHLEdBQUcsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEVBQUUsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEtBQUssT0FBTyxHQUFHLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLE1BQU0sR0FBRyxLQUFLLE9BQU8sTUFBTSxLQUFLLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEtBQUssT0FBTyxRQUFRLFNBQVMsRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxLQUFLLE9BQU8sR0FBRyxHQUFHLEtBQUssTUFBTSxHQUFHLElBQUksSUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxPQUFPLEdBQUcsRUFBRSxHQUFHLEdBQUcsS0FBSyxPQUFPLEtBQUssSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLEdBQUcsR0FBRyxLQUFLLE9BQU8sR0FBRyxLQUFLLEtBQUssT0FBTyxHQUFHLEdBQUcsS0FBSyxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE9BQU8sS0FBSyxJQUFJLEVBQUUsS0FBSyxVQUFVLElBQUksVUFBVSxPQUFPLElBQUksRUFBRSxNQUFNLFVBQVUsTUFBTSxLQUFLLElBQUksS0FBSyxVQUFVLEVBQUUsR0FBRyxPQUFPLEVBQUUsVUFBVSxXQUFXLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEtBQUssSUFBSSxFQUFFLEtBQUssT0FBTyxHQUFHLElBQUksS0FBSyxPQUFPLEdBQUcsR0FBRyxFQUFFLEtBQUssVUFBVSxFQUFFLEtBQUssT0FBTyxJQUFJLE9BQU8sT0FBTyxNQUFNLEVBQUUsUUFBUSxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsZUFBZSxJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLE9BQU8sR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLElBQUksR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLElBQUksR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUUsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsSUFBSSxLQUFLLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEdBQUcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxVQUFVLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxPQUFPLEtBQUssSUFBSSxDQUFDLEVBQUUsTUFBTSxNQUFNLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRSxPQUFPLEtBQUssSUFBSSxDQUFDLEVBQUUsTUFBTSxNQUFNLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRSxPQUFPLEtBQUssSUFBSSxDQUFDLEVBQUUsTUFBTSxNQUFNLEtBQUssRUFBRSxNQUFNLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLElBQUksR0FBRyxRQUFRLEVBQUUsRUFBRSxRQUFRLEtBQUssSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxRQUFRLEtBQUssSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxRQUFRLEtBQUssSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksR0FBRyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksT0FBTyxHQUFHLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxLQUFLLE1BQU0sR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLE1BQU0sR0FBRyxFQUFFLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUcsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEdBQUcsRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsUUFBUSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDLEtBQUssTUFBTSxFQUFFLEVBQUUsRUFBRSxTQUFTLE1BQU0sS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLFNBQVMsTUFBTSxLQUFLLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsU0FBUyxNQUFNLEtBQUssSUFBSSxFQUFFLEVBQUUsS0FBSyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxJQUFJLEtBQUssSUFBSSxFQUFFLEdBQUcsR0FBRyxFQUFFLEtBQUssSUFBSSxLQUFLLElBQUksRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEdBQUcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsSUFBSSxHQUFHLFFBQVEsRUFBRSxFQUFFLFFBQVEsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLFFBQVEsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLFFBQVEsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsT0FBTyxHQUFHLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxLQUFLLEdBQUcsTUFBTSxFQUFFLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksR0FBRyxFQUFFLEtBQUssSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsS0FBSyxNQUFNLE9BQU8sS0FBSyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxFQUFFLElBQUksR0FBRyxLQUFLLE1BQU0sUUFBUSxLQUFLLElBQUksRUFBRSxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxPQUFPLEVBQUUsS0FBSyxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssR0FBRyxFQUFFLElBQUksR0FBRyxLQUFLLEVBQUUsS0FBSyxLQUFLLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEdBQUcsRUFBRSxFQUFFLEtBQUssSUFBSSxHQUFHLEVBQUUsRUFBRSxLQUFLLElBQUksR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsR0FBRyxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLLFNBQVMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxTQUFTLENBQUMsRUFBRSxJQUFJLEtBQUssY0FBYyxDQUFDLElBQUksSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsRUFBRSxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssZUFBZSxDQUFDLEdBQUcsSUFBSSxJQUFJLFdBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssUUFBUSxDQUFDLElBQUksRUFBRSxHQUFHLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssY0FBYyxDQUFDLEdBQUcsR0FBRyxLQUFLLGNBQWMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxjQUFjLENBQUMsR0FBRyxHQUFHLElBQUksY0FBYyxDQUFDLEVBQUUsSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxTQUFTLENBQUMsSUFBSSxHQUFHLEtBQUssWUFBWSxDQUFDLEVBQUUsSUFBSSxLQUFLLFFBQVEsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLEdBQUcsSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLEdBQUcsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxFQUFFLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxjQUFjLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxHQUFHLGFBQWEsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxxQkFBcUIsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxHQUFHLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLGVBQWUsQ0FBQyxJQUFJLElBQUksS0FBSyxlQUFlLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLEVBQUUsRUFBRSxLQUFLLGFBQWEsQ0FBQyxJQUFJLEdBQUcsS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssZUFBZSxDQUFDLEdBQUcsSUFBSSxLQUFLLGdCQUFnQixDQUFDLElBQUksSUFBSSxLQUFLLGtCQUFrQixDQUFDLEVBQUUsSUFBSSxLQUFLLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxLQUFLLGdCQUFnQixDQUFDLElBQUksR0FBRyxLQUFLLGFBQWEsQ0FBQyxHQUFHLEdBQUcsS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLFFBQVEsQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssY0FBYyxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxJQUFJLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssY0FBYyxDQUFDLElBQUksR0FBRyxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLEdBQUcsSUFBSSxLQUFLLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxJQUFJLFNBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxTQUFTLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksR0FBRyxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFlBQVksQ0FBQyxFQUFFLElBQUksS0FBSyxVQUFVLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxHQUFHLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxJQUFJLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxJQUFJLEtBQUssRUFBRSxFQUFFLEtBQUssVUFBVSxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxDQUFDLE9BQU8sSUFBSSxHQUFHLElBQUksSUFBSSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsT0FBTyxTQUFTLEVBQUUsQ0FBQyxPQUFPLFNBQVMsRUFBRSxDQUFDLE1BQU0sVUFBVSxPQUFPLElBQUksRUFBRSxNQUFNLFVBQVUsTUFBTSxLQUFLLFlBQVksRUFBRSxHQUFHLEtBQUssR0FBRyxJQUFJLEVBQUUsY0FBYyxLQUFLLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxTQUFTLEVBQUUsQ0FBQyxPQUFPLFNBQVMsRUFBRSxDQUFDLFVBQVUsT0FBTyxJQUFJLEVBQUUsTUFBTSxVQUFVLE1BQU0sS0FBSyxZQUFZLElBQUksRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLFVBQVUsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLElBQUksRUFBRSxHQUFHLEtBQUssTUFBTSxFQUFFLElBQUksT0FBTyxJQUFJLEdBQUcsSUFBSSxFQUFFLFVBQVUsQ0FBQyxLQUFLLE1BQU0sSUFBSSxFQUFFLFVBQVUsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsT0FBTyxLQUFLLElBQUksRUFBRSxLQUFLLFVBQVUsSUFBSSxVQUFVLE9BQU8sSUFBSSxFQUFFLE1BQU0sVUFBVSxNQUFNLEtBQUssSUFBSSxLQUFLLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxVQUFVLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxLQUFLLE1BQU0sRUFBRSxLQUFLLE1BQU0sR0FBRyxLQUFLLE1BQU0sR0FBRyxFQUFFLE1BQU0sRUFBRSxVQUFVLFVBQVUsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssTUFBTSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxLQUFLLE1BQU0sR0FBRyxFQUFFLE9BQU8sR0FBRyxDQUFDLE1BQU0sTUFBTSxNQUFNLE9BQU8sV0FBVyxRQUFRLFNBQVMsRUFBRSxDQUFDLEVBQUUsVUFBVSxHQUFHLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxXQUFXLEVBQUUsY0FBYyxFQUFFLFFBQVEsR0FBRyxDQUFDLGdCQUFnQixJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsc0JBQXNCLEVBQUUsc0JBQXNCLEVBQUUsMEZBQTBGLEVBQUUsNEdBQTRHLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUUsR0FBRyxTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQUcsU0FBUyxHQUFHLEVBQUUsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLElBQUksRUFBRSxHQUFHLFNBQVMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLEdBQUcsRUFBRSxFQUFFLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEdBQUcsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxTQUFTLEdBQUcsRUFBRSxFQUFFLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEdBQUcsS0FBSyxNQUFNLEtBQUssV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLEdBQUcsRUFBRSxFQUFFLE1BQU0sR0FBRyxDQUFDLEdBQUcsZUFBZSxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLE9BQU8sRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSwyR0FBMkcsRUFBRSxFQUFFLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLHlHQUF5RyxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEtBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE9BQU8sR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxPQUFPLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxNQUFNLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxJQUFJLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEtBQUssSUFBSSxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxRQUFRLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLEVBQUUsSUFBSSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLEVBQUUsS0FBSyxNQUFNLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBRSxLQUFLLE1BQU0sRUFBRSxHQUFHLElBQUksS0FBSyxNQUFNLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLE1BQU0sRUFBRSxHQUFHLElBQUksS0FBSyxFQUFFLEtBQUssTUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLEVBQUUsS0FBSyxNQUFNLEVBQUUsR0FBRyxJQUFJLEtBQUssTUFBTSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEdBQUcsRUFBRSxJQUFJLEdBQUcsSUFBSSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLE9BQU8sRUFBRSxHQUFHLEtBQUssRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLEtBQUssU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxJQUFJLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFHLFFBQVEsRUFBRSxHQUFHLEtBQUssRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxJQUFJLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEtBQUssSUFBSSxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxNQUFNLEVBQUUsR0FBRyxLQUFLLEtBQUssSUFBSSxHQUFHLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsR0FBRyxHQUFHLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsU0FBUyxJQUFJLGNBQWMsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsUUFBUSxHQUFHLElBQUksRUFBRSxHQUFHLElBQUksSUFBSSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksR0FBRyxDQUFDLGFBQWEsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLE9BQU8sQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsR0FBRyxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLLFNBQVMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxTQUFTLENBQUMsRUFBRSxJQUFJLEtBQUssY0FBYyxDQUFDLElBQUksSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsRUFBRSxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssZUFBZSxDQUFDLEdBQUcsSUFBSSxJQUFJLFdBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssUUFBUSxDQUFDLElBQUksRUFBRSxHQUFHLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssY0FBYyxDQUFDLEdBQUcsR0FBRyxLQUFLLGNBQWMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxjQUFjLENBQUMsR0FBRyxHQUFHLElBQUksY0FBYyxDQUFDLEVBQUUsSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxTQUFTLENBQUMsSUFBSSxHQUFHLEtBQUssWUFBWSxDQUFDLEVBQUUsSUFBSSxLQUFLLFFBQVEsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLEdBQUcsSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLEdBQUcsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxFQUFFLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxjQUFjLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxHQUFHLGFBQWEsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxxQkFBcUIsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxHQUFHLElBQUksS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssZUFBZSxDQUFDLElBQUksSUFBSSxLQUFLLGVBQWUsQ0FBQyxJQUFJLElBQUksS0FBSyxlQUFlLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBWSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLEVBQUUsRUFBRSxLQUFLLGFBQWEsQ0FBQyxJQUFJLEdBQUcsS0FBSyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssZUFBZSxDQUFDLEdBQUcsSUFBSSxLQUFLLGdCQUFnQixDQUFDLElBQUksSUFBSSxLQUFLLGtCQUFrQixDQUFDLEVBQUUsSUFBSSxLQUFLLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxLQUFLLGdCQUFnQixDQUFDLElBQUksR0FBRyxLQUFLLGFBQWEsQ0FBQyxHQUFHLEdBQUcsS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxLQUFLLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBSyxZQUFZLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLFFBQVEsQ0FBQyxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssY0FBYyxDQUFDLElBQUksSUFBSSxLQUFLLGNBQWMsQ0FBQyxJQUFJLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssY0FBYyxDQUFDLElBQUksR0FBRyxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLEdBQUcsSUFBSSxLQUFLLFlBQVksQ0FBQyxJQUFJLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxJQUFJLFNBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxTQUFTLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksR0FBRyxLQUFLLFVBQVUsQ0FBQyxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFlBQVksQ0FBQyxFQUFFLElBQUksS0FBSyxVQUFVLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxHQUFHLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxJQUFJLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxJQUFJLEtBQUssT0FBTyxDQUFDLElBQUksSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLElBQUksTUFBTSxLQUFLLEdBQUcsQ0FBQzs7Ozs7Ozs7O0FBUzN3dEIsVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsYUFBYSxFQUFFLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxFQUFFLFdBQVcsT0FBTyxLQUFLLElBQUksRUFBRSxLQUFLLE9BQU8sRUFBRSxPQUFPLEtBQUssTUFBTSxFQUFFLE9BQU8sT0FBTyxTQUFTLEVBQUUsUUFBUSxTQUFTLEVBQUUsT0FBTyxXQUFXLEVBQUUsUUFBUSxnQkFBZ0IsRUFBRSxRQUFRLEtBQUssT0FBTyxFQUFFLE9BQU8sUUFBUSxTQUFTLEVBQUUsUUFBUSxTQUFTLEVBQUUsT0FBTyxZQUFZLEVBQUUsUUFBUSxpQkFBaUIsRUFBRSxRQUFRLEtBQUssWUFBWSxLQUFLLE1BQU0sS0FBSyxPQUFPLENBQUMsTUFBTSxLQUFLLGNBQWMsU0FBUyxLQUFLLGVBQWUsQ0FBQyxLQUFLLEtBQUssWUFBWSxLQUFLLElBQUksRUFBRSxZQUFZLEVBQUUsWUFBWSxHQUFHLEtBQUsseUJBQXlCLEVBQUUsT0FBTyxNQUFNLE1BQU0sS0FBSywwQkFBMEIsRUFBRSxPQUFPLE1BQU0sT0FBTyxFQUFFLFFBQVEsWUFBWSxNQUFNLElBQUksS0FBSyxXQUFXLElBQUksRUFBRSxXQUFXLE9BQU8sSUFBSSxFQUFFLEtBQUssT0FBTyxFQUFFLFFBQVEsa0JBQWtCLEVBQUUsT0FBTyxXQUFXLFVBQVUsQ0FBQyxFQUFFLFlBQVksRUFBRSxXQUFXLE9BQU8sUUFBUSxZQUFZLEVBQUUsV0FBVyxXQUFXLEtBQUssV0FBVyxLQUFLLFdBQVcsTUFBTSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsNEJBQTRCLEVBQUUsb0JBQW9CLENBQUMsRUFBRSxPQUFPLENBQUMsWUFBWSxXQUFXLFFBQVEsYUFBYSxZQUFZLFlBQVksTUFBTSxDQUFDLFFBQVEsS0FBSyxLQUFLLFNBQVMsa0JBQWtCLEtBQUssUUFBUSxLQUFLLGFBQWEsa0JBQWtCLFNBQVMsR0FBRyxlQUFlLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxjQUFjLEVBQUUsR0FBRyxhQUFhLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssU0FBUyxPQUFPLElBQUksRUFBRSxLQUFLLHFDQUFxQyxFQUFFLEtBQUssU0FBUyxHQUFHLGdCQUFnQixNQUFNLEVBQUUsS0FBSyxTQUFTLEdBQUcsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLFNBQVMsR0FBRyxPQUFPLEVBQUUsS0FBSyxnQkFBZ0IsT0FBTyxFQUFFLEtBQUssU0FBUyxFQUFFLEtBQUssT0FBTyxhQUFhLE9BQU8sSUFBSSxPQUFPLFVBQVUsQ0FBQyxPQUFPLElBQUksVUFBVSxPQUFPLFFBQVEsT0FBTyxVQUFVLE9BQU8sUUFBUSxHQUFHLEVBQUUsTUFBTSxFQUFFLEVBQUUsV0FBVyxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLEtBQUssTUFBTSxVQUFVLENBQUMsYUFBYSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsUUFBUSxHQUFHLEVBQUUsRUFBRSxLQUFLLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxNQUFNLFVBQVUsTUFBTSxLQUFLLFVBQVUsR0FBRyxHQUFHLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxHQUFHLE9BQU8sU0FBUyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsT0FBTyxTQUFTLElBQUksSUFBSSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRyxPQUFPLEtBQUssRUFBRSxFQUFFLE1BQU0sU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGVBQWUsS0FBSyxFQUFFLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEdBQUcsVUFBVSxPQUFPLEdBQUcsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLEVBQUUsT0FBTyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxVQUFVLE1BQU0sS0FBSyxVQUFVLEdBQUcsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxlQUFlLEtBQUssRUFBRSxHQUFHLE9BQU8sR0FBRyxHQUFHLEVBQUUsWUFBWSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLE1BQU0sVUFBVSxNQUFNLEtBQUssVUFBVSxHQUFHLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLGVBQWUsR0FBRyxHQUFHLFdBQVcsRUFBRSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsZUFBZSxHQUFHLEVBQUUsR0FBRyxHQUFHLFFBQVEsR0FBRyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLGVBQWUsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLGFBQWEsaUJBQWlCLEVBQUUsTUFBTSxRQUFRLEdBQUcsRUFBRSxlQUFlLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsR0FBRyxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsT0FBTyxVQUFVLE9BQU8sRUFBRSxJQUFJLE9BQU8sRUFBRSxJQUFJLFVBQVUsT0FBTyxHQUFHLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxZQUFZLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsS0FBSyxVQUFVLEVBQUUsZUFBZSxJQUFJLFVBQVUsT0FBTyxFQUFFLElBQUksT0FBTyxFQUFFLElBQUksVUFBVSxPQUFPLEVBQUUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsTUFBTSxHQUFHLEVBQUUsV0FBVyxTQUFTLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLFVBQVUsU0FBUyxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxhQUFhLEVBQUUsR0FBRyxjQUFjLE9BQU8sRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEtBQUssWUFBWSxFQUFFLFdBQVcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGVBQWUsS0FBSyxVQUFVLEdBQUcsVUFBVSxFQUFFLEVBQUUsZUFBZSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssRUFBRSxHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLGFBQWEsaUJBQWlCLEVBQUUsTUFBTSxHQUFHLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxHQUFHLEtBQUssRUFBRSxHQUFHLEdBQUcsRUFBRSxZQUFZLEVBQUUsR0FBRyxHQUFHLEVBQUUsS0FBSyxFQUFFLGFBQWEsaUJBQWlCLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsRUFBRSxZQUFZLEVBQUUsR0FBRyxHQUFHLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLGFBQWEsaUJBQWlCLEVBQUUsTUFBTSxHQUFHLE9BQU8sRUFBRSxlQUFlLElBQUksVUFBVSxPQUFPLEVBQUUsSUFBSSxPQUFPLEVBQUUsSUFBSSxVQUFVLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxZQUFZLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSx5QkFBeUIsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxJQUFJLEdBQUcsT0FBTyxFQUFFLEVBQUUsRUFBRSxRQUFRLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxHQUFHLE1BQU0sVUFBVSxRQUFRLE9BQU8sRUFBRSxRQUFRLEdBQUcsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsTUFBTSxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxLQUFLLEdBQUcsRUFBRSxjQUFjLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLE9BQU8sS0FBSyxFQUFFLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsT0FBTyxJQUFJLEVBQUUsa0JBQWtCLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLE9BQU8sS0FBSyxFQUFFLEVBQUUsUUFBUSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLEdBQUcsRUFBRSxHQUFHLE9BQU8sSUFBSSxFQUFFLFNBQVMsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsZUFBZSxlQUFlLEVBQUUsWUFBWSxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sS0FBSyxZQUFZLEVBQUUsVUFBVSxDQUFDLEtBQUssWUFBWSxHQUFHLE9BQU8sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFVBQVUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxFQUFFLFVBQVUsR0FBRyxFQUFFLFVBQVUsRUFBRSxVQUFVLElBQUksRUFBRSxFQUFFLEtBQUssVUFBVSxHQUFHLEdBQUcsRUFBRSxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxPQUFPLFVBQVUsQ0FBQyxNQUFNLFNBQVMsUUFBUSxFQUFFLEtBQUssU0FBUyxFQUFFLENBQUMsT0FBTyxTQUFTLFlBQVksT0FBTyxPQUFPLFFBQVEsTUFBTSxRQUFRLEtBQUssSUFBSSxFQUFFLElBQUksWUFBWSxPQUFPLFFBQVEsT0FBTyxJQUFJLEVBQUUsU0FBUyxTQUFTLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxXQUFXLEtBQUssU0FBUyxLQUFLLEdBQUcsRUFBRSxJQUFJLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUUsSUFBSSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxHQUFHLE1BQU0sR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU0sU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE1BQU0sS0FBSyxNQUFNLEdBQUcsS0FBSyxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUUsaUJBQWlCLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsV0FBVyxHQUFHLEVBQUUsUUFBUSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sS0FBSyxHQUFHLE9BQU8sR0FBRyxFQUFFLFFBQVEsS0FBSyxFQUFFLE9BQU8sU0FBUyxFQUFFLE1BQU0sTUFBTSxJQUFJLElBQUksRUFBRSxFQUFFLE1BQU0sS0FBSyxHQUFHLE1BQU0sTUFBTSxPQUFPLEVBQUUsR0FBRyxPQUFPLFNBQVMsRUFBRSxJQUFJLE9BQU8sR0FBRyxFQUFFLFVBQVUsU0FBUyxFQUFFLENBQUMsT0FBTyxHQUFHLEtBQUssR0FBRyxNQUFNLEVBQUUsVUFBVSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxLQUFLLEtBQUssRUFBRSxrQkFBa0IsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEtBQUssRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssTUFBTSxFQUFFLEdBQUcsT0FBTyxFQUFFLENBQUMsR0FBRyxLQUFLLEtBQUssR0FBRyxFQUFFLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxTQUFTLElBQUksRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLEVBQUUsS0FBSyxLQUFLLEtBQUssSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssS0FBSyxLQUFLLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsT0FBTyxHQUFHLEVBQUUsRUFBRSxJQUFJLEVBQUUsYUFBYSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsT0FBTyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxNQUFNLEVBQUUsTUFBTSxJQUFJLEVBQUUsRUFBRSxLQUFLLElBQUksR0FBRyxHQUFHLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssSUFBSSxHQUFHLElBQUksRUFBRSxjQUFjLENBQUMsT0FBTyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEdBQUcsV0FBVyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxZQUFZLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLGNBQWMsU0FBUyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksWUFBWSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxHQUFHLGFBQWEsU0FBUyxFQUFFLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxlQUFlLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxFQUFFLElBQUksWUFBWSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLEdBQUcsYUFBYSxTQUFTLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxlQUFlLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksWUFBWSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsYUFBYSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxlQUFlLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxXQUFXLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssSUFBSSxFQUFFLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxZQUFZLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssR0FBRyxLQUFLLGNBQWMsU0FBUyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssR0FBRyxFQUFFLEdBQUcsSUFBSSxXQUFXLFNBQVMsRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLLFlBQVksU0FBUyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLGNBQWMsU0FBUyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxXQUFXLFNBQVMsRUFBRSxDQUFDLE9BQU8sR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssS0FBSyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxZQUFZLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxjQUFjLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUUsRUFBRSxHQUFHLEdBQUcsSUFBSSxLQUFLLEtBQUssRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksY0FBYyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEVBQUUsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksS0FBSyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLElBQUksTUFBTSxlQUFlLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEVBQUUsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssSUFBSSxLQUFLLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsS0FBSyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLElBQUksR0FBRyxJQUFJLGlCQUFpQixTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEVBQUUsR0FBRyxHQUFHLE1BQU0sRUFBRSxLQUFLLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLEtBQUssS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxJQUFJLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxJQUFJLEdBQUcsR0FBRyxJQUFJLFdBQVcsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLFFBQVEsT0FBTyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxZQUFZLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxRQUFRLE9BQU8sR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxjQUFjLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxRQUFRLE1BQU0sQ0FBQyxHQUFHLElBQUksRUFBRSxJQUFJ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S0FBSyxZQUFZLEVBQUUsT0FBTyxFQUFFLFFBQVEsVUFBVSxDQUFDLFdBQVcsVUFBVSxHQUFHLE1BQU0sVUFBVSxDQUFDLE9BQU8sS0FBSyxRQUFRLEtBQUssTUFBTSxFQUFFLE1BQU0sS0FBSyxTQUFTLEtBQUssT0FBTyxFQUFFLE1BQU0sS0FBSyxPQUFPLE1BQU0sV0FBVyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssUUFBUSxLQUFLLE1BQU0sRUFBRSxNQUFNLEtBQUssU0FBUyxLQUFLLFFBQVEsS0FBSyxRQUFRLEVBQUUsS0FBSyxLQUFLLE9BQU8sU0FBUyxFQUFFLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxJQUFJLEtBQUssT0FBTyxlQUFlLEdBQUcsR0FBRyxLQUFLLE1BQU0sR0FBRyxHQUFHLEtBQUssT0FBTyxLQUFLLEtBQUssTUFBTSxHQUFHLE1BQU0sR0FBRyxVQUFVLE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSSxJQUFJLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssTUFBTSxHQUFHLEVBQUUsWUFBWSxNQUFNLEVBQUUsQ0FBQyxLQUFLLE1BQU0sR0FBRyxPQUFPLEdBQUcsVUFBVSxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxHQUFHLEVBQUUsS0FBSyxNQUFNLEdBQUcsQ0FBQyxLQUFLLE9BQU8sR0FBRyxHQUFHLEVBQUUsT0FBTyxLQUFLLE1BQU0sR0FBRyxNQUFNLFVBQVUsT0FBTyxFQUFFLEtBQUssTUFBTSxHQUFHLEVBQUUsRUFBRSxLQUFLLE1BQU0sR0FBRyxHQUFHLFNBQVMsR0FBRyxNQUFNLElBQUksR0FBRyxPQUFPLEtBQUssT0FBTyxNQUFNLGdCQUFnQixVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxPQUFPLEVBQUUsRUFBRSxLQUFLLE9BQU8sSUFBSSxTQUFTLFVBQVUsQ0FBQyxPQUFPLEVBQUUsU0FBUyxLQUFLLE9BQU8sSUFB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USxPQUFPLE1BQU0sU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxRQUFRLFlBQVksVUFBVSxDQUFDLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxRQUFRLFNBQVMsS0FBSyxRQUFRLE9BQU8sT0FBTyxLQUFLLFFBQVEsT0FBTyxNQUFNLFFBQVEsRUFBRSxLQUFLLEtBQUssUUFBUSxPQUFPLE1BQU0sU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxhQUFhLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssTUFBTSxJQUFJLFFBQVEsRUFBRSxLQUFLLEtBQUssS0FBSyxHQUFHLEVBQUUsS0FBSyxLQUFLLE9BQU8sRUFBRSxJQUFJLEdBQUcsTUFBTSxLQUFLLFFBQVEsT0FBTyxPQUFPLEtBQUssUUFBUSxPQUFPLE1BQU0sUUFBUSxFQUFFLEtBQUssS0FBSyxRQUFRLE9BQU8sTUFBTSxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLGFBQWEsb0JBQW9CLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxNQUFNLElBQUksUUFBUSxFQUFFLEtBQUssS0FBSyxLQUFLLEdBQUcsRUFBRSxLQUFLLEtBQUssT0FBTyxFQUFFLElBQUksR0FBRyxPQUFPLEtBQUssUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsYUFBYSxvQkFBb0IsS0FBSyxRQUFRLE1BQU0sTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxNQUFNLElBQUksUUFBUSxLQUFLLFFBQVEsTUFBTSxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssUUFBUSxLQUFLLE1BQU0sRUFBRSxLQUFLLE9BQU8sWUFBWSxFQUFFLEVBQUUsYUFBYSxPQUFPLEtBQUssS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLFNBQVMseUJBQXlCLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLEtBQUssS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxLQUFLLE9BQU8sTUFBTSxJQUFJLEVBQUUsRUFBRSxLQUFLLE9BQU8sRUFBRSxLQUFLLEdBQUcsRUFBRSxXQUFXLEtBQUssRUFBRSxXQUFXLFlBQVksSUFBSSxFQUFFLFdBQVcsSUFBSSxFQUFFLFlBQVksR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEVBQUUsV0FBVyxXQUFXLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxJQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxHQUFHLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxRQUFRLGNBQWMsVUFBVSxDQUFDLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsV0FBVyxTQUFTLE9BQU8sT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsYUFBYSxPQUFPLEtBQUssS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLFFBQVEsS0FBSyx5QkFBeUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsV0FBVyx5QkFBeUIsTUFBTSxFQUFFLEtBQUssS0FBSyxLQUFLLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFdBQVcsVUFBVSxNQUFNLEtBQUssT0FBTyxFQUFFLElBQUksT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsYUFBYSxPQUFPLEdBQUcsSUFBSSxHQUFHLGFBQWEsT0FBTyxHQUFHLElBQUksS0FBSyxRQUFRLFVBQVUsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFNBQVMsQ0FBQyxHQUFHLEtBQUssUUFBUSxVQUFVLFVBQVUsTUFBTSxFQUFFLE9BQU8sS0FBSyxRQUFRLFVBQVUsT0FBTyxFQUFFLE9BQU8sU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxvQkFBb0IsS0FBSyxRQUFRLG9CQUFvQixFQUFFLG9CQUFvQixLQUFLLFFBQVEsb0JBQW9CLEVBQUUsaUJBQWlCLGFBQWEsS0FBSyxFQUFFLEVBQUUsUUFBUSxLQUFLLE9BQU8sS0FBSyxRQUFRLHFCQUFxQixLQUFLLFFBQVEsb0JBQW9CLE1BQU0sS0FBSyxRQUFRLG9CQUFvQixLQUFLLE1BQU0sT0FBTyxNQUFNLEtBQUssU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLFFBQVEsRUFBRSxLQUFLLEtBQUssT0FBTyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxPQUFPLEtBQUssTUFBTSxPQUFPLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLElBQUksRUFBRSxXQUFXLEtBQUssSUFBSSxNQUFNLEtBQUssUUFBUSxXQUFXLEdBQUcsUUFBUSxrQkFBa0IsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsS0FBSyxPQUFPLEVBQUUsR0FBRyxPQUFPLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEdBQUcsR0FBRyxLQUFLLEdBQUcsT0FBTyxNQUFNLEdBQUcsbUJBQW1CLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLG9CQUFvQixFQUFFLEtBQUssT0FBTyxFQUFFLEdBQUcsRUFBRSxVQUFVLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssS0FBSyxTQUFTLE9BQU8sSUFBSSxHQUFHLEVBQUUsaUJBQWlCLEtBQUssS0FBSyxTQUFTLElBQUksSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssS0FBSyxTQUFTLEdBQUcsU0FBUyxPQUFPLElBQUksR0FBRyxLQUFLLEtBQUssU0FBUyxHQUFHLFNBQVMsR0FBRyxRQUFRLEVBQUUsRUFBRSxFQUFFLEdBQUcsT0FBTyxLQUFLLEtBQUssU0FBUyxHQUFHLFNBQVMsSUFBSSxLQUFLLE1BQU0sT0FBTyxHQUFHLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFVBQVUsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLG9CQUFvQixFQUFFLEtBQUssT0FBTyxFQUFFLEdBQUcsT0FBTyxFQUFFLEtBQUssS0FBSyxLQUFLLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGlCQUFpQixJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxLQUFLLElBQUksT0FBTyxPQUFPLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxlQUFlLFVBQVUsQ0FBQyxPQUFPLEtBQUssUUFBUSxlQUFlLE9BQU8sUUFBUSxVQUFVLENBQUMsS0FBSyxRQUFRLEVBQUUsYUFBYSxLQUFLLEtBQUssUUFBUSxFQUFFLHFCQUFxQixLQUFLLE1BQU0sT0FBTyxZQUFZLElBQUksRUFBRSxLQUFLLE1BQU0sT0FBTyxFQUFFLE1BQU0sS0FBSyxNQUFNLE1BQU0sRUFBRSxPQUFPLEtBQUssTUFBTSxPQUFPLEtBQUssSUFBSSxLQUFLLE1BQU0sMEJBQTBCLEtBQUssTUFBTSxJQUFJLE1BQU0sRUFBRSxLQUFLLE1BQU0seUJBQXlCLEVBQUUsS0FBSyxNQUFNLDBCQUEwQixFQUFFLE1BQU0sTUFBTSxLQUFLLE1BQU0seUJBQXlCLEVBQUUsTUFBTSxPQUFPLEtBQUssTUFBTSwwQkFBMEIsT0FBTyxFQUFFLFVBQVUsS0FBSyxLQUFLLGNBQWMsVUFBVSxDQUFDLE9BQU8sS0FBSyxNQUFNLE9BQU8sVUFBVSxNQUFNLEtBQUssTUFBTSxPQUFPLFlBQVksWUFBWSxVQUFVLENBQUMsS0FBSyxRQUFRLElBQUksRUFBRSxRQUFRLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxLQUFLLEtBQUssU0FBUyxLQUFLLFNBQVMsT0FBTyxXQUFXLFVBQVUsQ0FBQyxFQUFFLFdBQVcsS0FBSyxLQUFLLFFBQVEsT0FBTyxTQUFTLEVBQUUsQ0FBQyxLQUFLLGFBQWEsTUFBTSxhQUFhLFNBQVMsRUFBRSxDQUFDLEtBQUssV0FBVyxLQUFLLFlBQVksR0FBRyxLQUFLLGtCQUFrQixLQUFLLG1CQUFtQixHQUFHLFlBQVksRUFBRSxNQUFNLEtBQUssT0FBTyxHQUFHLEtBQUssY0FBYyxLQUFLLEtBQUssT0FBTyxVQUFVLENBQUMsT0FBTyxLQUFLLFFBQVEsTUFBTSxNQUFNLElBQUksU0FBUyxPQUFPLEtBQUssa0JBQWtCLEdBQUcsSUFBSSxRQUFRLE9BQU8sS0FBSyxtQkFBbUIsR0FBRyxJQUFJLFVBQVUsT0FBTyxLQUFLLGtCQUFrQixHQUFHLFFBQVEsT0FBTyxJQUFJLEtBQUssTUFBTSxLQUFLLGNBQWMsVUFBVSxDQUFDLE9BQU8sS0FBSyxRQUFRLFNBQVMsTUFBTSxJQUFJLFNBQVMsT0FBTyxLQUFLLGtCQUFrQixHQUFHLElBQUksUUFBUSxPQUFPLEtBQUssbUJBQW1CLEdBQUcsSUFBSSxVQUFVLE9BQU8sS0FBSyxrQkFBa0IsR0FBRyxRQUFRLE9BQU8sSUFBSSxLQUFLLE9BQU8sS0FBSyxRQUFRLE1BQU0sU0FBUyxLQUFLLFFBQVEsTUFBTSxRQUFRLEtBQUssS0FBSyxLQUFLLFFBQVEsQ0FBQyxXQUFXLEVBQUUsTUFBTSxTQUFTLEVBQUUsT0FBTyxLQUFLLFFBQVEsU0FBUyxLQUFLLFFBQVEsUUFBUSxLQUFLLEtBQUssRUFBRSxLQUFLLFFBQVEsR0FBRyxLQUFLLFdBQVcsT0FBTyxPQUFPLEtBQUssUUFBUSxNQUFNLE1BQU0sSUFBSSxTQUFTLEtBQUssS0FBSyxTQUFTLEtBQUssV0FBVyxHQUFHLGVBQWUsV0FBVyxpQkFBaUIsS0FBSyxXQUFXLEdBQUcsS0FBSyxXQUFXLEdBQUcsY0FBYyxLQUFLLFdBQVcsR0FBRyxRQUFRLE1BQU0sSUFBSSxRQUFRLElBQUksVUFBVSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxXQUFXLE9BQU8sSUFBSSxLQUFLLEtBQUssU0FBUyxLQUFLLFdBQVcsR0FBRyxlQUFlLFdBQVcsaUJBQWlCLEtBQUssV0FBVyxHQUFHLEtBQUssV0FBVyxHQUFHLGNBQWMsS0FBSyxXQUFXLEdBQUcsUUFBUSxHQUFHLEtBQUssT0FBTyxRQUFRLEtBQUssUUFBUSxNQUFNLEtBQUssT0FBTyxLQUFLLFFBQVEsTUFBTSxNQUFNLElBQUksU0FBUyxLQUFLLEtBQUssU0FBUyxLQUFLLE9BQU8sR0FBRyxlQUFlLFdBQVcsY0FBYyxLQUFLLE9BQU8sSUFBSSxNQUFNLElBQUksUUFBUSxJQUFJLFVBQVUsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssT0FBTyxPQUFPLElBQUksS0FBSyxLQUFLLFNBQVMsS0FBSyxPQUFPLEdBQUcsZUFBZSxXQUFXLGNBQWMsS0FBSyxPQUFPLElBQUksR0FBRyxDQUFDLEtBQUssUUFBUSxTQUFTLFNBQVMsS0FBSyxRQUFRLFNBQVMsVUFBVSxLQUFLLFFBQVEsYUFBYSxLQUFLLFFBQVEsUUFBUSxLQUFLLGNBQWMsS0FBSyxRQUFRLFVBQVUsS0FBSyxRQUFRLFFBQVEsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEtBQUssT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksS0FBSyxXQUFXLEtBQUssRUFBRSxDQUFDLElBQUksTUFBTSxFQUFFLEtBQUssS0FBSyxjQUFjLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxL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LEtBQUssTUFBTSxPQUFPLElBQUksTUFBTSxHQUFHLEtBQUssYUFBYSxFQUFFLEVBQUUsRUFBRSxLQUFLLFlBQVksRUFBRSxFQUFFLEVBQUUsS0FBSyxjQUFjLEVBQUUsS0FBSyxRQUFRLFNBQVMsS0FBSyxlQUFlLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLFlBQVksS0FBSyxJQUFJLEVBQUUsS0FBSyxPQUFPLEtBQUssV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFLEtBQUssZ0JBQWdCLEdBQUcsS0FBSyxnQkFBZ0IsR0FBRyxFQUFFLEtBQUssV0FBVyxHQUFHLEtBQUssZUFBZSxLQUFLLFFBQVEsTUFBTSxhQUFhLENBQUMsR0FBRyxFQUFFLEtBQUssSUFBSSxFQUFFLFVBQVUsS0FBSyxnQkFBZ0IsRUFBRSxLQUFLLElBQUksRUFBRSxVQUFVLEtBQUssZ0JBQWdCLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxRQUFRLE1BQU0sU0FBUyxFQUFFLEtBQUssY0FBYyxLQUFLLFlBQVksRUFBRSxLQUFLLFFBQVEsTUFBTSxTQUFTLEdBQUcsS0FBSyxhQUFhLEtBQUssUUFBUSxNQUFNLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxVQUFVLENBQUMsS0FBSyxnQkFBZ0IsTUFBTSxLQUFLLGdCQUFnQixLQUFLLFdBQVcsRUFBRSxRQUFRLEtBQUssV0FBVyxFQUFFLEtBQUssYUFBYSxFQUFFLEtBQUssWUFBWSxFQUFFLEtBQUssVUFBVSxLQUFLLGFBQWEsS0FBSyxRQUFRLEtBQUssS0FBSyxjQUFjLEtBQUssUUFBUSxNQUFNLEtBQUssWUFBWSxLQUFLLElBQUksS0FBSyxZQUFZLEdBQUcsS0FBSyxhQUFhLEtBQUssSUFBSSxLQUFLLGFBQWEsS0FBSywyQkFBMkIsRUFBRSxLQUFLLFVBQVUsRUFBRSxLQUFLLElBQUksVUFBVSxDQUFDLEdBQUcsS0FBSyxRQUFRLENBQUMsTUFBTSxFQUFFLE9BQU8sR0FBRyxLQUFLLGVBQWUsS0FBSyxRQUFRLE1BQU0sS0FBSyxTQUFTLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxVQUFVLE1BQU0sS0FBSyxRQUFRLFFBQVEsR0FBRyxFQUFFLEtBQUssZUFBZSxLQUFLLFFBQVEsT0FBTyxLQUFLLFFBQVEsVUFBVSxNQUFNLEtBQUssUUFBUSxRQUFRLEdBQUcsRUFBRSxLQUFLLFFBQVEsT0FBTyxLQUFLLFVBQVUsS0FBSyxRQUFRLFdBQVcsT0FBTyxLQUFLLGVBQWUsS0FBSyxRQUFRLFFBQVEsSUFBSSxLQUFLLFFBQVEsV0FBVyxTQUFTLEtBQUssUUFBUSxPQUFPLElBQUksS0FBSyxRQUFRLFdBQVcsVUFBVSxLQUFLLFFBQVEsTUFBTSxNQUFNLEtBQUssUUFBUSxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsV0FBVyxLQUFLLFFBQVEsTUFBTSxTQUFTLEtBQUssUUFBUSxNQUFNLFVBQVUsS0FBSyxRQUFRLE1BQU0sWUFBWSxHQUFHLEtBQUssZUFBZSxDQUFDLElBQUksR0FBRyxLQUFLLFVBQVUsS0FBSyxRQUFRLE9BQU8sRUFBRSxZQUFZLEtBQUssSUFBSSxFQUFFLEtBQUssUUFBUSxFQUFFLEtBQUssSUFBSSxFQUFFLFVBQVUsS0FBSyxnQkFBZ0IsRUFBRSxJQUFJLEtBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxRQUFRLE9BQU8sS0FBSyxJQUFJLEtBQUssVUFBVSxLQUFLLFFBQVEsT0FBTyxHQUFHLEVBQUUsRUFBRSxXQUFXLEtBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxRQUFRLE1BQU0sVUFBVSxLQUFLLFFBQVEsTUFBTSxZQUFZLEtBQUssSUFBSSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssSUFBSSxZQUFZLEtBQUssTUFBTSxJQUFJLE1BQU0sRUFBRSxLQUFLLElBQUksWUFBWSxLQUFLLE1BQU0sS0FBSyxNQUFNLE9BQU8sSUFBSSxNQUFNLEVBQUUsS0FBSyxJQUFJLEVBQUUsVUFBVSxLQUFLLGdCQUFnQixFQUFFLEtBQUssSUFBSSxFQUFFLFVBQVUsS0FBSyxnQkFBZ0IsS0FBSyxZQUFZLElBQUksS0FBSyxjQUFjLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssYUFBYSxJQUFJLEtBQUssY0FBYyxHQUFHLEtBQUssUUFBUSxNQUFNLFNBQVMsR0FBRyxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssU0FBUyxLQUFLLFFBQVEsTUFBTSxFQUFFLEVBQUUsWUFBWSxLQUFLLElBQUksRUFBRSxLQUFLLE9BQU8sRUFBRSxFQUFFLEtBQUssUUFBUSxPQUFPLEVBQUUsS0FBSyxRQUFRLE1BQU0sS0FBSyxTQUFTLEtBQUssV0FBVyxLQUFLLFFBQVEsTUFBTSxTQUFTLEVBQUUsS0FBSyxjQUFjLEtBQUssUUFBUSxNQUFNLFNBQVMsR0FBRyxLQUFLLFVBQVUsS0FBSyxhQUFhLEtBQUssUUFBUSxLQUFLLEtBQUssWUFBWSxLQUFLLFFBQVEsSUFBSSxLQUFLLGNBQWMsS0FBSyxRQUFRLE1BQU0sS0FBSyxlQUFlLEtBQUssUUFBUSxPQUFPLEtBQUssWUFBWSxLQUFLLElBQUksS0FBSyxZQUFZLEdBQUcsS0FBSyxXQUFXLEtBQUssSUFBSSxLQUFLLFdBQVcsR0FBRyxLQUFLLGFBQWEsS0FBSyxJQUFJLEtBQUssYUFBYSxHQUFHLEtBQUssY0FBYyxLQUFLLElBQUksS0FBSyxjQUFjLElBQUksS0FBSyxNQUFNLEtBQUssUUFBUSxNQUFNLEtBQUssT0FBTyxLQUFLLFFBQVEsUUFBUSxTQUFTLEVBQUUsS0FBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLE9BQU8sS0FBSyxRQUFRLFVBQVUsVUFBVSxLQUFLLFFBQVEsVUFBVSxjQUFjLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxPQUFPLEdBQUcsYUFBYSxPQUFPLEVBQUUsSUFBSSxVQUFVLE9BQU8sR0FBRyxNQUFNLEdBQUcsSUFBSSxVQUFVLE9BQU8sRUFBRSxFQUFFLEtBQUssZUFBZSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUcsaUJBQWlCLEVBQUUsS0FBSyxpQkFBaUIsRUFBRSxLQUFLLGdCQUFnQixTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxlQUFlLENBQUMsSUFBSSxFQUFFLEtBQUssT0FBTyxLQUFLLFlBQVksS0FBSyxjQUFjLEVBQUUsRUFBRSxLQUFLLElBQUksS0FBSyxNQUFNLFFBQVEsS0FBSyxRQUFRLFVBQVUsZ0JBQWdCLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssWUFBWSxPQUFPLElBQUksR0FBRyxFQUFFLEdBQUcsS0FBSyxLQUFLLEtBQUssTUFBTSxHQUFHLElBQUksRUFBRSxLQUFLLFFBQVEsS0FBSyxXQUFXLEtBQUssZUFBZSxPQUFPLEtBQUssSUFBSSxHQUFHLEdBQUcsS0FBSyxNQUFNLE9BQU8sS0FBSyxtQkFBbUIsU0FBUyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssZUFBZSxDQUFDLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxZQUFZLEtBQUssY0FBYyxFQUFFLEVBQUUsRUFBRSxLQUFLLFlBQVksT0FBTyxLQUFLLEtBQUssS0FBSyxNQUFNLEdBQUcsT0FBTyxLQUFLLElBQUksRUFBRSxLQUFLLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEtBQUssUUFBUSxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxLQUFLLGNBQWMsS0FBSyxJQUFJLFVBQVUsS0FBSyxRQUFRLE1BQU0sVUFBVSxJQUFJLEVBQUUsRUFBRSxXQUFXLEtBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxRQUFRLE1BQU0sVUFBVSxLQUFLLFFBQVEsTUFBTSxZQUFZLEdBQUcsS0FBSyxlQUFlLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsS0FBSyxRQUFRLFNBQVMsS0FBSyxJQUFJLEtBQUssT0FBTyxHQUFHLEVBQUUsVUFBVSxLQUFLLFFBQVEsU0FBUyxLQUFLLElBQUksR0FBRyxLQUFLLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLFFBQVEsTUFBTSxTQUFTLEdBQUcsS0FBSyxNQUFNLE9BQU8sS0FBSyxPQUFPLEtBQUssWUFBWSxLQUFLLGdCQUFnQixFQUFFLEVBQUUsS0FBSyxNQUFNLENBQUMsS0FBSyxRQUFRLE1BQU0sU0FBUyxHQUFHLEtBQUssTUFBTSxRQUFRLEtBQUssT0FBTyxLQUFLLFlBQVksS0FBSyxpQkFBaUIsRUFBRSxLQUFLLEtBQUssTUFBTSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLEdBQUcsT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssZ0JBQWdCLEdBQUcsRUFBRSxLQUFLLGdCQUFnQixFQUFFLEtBQUssUUFBUSxVQUFVLGlCQUFpQixLQUFLLFFBQVEsVUFBVSxPQUFPLEtBQUssYUFBYSxPQUFPLEtBQUssY0FBYyxLQUFLLGNBQWMsSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsVUFBVSxjQUFjLEtBQUssSUFBSSxZQUFZLEtBQUssUUFBUSxVQUFVLGNBQWMsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsVUFBVSxVQUFVLEtBQUssSUFBSSxZQUFZLEtBQUssUUFBUSxVQUFVLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLFdBQVcsS0FBSyxJQUFJLFdBQVcsS0FBSyxJQUFJLFlBQVksS0FBSyxRQUFRLFVBQVUsWUFBWSxLQUFLLElBQUksT0FBTyxFQUFFLEdBQUcsS0FBSyxJQUFJLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUSxVQUFVLGtCQUFrQixLQUFLLElBQUksT0FBTyxFQUFFLEVBQUUsS0FBSyxLQUFLLElBQUksT0FBTyxFQUFFLEVBQUUsU0FBUyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsTUFBTSxPQUFPLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSSxVQUFVLEVBQUUsRUFBRSxLQUFLLElBQUksR0FBRyxRQUFRLEtBQUssUUFBUSxTQUFTLEtBQUssT0FBTyxHQUFHLEtBQUssSUFBSSxJQUFJLEtBQUssSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLFVBQVUsS0FBSyxnQkFBZ0IsS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFLLElBQUksVUFBVSxFQUFFLFFBQVE7QUFDM3grQixLQUFLLElBQUksYUFBYSxFQUFFLFNBQVMsUUFBUSxLQUFLLFFBQVEsU0FBUyxTQUFTLE1BQU0sS0FBSyxJQUFJLFNBQVMsRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLGFBQWEsTUFBTSxLQUFLLFFBQVEsV0FBVyxPQUFPLEtBQUssSUFBSSxVQUFVLFNBQVMsS0FBSyxJQUFJLGFBQWEsU0FBUyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsV0FBVyxVQUFVLEtBQUssSUFBSSxLQUFLLEVBQUUsV0FBVyxLQUFLLFFBQVEsV0FBVyxTQUFTLEtBQUssUUFBUSxXQUFXLFVBQVUsS0FBSyxRQUFRLFdBQVcsWUFBWSxFQUFFLEtBQUssS0FBSyxDQUFDLEtBQUssTUFBTSxLQUFLLE1BQU0sRUFBRSxFQUFFLFVBQVUsS0FBSyxRQUFRLFNBQVMsS0FBSyxPQUFPLEtBQUssUUFBUSxXQUFXLFNBQVMsRUFBRSxLQUFLLElBQUksS0FBSyxRQUFRLFdBQVcsU0FBUyxFQUFFLEtBQUssSUFBSSxTQUFTLEtBQUssUUFBUSxXQUFXLFlBQVksRUFBRSxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsS0FBSyxRQUFRLFNBQVMsS0FBSyxLQUFLLEtBQUssTUFBTSxFQUFFLEVBQUUsU0FBUyxLQUFLLFFBQVEsU0FBUyxLQUFLLEtBQUssRUFBRSxLQUFLLE1BQU0sR0FBRyxFQUFFLEtBQUssS0FBSyxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssZ0JBQWdCLEdBQUcsR0FBRyxLQUFLLFFBQVEsVUFBVSxPQUFPLEtBQUssYUFBYSxPQUFPLEtBQUssY0FBYyxLQUFLLGNBQWMsSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsVUFBVSxjQUFjLEtBQUssSUFBSSxZQUFZLEtBQUssUUFBUSxVQUFVLGNBQWMsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsVUFBVSxVQUFVLEtBQUssSUFBSSxZQUFZLEtBQUssUUFBUSxVQUFVLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLFdBQVcsS0FBSyxJQUFJLFdBQVcsS0FBSyxJQUFJLFlBQVksS0FBSyxRQUFRLFVBQVUsWUFBWSxLQUFLLElBQUksT0FBTyxFQUFFLEdBQUcsS0FBSyxJQUFJLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUSxVQUFVLGtCQUFrQixLQUFLLElBQUksT0FBTyxFQUFFLEtBQUssR0FBRyxLQUFLLElBQUksT0FBTyxFQUFFLE1BQU0sSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsTUFBTSxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxnQkFBZ0IsRUFBRSxLQUFLLFFBQVEsVUFBVSxpQkFBaUIsS0FBSyxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsU0FBUyxLQUFLLFFBQVEsTUFBTSxRQUFRLEVBQUUsS0FBSyxNQUFNLEtBQUssUUFBUSxNQUFNLFFBQVEsS0FBSyxJQUFJLFVBQVUsU0FBUyxFQUFFLEtBQUssTUFBTSxLQUFLLFFBQVEsTUFBTSxRQUFRLEtBQUssSUFBSSxVQUFVLFNBQVMsS0FBSyxRQUFRLE1BQU0sUUFBUSxFQUFFLEtBQUssS0FBSyxLQUFLLFFBQVEsTUFBTSxRQUFRLEtBQUssSUFBSSxVQUFVLFVBQVUsRUFBRSxLQUFLLEtBQUssS0FBSyxRQUFRLE1BQU0sUUFBUSxLQUFLLElBQUksVUFBVSxRQUFRLEtBQUssSUFBSSxVQUFVLEVBQUUsR0FBRyxLQUFLLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFVLEtBQUssZ0JBQWdCLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBSyxJQUFJLGFBQWEsU0FBUyxLQUFLLElBQUksU0FBUyxFQUFFLEVBQUUsR0FBRyxLQUFLLElBQUksWUFBWSxNQUFNLEtBQUssUUFBUSxXQUFXLEtBQUssQ0FBQyxFQUFFLFFBQVEsS0FBSyxRQUFRLFNBQVMsS0FBSyxLQUFLLEtBQUssUUFBUSxXQUFXLFNBQVMsRUFBRSxLQUFLLE1BQU0sS0FBSyxRQUFRLFdBQVcsU0FBUyxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsS0FBSyxPQUFPLEtBQUssS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxTQUFTLENBQUMsR0FBRyxLQUFLLEdBQUcsR0FBRyxLQUFLLEdBQUcsS0FBSyxJQUFJLE9BQU8sS0FBSyxJQUFJLFVBQVUsRUFBRSxHQUFHLEtBQUssSUFBSSxPQUFPLEdBQUcsS0FBSyxJQUFJLFVBQVUsU0FBUyxLQUFLLElBQUksVUFBVSxLQUFLLFFBQVEsV0FBVyxVQUFVLEtBQUssSUFBSSxLQUFLLEVBQUUsV0FBVyxLQUFLLFFBQVEsV0FBVyxTQUFTLEtBQUssUUFBUSxXQUFXLFVBQVUsS0FBSyxRQUFRLFdBQVcsWUFBWSxLQUFLLElBQUksYUFBYSxTQUFTLEtBQUssSUFBSSxTQUFTLEtBQUssUUFBUSxXQUFXLFlBQVksRUFBRSxHQUFHLEtBQUssSUFBSSxpQkFBaUIsS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsYUFBYSxDQUFDLGFBQWEsR0FBRyxTQUFTLEdBQUcsa0JBQWtCLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLGFBQWEsR0FBRyxFQUFFLEtBQUssU0FBUyxHQUFHLEVBQUUsTUFBTSxJQUFJLG9CQUFvQixTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssYUFBYSxlQUFlLEdBQUcsS0FBSyxhQUFhLEdBQUcsS0FBSyxHQUFHLGlCQUFpQixTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssU0FBUyxlQUFlLEdBQUcsRUFBRSxXQUFXLEVBQUUsU0FBUyxNQUFNLEtBQUssU0FBUyxJQUFJLElBQUksT0FBTyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLFNBQVMsRUFBRSxDQUFDLE1BQU0sUUFBUSxFQUFFLFFBQVEsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sU0FBUyxFQUFFLENBQUMsTUFBTSxTQUFTLEVBQUUsUUFBUSxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxTQUFTLEVBQUUsQ0FBQyxNQUFNLE9BQU8sRUFBRSxRQUFRLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLFNBQVMsRUFBRSxDQUFDLE1BQU0sVUFBVSxFQUFFLFFBQVEsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sU0FBUyxFQUFFLENBQUMsTUFBTSxhQUFhLEVBQUUsUUFBUSxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRSxRQUFRLEVBQUUsTUFBTSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsV0FBVyxHQUFHLEVBQUUsUUFBUSxPQUFPLEdBQUcsRUFBRSxRQUFRLFFBQVEsSUFBSSxFQUFFLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxJQUFJLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxNQUFNLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxHQUFHLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxRQUFRLE9BQU8sSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxHQUFHLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxHQUFHLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLFNBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsTUFBTSxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsTUFBTSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxVQUFVLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxTQUFT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RUFBRSxLQUFLLFNBQVMsU0FBUyxVQUFVLE1BQU0sTUFBTSxLQUFLLFdBQVcsRUFBRSxLQUFLLFNBQVMsU0FBUyxVQUFVLFdBQVcsTUFBTSxLQUFLLFdBQVcsRUFBRSxHQUFHLE9BQU8sRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksY0FBYyxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsV0FBVyxLQUFLLEtBQUssV0FBVyxPQUFPLEVBQUUsUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLFFBQVEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLFNBQVMsU0FBUyxVQUFVLFlBQVksS0FBSyxLQUFLLEVBQUUsSUFBSSxHQUFHLEVBQUUsS0FBSyxTQUFTLFNBQVMsVUFBVSxNQUFNLEtBQUssS0FBSyxFQUFFLElBQUksR0FBRyxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsV0FBVyxLQUFLLEtBQUssRUFBRSxJQUFJLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLE1BQU0sR0FBRyxhQUFhLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxTQUFTLFNBQVMsVUFBVSxVQUFVLEtBQUssS0FBSyxXQUFXLE9BQU8sRUFBRSxRQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksVUFBVSxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsYUFBYSxNQUFNLEtBQUssV0FBVyxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsWUFBWSxNQUFNLEtBQUssV0FBVyxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxtQkFBbUIsU0FBUyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxHQUFHLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxLQUFLLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLE1BQU0sRUFBRSxFQUFFLFVBQVUsT0FBTyxTQUFTLEVBQUUsQ0FBQyxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssUUFBUSxPQUFPLENBQUMsS0FBSyxPQUFPLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsVUFBVSxLQUFLLFNBQVMsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxlQUFlLEdBQUcsT0FBTyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGVBQWUsR0FBRyxNQUFNLEVBQUUsT0FBTyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsS0FBSyxtQkFBbUIsS0FBSyxjQUFjLEVBQUUsS0FBSyxLQUFLLE1BQU0sU0FBUyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsR0FBRyxDQUFDLElBQUksRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGVBQWUsR0FBRyxPQUFPLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsZUFBZSxHQUFHLE1BQU0sRUFBRSxPQUFPLGFBQWEsT0FBTyxFQUFFLEtBQUssS0FBSyxRQUFRLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsWUFBWSxFQUFFLE1BQU0sWUFBWSxnQkFBZ0IsRUFBRSxNQUFNLG1CQUFtQixNQUFNLEVBQUUsS0FBSyxtQkFBbUIsS0FBSyxTQUFTLEVBQUUsRUFBRSxLQUFLLFFBQVEsR0FBRyxRQUFRLG1CQUFtQixJQUFJLEVBQUUsT0FBTyxLQUFLLE9BQU8sQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFLEtBQUssT0FBTyxXQUFXLEtBQUssY0FBYyxFQUFFLEtBQUssT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFLEtBQUssT0FBTyxVQUFVLEtBQUssYUFBYSxFQUFFLEtBQUssT0FBTyxPQUFPLEtBQUssVUFBVSxFQUFFLEtBQUssU0FBUyxFQUFFLE9BQU8sS0FBSyxPQUFPLENBQUMsRUFBRSxLQUFLLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxNQUFNLEVBQUUsR0FBRyxhQUFhLEVBQUUsUUFBUSxZQUFZLFNBQVMsS0FBSyxPQUFPLFFBQVEsRUFBRSxPQUFPLEdBQUcsS0FBSyxTQUFTLFNBQVMsUUFBUSxLQUFLLFNBQVMsU0FBUyxPQUFPLEtBQUssS0FBSyxLQUFLLFFBQVEsTUFBTSxLQUFLLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksRUFBRSxLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssTUFBTSxRQUFRLENBQUMsRUFBRSxTQUFTLE1BQU0sSUFBSSxFQUFFLEVBQUUsY0FBYyxFQUFFLEVBQUUsRUFBRSxLQUFLLE9BQU8sRUFBRSxXQUFXLE9BQU8sRUFBRSxVQUFVLE9BQU8sRUFBRSxFQUFFLEVBQUUsU0FBUyxHQUFHLEVBQUUsTUFBTSxPQUFPLEVBQUUsY0FBYyxHQUFHLENBQUMsRUFBRSxNQUFNLE9BQU8sR0FBRyxFQUFFLGFBQWEsR0FBRyxFQUFFLE1BQU0sT0FBTyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsRUFBRSxFQUFFLGFBQWEsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLFlBQVksR0FBRyxFQUFFLE9BQU8sT0FBTyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsRUFBRSxPQUFPLE9BQU8sRUFBRSxlQUFlLEdBQUcsQ0FBQyxFQUFFLE9BQU8sT0FBTyxHQUFHLEVBQUUsY0FBYyxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLFlBQVksR0FBRyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLFlBQVksR0FBRyxPQUFPLFVBQVUsS0FBSyxTQUFTLFNBQVMsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsbUJBQW1CLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxZQUFZLEdBQUcsU0FBUyxHQUFHLEVBQUUsRUFBRSxTQUFTLElBQUksRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsT0FBTyxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssT0FBTyxTQUFTLEVBQUUsT0FBTyxVQUFVLEVBQUUsT0FBTyxRQUFRLEVBQUUsRUFBRSxFQUFFLEtBQUssT0FBTyxRQUFRLEVBQUUsT0FBTyxRQUFRLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxhQUFhLFVBQVUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssU0FBUyxTQUFTLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixNQUFNLEVBQUUsU0FBUyxZQUFZLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxRQUFRLEtBQUssU0FBUyxTQUFTLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixNQUFNLEVBQUUsU0FBUyxZQUFZLFFBQVEsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSyxTQUFTLFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsTUFBTSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxhQUFhLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFlBQVksTUFBTSxFQUFFLFNBQVMsWUFBWSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLGtCQUFrQixFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxHQUFHLEdBQUcsRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLEdBQUcsRUFBRSxNQUFNLFNBQVMsR0FBRyxFQUFFLGtCQUFrQixFQUFFLGVBQWUsT0FBTyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsYUFBYSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxXQUFXLE1BQU0sRUFBRSxTQUFTLFlBQVksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLFdBQVcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsR0FBRyxHQUFHLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLFVBQVUsS0FBSyxTQUFTLFNBQVMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsWUFBWSxHQUFHLGFBQWEsTUFBTSxFQUFFLFNBQVMsWUFBWSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFlBQVksR0FBRyxpQkFBaUIsTUFBTSxFQUFFLFNBQVMsWUFBWSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLGFBQWEsR0FBRyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsV0FBVyxNQUFNLEVBQUUsU0FBUyxhQUFhLEVBQUUsU0FBUyxFQUFFLEdBQUcsVUFBVSxLQUFLLFNBQVMsU0FBUyxLQUFLLEVBQUUsYUFBYSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsYUFBYSxFQUFFLGFBQWEsTUFBTSxFQUFFLEtBQUssRUFBRSxVQUFVLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEdBQUcsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLFlBQVksRUFBRSxPQUFPLFNBQVMsR0FBRyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsYUFBYSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxhQUFhLE1BQU0sRUFBRSxTQUFTLFlBQVksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxtQkFBbUIsRUFBRSxLQUFLLEVBQUUsT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsR0FBRyxHQUFHLEVBQUUsZUFBZSxFQUFFLGVBQWUsYUFBYSxLQUFLLE1BQU0sVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLFdBQVcsbUJBQW1CLEdBQUcsY0FBYyxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLEtBQUssYUFBYSxFQUFFLFlBQVksSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssV0FBVyxLQUFLLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksSUFBSSxVQUFVLENBQUMsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssTUFBTSxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssYUFBYSxLQUFLLGVBQWUsWUFBWSxTQUFTLEVBQUUsQ0FBQyxLQUFLLE1BQU0sR0FBRyxXQUFXLFVBQVUsQ0FBQyxLQUFLLGFBQWEsVUFBVSxLQUFLLGFBQWEsUUFBUSxLQUFLLE1BQU0sUUFBUSxPQUFPLE1BQU0sR0FBRyxJQUFJLEtBQUssYUFBYSxVQUFVLEtBQUssYUFBYSxRQUFRLEtBQUssTUFBTSxRQUFRLE9BQU8sTUFBTSxHQUFHLEtBQUssV0FBVyxVQUFVLENBQUMsT0FBTyxLQUFLLE1BQU0sS0FBSyxTQUFTLEtBQUssUUFBUSxjQUFjLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxNQUFNLE9BQU8sSUFBSSxZQUFZLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxLQUFLLE1BQU0sS0FBSyxTQUFTLFNBQVMsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLEtBQUssUUFBUSxFQUFFLEtBQUssRUFBRSxFQUFFLEtBQUssSUFBSSxFQUFFLE1BQU0sUUFBUSxLQUFLLE1BQU0sT0FBTyxNQUFNLEVBQUUsSUFBSSxNQUFNLEdBQUcsWUFBWSxVQUFVLENBQUMsS0FBSyxhQUFhLFNBQVMsS0FBSyxhQUFhLFVBQVUsR0FBRyxFQUFFLEtBQUssS0FBSyxhQUFhLEtBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxHQUFHLEtBQUssYUFBYSxTQUFTLElBQUksSUFBSSxFQUFFLFNBQVMsVUFBVSxDQUFDLE9BQU8sS0FBSyxNQUFNLE1BQU0sY0FBYyxLQUFLLE1BQU0sT0FBTyxLQUFLLE9BQU8sbUJBQW1CLFNBQVMsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLEtBQUssYUFBYSxVQUFVLEdBQUcsSUFBSSxFQUFFLElBQUksRUFBRSxTQUFTLFVBQVUsQ0FBQyxPQUFPLEtBQUssTUFBTSxNQUFNLGNBQWMsS0FBSyxNQUFNLE9BQU8sSUFBSSxFQUFFLEtBQUssY0FBYyxLQUFLLGNBQWMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEtBQUssYUFBYSxTQUFTLE9BQU8sRUFBRSxFQUFFLElBQUksY0FBYyxTQUFTLEVBQUUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxPQUFPLEVBQUUsSUFBSSxNQUFNLFVBQVUsQ0FBQyxLQUFLLE9BQU8sQ0FBQyxJQUFJLHNCQUFzQixVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssYUFBYSxLQUFLLE9BQU8sRUFBRSxLQUFLLGFBQWEsU0FB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LENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxTQUFTLFNBQVMsU0FBUyxHQUFHLGFBQWEsTUFBTSxDQUFDLENBQUMsS0FBSyxTQUFTLFNBQVMsT0FBTyxHQUFHLGNBQWMsU0FBUyxDQUFDLFNBQVMsbURBQW1ELGNBQWMsbUdBQW1HLEVBQUUsWUFBWSxPQUFPLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxXQUFXLEtBQUssS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxPQUFPLFVBQVUsQ0FBQyxXQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxNQUFNLEVBQUUsS0FBSyxNQUFNLEVBQUUsS0FBSyxhQUFhLEtBQUssZUFBZSxZQUFZLFNBQVMsRUFBRSxDQUFDLEtBQUssTUFBTSxHQUFHLFdBQVcsVUFBVSxDQUFDLEtBQUssYUFBYSxVQUFVLEtBQUssYUFBYSxRQUFRLEtBQUssTUFBTSxRQUFRLE9BQU8sTUFBTSxHQUFHLElBQUksS0FBSyxhQUFhLFVBQVUsS0FBSyxhQUFhLFFBQVEsS0FBSyxNQUFNLFFBQVEsT0FBTyxNQUFNLEdBQUcsS0FBSyxXQUFXLFVBQVUsQ0FBQyxPQUFPLEtBQUssTUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRLGNBQWMsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE1BQU0sT0FBTyxJQUFJLFlBQVksVUFBVSxDQUFDLEtBQUssYUFBYSxTQUFTLEtBQUssYUFBYSxVQUFVLEdBQUcsRUFBRSxLQUFLLEtBQUssYUFBYSxLQUFLLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxhQUFhLFNBQVMsR0FBRyxLQUFLLGFBQWEsU0FBUyxJQUFJLElBQUksRUFBRSxTQUFTLE1BQU0sQ0FBQyxPQUFPLEtBQUssTUFBTSxNQUFNLGNBQWMsS0FBSyxNQUFNLE9BQU8sS0FBSyxPQUFPLG1CQUFtQixTQUFTLEVBQUUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxLQUFLLGFBQWEsVUFBVSxHQUFHLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxNQUFNLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxPQUFPLElBQUksS0FBSyxjQUFjLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxhQUFhLFNBQVMsT0FBTyxFQUFFLEVBQUUsSUFBSSxjQUFjLFNBQVMsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLE9BQU8sRUFBRSxJQUFJLE1BQU0sVUFBVSxDQUFDLEtBQUssT0FBTyxDQUFDLElBQUksc0JBQXNCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxhQUFhLEtBQUssT0FBTyxFQUFFLEtBQUssYUFBYSxTQUFTLE9BQU8sR0FBRyxFQUFFLEVBQUUsS0FBSyxhQUFhLFNBQVMsT0FBTyxFQUFFLEVBQUUsUUFBUSxHQUFHLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxtQkFBbUIsSUFBSSxPQUFPLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssYUFBYSxTQUFTLEVBQUUsS0FBSyxjQUFjLEtBQUssYUFBYSxTQUFTLEtBQUssY0FBYyxLQUFLLGFBQWEsU0FBUyxFQUFFLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxpQkFBaUIsR0FBRyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssY0FBYyxFQUFFLEVBQUUsSUFBSSxPQUFPLGNBQWMsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssY0FBYyxLQUFLLGFBQWEsU0FBUyxFQUFFLEtBQUssY0FBYyxLQUFLLGFBQWEsU0FBUyxFQUFFLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxpQkFBaUIsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxFQUFFLFFBQVEsRUFBRSxjQUFjLEtBQUssTUFBTSxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixJQUFJLEVBQUUsaUJBQWlCLEtBQUssYUFBYSxLQUFLLEdBQUcsRUFBRSxLQUFLLE1BQU0sS0FBSyxNQUFNLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxpQkFBaUIsS0FBSyxhQUFhLEtBQUssR0FBRyxFQUFFLEtBQUssT0FBTyxPQUFPLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLE9BQU8sRUFBRSxPQUFPLE9BQU8sS0FBSyxVQUFVLEtBQUssYUFBYSxLQUFLLElBQUksZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsT0FBTyxnQkFBZ0IsRUFBRSx5QkFBeUIsS0FBSyxhQUFhLGdCQUFnQixFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsTUFBTSxpQkFBaUIsWUFBWSxFQUFFLFFBQVEsRUFBRSxPQUFPLFlBQVksRUFBRSxPQUFPLFlBQVksRUFBRSx5QkFBeUIsS0FBSyxhQUFhLFlBQVksRUFBRSxLQUFLLE1BQU0sUUFBUSxTQUFTLE1BQU0sYUFBYSxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8sWUFBWSxFQUFFLE9BQU8sWUFBWSxFQUFFLHlCQUF5QixLQUFLLGFBQWEsWUFBWSxFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsTUFBTSxhQUFhLFVBQVUsRUFBRSxRQUFRLEVBQUUsT0FBTyxVQUFVLEVBQUUsT0FBTyxVQUFVLEVBQUUseUJBQXlCLEtBQUssYUFBYSxVQUFVLEVBQUUsS0FBSyxNQUFNLFFBQVEsU0FBUyxNQUFNLGNBQWMsRUFBRSxPQUFPLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxLQUFLLEVBQUUsT0FBTyxLQUFLLE1BQU0sRUFBRSxPQUFPLElBQUksTUFBTSxFQUFFLE9BQU8sR0FBRyxFQUFFLFNBQVMsVUFBVSxTQUFTLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxLQUFLLE1BQU0sUUFBUSxTQUFTLE1BQU0sUUFBUSxLQUFLLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxLQUFLLEtBQUssYUFBYSxTQUFTLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxXQUFXLEdBQUcsRUFBRSxRQUFRLE9BQU8sY0FBYyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLEtBQUssU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxZQUFZLEVBQUUsT0FBTyxZQUFZLEVBQUUseUJBQXlCLEVBQUUsWUFBWSxFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsTUFBTSxhQUFhLEtBQUssVUFBVSxLQUFLLGFBQWEsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxPQUFPLHFCQUFxQixFQUFFLE9BQU8scUJBQXFCLEVBQUUseUJBQXlCLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxpQkFBaUIsU0FBUyxJQUFJLE9BQU8sSUFBSSxhQUFhLEVBQUUsT0FBTyxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8saUJBQWlCLEVBQUUsT0FBTyxpQkFBaUIsRUFBRSx5QkFBeUIsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLGFBQWEsU0FBUyxJQUFJLE9BQU8sSUFBSSxhQUFhLEVBQUUsT0FBTyxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8saUJBQWlCLEVBQUUsT0FBTyxpQkFBaUIsRUFBRSx5QkFBeUIsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLE9BQU8sY0FBYyxpQkFBaUIsU0FBUyxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssTUFBTSxLQUFLLFNBQVMsRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLE9BQU8sT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLE9BQU8sRUFBRSxPQUFPLE9BQU8sS0FBSyxVQUFVLEtBQUssYUFBYSxLQUFLLEVBQUUsU0FBUyxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsT0FBTyxnQkFBZ0IsRUFBRSx5QkFBeUIsS0FBSyxhQUFhLGdCQUFnQixFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsTUFBTSxpQkFBaUIsRUFBRSxPQUFPLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxZQUFZLEVBQUUsT0FBTyxZQUFZLEVBQUUseUJBQXlCLEtBQUssYUFBYSxZQUFZLEVBQUUsS0FBSyxNQUFNLFFBQVEsU0FBUyxNQUFNLGFBQWEsRUFBRSxPQUFPLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxZQUFZLEVBQUUsT0FBTyxZQUFZLEVBQUUseUJBQXlCLEtBQUssYUFBYSxZQUFZLEVBQUUsS0FBSyxNQUFNLFFBQVEsU0FBUyxNQUFNLGlCQUFpQixLQUFLLE1BQU0sVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLFNBQVMsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLEVBQUUsYUFBYSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssVUFBVSxpQkFBaUIsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sVUFBVSxDQUFDLE1BQU0sSUFBSSxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEtBQUssRUFBRSxTQUFTLEVBQUUsY0FBYyxLQUFLLEVBQUUsV0FBVyxFQUFFLFNBQVMsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLFVBQVUsRUFBRSxPQUFPLEVBQUUsU0FBUyxJQUFJLENBQUMsaUJBQWlCLElBQUksRUFBRSxZQUFZLFNBQVMsRUFBRSxZQUFZLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLFdBQVcsS0FBSyxLQUFLLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxZQUFZLFNBQVMsVUFBVSxDQUFDLFdBQVcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLE1BQU0sRUFBRSxLQUFLLE1BQU0sRUFBRSxLQUFLLGFBQWEsS0FBSyxlQUFlLFlBQVksU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLEdBQUcsV0FBVyxVQUFVLEdBQUcsV0FBVyxVQUFVLENBQUMsT0FBTyxLQUFLLE1BQU0sS0FBSyxTQUFTLEtBQUssUUFBUSxZQUFZLFVBQVUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxLQUFLLGFBQWEsVUFBVSxHQUFHLEVBQUUsS0FBSyxLQUFLLGFBQWEsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLEdBQUcsS0FBSyxhQUFhLFNBQVMsSUFBSSxJQUFJLEVBQUUsU0FBUyxJQUFJLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxPQUFPLEtBQUssT0FBTyxtQkFBbUIsU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxLQUFLLGFBQWEsVUFBVSxHQUFHLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxJQUFJLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxPQUFPLElBQUksR0FBRyxFQUFFLFFBQVEsS0FBSyxhQUFhLGtCQUFrQixLQUFLLGFBQWEsZ0JBQWdCLE9BQU8sRUFBRSxFQUFFLEdBQUcsS0FBSyxjQUFjLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxhQUFhLFNBQVMsT0FBTyxFQUFFLEVBQUUsSUFBSSxjQUFjLFNBQVMsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLE9BQU8sRUFBRSxJQUFJLE1BQU0sVUFBVSxDQUFDLEtBQUssT0FBTyxDQUFDLElBQUksc0JBQXNCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxhQUFhLEtBQUssT0FBTyxFQUFFLEtBQUssYUFBYSxTQUFTLE9BQU8sR0FBRyxFQUFFLEVBQUUsS0FBSyxhQUFhLFNBQVMsT0FBTyxFQUFFLEVBQUUsUUFBUSxHQUFHLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxtQkFBbUIsSUFBSSx1QkFBdUIsVUFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLEtBQUssTUFBTSxLQUFLLFNBQVMsU0FBUyxFQUFFLENBQUMsT0FBTyxFQUFFLGlCQUFpQixLQUFLLFFBQVEsYUFBYSxTQUFTLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsaUJBQWlCLEtBQUssTUFBTSxLQUFLLFNBQVMsS0FBSyxFQUFFLEVBQUUsT0FBTyxHQUFHLE9BQU8sU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLFlBQVksS0FBSyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sU0FBUyxFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsSUFBSSxZQUFZLEVBQUUsR0FBRyxLQUFLLE1BQU0sWUFBWSxLQUFLLElBQUksS0FBSyxNQUFNLFFBQVEsaUJBQWlCLEtBQUssTUFBTSxZQUFZLElBQUksS0FBSyxNQUFNLFFBQVEsaUJBQWlCLEVBQUUsR0FBRyxLQUFLLE1BQU0sYUFBYSxDQUFDLEtBQUssTUFBTSxZQUFZLEtBQUssTUFBTSxhQUFhLEtBQUsseUJBQXlCLEtBQUssYUFBYSxNQUFNLEVBQUUsRUFBRSxLQUFLLEtBQUssYUFBYSxLQUFLLFNBQVMsRUFBRSxDQUFDLEtBQUssYUFBYSxPQUFPLEtBQUssSUFBSSxJQUFJLE1BQU0sS0FBSyxZQUFZLEtBQUssTUFBTSxZQUFZLEtBQUssTUFBTSxhQUFhLEtBQUssYUFBYSxLQUFLLE9BQU8sS0FBSyxZQUFZLEtBQUssWUFBWSxLQUFLLE1BQU0sYUFBYSxFQUFFLEtBQUssS0FBSyxhQUFhLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLGNBQWMsRUFBRSxFQUFFLElBQUksT0FBTyxjQUFjLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sRUFBRSxFQUFFLEtBQUssTUFBTSxNQUFNLE9BQU8sRUFBRSxXQUFXLEtBQUssR0FBRyxDQUFDLEdBQUcsY0FBYyxLQUFLLE1BQU0sUUFBUSxVQUFVLGNBQWMsRUFBRSxLQUFLLHVCQUF1QixLQUFLLGFBQWEsS0FBSyxJQUFJLFlBQVksS0FBSyxNQUFNLFFBQVEsVUFBVSxhQUFhLEVBQUUsS0FBSyxZQUFZLFlBQVksS0FBSyxNQUFNLFFBQVEsVUFBVSxhQUFhLEVBQUUsS0FBSyxhQUFhLEVBQUUsT0FBTyxFQUFFLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxPQUFPLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssTUFBTSxNQUFNLE1BQU0sRUFBRSxFQUFFLEtBQUssTUFBTSxNQUFNLE9BQU8sRUFBRSxjQUFjLEtBQUssdUJBQXVCLEtBQUssYUFBYSxLQUFLLElBQUksWUFBWSxLQUFLLFlBQVksWUFBWSxLQUFLLFlBQVksZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsT0FBTyxnQkFBZ0IsRUFBRSx5QkFBeUIsS0FBSyxhQUFhLGdCQUFnQixFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsSUFBSSxpQkFBaUIscUJBQXFCLEVBQUUsUUFBUSxFQUFFLE9BQU8scUJBQXFCLEVBQUUsT0FBTyxxQkFBcUIsRUFBRSx5QkFBeUIsS0FBSyxhQUFhLHFCQUFxQixFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsSUFBSSxzQkFBc0IsWUFBWSxFQUFFLFFBQVEsRUFBRSxPQUFPLFlBQVksRUFBRSxPQUFPLFlBQVksRUFBRSx5QkFBeUIsS0FBSyxhQUFhLFlBQVksRUFBRSxLQUFLLE1BQU0sUUFBUSxTQUFTLElBQUksYUFBYSxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8sWUFBWSxFQUFFLE9BQU8sWUFBWSxFQUFFLHlCQUF5QixLQUFLLGFBQWEsWUFBWSxFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsSUFBSSxhQUFhLE1BQU0sRUFBRSx5QkFBeUIsS0FBSyxhQUFhLE1BQU0sRUFBRSxLQUFLLE1BQU0sS0FBSyxPQUFPLE9BQU8sSUFBSSxJQUFJLEVBQUUsRUFBRSxPQUFPLFdBQVcsS0FBSyxHQUFHLENBQUMsR0FBRyxFQUFFLE9BQU8sV0FBVyxLQUFLLGFBQWEsU0FBUyxFQUFFLEdBQUcsT0FBTyxTQUFTLEVBQUUsT0FBTyxTQUFTLEVBQUUsT0FBTyxXQUFXLEVBQUUsT0FBTyxjQUFjLEVBQUUsS0FBSyxhQUFhLEtBQUssT0FBTyxJQUFJLEtBQUssYUFBYSxTQUFTLEVBQUUsR0FBRyxPQUFPLFdBQVcsRUFBRSxPQUFPLFdBQVcsRUFBRSxTQUFTLEtBQUssU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssS0FBSyxhQUFhLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFdBQVcsR0FBRyxRQUFRLE9BQU8sY0FBYyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLEtBQUssU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxPQUFPLHFCQUFxQixFQUFFLE9BQU8scUJBQXFCLEVBQUUseUJBQXlCLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxpQkFBaUIsU0FBUyxJQUFJLE9BQU8sSUFBSSxhQUFhLEVBQUUsT0FBTyxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8saUJBQWlCLEVBQUUsT0FBTyxpQkFBaUIsRUFBRSx5QkFBeUIsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLGFBQWEsU0FBUyxJQUFJLE9BQU8sSUFBSSxhQUFhLEVBQUUsT0FBTyxZQUFZLEVBQUUsUUFBUSxFQUFFLE9BQU8saUJBQWlCLEVBQUUsT0FBTyxpQkFBaUIsRUFBRSx5QkFBeUIsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLE9BQU8sY0FBYyxpQkFBaUIsU0FBUyxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssTUFBTSxLQUFLLFNBQVMsRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLE9BQU8sZ0JBQWdCLEVBQUUsT0FBTyxnQkFBZ0IsRUFBRSx5QkFBeUIsS0FBSyxhQUFhLGdCQUFnQixFQUFFLEtBQUssTUFBTSxRQUFRLFNBQVMsSUFBSSxpQkFBaUIsRUFBRSxPQUFPLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxZQUFZLEVBQUUsT0FBTyxZQUFZLEVBQUUseUJBQXlCLEtBQUssYUFBYSxZQUFZLEVBQUUsS0FBSyxNQUFNLFFBQVEsU0FBUyxJQUFJLGFBQWEsRUFBRSxPQUFPLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxZQUFZLEVBQUUsT0FBTyxZQUFZLEVBQUUseUJBQXlCLEtBQUssYUFBYSxZQUFZLEVBQUUsS0FBSyxNQUFNLFFBQVEsU0FBUyxJQUFJO0VBQ2x4K0IsdUJBQXVCLFNBQVMsRUFBRSxDQUFDLE9BQU8sS0FBSyxhQUFhLE1BQU0sRUFBRSxTQUFTLEtBQUssSUFBSSxFQUFFLEtBQUssYUFBYSxPQUFPLE1BQU0sS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsU0FBUyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssU0FBUyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxXQUFXLEdBQUcsYUFBYSxNQUFNLENBQUMsQ0FBQyxLQUFLLFNBQVMsR0FBRyxlQUFlLEVBQUUsWUFBWSxLQUFLLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxXQUFXLEtBQUssS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxLQUFLLFVBQVUsQ0FBQyxXQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxNQUFNLEVBQUUsS0FBSyxNQUFNLEVBQUUsS0FBSyxhQUFhLEtBQUssZUFBZSxZQUFZLFNBQVMsRUFBRSxDQUFDLEtBQUssTUFBTSxHQUFHLFdBQVcsVUFBVSxDQUFDLEtBQUssYUFBYSxVQUFVLEtBQUssYUFBYSxRQUFRLEtBQUssTUFBTSxRQUFRLE9BQU8sTUFBTSxHQUFHLElBQUksS0FBSyxhQUFhLFVBQVUsS0FBSyxhQUFhLFFBQVEsS0FBSyxNQUFNLFFBQVEsT0FBTyxNQUFNLEdBQUcsS0FBSyxXQUFXLFVBQVUsQ0FBQyxPQUFPLEtBQUssTUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRLGNBQWMsU0FBUyxFQUFFLENBQUMsT0FBTyxLQUFLLE1BQU0sT0FBTyxJQUFJLFlBQVksVUFBVSxDQUFDLEtBQUssYUFBYSxTQUFTLEtBQUssYUFBYSxVQUFVLEdBQUcsS0FBSyxhQUFhLFlBQVksS0FBSyxhQUFhLGFBQWEsSUFBSSxFQUFFLFNBQVMsS0FBSyxDQUFDLE9BQU8sS0FBSyxNQUFNLE1BQU0sY0FBYyxLQUFLLE1BQU0sUUFBUSxLQUFLLGFBQWEsV0FBVyxFQUFFLEtBQUssS0FBSyxhQUFhLEtBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLGFBQWEsU0FBUyxHQUFHLEtBQUssYUFBYSxTQUFTLElBQUksSUFBSSxFQUFFLFNBQVMsTUFBTSxDQUFDLE9BQU8sS0FBSyxNQUFNLE1BQU0sY0FBYyxLQUFLLE1BQU0sT0FBTyxLQUFLLE9BQU8sbUJBQW1CLFNBQVMsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLEtBQUssYUFBYSxVQUFVLEdBQUcsSUFBSSxFQUFFLElBQUksRUFBRSxTQUFTLE1BQU0sQ0FBQyxPQUFPLEtBQUssTUFBTSxNQUFNLGNBQWMsS0FBSyxNQUFNLE9BQU8sSUFBSSxLQUFLLGNBQWMsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxPQUFPLEVBQUUsRUFBRSxHQUFHLEtBQUssNkJBQTZCLGNBQWMsU0FBUyxFQUFFLENBQUMsS0FBSyxhQUFhLFNBQVMsT0FBTyxFQUFFLElBQUksTUFBTSxVQUFVLENBQUMsS0FBSyxPQUFPLENBQUMsSUFBSSxzQkFBc0IsVUFBVSxDQUFDLElBQUksRUFBRSxLQUFLLGFBQWEsS0FBSyxPQUFPLEVBQUUsS0FBSyxhQUFhLFNBQVMsT0FBTyxHQUFHLEVBQUUsRUFBRSxLQUFLLGFBQWEsU0FBUyxPQUFPLEVBQUUsRUFBRSxRQUFRLEdBQUcsRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLG1CQUFtQixJQUFJLE9BQU8sU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxhQUFhLFlBQVksRUFBRSxLQUFLLGFBQWEsU0FBUyxFQUFFLEtBQUssY0FBYyxLQUFLLGFBQWEsU0FBUyxLQUFLLGNBQWMsS0FBSyxhQUFhLFNBQVMsRUFBRSxFQUFFLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsY0FBYyxLQUFLLE1BQU0sVUFBVSxFQUFFLE9BQU8sQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sUUFBUSxFQUFFLE9BQU8sUUFBUSxLQUFLLGFBQWEsU0FBUyxLQUFLLE1BQU0sUUFBUSxTQUFTLEtBQUssUUFBUSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsT0FBTyxnQkFBZ0IsRUFBRSxPQUFPLGdCQUFnQixLQUFLLGFBQWEsaUJBQWlCLEtBQUssTUFBTSxRQUFRLFNBQVMsS0FBSyxnQkFBZ0IsWUFBWSxFQUFFLFFBQVEsRUFBRSxPQUFPLFlBQVksRUFBRSxPQUFPLFlBQVksS0FBSyxhQUFhLGFBQWEsS0FBSyxNQUFNLFFBQVEsU0FBUyxLQUFLLFlBQVksWUFBWSxFQUFFLFFBQVEsRUFBRSxPQUFPLFlBQVksRUFBRSxPQUFPLFlBQVksS0FBSyxhQUFhLGFBQWEsS0FBSyxNQUFNLFFBQVEsU0FBUyxLQUFLLFlBQVksZUFBZSxFQUFFLFFBQVEsRUFBRSxPQUFPLGVBQWUsRUFBRSxPQUFPLGVBQWUsS0FBSyxhQUFhLGdCQUFnQixLQUFLLE1BQU0sUUFBUSxTQUFTLEtBQUssZUFBZSxXQUFXLEVBQUUsUUFBUSxFQUFFLE9BQU8sV0FBVyxF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LENBQUMsUUFBUSxLQUFLLEVBQUUsWUFBWSxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxXQUFXLEtBQUssS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxNQUFNLFVBQVUsQ0FBQyxXQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxNQUFNLEVBQUUsS0FBSyxNQUFNLEVBQUUsS0FBSyxhQUFhLEtBQUssZUFBZSxZQUFZLFNBQVMsRUFBRSxDQUFDLEtBQUssTUFBTSxHQUFHLFdBQVcsVUFBVSxHQUFHLFdBQVcsVUFBVSxDQUFDLE9BQU8sS0FBSyxNQUFNLEtBQUssU0FBUyxLQUFLLFFBQVEsY0FBYyxTQUFTLEVBQUUsQ0FBQyxPQUFPLEtBQUssTUFBTSxPQUFPLElBQUksWUFBWSxVQUFVLENBQUMsS0FBSyxhQUFhLFNBQVMsS0FBSyxhQUFhLFVBQVUsR0FBRyxLQUFLLGFBQWEsWUFBWSxLQUFLLGFBQWEsYUFBYSxJQUFJLEVBQUUsU0FBUyxLQUFLLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxRQUFRLEtBQUssYUFBYSxTQUFTLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxLQUFLLGFBQWEsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLEtBQUssYUFBYSxTQUFTLEdBQUcsS0FBSyxhQUFhLFNBQVMsSUFBSSxJQUFJLEVBQUUsU0FBUyxNQUFNLENBQUMsT0FBTyxLQUFLLE1BQU0sTUFBTSxjQUFjLEtBQUssTUFBTSxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sT0FBTyxtQkFBbUIsU0FBUyxFQUFFLENBQUMsS0FBSyxhQUFhLFNBQVMsS0FBSyxhQUFhLFVBQVUsR0FBRyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsTUFBTSxDQUFDLE9BQU8sS0FBSyxNQUFNLE1BQU0sY0FBYyxLQUFLLE1BQU0sT0FBTyxJQUFJLEtBQUssY0FBYyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssYUFBYSxTQUFTLE9BQU8sRUFBRSxFQUFFLEdB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R0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLFdBQVcsT0FBTyxLQUFLLFFBQVEsVUFBVSxpQkFBaUIsSUFBSSxHQUFHLEVBQUUsR0FBRyxLQUFLLElBQUksS0FBSyxNQUFNLE1BQU0sRUFBRSxhQUFhLGtCQUFrQixXQUFXLEVBQUUsSUFBSSxLQUFLLE1BQU0sVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFNBQVMsT0FBTyxNQUFNLENBQUMsU0FBUyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssTUFBTSxLQUFLLEVBQUUsRUFBRSxLQUFLLE1BQU0sSUFBSSxJQUFJLEVBQUUsRUFBRSxNQUFNLEtBQUssSUFBSSxJQUFJLEVBQUUsR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxNQUFNLEdBQUcsRUFBRSxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsSUFBSSxHQUFHLEVBQUUsRUFBRSxRQUFRLFFBQVEsRUFBRSxJQUFJLE9BQU8sS0FBSyxFQUFFLEVBQUUsTUFBTSxPQUFPLENBQUMsV0FBVyxVQUFVLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLElBQUksS0FBSyxLQUFLLFFBQVEsUUFBUSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLE1BQU0sQ0FBQyxlQUFlLEdBQUcsZUFBZSxLQUFLLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxlQUFlLEVBQUUsRUFBRSxFQUFFLE1BQU0sZUFBZSxFQUFFLGlCQUFpQixLQUFLLEtBQUssZUFBZSxFQUFFLFVBQVUsS0FBSyxHQUFHLEVBQUUsVUFBVSxLQUFLLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGNBQWMsR0FBRyxNQUFNLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLFFBQVEsZUFBZSxFQUFFLEdBQUcsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksT0FBTyxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLGVBQWUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLEVBQUUsSUFBSSxHQUFHLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxXQUFXLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsQ0FBQyxFQUFFLGlCQUFpQixLQUFLLEtBQUssZUFBZSxFQUFFLFVBQVUsS0FBSyxHQUFHLEVBQUUsVUFBVSxLQUFLLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGNBQWMsR0FBRyxNQUFNLEtBQUssT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssT0FBTyxNQUFNLEtBQUssTUFBTSxHQUFHLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxlQUFlLEtBQUssSUFBSSxLQUFLLFFBQVEsTUFBTSxjQUFjLEtBQUssUUFBUSxNQUFNLGNBQWMsR0FBRyxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxJQUFJLEtBQUssUUFBUSxNQUFNLGNBQWMsS0FBSyxRQUFRLE1BQU0sY0FBYyxHQUFHLEtBQUssS0FBSyxLQUFLLFFBQVEsRUFBRSxLQUFLLFFBQVEsTUFBTSxZQUFZLEVBQUUsS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLFFBQVEsTUFBTSxZQUFZLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxLQUFLLEtBQUssRUFBRSxFQUFFLEtBQUssS0FBSyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxLQUFLLElBQUksR0FBRyxLQUFLLFFBQVEsTUFBTSxlQUFlLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssUUFBUSxNQUFNLGVBQWUsS0FBSyxRQUFRLE1BQU0sZUFBZSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLFFBQVEsTUFBTSxlQUFlLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssT0FBTyxJQUFJLElBQUksRUFBRSxFQUFFLFFBQVEsS0FBSyxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLFFBQVEsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxNQUFNLEtBQUssSUFBSSxHQUFHLEVBQUUsRUFBRSxLQUFLLEtBQUssS0FBSyxJQUFJLEdBQUcsRUFBRSxFQUFFLEtBQUssS0FBSyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssTUFBTSxLQUFLLEVBQUUsRUFBRSxHQUFHLENBQUMsUUFBUSxLQUFLLFFBQVEsVUFBVSxTQUFTLEtBQUssUUFBUSxXQUFXLEtBQUssTUFBTSxVQUFVLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSyxPQUFPLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSyxPQUFPLEtBQUssUUFBUSxNQUFNLFNBQVMsS0FBSyxNQUFNLFVBQVUsS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLLGNBQWMsS0FBSyxNQUFNLFFBQVEsSUFBSSxpQkFBaUIsU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEtBQUssY0FBYyxLQUFLLEtBQUssU0FBUyxHQUFHLEtBQUssS0FBSyxpQkFBaUIsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxjQUFjLEdBQUcsRUFBRSxLQUFLLElBQUksS0FBSyxNQUFNLEdBQUcsS0FBSyxlQUFlLENBQUMsSUFBSSxFQUFFLEtBQUssT0FBTyxLQUFLLFlBQVksS0FBSyxjQUFjLE9BQU8sRUFBRSxLQUFLLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxPQUFPLEtBQUssTUFBTSxFQUFFLEtBQUssYUFBYSxJQUFJLEVBQUUsS0FBSyxRQUFRLEtBQUssV0FBVyxLQUFLLGVBQWUsT0FBTyxFQUFFLEtBQUssT0FBTyxLQUFLLGNBQWMsRUFBRSxHQUFHLEVBQUUsS0FBSyxPQUFPLEtBQUssTUFBTSxNQUFNLEVBQUUsYUFBYSxrQkFBa0IsU0FBUyxFQUFFLElBQUksS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxTQUFTLE9BQU8sTUFBTSxDQUFDLFNBQVMsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxJQUFJLEdBQUcsS0FBSyxNQUFNLEVBQUUsUUFBUSxNQUFNLEtBQUssT0FBTyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksRUFBRSxFQUFFLGdCQUFnQixNQUFNLEVBQUUsRUFBRSxNQUFNLE9BQU8sQ0FBQyxXQUFXLFVBQVUsQ0FBQyxHQUFHLEtBQUssSUFBSSxLQUFLLEtBQUssSUFBSSxLQUFLLEtBQUssUUFBUSxRQUFRLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEtBQUssS0FBSyxTQUFTLFNBQVMsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLEtBQUssS0FBSyxlQUFlLEVBQUUsVUFBVSxLQUFLLEdBQUcsRUFBRSxVQUFVLEtBQUssTUFBTSxLQUFLLElBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLE1BQU0sSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxjQUFjLEdBQUcsTUFBTSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLFFBQVEsZUFBZSxFQUFFLEdBQUcsSUFBSSxFQUFFLElBQUksSUFBSSxRQUFRLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxHQUFHLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxXQUFXLEVBQUUsS0FBSyxLQUFLLEtBQUssU0FBUyxTQUFTLEVBQUUsQ0FBQyxFQUFFLGlCQUFpQixLQUFLLEtBQUssZUFBZSxFQUFFLFVBQVUsS0FBSyxHQUFHLEVBQUUsVUFBVSxLQUFLLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGNBQWMsR0FBRyxNQUFNLEtBQUssT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssT0FBTyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssT0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFLE1BQU0sS0FBSyxNQUFNLEdBQUcsS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFLE1BQU0sS0FBSyxNQUFNLEtBQUssS0FBSyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssS0FBSyxXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUUsTUFBTSxLQUFLLE1BQU0sRUFBRSxLQUFLLEtBQUssRUFBRSxNQUFNLEtBQUssTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxXQUFXLEtBQUssRUFBRSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssV0FBVyxLQUFLLEVBQUUsS0FBSyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxRQUFRLFVBQVUsU0FBUyxLQUFLLFFBQVEsV0FBVyxLQUFLLFdBQVcsVUFBVSxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssWUFBWSxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssWUFBWSxLQUFLLFFBQVEsTUFBTSxTQUFTLEtBQUssV0FBVyxVQUFVLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssV0FBVyxTQUFTLGlCQUFpQixTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxjQUFjLEtBQUssS0FBSyxTQUFTLEdBQUcsS0FBSyxLQUFLLGdCQUFnQixTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxpQkFBaUIsS0FBSyxXQUFXLEdBQUcsS0FBSyxLQUFLLElBQUksaUJBQWlCLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssY0FBYyxHQUFHLEVBQUUsRUFBRSxNQUFNLEtBQUssS0FBSyxFQUFFLE1BQU0sS0FBSyxPQUFPLEdBQUcsS0FBSyxlQUFlLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLEtBQUssWUFBWSxLQUFLLGNBQWMsT0FBTyxFQUFFLEtBQUssS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEdBQUcsRUFBRSxNQUFNLEtBQUssUUFBUSxFQUFFLEtBQUssWUFBWSxFQUFFLEtBQUssS0FBSyxLQUFLLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssUUFBUSxLQUFLLFdBQVcsS0FBSyxlQUFlLE9BQU8sS0FBSyxPQUFPLEtBQUssY0FBYyxFQUFFLEdBQUcsRUFBRSxNQUFNLEdBQUcsRUFBRSxNQUFNLEtBQUssUUFBUSxFQUFFLEtBQUssSUFBSSxLQUFLLGVBQWUsRUFBRSxhQUFhLGtCQUFrQixjQUFjLEVBQUUsSUFBSSxLQUFLLE1BQU0sVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUFFLFNBQVMsWUFBWSxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxxQkFBcUIsVUFBVSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLGNBQWMseUJBQXlCLGlCQUFpQixFQUFFLGlCQUFpQixHQUFHLFlBQVksQ0FBQyxXQUFXLFVBQVUsVUFBVSxTQUFTLFNBQVMsR0FBRyxVQUFVLFNBQVMsRUFBRSxFQUFFLE1BQU0sT0FBTyxDQUFDLGNBQWMsVUFBVSxDQUFDLE9BQU8sS0FBSyxLQUFLLE9BQU8sUUFBUSxjQUFjLFVBQVUsQ0FBQyxLQUFLLE1BQU0sS0FBSyxTQUFTLEtBQUssT0FBTyxLQUFLLFVBQVUsS0FBSyxRQUFRLEtBQUssTUFBTSxLQUFLLE1BQU0sR0FBRyxLQUFLLFFBQVEsS0FBSyxNQUFNLEtBQUssT0FBTyxHQUFHLElBQUksRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLE9BQU8sS0FBSyxRQUFRLEtBQUssWUFBWSxLQUFLLFFBQVEsUUFBUSxFQUFFLEdBQUcsS0FBSyxRQUFRLE1BQU0sU0FBUyxFQUFFLEtBQUssUUFBUSxNQUFNLGtCQUFrQixFQUFFLEdBQUcsV0FBVyxVQUFVLENBQUMsS0FBSyxJQUFJLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFLLEtBQUssS0FBSyxTQUFTLFNBQVMsRUFBRSxDQUFDLEVBQUUsaUJBQWlCLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGNBQWMsR0FBRyxNQUFNLEtBQUssT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLEVBQUUsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssT0FBTyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssT0FBTyxLQUFLLE1BQU0sR0FBRyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssUUFBUSxNQUFNLGNBQWMsS0FBSyxRQUFRLE1BQU0sY0FBYyxHQUFHLEtBQUssS0FBSyxLQUFLLGFBQWEsSUFBSSxLQUFLLFFBQVEsTUFBTSxZQUFZLEdBQUcsRUFBRSxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssUUFBUSxNQUFNLFlBQVksQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEtBQUssS0FBSyxFQUFFLEVBQUUsS0FBSyxLQUFLLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLEVBQUUsUUFBUSxLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsUUFBUSxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsRUFBRSxFQUFFLEtBQUssS0FBSyxLQUFLLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssTUFBTSxLQUFLLEdBQUcsS0FBSyxJQUFJLEVBQUUsSUFBSSxLQUFLLE9BQU8sS0FBSyxJQUFJLEVBQUUsSUFBSSxLQUFLLE9BQU8sS0FBSyxRQUFRLE1BQU0sU0FBUyxLQUFLLE1BQU0sVUFBVSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUssY0FBYyxLQUFLLE1BQU0sUUFBUSxJQUFJLGlCQUFpQixTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxjQUFjLEtBQUssS0FBSyxTQUFTLEdBQUcsS0FBSyxLQUFLLGlCQUFpQixVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssR0FBRyxLQUFLLGlCQUFpQixJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxPQUFPLEVBQUUsS0FBSyxRQUFRLFlBQVksU0FBUyxFQUFFLEtBQUssTUFBTSxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUUsRUFBRSxJQUFJLEtBQUssSUFBSSxLQUFLLEVBQUUsV0FBVyxLQUFLLFFBQVEsWUFBWSxTQUFTLEtBQUssUUFBUSxZQUFZLFVBQVUsS0FBSyxRQUFRLFlBQVksWUFBWSxFQUFFLEVBQUUsRUFBRSxLQUFLLGdCQUFnQixJQUFJLEVBQUUsS0FBSyxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLFlBQVksS0FBSyxRQUFRLE1BQU0sU0FBUyxLQUFLLEtBQUssT0FBTyxLQUFLLE1BQU0sRUFBRSxJQUFJLEdBQUcsSUFBSSxLQUFLLGdCQUFnQixHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssZ0JBQWdCLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssZ0JBQWdCLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEtBQUssRUFBRSxLQUFLLE9BQU8sRUFBRSxLQUFLLGNBQWMsR0FBRyxFQUFFLEtBQUssY0FBYyxHQUFHLEVBQUUsRUFBRSxLQUFLLElBQUksRUFBRSxLQUFLLEdBQUcsR0FBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQUUsS0FBSyxHQUFHLEdBQUcsRUFBRSxFQUFFLFNBQVMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsR0FBRyxFQUFFLEVBQUUsS0FBSyxZQUFZLEtBQUssTUFBTSxFQUFFLENBQUMsRUFBRSxHQUFHLEdBQUcsS0FBSyxlQUFlLEVBQUUsSUFBSSxlQUFlLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssWUFBWSxFQUFFLEVBQUUsS0FBSyxZQUFZLEtBQUssUUFBUSxLQUFLLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLE1BQU0sS0FBSyxRQUFRLEtBQUssTUFBTSxLQUFLLE9BQU8sRUFBRSxLQUFLLE1BQU0sY0FBYyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEdBQUcsS0FBSyxnQkFBZ0IsT0FBTyxFQUFFLEVBQUUsS0FBSyxHQUFHLEdBQUcsOEJBQThCLFNBQVMsRUFBRSxDQUFDLEdBQUcsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxhQUFhLEtBQUssSUFBSSxLQUFLLEtBQUssT0FBTyxLQUFLLFFBQVEsUUFBUSxDQUFDLEtBQUssSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEtBQUssS0FBSyxHQUFHLGlCQUFpQixTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGNBQWMsR0FBRyxNQUFNLENBQUMsRUFBRSxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsR0FBRyxLQUFLLFFBQVEsRUFBRSxLQUFLLE1BQU0s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SUFBSSxHQUFHLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLFVBQVUsU0FBUyxJQUFJLEVBQUUsRUFBRSxVQUFVLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxPQUFPLEVBQUUsVUFBVSxRQUFRLEVBQUUsRUFBRSxhQUFhLFNBQVMsRUFBRSxFQUFFLGFBQWEsU0FBUyxFQUFFLGFBQWEsTUFBTSxFQUFFLFNBQVMsS0FBSyxLQUFLLE9BQU8sR0FBRyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsYUFBYSxrQkFBa0IsZUFBZSxFQUFFLElBQUksS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLEdBQUcsQ0FBQyxPQUFPLE9BQU8sT0FBTyxLQUFLLFFBQVEsS0FBSyx3SUFBd0ksSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxjQUFjLFNBQVMsU0FBUyxPQUFPLE1BQU0sT0FBTyxRQUFRLFVBQVUsUUFBUSxLQUFLLENBQUMsWUFBWSxDQUFDLFFBQVEsV0FBVyxRQUFRLEtBQUssT0FBTyxDQUFDLFFBQVEsWUFBWSxRQUFRLElBQUksT0FBTyxDQUFDLFFBQVEsWUFBWSxRQUFRLElBQUksS0FBSyxDQUFDLFFBQVEsWUFBWSxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsS0FBSyxRQUFRLFFBQVEsTUFBTSxDQUFDLFFBQVEsV0FBVyxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsY0FBYyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsT0FBTyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUMsU0FBUyxTQUFTLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxjQUFjLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxPQUFPLENBQUMsZUFBZSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sS0FBSyxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsVUFBVSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxPQUFPLE9BQU8sR0FBRyxFQUFFLEtBQUssS0FBSyxLQUFLLE9BQU8sU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxVQUFVLEdBQUcsS0FBSyxRQUFRLEtBQUssT0FBTyxFQUFFLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTyxFQUFFLEtBQUssSUFBSSxNQUFNLEtBQUssUUFBUSxLQUFLLElBQUksS0FBSyxVQUFVLEtBQUssVUFBVSxLQUFLLFFBQVEsS0FBSyxLQUFLLEtBQUssVUFBVSxPQUFPLElBQUksS0FBSyxLQUFLLEdBQUcsS0FBSyxRQUFRLEtBQUssSUFBSSxLQUFLLFNBQVMsS0FBSyxVQUFVLEtBQUssUUFBUSxLQUFLLEtBQUssS0FBSyxTQUFTLE9BQU8sSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFNBQVMsTUFBTSxFQUFFLEtBQUssS0FBSyxLQUFLLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxVQUFVLE9BQU8sRUFBRSxLQUFLLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLFVBQVUsS0FBSyxjQUFjLElBQUksS0FBSyxRQUFRLEtBQUssT0FBTyxFQUFFLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTyxFQUFFLEtBQUssR0FBRyxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsT0FBTyxJQUFJLEtBQUssVUFBVSxHQUFHLEVBQUUsS0FBSyxTQUFTLE9BQU8sS0FBSyxTQUFTLE9BQU8sSUFBSSxLQUFLLFNBQVMsR0FBRyxHQUFHLE1BQU0sRUFBRSxFQUFFLEtBQUssYUFBYSxLQUFLLElBQUksTUFBTSxLQUFLLFVBQVUsS0FBSyxVQUFVLFFBQVEsS0FBSyxTQUFTLEtBQUssU0FBUyxTQUFTLFdBQVcsU0FBUyxFQUFFLENBQUMsR0FBRyxLQUFLLE1BQU0sR0FBRyxLQUFLLGFBQWEsR0FBRyxLQUFLLG9CQUFvQixLQUFLLFFBQVEsS0FBSyxLQUFLLEtBQUssU0FBUyxLQUFLLFFBQVEsS0FBSyxNQUFNLE1BQU0sS0FBSyxjQUFjLEVBQUUsS0FBSyxLQUFLLFVBQVUsUUFBUSxLQUFLLFVBQVUsS0FBSyxLQUFLLEtBQUssU0FBUyxLQUFLLEtBQUssVUFBVSxLQUFLLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssT0FBTyxLQUFLLFlBQVksS0FBSyxjQUFjLEVBQUUsRUFBRSxLQUFLLFFBQVEsTUFBTSxTQUFTLEVBQUUsRUFBRSxLQUFLLFFBQVEsS0FBSyxNQUFNLEVBQUUsRUFBRSxLQUFLLFNBQVMsY0FBYyxLQUFLLFVBQVUsS0FBSyxLQUFLLEtBQUssU0FBUyxLQUFLLEtBQUssVUFBVSxLQUFLLFNBQVMsQ0FBQyxHQUFHLEdBQUcsS0FBSyxjQUFjLEVBQUUsS0FBSyxLQUFLLFVBQVUsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsRUFBRSxDQUFDLEtBQUssV0FBVyxJQUFJLEtBQUssU0FBUyxFQUFFLEtBQUssVUFBVSxLQUFLLEtBQUssS0FBSyxTQUFTLEtBQUssS0FBSyxVQUFVLEtBQUssVUFBVSxHQUFHLEtBQUssY0FBYyxFQUFFLEtBQUssR0FBRyxVQUFVLE1BQU0sS0FBSyxVQUFVLFFBQVEsS0FBSyxVQUFVLEtBQUssU0FBUyxNQUFNLEtBQUssVUFBVSxLQUFLLHdCQUF3QixLQUFLLE1BQU0sRUFBRSxLQUFLLEtBQUssS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssYUFBYSxHQUFHLE9BQU8sSUFBSSxLQUFLLHdCQUF3QixLQUFLLElBQUksS0FBSyx3QkFBd0IsS0FBSyxhQUFhLEdBQUcsR0FBRyxLQUFLLEtBQUssYUFBYSxHQUFHLEVBQUUsR0FBRyxLQUFLLFNBQVMsQ0FBQyxLQUFLLE1BQU0sS0FBSyxRQUFRLEtBQUssZ0JBQWdCLEtBQUssY0FBYyxLQUFLLFFBQVEsS0FBSyxlQUFlLElBQUksSUFBSSxFQUFFLEVBQUUsR0FBRyxLQUFLLFVBQVUsRUFBRSxFQUFFLEtBQUssTUFBTSxLQUFLLEtBQUssVUFBVSxRQUFRLElBQUksRUFBRSxLQUFLLFlBQVksaUJBQWlCLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssS0FBSyxRQUFRLEVBQUUsS0FBSyxLQUFLLE9BQU8sT0FBTyxLQUFLLEtBQUssT0FBTyxHQUFHLEdBQUcsTUFBTSxVQUFVLE9BQU8sS0FBSyxLQUFLLFNBQVMsR0FBRyxLQUFLLEtBQUssRUFBRSxLQUFLLGNBQWMsS0FBSyxLQUFLLFNBQVMsR0FBRyxLQUFLLEtBQUssR0FBRyxxQkFBcUIsVUFBVSxDQUFDLEtBQUssTUFBTSxLQUFLLE1BQU0sSUFBSSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsT0FBTyxLQUFLLFFBQVEsS0FBSyxjQUFjLEtBQUssUUFBUSxLQUFLLGNBQWMsRUFBRSxLQUFLLEtBQUssVUFBVSxTQUFTLE9BQU8sS0FBSyxRQUFRLE1BQU0sYUFBYSxLQUFLLFFBQVEsTUFBTSxhQUFhLEVBQUUsRUFBRSxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssZUFBZSxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssS0FBSyxVQUFVLEtBQUssU0FBUyxDQUFDLEdBQUcsRUFBRSxFQUFFLEtBQUssVUFBVSxHQUFHLEtBQUssZUFBZSxDQUFDLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxZQUFZLEtBQUssY0FBYyxHQUFHLEVBQUUsS0FBSyxJQUFJLEtBQUssTUFBTSxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsS0FBSyxhQUFhLE9BQU8sS0FBSyxLQUFLLEtBQUssTUFBTSxHQUFHLElBQUksRUFBRSxLQUFLLFFBQVEsS0FBSyxXQUFXLEtBQUssZUFBZSxHQUFHLEVBQUUsS0FBSyxJQUFJLEtBQUssTUFBTSxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsS0FBSyxZQUFZLE9BQU8sS0FBSyxJQUFJLEtBQUssTUFBTSxJQUFJLFVBQVUsU0FBUyxFQUFFLENBQUMsTUFBTSxZQUFZLE9BQU8sRUFBRSxVQUFVLFVBQVUsT0FBTyxFQUFFLE9BQU8sR0FBRyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsVUFBVSxPQUFPLEtBQUssUUFBUSxLQUFLLFFBQVEsS0FBSyxRQUFRLEtBQUssT0FBTyxLQUFLLEtBQUssUUFBUSxLQUFLLE9BQU8sR0FBRyxPQUFPLEVBQUUsS0FBSyxRQUFRLEtBQUssV0FBVyxFQUFFLGFBQWEsa0JBQWtCLE9BQU8sRUFBRSxJQUFJLEtBQUs7Ozs7Ozs7OztBQVNoMUssVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLE9BQU8sU0FBUyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxPQUFPLGFBQWEsWUFBWSxPQUFPLFlBQVksR0FBRyxFQUFFLFNBQVMsSUFBSSxFQUFFLFFBQVEsT0FBTyxDQUFDLGFBQWEsU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxPQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksR0FBRyxDQUFDLEdBQUcsUUFBUSxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLE1BQU0sR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxXQUFXLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRSxXQUFXLEVBQUUsS0FBSyxHQUFHLEVBQUUsV0FBVyxJQUFJLEtBQUssR0FBRyxFQUFFLFdBQVcsRUFBRSxLQUFLLEdBQUcsRUFBRSxXQUFXLEVBQUUsRUFBRSxTQUFTLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRSxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsU0FBUyxJQUFJLEtBQUssR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksT0FBTyxHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsZ0JBQWdCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUUsRUFBRSxXQUFXLENBQUMsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsRUFBRSxZQUFZLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssSUFBSSxHQUFHLElBQUksS0FBSyxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssT0FBTyxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsU0FBUyxRQUFRLEVBQUUsYUFBYSxFQUFFLGFBQWEsS0FBSzs7Ozs7Ozs7O0FBUzVzQyxVQUFVLENBQUMsYUFBYSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLFNBQVMsT0FBTyxTQUFTLEtBQUssQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLEVBQUUsU0FBUyxPQUFPLGFBQWEsWUFBWSxFQUFFLFlBQVksRUFBRSxTQUFTLE9BQU8sYUFBYSxlQUFlLE9BQU8sV0FBVyxHQUFHLGlCQUFpQixFQUFFLGdCQUFnQixRQUFRLEtBQUssQ0FBQyxHQUFHLEVBQUUsU0FBUyxLQUFLLEVBQUUsUUFBUSxPQUFPLENBQUMsS0FBSyxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssT0FBTyxJQUFJLEVBQUUsS0FBSyxVQUFVLEdBQUcsRUFBRSxLQUFLLFVBQVUsS0FBSyxVQUFVLE9BQU8sR0FBRyxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssS0FBSyxVQUFVLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsYUFBYSxLQUFLLFVBQVUsR0FBRyxFQUFFLEVBQUUsU0FBUyxLQUFLLFVBQVUsR0FBRyxPQUFPLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUUsV0FBVyxFQUFFLE1BQU0sTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxXQUFXLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLE1BQU0sS0FBSyxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sR0FBRyxFQUFFLFFBQVEsR0FBRyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSxrQkFBa0IsRUFBRSxNQUFNLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLEVBQUUsTUFBTSxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsUUFBUSxHQUFHLENBQUMsRUFBRSxNQUFNLEtBQUssT0FBTyxLQUFLLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLEVBQUUsTUFBTSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixFQUFFLE1BQU0sc0JBQXNCLEVBQUUsTUFBTSxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sR0FBRyxHQUFHLEtBQUssVUFBVSxPQUFPLEdBQUcsRUFBRSxP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QVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLGNBQWMsS0FBSyxVQUFVLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssT0FBTyxJQUFJLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxHQUFHLEVBQUUsWUFBWSxLQUFLLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLE9BQU8sU0FBUyxNQUFNLE9BQU8sRUFBRSxFQUFFLEtBQUssSUFBSSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLFNBQVMsT0FBTyxhQUFhLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxTQUFTLE9BQU8sU0FBUyxNQUFNLFlBQVksRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxPQUFPLGFBQWEsRUFBRSxPQUFPLEVBQUUsY0FBYyxLQUFLLE1BQU0sVUFBVSxDQUFDLGFBQWEsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxPQUFPLFNBQVMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLFNBQVMsT0FBTyxhQUFhLFlBQVksRUFBRSxZQUFZLEVBQUUsU0FBUyxPQUFPLGNBQWMsRUFBRSxTQUFTLFVBQVUsRUFBRSxRQUFRLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxPQUFPLElBQUksRUFBRSxLQUFLLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsY0FBYyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBVSxPQUFPLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxRQUFRLFNBQVMsRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLENBQUMsRUFBRSxPQUFPLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxNQUFNLEdBQUcsRUFBRSxHQUFHLEdBQUcsYUFBYSxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLE9BQU8sRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sR0FBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEdBQUcsZ0JBQWdCLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxNQUFNLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxNQUFNLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxVQUFVLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLFNBQVMsU0FBUyxTQUFTLEdBQUcsYUFBYSxNQUFNLENBQUMsQ0FBQyxLQUFLLFNBQVMsU0FBUyxPQUFPLEdBQUcsY0FBYyxTQUFTLENBQUMsU0FBUyxtQ0FBbUMsY0FBYyxtRkFBbUYsRUFBRSxPQUFPLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxTQUFTLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxZQUFZLEVBQUUsZUFBZSxtUkFBbVIsRUFBRSxTQUFTLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxXQUFXLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxPQUFPLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxZQUFZLEVBQUUsZUFBZSxtUkFBbVIsRUFBRSxVQUFVLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxZQUFZLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxZQUFZLEdBQUcsRUFBRSxNQUFNLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxRQUFRLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLFVBQVUsQ0FBQyxhQUFhLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxVQUFVLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLFNBQVMsU0FBUyxTQUFTLEdBQUcsYUFBYSxNQUFNLENBQUMsQ0FBQyxLQUFLLFNBQVMsU0FBUyxPQUFPLEdBQUcsY0FBYyxTQUFTLENBQUMsU0FBUyxtQ0FBbUMsY0FBYyxtRkFBbUYsRUFBRSxRQUFRLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxPQUFPLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNIiwiZmlsZSI6ImltcGFjLWFuZ3VsYXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gIHZhciBtb2R1bGU7XG5cbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2ltcGFjLmNvbXBvbmVudHMud2lkZ2V0cy1zZXR0aW5ncy53aWR0aCcsIFtdKTtcblxuICBtb2R1bGUuY29udHJvbGxlcignU2V0dGluZ1dpZHRoQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICR0aW1lb3V0LCAkbG9nLCBJbXBhY1dpZGdldHNTdmMpIHtcbiAgICB2YXIgZWxlbSwgaGlkZU9uUmVzaXplLCBpLCBsZW4sIHJlZiwgc2V0dGluZywgdztcbiAgICB3ID0gJHNjb3BlLnBhcmVudFdpZGdldDtcbiAgICBzZXR0aW5nID0ge307XG4gICAgc2V0dGluZy5rZXkgPSBcIndpZHRoXCI7XG4gICAgc2V0dGluZy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcmVmID0gJGVsZW1lbnQucGFyZW50cygpO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgZWxlbSA9IHJlZltpXTtcbiAgICAgIGlmIChhbmd1bGFyLmVsZW1lbnQoZWxlbSkuaGFzQ2xhc3MoJ2NvbnRlbnQnKSkge1xuICAgICAgICAkc2NvcGUuY29udGVudEVsZW1lbnRzID0gYW5ndWxhci5lbGVtZW50KGVsZW0pLmNoaWxkcmVuKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBoaWRlT25SZXNpemUgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgdmFyIGosIGxlbjE7XG4gICAgICBpZiAoIShlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPiAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0gZWxlbWVudHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIGVsZW0gPSBlbGVtZW50c1tqXTtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW0pLmFuaW1hdGUoe1xuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBrLCBsZW4yLCByZXN1bHRzO1xuICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoayA9IDAsIGxlbjIgPSBlbGVtZW50cy5sZW5ndGg7IGsgPCBsZW4yOyBrKyspIHtcbiAgICAgICAgICBlbGVtID0gZWxlbWVudHNba107XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGFuZ3VsYXIuZWxlbWVudChlbGVtKS5hbmltYXRlKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICB9LCAyMDApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0sIDMwMCk7XG4gICAgfTtcbiAgICB3LnRvZ2dsZUV4cGFuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuZXhwYW5kZWQgPSAhJHNjb3BlLmV4cGFuZGVkO1xuICAgICAgSW1wYWNXaWRnZXRzU3ZjLnVwZGF0ZVdpZGdldFNldHRpbmdzKHcsIGZhbHNlKTtcbiAgICAgIGhpZGVPblJlc2l6ZSgkc2NvcGUuY29udGVudEVsZW1lbnRzKTtcbiAgICAgIGlmICgkc2NvcGUuZXhwYW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIHcud2lkdGggPSBwYXJzZUludCgkc2NvcGUubWF4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB3LndpZHRoID0gcGFyc2VJbnQoJHNjb3BlLm1pbik7XG4gICAgICB9XG4gICAgfTtcbiAgICB3LmlzRXhwYW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkc2NvcGUuZXhwYW5kZWQ7XG4gICAgfTtcbiAgICBzZXR0aW5nLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh3LndpZHRoICE9IG51bGwpIHtcbiAgICAgICAgJHNjb3BlLmV4cGFuZGVkID0gdy53aWR0aCA9PT0gcGFyc2VJbnQoJHNjb3BlLm1heCk7XG4gICAgICAgIHJldHVybiBzZXR0aW5nLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgc2V0dGluZy50b01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3V2lkdGg7XG4gICAgICBpZiAoJHNjb3BlLmV4cGFuZGVkKSB7XG4gICAgICAgIG5ld1dpZHRoID0gJHNjb3BlLm1heDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1dpZHRoID0gJHNjb3BlLm1pbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBwYXJzZUludChuZXdXaWR0aClcbiAgICAgIH07XG4gICAgfTtcbiAgICB3LnNldHRpbmdzLnB1c2goc2V0dGluZyk7XG4gICAgcmV0dXJuICRzY29wZS5kZWZlcnJlZC5yZXNvbHZlKCRzY29wZS5wYXJlbnRXaWRnZXQpO1xuICB9KTtcblxuICBtb2R1bGUuZGlyZWN0aXZlKCdzZXR0aW5nV2lkdGgnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgcGFyZW50V2lkZ2V0OiAnPScsXG4gICAgICAgIGRlZmVycmVkOiAnPScsXG4gICAgICAgIG1pbjogJ0AnLFxuICAgICAgICBtYXg6ICdAJ1xuICAgICAgfSxcbiAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3dpZGdldHMtc2V0dGluZ3Mvd2lkdGgudG1wbC5odG1sJyksXG4gICAgICBjb250cm9sbGVyOiAnU2V0dGluZ1dpZHRoQ3RybCdcbiAgICB9O1xuICB9KTtcblxufSkuY2FsbCh0aGlzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltTnZiWEJ2Ym1WdWRITXZkMmxrWjJWMGN5MXpaWFIwYVc1bmN5OTNhV1IwYUM5M2FXUjBhQzVrYVhKbFkzUnBkbVV1WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTzBGQlFVRXNUVUZCUVRzN1JVRkJRU3hOUVVGQkxFZEJRVk1zVDBGQlR5eERRVUZETEUxQlFWSXNRMEZCWlN4NVEwRkJaaXhGUVVGNVJDeEZRVUY2UkRzN1JVRkZWQ3hOUVVGTkxFTkJRVU1zVlVGQlVDeERRVUZyUWl4clFrRkJiRUlzUlVGQmMwTXNVMEZCUXl4TlFVRkVMRVZCUVZNc1VVRkJWQ3hGUVVGdFFpeFJRVUZ1UWl4RlFVRTJRaXhKUVVFM1FpeEZRVUZ0UXl4bFFVRnVRenRCUVVWd1F5eFJRVUZCTzBsQlFVRXNRMEZCUVN4SFFVRkpMRTFCUVUwc1EwRkJRenRKUVVkWUxFOUJRVUVzUjBGQlZUdEpRVU5XTEU5QlFVOHNRMEZCUXl4SFFVRlNMRWRCUVdNN1NVRkRaQ3hQUVVGUExFTkJRVU1zWVVGQlVpeEhRVUYzUWp0QlFVZDRRanRCUVVGQkxGTkJRVUVzY1VOQlFVRTdPMDFCUTBVc1NVRkJSeXhQUVVGUExFTkJRVU1zVDBGQlVpeERRVUZuUWl4SlFVRm9RaXhEUVVGeFFpeERRVUZETEZGQlFYUkNMRU5CUVN0Q0xGTkJRUzlDTEVOQlFVZzdVVUZEUlN4TlFVRk5MRU5CUVVNc1pVRkJVQ3hIUVVGNVFpeFBRVUZQTEVOQlFVTXNUMEZCVWl4RFFVRm5RaXhKUVVGb1FpeERRVUZ4UWl4RFFVRkRMRkZCUVhSQ0xFTkJRVUU3UVVGRGVrSXNZMEZHUmpzN1FVRkVSanRKUVU5QkxGbEJRVUVzUjBGQlpTeFRRVUZETEZGQlFVUTdRVUZEWWl4VlFVRkJPMDFCUVVFc1NVRkJRU3hEUVVGakxFTkJRVU1zVVVGQlFTeEpRVUZaTEZGQlFWRXNRMEZCUXl4TlFVRlVMRWRCUVd0Q0xFTkJRUzlDTEVOQlFXUTdRVUZCUVN4bFFVRkJPenRCUVVWQkxGZEJRVUVzTkVOQlFVRTdPMUZCUTBVc1QwRkJUeXhEUVVGRExFOUJRVklzUTBGQlowSXNTVUZCYUVJc1EwRkJjVUlzUTBGQlF5eFBRVUYwUWl4RFFVRTRRanRWUVVGRExFOUJRVUVzUlVGQlV5eERRVUZXTzFOQlFUbENMRVZCUVRSRExFTkJRVFZETzBGQlJFWTdZVUZIUVN4UlFVRkJMRU5CUVZNc1UwRkJRVHRCUVVOUUxGbEJRVUU3UVVGQlFUdGhRVUZCTERSRFFVRkJPenQxUWtGRFJTeFBRVUZQTEVOQlFVTXNUMEZCVWl4RFFVRm5RaXhKUVVGb1FpeERRVUZ4UWl4RFFVRkRMRTlCUVhSQ0xFTkJRVGhDTzFsQlFVTXNUMEZCUVN4RlFVRlRMRU5CUVZZN1YwRkJPVUlzUlVGQk5FTXNSMEZCTlVNN1FVRkVSanM3VFVGRVR5eERRVUZVTEVWQlIwVXNSMEZJUmp0SlFVNWhPMGxCVjJZc1EwRkJReXhEUVVGRExHTkJRVVlzUjBGQmJVSXNVMEZCUVR0TlFVTnFRaXhOUVVGTkxFTkJRVU1zVVVGQlVDeEhRVUZyUWl4RFFVRkRMRTFCUVUwc1EwRkJRenROUVVVeFFpeGxRVUZsTEVOQlFVTXNiMEpCUVdoQ0xFTkJRWEZETEVOQlFYSkRMRVZCUVhWRExFdEJRWFpETzAxQlJVRXNXVUZCUVN4RFFVRmhMRTFCUVUwc1EwRkJReXhsUVVGd1FqdE5RVVZCTEVsQlFVY3NUVUZCVFN4RFFVRkRMRkZCUVZZN1pVRkRSU3hEUVVGRExFTkJRVU1zUzBGQlJpeEhRVUZWTEZGQlFVRXNRMEZCVXl4TlFVRk5MRU5CUVVNc1IwRkJhRUlzUlVGRVdqdFBRVUZCTEUxQlFVRTdaVUZIUlN4RFFVRkRMRU5CUVVNc1MwRkJSaXhIUVVGVkxGRkJRVUVzUTBGQlV5eE5RVUZOTEVOQlFVTXNSMEZCYUVJc1JVRklXanM3U1VGUWFVSTdTVUZaYmtJc1EwRkJReXhEUVVGRExGVkJRVVlzUjBGQlpTeFRRVUZCTzJGQlEySXNUVUZCVFN4RFFVRkRPMGxCUkUwN1NVRkpaaXhQUVVGUExFTkJRVU1zVlVGQlVpeEhRVUZ4UWl4VFFVRkJPMDFCUTI1Q0xFbEJRVWNzWlVGQlNEdFJRVU5GTEUxQlFVMHNRMEZCUXl4UlFVRlFMRWRCUVcxQ0xFTkJRVU1zUTBGQlF5eExRVUZHTEV0QlFWY3NVVUZCUVN4RFFVRlRMRTFCUVUwc1EwRkJReXhIUVVGb1FqdGxRVU01UWl4UFFVRlBMRU5CUVVNc1lVRkJVaXhIUVVGM1FpeExRVVl4UWpzN1NVRkViVUk3U1VGTGNrSXNUMEZCVHl4RFFVRkRMRlZCUVZJc1IwRkJjVUlzVTBGQlFUdEJRVU51UWl4VlFVRkJPMDFCUVVFc1NVRkJSeXhOUVVGTkxFTkJRVU1zVVVGQlZqdFJRVU5GTEZGQlFVRXNSMEZCVnl4TlFVRk5MRU5CUVVNc1NVRkVjRUk3VDBGQlFTeE5RVUZCTzFGQlIwVXNVVUZCUVN4SFFVRlhMRTFCUVUwc1EwRkJReXhKUVVod1FqczdRVUZKUVN4aFFVRlBPMUZCUVVVc1MwRkJRU3hGUVVGUExGRkJRVUVzUTBGQlV5eFJRVUZVTEVOQlFWUTdPMGxCVEZrN1NVRlBja0lzUTBGQlF5eERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRllMRU5CUVdkQ0xFOUJRV2hDTzFkQlNVRXNUVUZCVFN4RFFVRkRMRkZCUVZFc1EwRkJReXhQUVVGb1FpeERRVUYzUWl4TlFVRk5MRU5CUVVNc1dVRkJMMEk3UlVFMVJHOURMRU5CUVhSRE96dEZRU3RFUVN4TlFVRk5MRU5CUVVNc1UwRkJVQ3hEUVVGcFFpeGpRVUZxUWl4RlFVRnBReXhUUVVGRExHTkJRVVE3UVVGREwwSXNWMEZCVHp0TlFVTk1MRkZCUVVFc1JVRkJWU3hIUVVSTU8wMUJSVXdzUzBGQlFTeEZRVUZQTzFGQlEwd3NXVUZCUVN4RlFVRmpMRWRCUkZRN1VVRkZUQ3hSUVVGQkxFVkJRVlVzUjBGR1REdFJRVWRNTEVkQlFVRXNSVUZCU3l4SFFVaEJPMUZCU1V3c1IwRkJRU3hGUVVGTExFZEJTa0U3VDBGR1JqdE5RVkZNTEZGQlFVRXNSVUZCVlN4alFVRmpMRU5CUVVNc1IwRkJaaXhEUVVGdFFpeHJRMEZCYmtJc1EwRlNURHROUVZOTUxGVkJRVUVzUlVGQldTeHJRa0ZVVURzN1JVRkVkMElzUTBGQmFrTTdRVUZxUlVFaUxDSm1hV3hsSWpvaVkyOXRjRzl1Wlc1MGN5OTNhV1JuWlhSekxYTmxkSFJwYm1kekwzZHBaSFJvTDNkcFpIUm9MbVJwY21WamRHbDJaUzVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUl2YzI5MWNtTmxMeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW0xdlpIVnNaU0E5SUdGdVozVnNZWEl1Ylc5a2RXeGxLQ2RwYlhCaFl5NWpiMjF3YjI1bGJuUnpMbmRwWkdkbGRITXRjMlYwZEdsdVozTXVkMmxrZEdnbkxGdGRLVnh1WEc1dGIyUjFiR1V1WTI5dWRISnZiR3hsY2lnblUyVjBkR2x1WjFkcFpIUm9RM1J5YkNjc0lDZ2tjMk52Y0dVc0lDUmxiR1Z0Wlc1MExDQWtkR2x0Wlc5MWRDd2dKR3h2Wnl3Z1NXMXdZV05YYVdSblpYUnpVM1pqS1NBdFBseHVYRzRnSUhjZ1BTQWtjMk52Y0dVdWNHRnlaVzUwVjJsa1oyVjBYRzVjYmlBZ0l5QlhhR0YwSUhkcGJHd2dZbVVnY0dGemMyVmtJSFJ2SUhCaGNtVnVkRmRwWkdkbGRGeHVJQ0J6WlhSMGFXNW5JRDBnZTMxY2JpQWdjMlYwZEdsdVp5NXJaWGtnUFNCY0luZHBaSFJvWENKY2JpQWdjMlYwZEdsdVp5NXBjMGx1YVhScFlXeHBlbVZrSUQwZ1ptRnNjMlZjYmx4dUlDQWpJRVZzWlcxbGJuUnpJSFJ2SUdKbElHaHBaR1JsYmlCa2RYSnBibWNnY21WemFYcHBibWRjYmlBZ1ptOXlJR1ZzWlcwZ2FXNGdKR1ZzWlcxbGJuUXVjR0Z5Wlc1MGN5Z3BYRzRnSUNBZ2FXWWdZVzVuZFd4aGNpNWxiR1Z0Wlc1MEtHVnNaVzBwTG1oaGMwTnNZWE56S0NkamIyNTBaVzUwSnlsY2JpQWdJQ0FnSUNSelkyOXdaUzVqYjI1MFpXNTBSV3hsYldWdWRITWdQU0JoYm1kMWJHRnlMbVZzWlcxbGJuUW9aV3hsYlNrdVkyaHBiR1J5Wlc0b0tWeHVJQ0FnSUNBZ1luSmxZV3RjYmx4dUlDQWpJQzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMVnh1WEc0Z0lHaHBaR1ZQYmxKbGMybDZaU0E5SUNobGJHVnRaVzUwY3lrZ0xUNWNiaUFnSUNCeVpYUjFjbTRnZFc1c1pYTnpJQ2hsYkdWdFpXNTBjeUFtSmlCbGJHVnRaVzUwY3k1c1pXNW5kR2dnUGlBd0tWeHVJQ0FnSUNNZ1NHbGtaWE1nWld4bGJYTWdhVzRnWTI5dWRHVnVkRnh1SUNBZ0lHWnZjaUJsYkdWdElHbHVJR1ZzWlcxbGJuUnpYRzRnSUNBZ0lDQmhibWQxYkdGeUxtVnNaVzFsYm5Rb1pXeGxiU2t1WVc1cGJXRjBaU2g3YjNCaFkybDBlVG9nTUgwc0lEQXBYRzRnSUNBZ0l5Qk5ZV3RsY3lCMGFHVnRJSEpsWVhCd1pXRnlJR0ZtZEdWeUlISmxjMmw2YVc1blhHNGdJQ0FnSkhScGJXVnZkWFFnTFQ1Y2JpQWdJQ0FnSUdadmNpQmxiR1Z0SUdsdUlHVnNaVzFsYm5SelhHNGdJQ0FnSUNBZ0lHRnVaM1ZzWVhJdVpXeGxiV1Z1ZENobGJHVnRLUzVoYm1sdFlYUmxLSHR2Y0dGamFYUjVPaUF4ZlN3Z01qQXdLVnh1SUNBZ0lDd2dNekF3WEc1Y2JpQWdkeTUwYjJkbmJHVkZlSEJoYm1SbFpDQTlJQzArWEc0Z0lDQWdKSE5qYjNCbExtVjRjR0Z1WkdWa0lEMGdJU1J6WTI5d1pTNWxlSEJoYm1SbFpGeHVJQ0FnSUNNZ1ptRnNjMlVnWW1WallYVnpaU0IzWlNCM1lXNTBJSFJ2SUhKbGMybDZaU0IwYUdVZ2QybGtaMlYwSUhkcGRHaHZkWFFnZDJGcGRHbHVaeUJtYjNJZ2RHaGxJSEpsYzNCdmJuTmxJR1p5YjIwZ2RHaGxJR1JoYzJoaWIyRnlaR2x1WnlCQlVFbGNiaUFnSUNCSmJYQmhZMWRwWkdkbGRITlRkbU11ZFhCa1lYUmxWMmxrWjJWMFUyVjBkR2x1WjNNb2R5eG1ZV3h6WlNsY2JpQWdJQ0JjYmlBZ0lDQm9hV1JsVDI1U1pYTnBlbVVvSkhOamIzQmxMbU52Ym5SbGJuUkZiR1Z0Wlc1MGN5bGNibHh1SUNBZ0lHbG1JQ1J6WTI5d1pTNWxlSEJoYm1SbFpGeHVJQ0FnSUNBZ2R5NTNhV1IwYUNBOUlIQmhjbk5sU1c1MEtDUnpZMjl3WlM1dFlYZ3BYRzRnSUNBZ1pXeHpaVnh1SUNBZ0lDQWdkeTUzYVdSMGFDQTlJSEJoY25ObFNXNTBLQ1J6WTI5d1pTNXRhVzRwWEc1Y2JpQWdkeTVwYzBWNGNHRnVaR1ZrSUQwZ0xUNWNiaUFnSUNBa2MyTnZjR1V1Wlhod1lXNWtaV1JjYmx4dUlDQWpJR2x1YVhScFlXeHBlbUYwYVc5dUlHOW1JSFJwYldVZ2NtRnVaMlVnY0dGeVlXMWxkR1Z5Y3lCbWNtOXRJSGRwWkdkbGRDNWpiMjUwWlc1MExtaHBjM1JmY0dGeVlXMWxkR1Z5YzF4dUlDQnpaWFIwYVc1bkxtbHVhWFJwWVd4cGVtVWdQU0F0UGx4dUlDQWdJR2xtSUhjdWQybGtkR2cvWEc0Z0lDQWdJQ0FrYzJOdmNHVXVaWGh3WVc1a1pXUWdQU0FvZHk1M2FXUjBhQ0E5UFNCd1lYSnpaVWx1ZENna2MyTnZjR1V1YldGNEtTbGNiaUFnSUNBZ0lITmxkSFJwYm1jdWFYTkpibWwwYVdGc2FYcGxaQ0E5SUhSeWRXVmNibHh1SUNCelpYUjBhVzVuTG5SdlRXVjBZV1JoZEdFZ1BTQXRQbHh1SUNBZ0lHbG1JQ1J6WTI5d1pTNWxlSEJoYm1SbFpGeHVJQ0FnSUNBZ2JtVjNWMmxrZEdnZ1BTQWtjMk52Y0dVdWJXRjRYRzRnSUNBZ1pXeHpaVnh1SUNBZ0lDQWdibVYzVjJsa2RHZ2dQU0FrYzJOdmNHVXViV2x1WEc0Z0lDQWdjbVYwZFhKdUlIc2dkMmxrZEdnNklIQmhjbk5sU1c1MEtHNWxkMWRwWkhSb0tTQjlYRzVjYmlBZ2R5NXpaWFIwYVc1bmN5NXdkWE5vS0hObGRIUnBibWNwWEc1Y2JpQWdJeUJUWlhSMGFXNW5JR2x6SUhKbFlXUjVPaUIwY21sbloyVnlJR3h2WVdRZ1kyOXVkR1Z1ZEZ4dUlDQWpJQzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMVnh1SUNBa2MyTnZjR1V1WkdWbVpYSnlaV1F1Y21WemIyeDJaU2drYzJOdmNHVXVjR0Z5Wlc1MFYybGtaMlYwS1Z4dUtWeHVYRzV0YjJSMWJHVXVaR2x5WldOMGFYWmxLQ2R6WlhSMGFXNW5WMmxrZEdnbkxDQW9KSFJsYlhCc1lYUmxRMkZqYUdVcElDMCtYRzRnSUhKbGRIVnliaUI3WEc0Z0lDQWdjbVZ6ZEhKcFkzUTZJQ2RCSnl4Y2JpQWdJQ0J6WTI5d1pUb2dlMXh1SUNBZ0lDQWdjR0Z5Wlc1MFYybGtaMlYwT2lBblBTY3NYRzRnSUNBZ0lDQmtaV1psY25KbFpEb2dKejBuWEc0Z0lDQWdJQ0J0YVc0NklDZEFKeXhjYmlBZ0lDQWdJRzFoZURvZ0owQW5MRnh1SUNBZ0lIMHNYRzRnSUNBZ2RHVnRjR3hoZEdVNklDUjBaVzF3YkdGMFpVTmhZMmhsTG1kbGRDZ25kMmxrWjJWMGN5MXpaWFIwYVc1bmN5OTNhV1IwYUM1MGJYQnNMbWgwYld3bktTeGNiaUFnSUNCamIyNTBjbTlzYkdWeU9pQW5VMlYwZEdsdVoxZHBaSFJvUTNSeWJDZGNiaUFnZlZ4dUtWeHVJbDE5XG4iXX0=
